const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./WhereClauseCache-B7zIYtST.js","./WhereClause-BqIQTQ4C.js","./TimeOnly-jT8rI0l2.js","./IdentityManager-B9u-hFru.js","./substitute-AFp4Ix8S.js","./pe-wasm-Co3DzcyP.js","./_commonjsHelpers-DCkdB7M8.js","./arcadeUtils-5zOpB7qi.js","./arcade-JjWjggKm.js","./unitConversion-C60P0eAf.js","./ImmutableArray-BPVd6ESQ.js","./shared-BOcB3jCd.js","./number-cRXMvPjf.js","./featureConversionUtils-CTcfZx4t.js","./OptimizedFeature-DC9Y-7Lf.js","./memoryEstimations-BaCoozKz.js","./OptimizedFeatureSet-Blu9Ckm7.js","./portalLayers-DhWIL-LA.js","./associatedFeatureServiceUtils-CjrdPiUK.js","./fetchService-mJDPXZ93.js","./loadUtils-BVxlv5gr.js","./lazyLayerLoader-DRxb-x9R.js","./arcgisLayers-C9VzhxGx.js","./ElevationLayer-li1_T34H.js","./ArcGISCachedService-CYARBzSo.js","./TileInfoTilemapCache-BBR5COw7.js","./TilemapCache-BnFkn0JF.js","./ByteSizeUnit-BsxeN7wM.js","./WorkerHandle-D3D45315.js","./webStyleSymbolUtils-An8wE-GD.js","./devEnvironmentUtils-CnNDiFMM.js","./webStyleAcceptedFormats-CG7ZQ6BV.js","./statsWorker-COIWgrw-.js","./utils-DU1U-EVj.js","./quantizationUtils-UqvbK5NA.js","./utils-DhgA83IA.js","./utils-ChhYYalr.js","./ClassBreaksDefinition-BuPpOlSz.js","./geometryEngineWorker-CA-tZxOm.js","./geometryEngineJSON-Bvf5zUh7.js","./geometryEngineBase-B0ZyeKAX.js","./json-Wa8cmqdu.js","./CSVSourceWorker-D9aOyDT7.js","./date-Ctp1FiBW.js","./executeQueryForSnapping-D0g8WywU.js","./queryUtils-Cfo4uv0j.js","./QueryEngine-Cg5HjibS.js","./timeSupport-DsClxZiC.js","./QueryEngineCapabilities-B_pTbIiR.js","./SnappingCandidate-DGkpYqI6.js","./FixedIntervalBinParameters-CYGiRFXe.js","./FeatureStore-D-Rc3A3p.js","./BoundsStore-CznzfNmQ.js","./PooledRBush-CzL2Ti7E.js","./optimizedFeatureQueryEngineAdapter-Chs4H_Km.js","./clientSideDefaults-Cejgwk5p.js","./EdgeProcessingWorker-BjQGp2c7.js","./workerHelper-D0_ornZq.js","./InterleavedLayout-CYmby6Km.js","./BufferView-CaA3mtI_.js","./types-D0PSWh4d.js","./edgeProcessing-CYY1turf.js","./deduplicate-B8OFcrOd.js","./Indices-CBgb1R3E.js","./VertexAttribute-Cq4MnHjR.js","./glUtil-DY0pqAgW.js","./VertexElementDescriptor-BLyltQyJ.js","./Normals-y67DjvfY.js","./ElevationSamplerWorker-BFnCrVC_.js","./MeshLocalVertexSpace-CUFY1u1F.js","./vertexSpaceConversion-Cmk7CPcZ.js","./mat3f64-q3fE-ZOt.js","./mat4f64-Dk4dwAN8.js","./spatialReferenceEllipsoidUtils-Mt3QyBfF.js","./computeTranslationToOriginAndRotation-B3-3qzNY.js","./projectPointToVector-y5-RRnCv.js","./meshVertexSpaceUtils-Cy8vt5RD.js","./vec3-CXVpZ2zZ.js","./vec4-CAzr02Pv.js","./FeatureServiceSnappingSourceWorker-Bw-3HlgF.js","./symbologySnappingCandidates-D5sSXO8s.js","./pbfQueryUtils-D-c3BsK9.js","./pbf-DCAWyFQY.js","./query-B5mRPLnu.js","./GeoJSONSourceWorker-Do0ObumZ.js","./geojson-DKzn8K1K.js","./sourceUtils-BzsLiZ2t.js","./MemorySourceWorker-C8swFHYb.js","./objectIdUtils-4dd1rf9p.js","./PBFDecoderWorker-SWdGX3mX.js","./dehydratedFeatures-KU0C1CTn.js","./FeaturePipelineWorker-DVlc1Zdz.js","./AttributeStore-DqSXVDD8.js","./Utils-CS5qf6ec.js","./UpdateTracking2D-Pu7CLTTH.js","./BidiEngine-QXap_35O.js","./GeometryUtils-3keVzp9f.js","./rasterizingUtils-DF_m_Mny.js","./floatRGBA-BBKrSB6M.js","./Rect-CUzevAry.js","./streamLayerUtils-CKwt2uXH.js","./MeshWriterRegistry-vlPpwKMn.js","./TechniqueType-uMFRS8dR.js","./PieChartMeshWriter-DinWrL4v.js","./TurboLine-CVBpVYgv.js","./utils-EHkhibZo.js","./earcut-D9gy186-.js","./grouping-T0-Mbws-.js","./QueueProcessor-CVZb1A4y.js","./operatorGeodeticDensify-B5QRxc0L.js","./SimpleGeometryCursor-B92kdZ15.js","./geodeticCurveType-CirnHLSB.js","./normalizeUtilsSync-CROqalbl.js","./ogcFeatureUtils-Cf3d6F5f.js","./parquet-DGYM-dLY.js","./CircularArray-CujHzHWW.js","./createConnection-DC5CnZNH.js","./PointCloudWorker-uDesFJ5T.js","./quat-DsZhwg9j.js","./quatf64-aQ5IuZRd.js","./vec3f32-nZdmKIgz.js","./PointCloudUniqueValueRenderer-C68v25tx.js","./I3SBinaryReader-BcUUqP_G.js","./orientedBoundingBox-B7SR39cr.js","./plane-DxBDeT4-.js","./RasterWorker-DhDogyAJ.js","./dataUtils-CpqjW0RV.js","./RasterSymbolizer-BpEJewZM.js","./colorUtils-ClKSszt2.js","./rasterFunctionHelper-BJSxmuXd.js","./rasterProjectionHelper-BrGpR5xh.js","./PolynomialTransform-DSov5h__.js","./SceneLayerSnappingSourceWorker-BgGUbo8Z.js","./lineSegment-URsDiT_5.js","./sphere-DPvNRlty.js","./Octree-BZ2Pj8gR.js","./SceneLayerWorker-BtrbnpaS.js","./projectVectorToVector-BfGvwWXv.js","./I3SUtil-B2yFgbLx.js","./edgeUtils-BRD3s12N.js","./NormalAttribute.glsl-C2UJxGHY.js","./glsl-BH37Aalp.js","./ShaderOutput-DnYY5J1_.js","./BindType-BBwFZqyN.js","./WFSSourceWorker-CFMOVqee.js","./wfsUtils-Dcrvmffq.js","./xmlUtils-CtUoQO7q.js","./WorkerTileHandler-7DoOxQBo.js","./enums-BRzLM11V.js","./config-BOD8--da.js","./StyleDefinition-CT9oWoS1.js","./SourceLayerData-CSyOiSbo.js","./StyleRepository-ClNI1e5E.js","./Feature3DPipelineWorker-D67kOrvz.js","./HUDMaterial.glsl-CxGflecB.js","./Geometry-C8Iy85kt.js","./renderState-DO9uPKaA.js","./basicInterfaces-CZwQPxTp.js","./boundedPlane-Cufv7_Fn.js","./requestImageUtils-B5d_GiUR.js","./TextureFormat-1mYWTFa-.js","./triangle-lUmg56tn.js","./HUDMaterial-Df-WTmaQ.js","./VertexArrayObject-CscjxoEh.js","./dehydratedFeatureUtils-DEHzSO1F.js","./doublePrecisionUtils-B0owpBza.js","./hydratedFeatures-Btdz7Bzh.js","./ShaderBuilder-JXgpfWnR.js","./IntersectorInterfaces-CmNINbyF.js","./DefaultMaterial-CJWojvLn.js","./LodResources-DR2Fa7l0.js","./TextureCompressionWorker-Ddz-wkwv.js","./OverrideHelper-DcCWzK6Q.js","./layersLoader-CXMaH_-F.js","./jsonContext-CC5iBdmS.js","./featureUtils-DYgWE9Sv.js","./featureLayerUtils-Pkt0rNNT.js","./originUtils-D69mHv66.js","./multiOriginJSONSupportUtils-C0wm8_Yw.js","./utils-Co9eTCv3.js","./saveUtils--Enk5TSZ.js","./FeatureLayerSource-paGQPFPi.js","./External-WII-U4tu.js","./MeshTransform-DWuLwT4Z.js","./axisAngleDegrees-rBrjdGKM.js","./editingSupport-04EXXbJR.js","./QueryTask-BojOUY0-.js","./executeForIds-C4dtPWci.js","./executeQueryJSON-lt9P4GDN.js","./AttributeBinsQuery--TEcmeSo.js","./layersCreator-CGEyCjIv.js","./Popup-DYEwq8Z1.js","./unitFormatUtils-BeSiy8BC.js","./quantityUtils-B_6O7MH_.js","./AttachmentInfo-BArfcjyn.js","./utils-XU2KntD7.js","./cimSymbolUtils-C5zSmA8I.js","./NetworkElement-cmyTGn2w.js","./ReactiveSet-HZzkHuPc.js","./layerViewUtils-kWO0DeVn.js","./geometryServiceUtils-DBe2a4eb.js","./project-DaN94u20.js","./webglDeps-CJo9h2dc.js","./FramebufferObject-C9hNzl_h.js","./ProgramTemplate-BMKJ5eWv.js","./NestedMap-GuqgquCN.js","./mapViewDeps-BhcEllAr.js","./FeatureCommandQueue-fgoNRNm8.js","./GraphShaderModule-C9mhbENy.js","./WGLContainer-DImu5g4o.js","./Container-Bxl91GCc.js","./SDFHelper-AsRyy8pY.js","./GridShader-Dk-IZu6f.js","./testSVGPremultipliedAlpha-BGUvKYkC.js","./RenderingContext-IuJkgLge.js","./CIMResourceManager-DvPNgmzZ.js","./utils-XCEvX75y.js","./VertexStream-jNdg5rDX.js","./utils-ehcGqGxa.js","./GraphicsView2D-42o0Ub3_.js","./GraphicContainer-CFB7DjIL.js","./AGraphicContainer-D2IYJFMZ.js","./TechniqueInstance-Cqn2XToT.js","./TileContainer-CtRT7QEw.js","./gridUtils-BPu-Q3lb.js","./geodesicUtils-BFXJA8KV.js","./TileLayerView2D-hZCLDauB.js","./imageUtils-DbmQHc_C.js","./BitmapTechnique-B72G_pXW.js","./LayerView-DP2tEBkA.js","./HighlightGraphicContainer-D8pMpmf3.js","./RefreshableLayerView-DO5nRwQs.js","./MapServiceLayerViewHelper-BwoW9A4s.js","./floorFilterUtils-DZ5C6FQv.js","./drapedUtils-CJI4CgVq.js","./sublayerUtils-_rZzYpNn.js","./popupUtils-Cl1F2dn3.js","./FeatureLayerView2D-C5tAUyco.js","./timeSupport-D2HSNaYW.js","./AttributeBinsFeatureSet-VMqFaic5.js","./constants-B4mRqufT.js","./BaseDynamicLayerView2D-D7sTnDbN.js","./BitmapContainer-DAmw2Mb2.js","./ExportStrategy-DkoKWyns.js","./CatalogLayerView2D-CuvvuQOF.js","./CatalogDynamicGroupLayerView2D-77muOj4q.js","./CatalogFootprintLayerView2D-B0Xqq66J.js","./GeoRSSLayerView2D-tND0QvFh.js","./GraphicsLayerView2D-CK0j6WVz.js","./GroupLayerView2D-BGwg1knF.js","./ImageryLayerView2D-BZJ0RSUw.js","./RasterVFDisplayObject-fjUsJ4PS.js","./ImageryTileLayerView2D-B7rNL_in.js","./rasterFieldUtils-Dx-CxZqQ.js","./rasterUtils-XHlMHbmM.js","./RawBlockCache-DbDiNyMu.js","./KMLLayerView2D-BxfBiCcT.js","./kmlUtils-DlvGu6F_.js","./KnowledgeGraphLayerView2D-ByCLs61D.js","./MapImageLayerView2D-D_2rhIft.js","./ExportImageParameters-Da6fdlGZ.js","./MapNotesLayerView2D-CkgEf03D.js","./MediaLayerView2D-BCnt3Bbs.js","./mediaLayerUtils-CUdYZmWk.js","./OverlayContainer-Br1GOr0S.js","./OGCFeatureLayerView2D-BEBZ7IWU.js","./RouteLayerView2D-iJZYTEy8.js","./Stop-C6EbjVVb.js","./networkEnums-DQgqDas3.js","./StreamLayerView2D-DT2CxrXg.js","./SubtypeGroupLayerView2D-iOtpClJi.js","./VectorTileLayerView2D-B2ZFOQaD.js","./VideoLayerView2D-DEmMVEPU.js","./GraphicsLayer-peXbadwr.js","./TelemetryDisplay-CwS_vVpO.js","./WMSLayerView2D-Be5B_PnX.js","./ExportWMSImageParameters-DeNzZMWj.js","./WMTSLayerView2D-Cs2nGsh9.js","./apng-t2idxNyW.js","./index-Due9a77y.js","./index-DSTbjQJc.js","./guid-BDWAkmkV.js","./useT9n-C38mO0NT.js","./index-Bg47wleg.js","./dom-DkD_sEAz.js","./observers-DK5SCJLC.js","./ref-DogXtoFE.js","./static-DXOJtzEL.js","./form-paCIDqYM.js","./interactive-CaxickZ1.js","./label-C9e-l5wt.js","./component-4JFjjXc_.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function i(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(s){if(s.ep)return;s.ep=!0;const n=i(s);fetch(s.href,n)}})();var Z$={exports:{}},ky={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jk;function zQ(){if(jk)return ky;jk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,s,n){var a=null;if(n!==void 0&&(a=""+n),s.key!==void 0&&(a=""+s.key),"key"in s){n={};for(var u in s)u!=="key"&&(n[u]=s[u])}else n=s;return s=n.ref,{$$typeof:e,type:r,key:a,ref:s!==void 0?s:null,props:n}}return ky.Fragment=t,ky.jsx=i,ky.jsxs=i,ky}var Uk;function VQ(){return Uk||(Uk=1,Z$.exports=zQ()),Z$.exports}var Y0=VQ(),Y$={exports:{}},Xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zk;function GQ(){if(zk)return Xe;zk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),n=Symbol.for("react.consumer"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function w(L){return L===null||typeof L!="object"?null:(L=v&&L[v]||L["@@iterator"],typeof L=="function"?L:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,E={};function M(L,ae,Se){this.props=L,this.context=ae,this.refs=E,this.updater=Se||S}M.prototype.isReactComponent={},M.prototype.setState=function(L,ae){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,ae,"setState")},M.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function R(){}R.prototype=M.prototype;function P(L,ae,Se){this.props=L,this.context=ae,this.refs=E,this.updater=Se||S}var N=P.prototype=new R;N.constructor=P,T(N,M.prototype),N.isPureReactComponent=!0;var k=Array.isArray,U={H:null,A:null,T:null,S:null,V:null},Z=Object.prototype.hasOwnProperty;function re(L,ae,Se,ge,De,ct){return Se=ct.ref,{$$typeof:e,type:L,key:ae,ref:Se!==void 0?Se:null,props:ct}}function oe(L,ae){return re(L.type,ae,void 0,void 0,void 0,L.props)}function pe(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function me(L){var ae={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(Se){return ae[Se]})}var _e=/\/+/g;function we(L,ae){return typeof L=="object"&&L!==null&&L.key!=null?me(""+L.key):ae.toString(36)}function Ye(){}function Ce(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(Ye,Ye):(L.status="pending",L.then(function(ae){L.status==="pending"&&(L.status="fulfilled",L.value=ae)},function(ae){L.status==="pending"&&(L.status="rejected",L.reason=ae)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function ut(L,ae,Se,ge,De){var ct=typeof L;(ct==="undefined"||ct==="boolean")&&(L=null);var We=!1;if(L===null)We=!0;else switch(ct){case"bigint":case"string":case"number":We=!0;break;case"object":switch(L.$$typeof){case e:case t:We=!0;break;case g:return We=L._init,ut(We(L._payload),ae,Se,ge,De)}}if(We)return De=De(L),We=ge===""?"."+we(L,0):ge,k(De)?(Se="",We!=null&&(Se=We.replace(_e,"$&/")+"/"),ut(De,ae,Se,"",function(mo){return mo})):De!=null&&(pe(De)&&(De=oe(De,Se+(De.key==null||L&&L.key===De.key?"":(""+De.key).replace(_e,"$&/")+"/")+We)),ae.push(De)),1;We=0;var Ir=ge===""?".":ge+":";if(k(L))for(var Ft=0;Ft<L.length;Ft++)ge=L[Ft],ct=Ir+we(ge,Ft),We+=ut(ge,ae,Se,ct,De);else if(Ft=w(L),typeof Ft=="function")for(L=Ft.call(L),Ft=0;!(ge=L.next()).done;)ge=ge.value,ct=Ir+we(ge,Ft++),We+=ut(ge,ae,Se,ct,De);else if(ct==="object"){if(typeof L.then=="function")return ut(Ce(L),ae,Se,ge,De);throw ae=String(L),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return We}function X(L,ae,Se){if(L==null)return L;var ge=[],De=0;return ut(L,ge,"","",function(ct){return ae.call(Se,ct,De++)}),ge}function he(L){if(L._status===-1){var ae=L._result;ae=ae(),ae.then(function(Se){(L._status===0||L._status===-1)&&(L._status=1,L._result=Se)},function(Se){(L._status===0||L._status===-1)&&(L._status=2,L._result=Se)}),L._status===-1&&(L._status=0,L._result=ae)}if(L._status===1)return L._result.default;throw L._result}var fe=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function Ke(){}return Xe.Children={map:X,forEach:function(L,ae,Se){X(L,function(){ae.apply(this,arguments)},Se)},count:function(L){var ae=0;return X(L,function(){ae++}),ae},toArray:function(L){return X(L,function(ae){return ae})||[]},only:function(L){if(!pe(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Xe.Component=M,Xe.Fragment=i,Xe.Profiler=s,Xe.PureComponent=P,Xe.StrictMode=r,Xe.Suspense=d,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,Xe.__COMPILER_RUNTIME={__proto__:null,c:function(L){return U.H.useMemoCache(L)}},Xe.cache=function(L){return function(){return L.apply(null,arguments)}},Xe.cloneElement=function(L,ae,Se){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ge=T({},L.props),De=L.key,ct=void 0;if(ae!=null)for(We in ae.ref!==void 0&&(ct=void 0),ae.key!==void 0&&(De=""+ae.key),ae)!Z.call(ae,We)||We==="key"||We==="__self"||We==="__source"||We==="ref"&&ae.ref===void 0||(ge[We]=ae[We]);var We=arguments.length-2;if(We===1)ge.children=Se;else if(1<We){for(var Ir=Array(We),Ft=0;Ft<We;Ft++)Ir[Ft]=arguments[Ft+2];ge.children=Ir}return re(L.type,De,void 0,void 0,ct,ge)},Xe.createContext=function(L){return L={$$typeof:a,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:n,_context:L},L},Xe.createElement=function(L,ae,Se){var ge,De={},ct=null;if(ae!=null)for(ge in ae.key!==void 0&&(ct=""+ae.key),ae)Z.call(ae,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(De[ge]=ae[ge]);var We=arguments.length-2;if(We===1)De.children=Se;else if(1<We){for(var Ir=Array(We),Ft=0;Ft<We;Ft++)Ir[Ft]=arguments[Ft+2];De.children=Ir}if(L&&L.defaultProps)for(ge in We=L.defaultProps,We)De[ge]===void 0&&(De[ge]=We[ge]);return re(L,ct,void 0,void 0,null,De)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(L){return{$$typeof:u,render:L}},Xe.isValidElement=pe,Xe.lazy=function(L){return{$$typeof:g,_payload:{_status:-1,_result:L},_init:he}},Xe.memo=function(L,ae){return{$$typeof:f,type:L,compare:ae===void 0?null:ae}},Xe.startTransition=function(L){var ae=U.T,Se={};U.T=Se;try{var ge=L(),De=U.S;De!==null&&De(Se,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(Ke,fe)}catch(ct){fe(ct)}finally{U.T=ae}},Xe.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},Xe.use=function(L){return U.H.use(L)},Xe.useActionState=function(L,ae,Se){return U.H.useActionState(L,ae,Se)},Xe.useCallback=function(L,ae){return U.H.useCallback(L,ae)},Xe.useContext=function(L){return U.H.useContext(L)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(L,ae){return U.H.useDeferredValue(L,ae)},Xe.useEffect=function(L,ae,Se){var ge=U.H;if(typeof Se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ge.useEffect(L,ae)},Xe.useId=function(){return U.H.useId()},Xe.useImperativeHandle=function(L,ae,Se){return U.H.useImperativeHandle(L,ae,Se)},Xe.useInsertionEffect=function(L,ae){return U.H.useInsertionEffect(L,ae)},Xe.useLayoutEffect=function(L,ae){return U.H.useLayoutEffect(L,ae)},Xe.useMemo=function(L,ae){return U.H.useMemo(L,ae)},Xe.useOptimistic=function(L,ae){return U.H.useOptimistic(L,ae)},Xe.useReducer=function(L,ae,Se){return U.H.useReducer(L,ae,Se)},Xe.useRef=function(L){return U.H.useRef(L)},Xe.useState=function(L){return U.H.useState(L)},Xe.useSyncExternalStore=function(L,ae,Se){return U.H.useSyncExternalStore(L,ae,Se)},Xe.useTransition=function(){return U.H.useTransition()},Xe.version="19.1.0",Xe}var Vk;function wC(){return Vk||(Vk=1,Y$.exports=GQ()),Y$.exports}var AU=wC(),J$={exports:{}},Fy={},X$={exports:{}},Q$={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gk;function qQ(){return Gk||(Gk=1,function(e){function t(X,he){var fe=X.length;X.push(he);e:for(;0<fe;){var Ke=fe-1>>>1,L=X[Ke];if(0<s(L,he))X[Ke]=he,X[fe]=L,fe=Ke;else break e}}function i(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var he=X[0],fe=X.pop();if(fe!==he){X[0]=fe;e:for(var Ke=0,L=X.length,ae=L>>>1;Ke<ae;){var Se=2*(Ke+1)-1,ge=X[Se],De=Se+1,ct=X[De];if(0>s(ge,fe))De<L&&0>s(ct,ge)?(X[Ke]=ct,X[De]=fe,Ke=De):(X[Ke]=ge,X[Se]=fe,Ke=Se);else if(De<L&&0>s(ct,fe))X[Ke]=ct,X[De]=fe,Ke=De;else break e}}return he}function s(X,he){var fe=X.sortIndex-he.sortIndex;return fe!==0?fe:X.id-he.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var n=performance;e.unstable_now=function(){return n.now()}}else{var a=Date,u=a.now();e.unstable_now=function(){return a.now()-u}}var d=[],f=[],g=1,v=null,w=3,S=!1,T=!1,E=!1,M=!1,R=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function k(X){for(var he=i(f);he!==null;){if(he.callback===null)r(f);else if(he.startTime<=X)r(f),he.sortIndex=he.expirationTime,t(d,he);else break;he=i(f)}}function U(X){if(E=!1,k(X),!T)if(i(d)!==null)T=!0,Z||(Z=!0,we());else{var he=i(f);he!==null&&ut(U,he.startTime-X)}}var Z=!1,re=-1,oe=5,pe=-1;function me(){return M?!0:!(e.unstable_now()-pe<oe)}function _e(){if(M=!1,Z){var X=e.unstable_now();pe=X;var he=!0;try{e:{T=!1,E&&(E=!1,P(re),re=-1),S=!0;var fe=w;try{t:{for(k(X),v=i(d);v!==null&&!(v.expirationTime>X&&me());){var Ke=v.callback;if(typeof Ke=="function"){v.callback=null,w=v.priorityLevel;var L=Ke(v.expirationTime<=X);if(X=e.unstable_now(),typeof L=="function"){v.callback=L,k(X),he=!0;break t}v===i(d)&&r(d),k(X)}else r(d);v=i(d)}if(v!==null)he=!0;else{var ae=i(f);ae!==null&&ut(U,ae.startTime-X),he=!1}}break e}finally{v=null,w=fe,S=!1}he=void 0}}finally{he?we():Z=!1}}}var we;if(typeof N=="function")we=function(){N(_e)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,Ce=Ye.port2;Ye.port1.onmessage=_e,we=function(){Ce.postMessage(null)}}else we=function(){R(_e,0)};function ut(X,he){re=R(function(){X(e.unstable_now())},he)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_next=function(X){switch(w){case 1:case 2:case 3:var he=3;break;default:he=w}var fe=w;w=he;try{return X()}finally{w=fe}},e.unstable_requestPaint=function(){M=!0},e.unstable_runWithPriority=function(X,he){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var fe=w;w=X;try{return he()}finally{w=fe}},e.unstable_scheduleCallback=function(X,he,fe){var Ke=e.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ke+fe:Ke):fe=Ke,X){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=fe+L,X={id:g++,callback:he,priorityLevel:X,startTime:fe,expirationTime:L,sortIndex:-1},fe>Ke?(X.sortIndex=fe,t(f,X),i(d)===null&&X===i(f)&&(E?(P(re),re=-1):E=!0,ut(U,fe-Ke))):(X.sortIndex=L,t(d,X),T||S||(T=!0,Z||(Z=!0,we()))),X},e.unstable_shouldYield=me,e.unstable_wrapCallback=function(X){var he=w;return function(){var fe=w;w=he;try{return X.apply(this,arguments)}finally{w=fe}}}}(Q$)),Q$}var qk;function BQ(){return qk||(qk=1,X$.exports=qQ()),X$.exports}var K$={exports:{}},fr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bk;function HQ(){if(Bk)return fr;Bk=1;var e=wC();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},s=Symbol.for("react.portal");function n(d,f,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:d,containerInfo:f,implementation:g}}var a=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return fr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,fr.createPortal=function(d,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return n(d,f,null,g)},fr.flushSync=function(d){var f=a.T,g=r.p;try{if(a.T=null,r.p=2,d)return d()}finally{a.T=f,r.p=g,r.d.f()}},fr.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},fr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},fr.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var g=f.as,v=u(g,f.crossOrigin),w=typeof f.integrity=="string"?f.integrity:void 0,S=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:S}):g==="script"&&r.d.X(d,{crossOrigin:v,integrity:w,fetchPriority:S,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},fr.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=u(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},fr.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,v=u(g,f.crossOrigin);r.d.L(d,g,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},fr.preloadModule=function(d,f){if(typeof d=="string")if(f){var g=u(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},fr.requestFormReset=function(d){r.d.r(d)},fr.unstable_batchedUpdates=function(d,f){return d(f)},fr.useFormState=function(d,f,g){return a.H.useFormState(d,f,g)},fr.useFormStatus=function(){return a.H.useHostTransitionStatus()},fr.version="19.1.0",fr}var Hk;function WQ(){if(Hk)return K$.exports;Hk=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),K$.exports=HQ(),K$.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wk;function ZQ(){if(Wk)return Fy;Wk=1;var e=BQ(),t=wC(),i=WQ();function r(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function n(o){var l=o,h=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(h=l.return),o=l.return;while(o)}return l.tag===3?h:null}function a(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function u(o){if(n(o)!==o)throw Error(r(188))}function d(o){var l=o.alternate;if(!l){if(l=n(o),l===null)throw Error(r(188));return l!==o?null:o}for(var h=o,y=l;;){var b=h.return;if(b===null)break;var _=b.alternate;if(_===null){if(y=b.return,y!==null){h=y;continue}break}if(b.child===_.child){for(_=b.child;_;){if(_===h)return u(b),o;if(_===y)return u(b),l;_=_.sibling}throw Error(r(188))}if(h.return!==y.return)h=b,y=_;else{for(var $=!1,A=b.child;A;){if(A===h){$=!0,h=b,y=_;break}if(A===y){$=!0,y=b,h=_;break}A=A.sibling}if(!$){for(A=_.child;A;){if(A===h){$=!0,h=_,y=b;break}if(A===y){$=!0,y=_,h=b;break}A=A.sibling}if(!$)throw Error(r(189))}}if(h.alternate!==y)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?o:l}function f(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=f(o),l!==null)return l;o=o.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),N=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),pe=Symbol.for("react.activity"),me=Symbol.for("react.memo_cache_sentinel"),_e=Symbol.iterator;function we(o){return o===null||typeof o!="object"?null:(o=_e&&o[_e]||o["@@iterator"],typeof o=="function"?o:null)}var Ye=Symbol.for("react.client.reference");function Ce(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Ye?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case T:return"Fragment";case M:return"Profiler";case E:return"StrictMode";case U:return"Suspense";case Z:return"SuspenseList";case pe:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case S:return"Portal";case N:return(o.displayName||"Context")+".Provider";case P:return(o._context.displayName||"Context")+".Consumer";case k:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case re:return l=o.displayName||null,l!==null?l:Ce(o.type)||"Memo";case oe:l=o._payload,o=o._init;try{return Ce(o(l))}catch{}}return null}var ut=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ke=[],L=-1;function ae(o){return{current:o}}function Se(o){0>L||(o.current=Ke[L],Ke[L]=null,L--)}function ge(o,l){L++,Ke[L]=o.current,o.current=l}var De=ae(null),ct=ae(null),We=ae(null),Ir=ae(null);function Ft(o,l){switch(ge(We,l),ge(ct,o),ge(De,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?pk(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=pk(l),o=fk(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}Se(De),ge(De,o)}function mo(){Se(De),Se(ct),Se(We)}function Pm(o){o.memoizedState!==null&&ge(Ir,o);var l=De.current,h=fk(l,o.type);l!==h&&(ge(ct,o),ge(De,h))}function Ah(o){ct.current===o&&(Se(De),Se(ct)),Ir.current===o&&(Se(Ir),Iy._currentValue=fe)}var Lm=Object.prototype.hasOwnProperty,Dm=e.unstable_scheduleCallback,km=e.unstable_cancelCallback,LT=e.unstable_shouldYield,DT=e.unstable_requestPaint,Gs=e.unstable_now,kT=e.unstable_getCurrentPriorityLevel,d1=e.unstable_ImmediatePriority,h1=e.unstable_UserBlockingPriority,_c=e.unstable_NormalPriority,p1=e.unstable_LowPriority,$n=e.unstable_IdlePriority,FT=e.log,jT=e.unstable_setDisableYieldValue,Sc=null,Nr=null;function yo(o){if(typeof FT=="function"&&jT(o),Nr&&typeof Nr.setStrictMode=="function")try{Nr.setStrictMode(Sc,o)}catch{}}var Pr=Math.clz32?Math.clz32:VT,UT=Math.log,zT=Math.LN2;function VT(o){return o>>>=0,o===0?32:31-(UT(o)/zT|0)|0}var Oh=256,Rh=4194304;function sa(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Ch(o,l,h){var y=o.pendingLanes;if(y===0)return 0;var b=0,_=o.suspendedLanes,$=o.pingedLanes;o=o.warmLanes;var A=y&134217727;return A!==0?(y=A&~_,y!==0?b=sa(y):($&=A,$!==0?b=sa($):h||(h=A&~o,h!==0&&(b=sa(h))))):(A=y&~_,A!==0?b=sa(A):$!==0?b=sa($):h||(h=y&~o,h!==0&&(b=sa(h)))),b===0?0:l!==0&&l!==b&&(l&_)===0&&(_=b&-b,h=l&-l,_>=h||_===32&&(h&4194048)!==0)?l:b}function Tc(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function GT(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function f1(){var o=Oh;return Oh<<=1,(Oh&4194048)===0&&(Oh=256),o}function m1(){var o=Rh;return Rh<<=1,(Rh&62914560)===0&&(Rh=4194304),o}function Fm(o){for(var l=[],h=0;31>h;h++)l.push(o);return l}function Ec(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function qT(o,l,h,y,b,_){var $=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var A=o.entanglements,I=o.expirationTimes,H=o.hiddenUpdates;for(h=$&~h;0<h;){var ee=31-Pr(h),ie=1<<ee;A[ee]=0,I[ee]=-1;var W=H[ee];if(W!==null)for(H[ee]=null,ee=0;ee<W.length;ee++){var Y=W[ee];Y!==null&&(Y.lane&=-536870913)}h&=~ie}y!==0&&y1(o,y,0),_!==0&&b===0&&o.tag!==0&&(o.suspendedLanes|=_&~($&~l))}function y1(o,l,h){o.pendingLanes|=l,o.suspendedLanes&=~l;var y=31-Pr(l);o.entangledLanes|=l,o.entanglements[y]=o.entanglements[y]|1073741824|h&4194090}function g1(o,l){var h=o.entangledLanes|=l;for(o=o.entanglements;h;){var y=31-Pr(h),b=1<<y;b&l|o[y]&l&&(o[y]|=l),h&=~b}}function jm(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Um(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function v1(){var o=he.p;return o!==0?o:(o=window.event,o===void 0?32:Nk(o.type))}function J(o,l){var h=he.p;try{return he.p=o,l()}finally{he.p=h}}var ft=Math.random().toString(36).slice(2),ti="__reactFiber$"+ft,jt="__reactProps$"+ft,xn="__reactContainer$"+ft,xe="__reactEvents$"+ft,Ih="__reactListeners$"+ft,Si="__reactHandles$"+ft,vl="__reactResources$"+ft,$c="__reactMarker$"+ft;function ys(o){delete o[ti],delete o[jt],delete o[xe],delete o[Ih],delete o[Si]}function na(o){var l=o[ti];if(l)return l;for(var h=o.parentNode;h;){if(l=h[xn]||h[ti]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(o=vk(o);o!==null;){if(h=o[ti])return h;o=vk(o)}return l}o=h,h=o.parentNode}return null}function oa(o){if(o=o[ti]||o[xn]){var l=o.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return o}return null}function je(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(r(33))}function bl(o){var l=o[vl];return l||(l=o[vl]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function gi(o){o[$c]=!0}var b1=new Set,w1={};function Mn(o,l){wl(o,l),wl(o+"Capture",l)}function wl(o,l){for(w1[o]=l,o=0;o<l.length;o++)b1.add(l[o])}var zm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vi={},_1={};function S1(o){return Lm.call(_1,o)?!0:Lm.call(vi,o)?!1:zm.test(o)?_1[o]=!0:(vi[o]=!0,!1)}function Nh(o,l,h){if(S1(l))if(h===null)o.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var y=l.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+h)}}function Ph(o,l,h){if(h===null)o.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+h)}}function An(o,l,h,y){if(y===null)o.removeAttribute(h);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(l,h,""+y)}}var Vm,T1;function Ii(o){if(Vm===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);Vm=l&&l[1]||"",T1=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vm+o+T1}var Gm=!1;function qm(o,l){if(!o||Gm)return"";Gm=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(l){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Y){var W=Y}Reflect.construct(o,[],ie)}else{try{ie.call()}catch(Y){W=Y}o.call(ie.prototype)}}else{try{throw Error()}catch(Y){W=Y}(ie=o())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Y){if(Y&&W&&typeof Y.stack=="string")return[Y.stack,W.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=y.DetermineComponentFrameRoot(),$=_[0],A=_[1];if($&&A){var I=$.split(`
`),H=A.split(`
`);for(b=y=0;y<I.length&&!I[y].includes("DetermineComponentFrameRoot");)y++;for(;b<H.length&&!H[b].includes("DetermineComponentFrameRoot");)b++;if(y===I.length||b===H.length)for(y=I.length-1,b=H.length-1;1<=y&&0<=b&&I[y]!==H[b];)b--;for(;1<=y&&0<=b;y--,b--)if(I[y]!==H[b]){if(y!==1||b!==1)do if(y--,b--,0>b||I[y]!==H[b]){var ee=`
`+I[y].replace(" at new "," at ");return o.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",o.displayName)),ee}while(1<=y&&0<=b);break}}}finally{Gm=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?Ii(h):""}function C(o){switch(o.tag){case 26:case 27:case 5:return Ii(o.type);case 16:return Ii("Lazy");case 13:return Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 15:return qm(o.type,!1);case 11:return qm(o.type.render,!1);case 1:return qm(o.type,!0);case 31:return Ii("Activity");default:return""}}function Q(o){try{var l="";do l+=C(o),o=o.return;while(o);return l}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function se(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Fe(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function $t(o){var l=Fe(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),y=""+o[l];if(!o.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var b=h.get,_=h.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return b.call(this)},set:function($){y=""+$,_.call(this,$)}}),Object.defineProperty(o,l,{enumerable:h.enumerable}),{getValue:function(){return y},setValue:function($){y=""+$},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function It(o){o._valueTracker||(o._valueTracker=$t(o))}function ai(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var h=l.getValue(),y="";return o&&(y=Fe(o)?o.checked?"true":"false":o.value),o=y,o!==h?(l.setValue(o),!0):!1}function Ni(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var kJ=/[\n"\\]/g;function qs(o){return o.replace(kJ,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function BT(o,l,h,y,b,_,$,A){o.name="",$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?o.type=$:o.removeAttribute("type"),l!=null?$==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+se(l)):o.value!==""+se(l)&&(o.value=""+se(l)):$!=="submit"&&$!=="reset"||o.removeAttribute("value"),l!=null?HT(o,$,se(l)):h!=null?HT(o,$,se(h)):y!=null&&o.removeAttribute("value"),b==null&&_!=null&&(o.defaultChecked=!!_),b!=null&&(o.checked=b&&typeof b!="function"&&typeof b!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?o.name=""+se(A):o.removeAttribute("name")}function cP(o,l,h,y,b,_,$,A){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(o.type=_),l!=null||h!=null){if(!(_!=="submit"&&_!=="reset"||l!=null))return;h=h!=null?""+se(h):"",l=l!=null?""+se(l):h,A||l===o.value||(o.value=l),o.defaultValue=l}y=y??b,y=typeof y!="function"&&typeof y!="symbol"&&!!y,o.checked=A?o.checked:!!y,o.defaultChecked=!!y,$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"&&(o.name=$)}function HT(o,l,h){l==="number"&&Ni(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function Lh(o,l,h,y){if(o=o.options,l){l={};for(var b=0;b<h.length;b++)l["$"+h[b]]=!0;for(h=0;h<o.length;h++)b=l.hasOwnProperty("$"+o[h].value),o[h].selected!==b&&(o[h].selected=b),b&&y&&(o[h].defaultSelected=!0)}else{for(h=""+se(h),l=null,b=0;b<o.length;b++){if(o[b].value===h){o[b].selected=!0,y&&(o[b].defaultSelected=!0);return}l!==null||o[b].disabled||(l=o[b])}l!==null&&(l.selected=!0)}}function dP(o,l,h){if(l!=null&&(l=""+se(l),l!==o.value&&(o.value=l),h==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=h!=null?""+se(h):""}function hP(o,l,h,y){if(l==null){if(y!=null){if(h!=null)throw Error(r(92));if(ut(y)){if(1<y.length)throw Error(r(93));y=y[0]}h=y}h==null&&(h=""),l=h}h=se(l),o.defaultValue=h,y=o.textContent,y===h&&y!==""&&y!==null&&(o.value=y)}function Dh(o,l){if(l){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=l;return}}o.textContent=l}var FJ=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pP(o,l,h){var y=l.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?y?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":y?o.setProperty(l,h):typeof h!="number"||h===0||FJ.has(l)?l==="float"?o.cssFloat=h:o[l]=(""+h).trim():o[l]=h+"px"}function fP(o,l,h){if(l!=null&&typeof l!="object")throw Error(r(62));if(o=o.style,h!=null){for(var y in h)!h.hasOwnProperty(y)||l!=null&&l.hasOwnProperty(y)||(y.indexOf("--")===0?o.setProperty(y,""):y==="float"?o.cssFloat="":o[y]="");for(var b in l)y=l[b],l.hasOwnProperty(b)&&h[b]!==y&&pP(o,b,y)}else for(var _ in l)l.hasOwnProperty(_)&&pP(o,_,l[_])}function WT(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jJ=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),UJ=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function E1(o){return UJ.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var ZT=null;function YT(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var kh=null,Fh=null;function mP(o){var l=oa(o);if(l&&(o=l.stateNode)){var h=o[jt]||null;e:switch(o=l.stateNode,l.type){case"input":if(BT(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),l=h.name,h.type==="radio"&&l!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+qs(""+l)+'"][type="radio"]'),l=0;l<h.length;l++){var y=h[l];if(y!==o&&y.form===o.form){var b=y[jt]||null;if(!b)throw Error(r(90));BT(y,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(l=0;l<h.length;l++)y=h[l],y.form===o.form&&ai(y)}break e;case"textarea":dP(o,h.value,h.defaultValue);break e;case"select":l=h.value,l!=null&&Lh(o,!!h.multiple,l,!1)}}}var JT=!1;function yP(o,l,h){if(JT)return o(l,h);JT=!0;try{var y=o(l);return y}finally{if(JT=!1,(kh!==null||Fh!==null)&&(ub(),kh&&(l=kh,o=Fh,Fh=kh=null,mP(l),o)))for(l=0;l<o.length;l++)mP(o[l])}}function Bm(o,l){var h=o.stateNode;if(h===null)return null;var y=h[jt]||null;if(y===null)return null;h=y[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(r(231,l,typeof h));return h}var aa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),XT=!1;if(aa)try{var Hm={};Object.defineProperty(Hm,"passive",{get:function(){XT=!0}}),window.addEventListener("test",Hm,Hm),window.removeEventListener("test",Hm,Hm)}catch{XT=!1}var _l=null,QT=null,$1=null;function gP(){if($1)return $1;var o,l=QT,h=l.length,y,b="value"in _l?_l.value:_l.textContent,_=b.length;for(o=0;o<h&&l[o]===b[o];o++);var $=h-o;for(y=1;y<=$&&l[h-y]===b[_-y];y++);return $1=b.slice(o,1<y?1-y:void 0)}function x1(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function M1(){return!0}function vP(){return!1}function Zr(o){function l(h,y,b,_,$){this._reactName=h,this._targetInst=b,this.type=y,this.nativeEvent=_,this.target=$,this.currentTarget=null;for(var A in o)o.hasOwnProperty(A)&&(h=o[A],this[A]=h?h(_):_[A]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?M1:vP,this.isPropagationStopped=vP,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=M1)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=M1)},persist:function(){},isPersistent:M1}),l}var xc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},A1=Zr(xc),Wm=g({},xc,{view:0,detail:0}),zJ=Zr(Wm),KT,eE,Zm,O1=g({},Wm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iE,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Zm&&(Zm&&o.type==="mousemove"?(KT=o.screenX-Zm.screenX,eE=o.screenY-Zm.screenY):eE=KT=0,Zm=o),KT)},movementY:function(o){return"movementY"in o?o.movementY:eE}}),bP=Zr(O1),VJ=g({},O1,{dataTransfer:0}),GJ=Zr(VJ),qJ=g({},Wm,{relatedTarget:0}),tE=Zr(qJ),BJ=g({},xc,{animationName:0,elapsedTime:0,pseudoElement:0}),HJ=Zr(BJ),WJ=g({},xc,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),ZJ=Zr(WJ),YJ=g({},xc,{data:0}),wP=Zr(YJ),JJ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XJ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QJ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KJ(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=QJ[o])?!!l[o]:!1}function iE(){return KJ}var eX=g({},Wm,{key:function(o){if(o.key){var l=JJ[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=x1(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?XJ[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iE,charCode:function(o){return o.type==="keypress"?x1(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?x1(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),tX=Zr(eX),iX=g({},O1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_P=Zr(iX),rX=g({},Wm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iE}),sX=Zr(rX),nX=g({},xc,{propertyName:0,elapsedTime:0,pseudoElement:0}),oX=Zr(nX),aX=g({},O1,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),lX=Zr(aX),uX=g({},xc,{newState:0,oldState:0}),cX=Zr(uX),dX=[9,13,27,32],rE=aa&&"CompositionEvent"in window,Ym=null;aa&&"documentMode"in document&&(Ym=document.documentMode);var hX=aa&&"TextEvent"in window&&!Ym,SP=aa&&(!rE||Ym&&8<Ym&&11>=Ym),TP=" ",EP=!1;function $P(o,l){switch(o){case"keyup":return dX.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xP(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var jh=!1;function pX(o,l){switch(o){case"compositionend":return xP(l);case"keypress":return l.which!==32?null:(EP=!0,TP);case"textInput":return o=l.data,o===TP&&EP?null:o;default:return null}}function fX(o,l){if(jh)return o==="compositionend"||!rE&&$P(o,l)?(o=gP(),$1=QT=_l=null,jh=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return SP&&l.locale!=="ko"?null:l.data;default:return null}}var mX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function MP(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!mX[o.type]:l==="textarea"}function AP(o,l,h,y){kh?Fh?Fh.push(y):Fh=[y]:kh=y,l=mb(l,"onChange"),0<l.length&&(h=new A1("onChange","change",null,h,y),o.push({event:h,listeners:l}))}var Jm=null,Xm=null;function yX(o){lk(o,0)}function R1(o){var l=je(o);if(ai(l))return o}function OP(o,l){if(o==="change")return l}var RP=!1;if(aa){var sE;if(aa){var nE="oninput"in document;if(!nE){var CP=document.createElement("div");CP.setAttribute("oninput","return;"),nE=typeof CP.oninput=="function"}sE=nE}else sE=!1;RP=sE&&(!document.documentMode||9<document.documentMode)}function IP(){Jm&&(Jm.detachEvent("onpropertychange",NP),Xm=Jm=null)}function NP(o){if(o.propertyName==="value"&&R1(Xm)){var l=[];AP(l,Xm,o,YT(o)),yP(yX,l)}}function gX(o,l,h){o==="focusin"?(IP(),Jm=l,Xm=h,Jm.attachEvent("onpropertychange",NP)):o==="focusout"&&IP()}function vX(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return R1(Xm)}function bX(o,l){if(o==="click")return R1(l)}function wX(o,l){if(o==="input"||o==="change")return R1(l)}function _X(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var gs=typeof Object.is=="function"?Object.is:_X;function Qm(o,l){if(gs(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var h=Object.keys(o),y=Object.keys(l);if(h.length!==y.length)return!1;for(y=0;y<h.length;y++){var b=h[y];if(!Lm.call(l,b)||!gs(o[b],l[b]))return!1}return!0}function PP(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function LP(o,l){var h=PP(o);o=0;for(var y;h;){if(h.nodeType===3){if(y=o+h.textContent.length,o<=l&&y>=l)return{node:h,offset:l-o};o=y}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=PP(h)}}function DP(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?DP(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function kP(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=Ni(o.document);l instanceof o.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)o=l.contentWindow;else break;l=Ni(o.document)}return l}function oE(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var SX=aa&&"documentMode"in document&&11>=document.documentMode,Uh=null,aE=null,Km=null,lE=!1;function FP(o,l,h){var y=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;lE||Uh==null||Uh!==Ni(y)||(y=Uh,"selectionStart"in y&&oE(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Km&&Qm(Km,y)||(Km=y,y=mb(aE,"onSelect"),0<y.length&&(l=new A1("onSelect","select",null,l,h),o.push({event:l,listeners:y}),l.target=Uh)))}function Mc(o,l){var h={};return h[o.toLowerCase()]=l.toLowerCase(),h["Webkit"+o]="webkit"+l,h["Moz"+o]="moz"+l,h}var zh={animationend:Mc("Animation","AnimationEnd"),animationiteration:Mc("Animation","AnimationIteration"),animationstart:Mc("Animation","AnimationStart"),transitionrun:Mc("Transition","TransitionRun"),transitionstart:Mc("Transition","TransitionStart"),transitioncancel:Mc("Transition","TransitionCancel"),transitionend:Mc("Transition","TransitionEnd")},uE={},jP={};aa&&(jP=document.createElement("div").style,"AnimationEvent"in window||(delete zh.animationend.animation,delete zh.animationiteration.animation,delete zh.animationstart.animation),"TransitionEvent"in window||delete zh.transitionend.transition);function Ac(o){if(uE[o])return uE[o];if(!zh[o])return o;var l=zh[o],h;for(h in l)if(l.hasOwnProperty(h)&&h in jP)return uE[o]=l[h];return o}var UP=Ac("animationend"),zP=Ac("animationiteration"),VP=Ac("animationstart"),TX=Ac("transitionrun"),EX=Ac("transitionstart"),$X=Ac("transitioncancel"),GP=Ac("transitionend"),qP=new Map,cE="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cE.push("scrollEnd");function On(o,l){qP.set(o,l),Mn(l,[o])}var BP=new WeakMap;function Bs(o,l){if(typeof o=="object"&&o!==null){var h=BP.get(o);return h!==void 0?h:(l={value:o,source:l,stack:Q(l)},BP.set(o,l),l)}return{value:o,source:l,stack:Q(l)}}var Hs=[],Vh=0,dE=0;function C1(){for(var o=Vh,l=dE=Vh=0;l<o;){var h=Hs[l];Hs[l++]=null;var y=Hs[l];Hs[l++]=null;var b=Hs[l];Hs[l++]=null;var _=Hs[l];if(Hs[l++]=null,y!==null&&b!==null){var $=y.pending;$===null?b.next=b:(b.next=$.next,$.next=b),y.pending=b}_!==0&&HP(h,b,_)}}function I1(o,l,h,y){Hs[Vh++]=o,Hs[Vh++]=l,Hs[Vh++]=h,Hs[Vh++]=y,dE|=y,o.lanes|=y,o=o.alternate,o!==null&&(o.lanes|=y)}function hE(o,l,h,y){return I1(o,l,h,y),N1(o)}function Gh(o,l){return I1(o,null,null,l),N1(o)}function HP(o,l,h){o.lanes|=h;var y=o.alternate;y!==null&&(y.lanes|=h);for(var b=!1,_=o.return;_!==null;)_.childLanes|=h,y=_.alternate,y!==null&&(y.childLanes|=h),_.tag===22&&(o=_.stateNode,o===null||o._visibility&1||(b=!0)),o=_,_=_.return;return o.tag===3?(_=o.stateNode,b&&l!==null&&(b=31-Pr(h),o=_.hiddenUpdates,y=o[b],y===null?o[b]=[l]:y.push(l),l.lane=h|536870912),_):null}function N1(o){if(50<Ey)throw Ey=0,v$=null,Error(r(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var qh={};function xX(o,l,h,y){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vs(o,l,h,y){return new xX(o,l,h,y)}function pE(o){return o=o.prototype,!(!o||!o.isReactComponent)}function la(o,l){var h=o.alternate;return h===null?(h=vs(o.tag,l,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=l,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&65011712,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,l=o.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function WP(o,l){o.flags&=65011714;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,l=h.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function P1(o,l,h,y,b,_){var $=0;if(y=o,typeof o=="function")pE(o)&&($=1);else if(typeof o=="string")$=AQ(o,h,De.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case pe:return o=vs(31,h,l,b),o.elementType=pe,o.lanes=_,o;case T:return Oc(h.children,b,_,l);case E:$=8,b|=24;break;case M:return o=vs(12,h,l,b|2),o.elementType=M,o.lanes=_,o;case U:return o=vs(13,h,l,b),o.elementType=U,o.lanes=_,o;case Z:return o=vs(19,h,l,b),o.elementType=Z,o.lanes=_,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case R:case N:$=10;break e;case P:$=9;break e;case k:$=11;break e;case re:$=14;break e;case oe:$=16,y=null;break e}$=29,h=Error(r(130,o===null?"null":typeof o,"")),y=null}return l=vs($,h,l,b),l.elementType=o,l.type=y,l.lanes=_,l}function Oc(o,l,h,y){return o=vs(7,o,y,l),o.lanes=h,o}function fE(o,l,h){return o=vs(6,o,null,l),o.lanes=h,o}function mE(o,l,h){return l=vs(4,o.children!==null?o.children:[],o.key,l),l.lanes=h,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var Bh=[],Hh=0,L1=null,D1=0,Ws=[],Zs=0,Rc=null,ua=1,ca="";function Cc(o,l){Bh[Hh++]=D1,Bh[Hh++]=L1,L1=o,D1=l}function ZP(o,l,h){Ws[Zs++]=ua,Ws[Zs++]=ca,Ws[Zs++]=Rc,Rc=o;var y=ua;o=ca;var b=32-Pr(y)-1;y&=~(1<<b),h+=1;var _=32-Pr(l)+b;if(30<_){var $=b-b%5;_=(y&(1<<$)-1).toString(32),y>>=$,b-=$,ua=1<<32-Pr(l)+b|h<<b|y,ca=_+o}else ua=1<<_|h<<b|y,ca=o}function yE(o){o.return!==null&&(Cc(o,1),ZP(o,1,0))}function gE(o){for(;o===L1;)L1=Bh[--Hh],Bh[Hh]=null,D1=Bh[--Hh],Bh[Hh]=null;for(;o===Rc;)Rc=Ws[--Zs],Ws[Zs]=null,ca=Ws[--Zs],Ws[Zs]=null,ua=Ws[--Zs],Ws[Zs]=null}var Lr=null,li=null,wt=!1,Ic=null,go=!1,vE=Error(r(519));function Nc(o){var l=Error(r(418,""));throw iy(Bs(l,o)),vE}function YP(o){var l=o.stateNode,h=o.type,y=o.memoizedProps;switch(l[ti]=o,l[jt]=y,h){case"dialog":ot("cancel",l),ot("close",l);break;case"iframe":case"object":case"embed":ot("load",l);break;case"video":case"audio":for(h=0;h<xy.length;h++)ot(xy[h],l);break;case"source":ot("error",l);break;case"img":case"image":case"link":ot("error",l),ot("load",l);break;case"details":ot("toggle",l);break;case"input":ot("invalid",l),cP(l,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0),It(l);break;case"select":ot("invalid",l);break;case"textarea":ot("invalid",l),hP(l,y.value,y.defaultValue,y.children),It(l)}h=y.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||l.textContent===""+h||y.suppressHydrationWarning===!0||hk(l.textContent,h)?(y.popover!=null&&(ot("beforetoggle",l),ot("toggle",l)),y.onScroll!=null&&ot("scroll",l),y.onScrollEnd!=null&&ot("scrollend",l),y.onClick!=null&&(l.onclick=yb),l=!0):l=!1,l||Nc(o)}function JP(o){for(Lr=o.return;Lr;)switch(Lr.tag){case 5:case 13:go=!1;return;case 27:case 3:go=!0;return;default:Lr=Lr.return}}function ey(o){if(o!==Lr)return!1;if(!wt)return JP(o),wt=!0,!1;var l=o.tag,h;if((h=l!==3&&l!==27)&&((h=l===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||P$(o.type,o.memoizedProps)),h=!h),h&&li&&Nc(o),JP(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8)if(h=o.data,h==="/$"){if(l===0){li=Cn(o.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++;o=o.nextSibling}li=null}}else l===27?(l=li,kl(o.type)?(o=F$,F$=null,li=o):li=l):li=Lr?Cn(o.stateNode.nextSibling):null;return!0}function ty(){li=Lr=null,wt=!1}function XP(){var o=Ic;return o!==null&&(Xr===null?Xr=o:Xr.push.apply(Xr,o),Ic=null),o}function iy(o){Ic===null?Ic=[o]:Ic.push(o)}var bE=ae(null),Pc=null,da=null;function Sl(o,l,h){ge(bE,l._currentValue),l._currentValue=h}function ha(o){o._currentValue=bE.current,Se(bE)}function wE(o,l,h){for(;o!==null;){var y=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,y!==null&&(y.childLanes|=l)):y!==null&&(y.childLanes&l)!==l&&(y.childLanes|=l),o===h)break;o=o.return}}function _E(o,l,h,y){var b=o.child;for(b!==null&&(b.return=o);b!==null;){var _=b.dependencies;if(_!==null){var $=b.child;_=_.firstContext;e:for(;_!==null;){var A=_;_=b;for(var I=0;I<l.length;I++)if(A.context===l[I]){_.lanes|=h,A=_.alternate,A!==null&&(A.lanes|=h),wE(_.return,h,o),y||($=null);break e}_=A.next}}else if(b.tag===18){if($=b.return,$===null)throw Error(r(341));$.lanes|=h,_=$.alternate,_!==null&&(_.lanes|=h),wE($,h,o),$=null}else $=b.child;if($!==null)$.return=b;else for($=b;$!==null;){if($===o){$=null;break}if(b=$.sibling,b!==null){b.return=$.return,$=b;break}$=$.return}b=$}}function ry(o,l,h,y){o=null;for(var b=l,_=!1;b!==null;){if(!_){if((b.flags&524288)!==0)_=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var $=b.alternate;if($===null)throw Error(r(387));if($=$.memoizedProps,$!==null){var A=b.type;gs(b.pendingProps.value,$.value)||(o!==null?o.push(A):o=[A])}}else if(b===Ir.current){if($=b.alternate,$===null)throw Error(r(387));$.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(o!==null?o.push(Iy):o=[Iy])}b=b.return}o!==null&&_E(l,o,h,y),l.flags|=262144}function k1(o){for(o=o.firstContext;o!==null;){if(!gs(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Lc(o){Pc=o,da=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function pr(o){return QP(Pc,o)}function F1(o,l){return Pc===null&&Lc(o),QP(o,l)}function QP(o,l){var h=l._currentValue;if(l={context:l,memoizedValue:h,next:null},da===null){if(o===null)throw Error(r(308));da=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else da=da.next=l;return h}var MX=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(h,y){o.push(y)}};this.abort=function(){l.aborted=!0,o.forEach(function(h){return h()})}},AX=e.unstable_scheduleCallback,OX=e.unstable_NormalPriority,Pi={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function SE(){return{controller:new MX,data:new Map,refCount:0}}function sy(o){o.refCount--,o.refCount===0&&AX(OX,function(){o.controller.abort()})}var ny=null,TE=0,Wh=0,Zh=null;function RX(o,l){if(ny===null){var h=ny=[];TE=0,Wh=$$(),Zh={status:"pending",value:void 0,then:function(y){h.push(y)}}}return TE++,l.then(KP,KP),l}function KP(){if(--TE===0&&ny!==null){Zh!==null&&(Zh.status="fulfilled");var o=ny;ny=null,Wh=0,Zh=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function CX(o,l){var h=[],y={status:"pending",value:null,reason:null,then:function(b){h.push(b)}};return o.then(function(){y.status="fulfilled",y.value=l;for(var b=0;b<h.length;b++)(0,h[b])(l)},function(b){for(y.status="rejected",y.reason=b,b=0;b<h.length;b++)(0,h[b])(void 0)}),y}var eL=X.S;X.S=function(o,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&RX(o,l),eL!==null&&eL(o,l)};var Dc=ae(null);function EE(){var o=Dc.current;return o!==null?o:Ut.pooledCache}function j1(o,l){l===null?ge(Dc,Dc.current):ge(Dc,l.pool)}function tL(){var o=EE();return o===null?null:{parent:Pi._currentValue,pool:o}}var oy=Error(r(460)),iL=Error(r(474)),U1=Error(r(542)),$E={then:function(){}};function rL(o){return o=o.status,o==="fulfilled"||o==="rejected"}function z1(){}function sL(o,l,h){switch(h=o[h],h===void 0?o.push(l):h!==l&&(l.then(z1,z1),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,oL(o),o;default:if(typeof l.status=="string")l.then(z1,z1);else{if(o=Ut,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=l,o.status="pending",o.then(function(y){if(l.status==="pending"){var b=l;b.status="fulfilled",b.value=y}},function(y){if(l.status==="pending"){var b=l;b.status="rejected",b.reason=y}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,oL(o),o}throw ay=l,oy}}var ay=null;function nL(){if(ay===null)throw Error(r(459));var o=ay;return ay=null,o}function oL(o){if(o===oy||o===U1)throw Error(r(483))}var Tl=!1;function xE(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ME(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function El(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function $l(o,l,h){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,(xt&2)!==0){var b=y.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),y.pending=l,l=N1(o),HP(o,null,h),l}return I1(o,y,l,h),N1(o)}function ly(o,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194048)!==0)){var y=l.lanes;y&=o.pendingLanes,h|=y,l.lanes=h,g1(o,h)}}function AE(o,l){var h=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,h===y)){var b=null,_=null;if(h=h.firstBaseUpdate,h!==null){do{var $={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};_===null?b=_=$:_=_.next=$,h=h.next}while(h!==null);_===null?b=_=l:_=_.next=l}else b=_=l;h={baseState:y.baseState,firstBaseUpdate:b,lastBaseUpdate:_,shared:y.shared,callbacks:y.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=l:o.next=l,h.lastBaseUpdate=l}var OE=!1;function uy(){if(OE){var o=Zh;if(o!==null)throw o}}function cy(o,l,h,y){OE=!1;var b=o.updateQueue;Tl=!1;var _=b.firstBaseUpdate,$=b.lastBaseUpdate,A=b.shared.pending;if(A!==null){b.shared.pending=null;var I=A,H=I.next;I.next=null,$===null?_=H:$.next=H,$=I;var ee=o.alternate;ee!==null&&(ee=ee.updateQueue,A=ee.lastBaseUpdate,A!==$&&(A===null?ee.firstBaseUpdate=H:A.next=H,ee.lastBaseUpdate=I))}if(_!==null){var ie=b.baseState;$=0,ee=H=I=null,A=_;do{var W=A.lane&-536870913,Y=W!==A.lane;if(Y?(dt&W)===W:(y&W)===W){W!==0&&W===Wh&&(OE=!0),ee!==null&&(ee=ee.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Ve=o,Ue=A;W=l;var Rt=h;switch(Ue.tag){case 1:if(Ve=Ue.payload,typeof Ve=="function"){ie=Ve.call(Rt,ie,W);break e}ie=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=Ue.payload,W=typeof Ve=="function"?Ve.call(Rt,ie,W):Ve,W==null)break e;ie=g({},ie,W);break e;case 2:Tl=!0}}W=A.callback,W!==null&&(o.flags|=64,Y&&(o.flags|=8192),Y=b.callbacks,Y===null?b.callbacks=[W]:Y.push(W))}else Y={lane:W,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ee===null?(H=ee=Y,I=ie):ee=ee.next=Y,$|=W;if(A=A.next,A===null){if(A=b.shared.pending,A===null)break;Y=A,A=Y.next,Y.next=null,b.lastBaseUpdate=Y,b.shared.pending=null}}while(!0);ee===null&&(I=ie),b.baseState=I,b.firstBaseUpdate=H,b.lastBaseUpdate=ee,_===null&&(b.shared.lanes=0),Nl|=$,o.lanes=$,o.memoizedState=ie}}function aL(o,l){if(typeof o!="function")throw Error(r(191,o));o.call(l)}function lL(o,l){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)aL(h[o],l)}var Yh=ae(null),V1=ae(0);function uL(o,l){o=ba,ge(V1,o),ge(Yh,l),ba=o|l.baseLanes}function RE(){ge(V1,ba),ge(Yh,Yh.current)}function CE(){ba=V1.current,Se(Yh),Se(V1)}var xl=0,tt=null,At=null,Ti=null,G1=!1,Jh=!1,kc=!1,q1=0,dy=0,Xh=null,IX=0;function bi(){throw Error(r(321))}function IE(o,l){if(l===null)return!1;for(var h=0;h<l.length&&h<o.length;h++)if(!gs(o[h],l[h]))return!1;return!0}function NE(o,l,h,y,b,_){return xl=_,tt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,X.H=o===null||o.memoizedState===null?HL:WL,kc=!1,_=h(y,b),kc=!1,Jh&&(_=dL(l,h,y,b)),cL(o),_}function cL(o){X.H=J1;var l=At!==null&&At.next!==null;if(xl=0,Ti=At=tt=null,G1=!1,dy=0,Xh=null,l)throw Error(r(300));o===null||qi||(o=o.dependencies,o!==null&&k1(o)&&(qi=!0))}function dL(o,l,h,y){tt=o;var b=0;do{if(Jh&&(Xh=null),dy=0,Jh=!1,25<=b)throw Error(r(301));if(b+=1,Ti=At=null,o.updateQueue!=null){var _=o.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}X.H=jX,_=l(h,y)}while(Jh);return _}function NX(){var o=X.H,l=o.useState()[0];return l=typeof l.then=="function"?hy(l):l,o=o.useState()[0],(At!==null?At.memoizedState:null)!==o&&(tt.flags|=1024),l}function PE(){var o=q1!==0;return q1=0,o}function LE(o,l,h){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~h}function DE(o){if(G1){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}G1=!1}xl=0,Ti=At=tt=null,Jh=!1,dy=q1=0,Xh=null}function Yr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ti===null?tt.memoizedState=Ti=o:Ti=Ti.next=o,Ti}function Ei(){if(At===null){var o=tt.alternate;o=o!==null?o.memoizedState:null}else o=At.next;var l=Ti===null?tt.memoizedState:Ti.next;if(l!==null)Ti=l,At=o;else{if(o===null)throw tt.alternate===null?Error(r(467)):Error(r(310));At=o,o={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Ti===null?tt.memoizedState=Ti=o:Ti=Ti.next=o}return Ti}function kE(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hy(o){var l=dy;return dy+=1,Xh===null&&(Xh=[]),o=sL(Xh,o,l),l=tt,(Ti===null?l.memoizedState:Ti.next)===null&&(l=l.alternate,X.H=l===null||l.memoizedState===null?HL:WL),o}function B1(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return hy(o);if(o.$$typeof===N)return pr(o)}throw Error(r(438,String(o)))}function FE(o){var l=null,h=tt.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var y=tt.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(l={data:y.data.map(function(b){return b.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=kE(),tt.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(o),y=0;y<o;y++)h[y]=me;return l.index++,h}function pa(o,l){return typeof l=="function"?l(o):l}function H1(o){var l=Ei();return jE(l,At,o)}function jE(o,l,h){var y=o.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=h;var b=o.baseQueue,_=y.pending;if(_!==null){if(b!==null){var $=b.next;b.next=_.next,_.next=$}l.baseQueue=b=_,y.pending=null}if(_=o.baseState,b===null)o.memoizedState=_;else{l=b.next;var A=$=null,I=null,H=l,ee=!1;do{var ie=H.lane&-536870913;if(ie!==H.lane?(dt&ie)===ie:(xl&ie)===ie){var W=H.revertLane;if(W===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ie===Wh&&(ee=!0);else if((xl&W)===W){H=H.next,W===Wh&&(ee=!0);continue}else ie={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(A=I=ie,$=_):I=I.next=ie,tt.lanes|=W,Nl|=W;ie=H.action,kc&&h(_,ie),_=H.hasEagerState?H.eagerState:h(_,ie)}else W={lane:ie,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(A=I=W,$=_):I=I.next=W,tt.lanes|=ie,Nl|=ie;H=H.next}while(H!==null&&H!==l);if(I===null?$=_:I.next=A,!gs(_,o.memoizedState)&&(qi=!0,ee&&(h=Zh,h!==null)))throw h;o.memoizedState=_,o.baseState=$,o.baseQueue=I,y.lastRenderedState=_}return b===null&&(y.lanes=0),[o.memoizedState,y.dispatch]}function UE(o){var l=Ei(),h=l.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=o;var y=h.dispatch,b=h.pending,_=l.memoizedState;if(b!==null){h.pending=null;var $=b=b.next;do _=o(_,$.action),$=$.next;while($!==b);gs(_,l.memoizedState)||(qi=!0),l.memoizedState=_,l.baseQueue===null&&(l.baseState=_),h.lastRenderedState=_}return[_,y]}function hL(o,l,h){var y=tt,b=Ei(),_=wt;if(_){if(h===void 0)throw Error(r(407));h=h()}else h=l();var $=!gs((At||b).memoizedState,h);$&&(b.memoizedState=h,qi=!0),b=b.queue;var A=mL.bind(null,y,b,o);if(py(2048,8,A,[o]),b.getSnapshot!==l||$||Ti!==null&&Ti.memoizedState.tag&1){if(y.flags|=2048,Qh(9,W1(),fL.bind(null,y,b,h,l),null),Ut===null)throw Error(r(349));_||(xl&124)!==0||pL(y,l,h)}return h}function pL(o,l,h){o.flags|=16384,o={getSnapshot:l,value:h},l=tt.updateQueue,l===null?(l=kE(),tt.updateQueue=l,l.stores=[o]):(h=l.stores,h===null?l.stores=[o]:h.push(o))}function fL(o,l,h,y){l.value=h,l.getSnapshot=y,yL(l)&&gL(o)}function mL(o,l,h){return h(function(){yL(l)&&gL(o)})}function yL(o){var l=o.getSnapshot;o=o.value;try{var h=l();return!gs(o,h)}catch{return!0}}function gL(o){var l=Gh(o,2);l!==null&&Ts(l,o,2)}function zE(o){var l=Yr();if(typeof o=="function"){var h=o;if(o=h(),kc){yo(!0);try{h()}finally{yo(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:o},l}function vL(o,l,h,y){return o.baseState=h,jE(o,At,typeof y=="function"?y:pa)}function PX(o,l,h,y,b){if(Y1(o))throw Error(r(485));if(o=l.action,o!==null){var _={payload:b,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function($){_.listeners.push($)}};X.T!==null?h(!0):_.isTransition=!1,y(_),h=l.pending,h===null?(_.next=l.pending=_,bL(l,_)):(_.next=h.next,l.pending=h.next=_)}}function bL(o,l){var h=l.action,y=l.payload,b=o.state;if(l.isTransition){var _=X.T,$={};X.T=$;try{var A=h(b,y),I=X.S;I!==null&&I($,A),wL(o,l,A)}catch(H){VE(o,l,H)}finally{X.T=_}}else try{_=h(b,y),wL(o,l,_)}catch(H){VE(o,l,H)}}function wL(o,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(y){_L(o,l,y)},function(y){return VE(o,l,y)}):_L(o,l,h)}function _L(o,l,h){l.status="fulfilled",l.value=h,SL(l),o.state=h,l=o.pending,l!==null&&(h=l.next,h===l?o.pending=null:(h=h.next,l.next=h,bL(o,h)))}function VE(o,l,h){var y=o.pending;if(o.pending=null,y!==null){y=y.next;do l.status="rejected",l.reason=h,SL(l),l=l.next;while(l!==y)}o.action=null}function SL(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function TL(o,l){return l}function EL(o,l){if(wt){var h=Ut.formState;if(h!==null){e:{var y=tt;if(wt){if(li){t:{for(var b=li,_=go;b.nodeType!==8;){if(!_){b=null;break t}if(b=Cn(b.nextSibling),b===null){b=null;break t}}_=b.data,b=_==="F!"||_==="F"?b:null}if(b){li=Cn(b.nextSibling),y=b.data==="F!";break e}}Nc(y)}y=!1}y&&(l=h[0])}}return h=Yr(),h.memoizedState=h.baseState=l,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:TL,lastRenderedState:l},h.queue=y,h=GL.bind(null,tt,y),y.dispatch=h,y=zE(!1),_=WE.bind(null,tt,!1,y.queue),y=Yr(),b={state:l,dispatch:null,action:o,pending:null},y.queue=b,h=PX.bind(null,tt,b,_,h),b.dispatch=h,y.memoizedState=o,[l,h,!1]}function $L(o){var l=Ei();return xL(l,At,o)}function xL(o,l,h){if(l=jE(o,l,TL)[0],o=H1(pa)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var y=hy(l)}catch($){throw $===oy?U1:$}else y=l;l=Ei();var b=l.queue,_=b.dispatch;return h!==l.memoizedState&&(tt.flags|=2048,Qh(9,W1(),LX.bind(null,b,h),null)),[y,_,o]}function LX(o,l){o.action=l}function ML(o){var l=Ei(),h=At;if(h!==null)return xL(l,h,o);Ei(),l=l.memoizedState,h=Ei();var y=h.queue.dispatch;return h.memoizedState=o,[l,y,!1]}function Qh(o,l,h,y){return o={tag:o,create:h,deps:y,inst:l,next:null},l=tt.updateQueue,l===null&&(l=kE(),tt.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=o.next=o:(y=h.next,h.next=o,o.next=y,l.lastEffect=o),o}function W1(){return{destroy:void 0,resource:void 0}}function AL(){return Ei().memoizedState}function Z1(o,l,h,y){var b=Yr();y=y===void 0?null:y,tt.flags|=o,b.memoizedState=Qh(1|l,W1(),h,y)}function py(o,l,h,y){var b=Ei();y=y===void 0?null:y;var _=b.memoizedState.inst;At!==null&&y!==null&&IE(y,At.memoizedState.deps)?b.memoizedState=Qh(l,_,h,y):(tt.flags|=o,b.memoizedState=Qh(1|l,_,h,y))}function OL(o,l){Z1(8390656,8,o,l)}function RL(o,l){py(2048,8,o,l)}function CL(o,l){return py(4,2,o,l)}function IL(o,l){return py(4,4,o,l)}function NL(o,l){if(typeof l=="function"){o=o();var h=l(o);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function PL(o,l,h){h=h!=null?h.concat([o]):null,py(4,4,NL.bind(null,l,o),h)}function GE(){}function LL(o,l){var h=Ei();l=l===void 0?null:l;var y=h.memoizedState;return l!==null&&IE(l,y[1])?y[0]:(h.memoizedState=[o,l],o)}function DL(o,l){var h=Ei();l=l===void 0?null:l;var y=h.memoizedState;if(l!==null&&IE(l,y[1]))return y[0];if(y=o(),kc){yo(!0);try{o()}finally{yo(!1)}}return h.memoizedState=[y,l],y}function qE(o,l,h){return h===void 0||(xl&1073741824)!==0?o.memoizedState=l:(o.memoizedState=h,o=jD(),tt.lanes|=o,Nl|=o,h)}function kL(o,l,h,y){return gs(h,l)?h:Yh.current!==null?(o=qE(o,h,y),gs(o,l)||(qi=!0),o):(xl&42)===0?(qi=!0,o.memoizedState=h):(o=jD(),tt.lanes|=o,Nl|=o,l)}function FL(o,l,h,y,b){var _=he.p;he.p=_!==0&&8>_?_:8;var $=X.T,A={};X.T=A,WE(o,!1,l,h);try{var I=b(),H=X.S;if(H!==null&&H(A,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var ee=CX(I,y);fy(o,l,ee,Ss(o))}else fy(o,l,y,Ss(o))}catch(ie){fy(o,l,{then:function(){},status:"rejected",reason:ie},Ss())}finally{he.p=_,X.T=$}}function DX(){}function BE(o,l,h,y){if(o.tag!==5)throw Error(r(476));var b=jL(o).queue;FL(o,b,l,fe,h===null?DX:function(){return UL(o),h(y)})}function jL(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:fe},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:h},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function UL(o){var l=jL(o).next.queue;fy(o,l,{},Ss())}function HE(){return pr(Iy)}function zL(){return Ei().memoizedState}function VL(){return Ei().memoizedState}function kX(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var h=Ss();o=El(h);var y=$l(l,o,h);y!==null&&(Ts(y,l,h),ly(y,l,h)),l={cache:SE()},o.payload=l;return}l=l.return}}function FX(o,l,h){var y=Ss();h={lane:y,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},Y1(o)?qL(l,h):(h=hE(o,l,h,y),h!==null&&(Ts(h,o,y),BL(h,l,y)))}function GL(o,l,h){var y=Ss();fy(o,l,h,y)}function fy(o,l,h,y){var b={lane:y,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(Y1(o))qL(l,b);else{var _=o.alternate;if(o.lanes===0&&(_===null||_.lanes===0)&&(_=l.lastRenderedReducer,_!==null))try{var $=l.lastRenderedState,A=_($,h);if(b.hasEagerState=!0,b.eagerState=A,gs(A,$))return I1(o,l,b,0),Ut===null&&C1(),!1}catch{}finally{}if(h=hE(o,l,b,y),h!==null)return Ts(h,o,y),BL(h,l,y),!0}return!1}function WE(o,l,h,y){if(y={lane:2,revertLane:$$(),action:y,hasEagerState:!1,eagerState:null,next:null},Y1(o)){if(l)throw Error(r(479))}else l=hE(o,h,y,2),l!==null&&Ts(l,o,2)}function Y1(o){var l=o.alternate;return o===tt||l!==null&&l===tt}function qL(o,l){Jh=G1=!0;var h=o.pending;h===null?l.next=l:(l.next=h.next,h.next=l),o.pending=l}function BL(o,l,h){if((h&4194048)!==0){var y=l.lanes;y&=o.pendingLanes,h|=y,l.lanes=h,g1(o,h)}}var J1={readContext:pr,use:B1,useCallback:bi,useContext:bi,useEffect:bi,useImperativeHandle:bi,useLayoutEffect:bi,useInsertionEffect:bi,useMemo:bi,useReducer:bi,useRef:bi,useState:bi,useDebugValue:bi,useDeferredValue:bi,useTransition:bi,useSyncExternalStore:bi,useId:bi,useHostTransitionStatus:bi,useFormState:bi,useActionState:bi,useOptimistic:bi,useMemoCache:bi,useCacheRefresh:bi},HL={readContext:pr,use:B1,useCallback:function(o,l){return Yr().memoizedState=[o,l===void 0?null:l],o},useContext:pr,useEffect:OL,useImperativeHandle:function(o,l,h){h=h!=null?h.concat([o]):null,Z1(4194308,4,NL.bind(null,l,o),h)},useLayoutEffect:function(o,l){return Z1(4194308,4,o,l)},useInsertionEffect:function(o,l){Z1(4,2,o,l)},useMemo:function(o,l){var h=Yr();l=l===void 0?null:l;var y=o();if(kc){yo(!0);try{o()}finally{yo(!1)}}return h.memoizedState=[y,l],y},useReducer:function(o,l,h){var y=Yr();if(h!==void 0){var b=h(l);if(kc){yo(!0);try{h(l)}finally{yo(!1)}}}else b=l;return y.memoizedState=y.baseState=b,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:b},y.queue=o,o=o.dispatch=FX.bind(null,tt,o),[y.memoizedState,o]},useRef:function(o){var l=Yr();return o={current:o},l.memoizedState=o},useState:function(o){o=zE(o);var l=o.queue,h=GL.bind(null,tt,l);return l.dispatch=h,[o.memoizedState,h]},useDebugValue:GE,useDeferredValue:function(o,l){var h=Yr();return qE(h,o,l)},useTransition:function(){var o=zE(!1);return o=FL.bind(null,tt,o.queue,!0,!1),Yr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,h){var y=tt,b=Yr();if(wt){if(h===void 0)throw Error(r(407));h=h()}else{if(h=l(),Ut===null)throw Error(r(349));(dt&124)!==0||pL(y,l,h)}b.memoizedState=h;var _={value:h,getSnapshot:l};return b.queue=_,OL(mL.bind(null,y,_,o),[o]),y.flags|=2048,Qh(9,W1(),fL.bind(null,y,_,h,l),null),h},useId:function(){var o=Yr(),l=Ut.identifierPrefix;if(wt){var h=ca,y=ua;h=(y&~(1<<32-Pr(y)-1)).toString(32)+h,l="«"+l+"R"+h,h=q1++,0<h&&(l+="H"+h.toString(32)),l+="»"}else h=IX++,l="«"+l+"r"+h.toString(32)+"»";return o.memoizedState=l},useHostTransitionStatus:HE,useFormState:EL,useActionState:EL,useOptimistic:function(o){var l=Yr();l.memoizedState=l.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=WE.bind(null,tt,!0,h),h.dispatch=l,[o,l]},useMemoCache:FE,useCacheRefresh:function(){return Yr().memoizedState=kX.bind(null,tt)}},WL={readContext:pr,use:B1,useCallback:LL,useContext:pr,useEffect:RL,useImperativeHandle:PL,useInsertionEffect:CL,useLayoutEffect:IL,useMemo:DL,useReducer:H1,useRef:AL,useState:function(){return H1(pa)},useDebugValue:GE,useDeferredValue:function(o,l){var h=Ei();return kL(h,At.memoizedState,o,l)},useTransition:function(){var o=H1(pa)[0],l=Ei().memoizedState;return[typeof o=="boolean"?o:hy(o),l]},useSyncExternalStore:hL,useId:zL,useHostTransitionStatus:HE,useFormState:$L,useActionState:$L,useOptimistic:function(o,l){var h=Ei();return vL(h,At,o,l)},useMemoCache:FE,useCacheRefresh:VL},jX={readContext:pr,use:B1,useCallback:LL,useContext:pr,useEffect:RL,useImperativeHandle:PL,useInsertionEffect:CL,useLayoutEffect:IL,useMemo:DL,useReducer:UE,useRef:AL,useState:function(){return UE(pa)},useDebugValue:GE,useDeferredValue:function(o,l){var h=Ei();return At===null?qE(h,o,l):kL(h,At.memoizedState,o,l)},useTransition:function(){var o=UE(pa)[0],l=Ei().memoizedState;return[typeof o=="boolean"?o:hy(o),l]},useSyncExternalStore:hL,useId:zL,useHostTransitionStatus:HE,useFormState:ML,useActionState:ML,useOptimistic:function(o,l){var h=Ei();return At!==null?vL(h,At,o,l):(h.baseState=o,[o,h.queue.dispatch])},useMemoCache:FE,useCacheRefresh:VL},Kh=null,my=0;function X1(o){var l=my;return my+=1,Kh===null&&(Kh=[]),sL(Kh,o,l)}function yy(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function Q1(o,l){throw l.$$typeof===v?Error(r(525)):(o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function ZL(o){var l=o._init;return l(o._payload)}function YL(o){function l(V,F){if(o){var q=V.deletions;q===null?(V.deletions=[F],V.flags|=16):q.push(F)}}function h(V,F){if(!o)return null;for(;F!==null;)l(V,F),F=F.sibling;return null}function y(V){for(var F=new Map;V!==null;)V.key!==null?F.set(V.key,V):F.set(V.index,V),V=V.sibling;return F}function b(V,F){return V=la(V,F),V.index=0,V.sibling=null,V}function _(V,F,q){return V.index=q,o?(q=V.alternate,q!==null?(q=q.index,q<F?(V.flags|=67108866,F):q):(V.flags|=67108866,F)):(V.flags|=1048576,F)}function $(V){return o&&V.alternate===null&&(V.flags|=67108866),V}function A(V,F,q,te){return F===null||F.tag!==6?(F=fE(q,V.mode,te),F.return=V,F):(F=b(F,q),F.return=V,F)}function I(V,F,q,te){var Ae=q.type;return Ae===T?ee(V,F,q.props.children,te,q.key):F!==null&&(F.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===oe&&ZL(Ae)===F.type)?(F=b(F,q.props),yy(F,q),F.return=V,F):(F=P1(q.type,q.key,q.props,null,V.mode,te),yy(F,q),F.return=V,F)}function H(V,F,q,te){return F===null||F.tag!==4||F.stateNode.containerInfo!==q.containerInfo||F.stateNode.implementation!==q.implementation?(F=mE(q,V.mode,te),F.return=V,F):(F=b(F,q.children||[]),F.return=V,F)}function ee(V,F,q,te,Ae){return F===null||F.tag!==7?(F=Oc(q,V.mode,te,Ae),F.return=V,F):(F=b(F,q),F.return=V,F)}function ie(V,F,q){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=fE(""+F,V.mode,q),F.return=V,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case w:return q=P1(F.type,F.key,F.props,null,V.mode,q),yy(q,F),q.return=V,q;case S:return F=mE(F,V.mode,q),F.return=V,F;case oe:var te=F._init;return F=te(F._payload),ie(V,F,q)}if(ut(F)||we(F))return F=Oc(F,V.mode,q,null),F.return=V,F;if(typeof F.then=="function")return ie(V,X1(F),q);if(F.$$typeof===N)return ie(V,F1(V,F),q);Q1(V,F)}return null}function W(V,F,q,te){var Ae=F!==null?F.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return Ae!==null?null:A(V,F,""+q,te);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case w:return q.key===Ae?I(V,F,q,te):null;case S:return q.key===Ae?H(V,F,q,te):null;case oe:return Ae=q._init,q=Ae(q._payload),W(V,F,q,te)}if(ut(q)||we(q))return Ae!==null?null:ee(V,F,q,te,null);if(typeof q.then=="function")return W(V,F,X1(q),te);if(q.$$typeof===N)return W(V,F,F1(V,q),te);Q1(V,q)}return null}function Y(V,F,q,te,Ae){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return V=V.get(q)||null,A(F,V,""+te,Ae);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case w:return V=V.get(te.key===null?q:te.key)||null,I(F,V,te,Ae);case S:return V=V.get(te.key===null?q:te.key)||null,H(F,V,te,Ae);case oe:var st=te._init;return te=st(te._payload),Y(V,F,q,te,Ae)}if(ut(te)||we(te))return V=V.get(q)||null,ee(F,V,te,Ae,null);if(typeof te.then=="function")return Y(V,F,q,X1(te),Ae);if(te.$$typeof===N)return Y(V,F,q,F1(F,te),Ae);Q1(F,te)}return null}function Ve(V,F,q,te){for(var Ae=null,st=null,Le=F,ze=F=0,Hi=null;Le!==null&&ze<q.length;ze++){Le.index>ze?(Hi=Le,Le=null):Hi=Le.sibling;var yt=W(V,Le,q[ze],te);if(yt===null){Le===null&&(Le=Hi);break}o&&Le&&yt.alternate===null&&l(V,Le),F=_(yt,F,ze),st===null?Ae=yt:st.sibling=yt,st=yt,Le=Hi}if(ze===q.length)return h(V,Le),wt&&Cc(V,ze),Ae;if(Le===null){for(;ze<q.length;ze++)Le=ie(V,q[ze],te),Le!==null&&(F=_(Le,F,ze),st===null?Ae=Le:st.sibling=Le,st=Le);return wt&&Cc(V,ze),Ae}for(Le=y(Le);ze<q.length;ze++)Hi=Y(Le,V,ze,q[ze],te),Hi!==null&&(o&&Hi.alternate!==null&&Le.delete(Hi.key===null?ze:Hi.key),F=_(Hi,F,ze),st===null?Ae=Hi:st.sibling=Hi,st=Hi);return o&&Le.forEach(function(Vl){return l(V,Vl)}),wt&&Cc(V,ze),Ae}function Ue(V,F,q,te){if(q==null)throw Error(r(151));for(var Ae=null,st=null,Le=F,ze=F=0,Hi=null,yt=q.next();Le!==null&&!yt.done;ze++,yt=q.next()){Le.index>ze?(Hi=Le,Le=null):Hi=Le.sibling;var Vl=W(V,Le,yt.value,te);if(Vl===null){Le===null&&(Le=Hi);break}o&&Le&&Vl.alternate===null&&l(V,Le),F=_(Vl,F,ze),st===null?Ae=Vl:st.sibling=Vl,st=Vl,Le=Hi}if(yt.done)return h(V,Le),wt&&Cc(V,ze),Ae;if(Le===null){for(;!yt.done;ze++,yt=q.next())yt=ie(V,yt.value,te),yt!==null&&(F=_(yt,F,ze),st===null?Ae=yt:st.sibling=yt,st=yt);return wt&&Cc(V,ze),Ae}for(Le=y(Le);!yt.done;ze++,yt=q.next())yt=Y(Le,V,ze,yt.value,te),yt!==null&&(o&&yt.alternate!==null&&Le.delete(yt.key===null?ze:yt.key),F=_(yt,F,ze),st===null?Ae=yt:st.sibling=yt,st=yt);return o&&Le.forEach(function(UQ){return l(V,UQ)}),wt&&Cc(V,ze),Ae}function Rt(V,F,q,te){if(typeof q=="object"&&q!==null&&q.type===T&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case w:e:{for(var Ae=q.key;F!==null;){if(F.key===Ae){if(Ae=q.type,Ae===T){if(F.tag===7){h(V,F.sibling),te=b(F,q.props.children),te.return=V,V=te;break e}}else if(F.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===oe&&ZL(Ae)===F.type){h(V,F.sibling),te=b(F,q.props),yy(te,q),te.return=V,V=te;break e}h(V,F);break}else l(V,F);F=F.sibling}q.type===T?(te=Oc(q.props.children,V.mode,te,q.key),te.return=V,V=te):(te=P1(q.type,q.key,q.props,null,V.mode,te),yy(te,q),te.return=V,V=te)}return $(V);case S:e:{for(Ae=q.key;F!==null;){if(F.key===Ae)if(F.tag===4&&F.stateNode.containerInfo===q.containerInfo&&F.stateNode.implementation===q.implementation){h(V,F.sibling),te=b(F,q.children||[]),te.return=V,V=te;break e}else{h(V,F);break}else l(V,F);F=F.sibling}te=mE(q,V.mode,te),te.return=V,V=te}return $(V);case oe:return Ae=q._init,q=Ae(q._payload),Rt(V,F,q,te)}if(ut(q))return Ve(V,F,q,te);if(we(q)){if(Ae=we(q),typeof Ae!="function")throw Error(r(150));return q=Ae.call(q),Ue(V,F,q,te)}if(typeof q.then=="function")return Rt(V,F,X1(q),te);if(q.$$typeof===N)return Rt(V,F,F1(V,q),te);Q1(V,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,F!==null&&F.tag===6?(h(V,F.sibling),te=b(F,q),te.return=V,V=te):(h(V,F),te=fE(q,V.mode,te),te.return=V,V=te),$(V)):h(V,F)}return function(V,F,q,te){try{my=0;var Ae=Rt(V,F,q,te);return Kh=null,Ae}catch(Le){if(Le===oy||Le===U1)throw Le;var st=vs(29,Le,null,V.mode);return st.lanes=te,st.return=V,st}finally{}}}var ep=YL(!0),JL=YL(!1),Ys=ae(null),vo=null;function Ml(o){var l=o.alternate;ge(Li,Li.current&1),ge(Ys,o),vo===null&&(l===null||Yh.current!==null||l.memoizedState!==null)&&(vo=o)}function XL(o){if(o.tag===22){if(ge(Li,Li.current),ge(Ys,o),vo===null){var l=o.alternate;l!==null&&l.memoizedState!==null&&(vo=o)}}else Al()}function Al(){ge(Li,Li.current),ge(Ys,Ys.current)}function fa(o){Se(Ys),vo===o&&(vo=null),Se(Li)}var Li=ae(0);function K1(o){for(var l=o;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||k$(h)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function ZE(o,l,h,y){l=o.memoizedState,h=h(y,l),h=h==null?l:g({},l,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var YE={enqueueSetState:function(o,l,h){o=o._reactInternals;var y=Ss(),b=El(y);b.payload=l,h!=null&&(b.callback=h),l=$l(o,b,y),l!==null&&(Ts(l,o,y),ly(l,o,y))},enqueueReplaceState:function(o,l,h){o=o._reactInternals;var y=Ss(),b=El(y);b.tag=1,b.payload=l,h!=null&&(b.callback=h),l=$l(o,b,y),l!==null&&(Ts(l,o,y),ly(l,o,y))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var h=Ss(),y=El(h);y.tag=2,l!=null&&(y.callback=l),l=$l(o,y,h),l!==null&&(Ts(l,o,h),ly(l,o,h))}};function QL(o,l,h,y,b,_,$){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,_,$):l.prototype&&l.prototype.isPureReactComponent?!Qm(h,y)||!Qm(b,_):!0}function KL(o,l,h,y){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,y),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,y),l.state!==o&&YE.enqueueReplaceState(l,l.state,null)}function Fc(o,l){var h=l;if("ref"in l){h={};for(var y in l)y!=="ref"&&(h[y]=l[y])}if(o=o.defaultProps){h===l&&(h=g({},h));for(var b in o)h[b]===void 0&&(h[b]=o[b])}return h}var eb=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function eD(o){eb(o)}function tD(o){console.error(o)}function iD(o){eb(o)}function tb(o,l){try{var h=o.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(y){setTimeout(function(){throw y})}}function rD(o,l,h){try{var y=o.onCaughtError;y(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function JE(o,l,h){return h=El(h),h.tag=3,h.payload={element:null},h.callback=function(){tb(o,l)},h}function sD(o){return o=El(o),o.tag=3,o}function nD(o,l,h,y){var b=h.type.getDerivedStateFromError;if(typeof b=="function"){var _=y.value;o.payload=function(){return b(_)},o.callback=function(){rD(l,h,y)}}var $=h.stateNode;$!==null&&typeof $.componentDidCatch=="function"&&(o.callback=function(){rD(l,h,y),typeof b!="function"&&(Pl===null?Pl=new Set([this]):Pl.add(this));var A=y.stack;this.componentDidCatch(y.value,{componentStack:A!==null?A:""})})}function UX(o,l,h,y,b){if(h.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(l=h.alternate,l!==null&&ry(l,h,b,!0),h=Ys.current,h!==null){switch(h.tag){case 13:return vo===null?w$():h.alternate===null&&ui===0&&(ui=3),h.flags&=-257,h.flags|=65536,h.lanes=b,y===$E?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([y]):l.add(y),S$(o,y,b)),!1;case 22:return h.flags|=65536,y===$E?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([y])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([y]):h.add(y)),S$(o,y,b)),!1}throw Error(r(435,h.tag))}return S$(o,y,b),w$(),!1}if(wt)return l=Ys.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=b,y!==vE&&(o=Error(r(422),{cause:y}),iy(Bs(o,h)))):(y!==vE&&(l=Error(r(423),{cause:y}),iy(Bs(l,h))),o=o.current.alternate,o.flags|=65536,b&=-b,o.lanes|=b,y=Bs(y,h),b=JE(o.stateNode,y,b),AE(o,b),ui!==4&&(ui=2)),!1;var _=Error(r(520),{cause:y});if(_=Bs(_,h),Ty===null?Ty=[_]:Ty.push(_),ui!==4&&(ui=2),l===null)return!0;y=Bs(y,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,o=b&-b,h.lanes|=o,o=JE(h.stateNode,y,o),AE(h,o),!1;case 1:if(l=h.type,_=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Pl===null||!Pl.has(_))))return h.flags|=65536,b&=-b,h.lanes|=b,b=sD(b),nD(b,o,h,y),AE(h,b),!1}h=h.return}while(h!==null);return!1}var oD=Error(r(461)),qi=!1;function sr(o,l,h,y){l.child=o===null?JL(l,null,h,y):ep(l,o.child,h,y)}function aD(o,l,h,y,b){h=h.render;var _=l.ref;if("ref"in y){var $={};for(var A in y)A!=="ref"&&($[A]=y[A])}else $=y;return Lc(l),y=NE(o,l,h,$,_,b),A=PE(),o!==null&&!qi?(LE(o,l,b),ma(o,l,b)):(wt&&A&&yE(l),l.flags|=1,sr(o,l,y,b),l.child)}function lD(o,l,h,y,b){if(o===null){var _=h.type;return typeof _=="function"&&!pE(_)&&_.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=_,uD(o,l,_,y,b)):(o=P1(h.type,null,y,l,l.mode,b),o.ref=l.ref,o.return=l,l.child=o)}if(_=o.child,!s$(o,b)){var $=_.memoizedProps;if(h=h.compare,h=h!==null?h:Qm,h($,y)&&o.ref===l.ref)return ma(o,l,b)}return l.flags|=1,o=la(_,y),o.ref=l.ref,o.return=l,l.child=o}function uD(o,l,h,y,b){if(o!==null){var _=o.memoizedProps;if(Qm(_,y)&&o.ref===l.ref)if(qi=!1,l.pendingProps=y=_,s$(o,b))(o.flags&131072)!==0&&(qi=!0);else return l.lanes=o.lanes,ma(o,l,b)}return XE(o,l,h,y,b)}function cD(o,l,h){var y=l.pendingProps,b=y.children,_=o!==null?o.memoizedState:null;if(y.mode==="hidden"){if((l.flags&128)!==0){if(y=_!==null?_.baseLanes|h:h,o!==null){for(b=l.child=o.child,_=0;b!==null;)_=_|b.lanes|b.childLanes,b=b.sibling;l.childLanes=_&~y}else l.childLanes=0,l.child=null;return dD(o,l,y,h)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&j1(l,_!==null?_.cachePool:null),_!==null?uL(l,_):RE(),XL(l);else return l.lanes=l.childLanes=536870912,dD(o,l,_!==null?_.baseLanes|h:h,h)}else _!==null?(j1(l,_.cachePool),uL(l,_),Al(),l.memoizedState=null):(o!==null&&j1(l,null),RE(),Al());return sr(o,l,b,h),l.child}function dD(o,l,h,y){var b=EE();return b=b===null?null:{parent:Pi._currentValue,pool:b},l.memoizedState={baseLanes:h,cachePool:b},o!==null&&j1(l,null),RE(),XL(l),o!==null&&ry(o,l,y,!0),null}function ib(o,l){var h=l.ref;if(h===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(o===null||o.ref!==h)&&(l.flags|=4194816)}}function XE(o,l,h,y,b){return Lc(l),h=NE(o,l,h,y,void 0,b),y=PE(),o!==null&&!qi?(LE(o,l,b),ma(o,l,b)):(wt&&y&&yE(l),l.flags|=1,sr(o,l,h,b),l.child)}function hD(o,l,h,y,b,_){return Lc(l),l.updateQueue=null,h=dL(l,y,h,b),cL(o),y=PE(),o!==null&&!qi?(LE(o,l,_),ma(o,l,_)):(wt&&y&&yE(l),l.flags|=1,sr(o,l,h,_),l.child)}function pD(o,l,h,y,b){if(Lc(l),l.stateNode===null){var _=qh,$=h.contextType;typeof $=="object"&&$!==null&&(_=pr($)),_=new h(y,_),l.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=YE,l.stateNode=_,_._reactInternals=l,_=l.stateNode,_.props=y,_.state=l.memoizedState,_.refs={},xE(l),$=h.contextType,_.context=typeof $=="object"&&$!==null?pr($):qh,_.state=l.memoizedState,$=h.getDerivedStateFromProps,typeof $=="function"&&(ZE(l,h,$,y),_.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||($=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),$!==_.state&&YE.enqueueReplaceState(_,_.state,null),cy(l,y,_,b),uy(),_.state=l.memoizedState),typeof _.componentDidMount=="function"&&(l.flags|=4194308),y=!0}else if(o===null){_=l.stateNode;var A=l.memoizedProps,I=Fc(h,A);_.props=I;var H=_.context,ee=h.contextType;$=qh,typeof ee=="object"&&ee!==null&&($=pr(ee));var ie=h.getDerivedStateFromProps;ee=typeof ie=="function"||typeof _.getSnapshotBeforeUpdate=="function",A=l.pendingProps!==A,ee||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A||H!==$)&&KL(l,_,y,$),Tl=!1;var W=l.memoizedState;_.state=W,cy(l,y,_,b),uy(),H=l.memoizedState,A||W!==H||Tl?(typeof ie=="function"&&(ZE(l,h,ie,y),H=l.memoizedState),(I=Tl||QL(l,h,I,y,W,H,$))?(ee||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(l.flags|=4194308)):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=y,l.memoizedState=H),_.props=y,_.state=H,_.context=$,y=I):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),y=!1)}else{_=l.stateNode,ME(o,l),$=l.memoizedProps,ee=Fc(h,$),_.props=ee,ie=l.pendingProps,W=_.context,H=h.contextType,I=qh,typeof H=="object"&&H!==null&&(I=pr(H)),A=h.getDerivedStateFromProps,(H=typeof A=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||($!==ie||W!==I)&&KL(l,_,y,I),Tl=!1,W=l.memoizedState,_.state=W,cy(l,y,_,b),uy();var Y=l.memoizedState;$!==ie||W!==Y||Tl||o!==null&&o.dependencies!==null&&k1(o.dependencies)?(typeof A=="function"&&(ZE(l,h,A,y),Y=l.memoizedState),(ee=Tl||QL(l,h,ee,y,W,Y,I)||o!==null&&o.dependencies!==null&&k1(o.dependencies))?(H||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(y,Y,I),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(y,Y,I)),typeof _.componentDidUpdate=="function"&&(l.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof _.componentDidUpdate!="function"||$===o.memoizedProps&&W===o.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||$===o.memoizedProps&&W===o.memoizedState||(l.flags|=1024),l.memoizedProps=y,l.memoizedState=Y),_.props=y,_.state=Y,_.context=I,y=ee):(typeof _.componentDidUpdate!="function"||$===o.memoizedProps&&W===o.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||$===o.memoizedProps&&W===o.memoizedState||(l.flags|=1024),y=!1)}return _=y,ib(o,l),y=(l.flags&128)!==0,_||y?(_=l.stateNode,h=y&&typeof h.getDerivedStateFromError!="function"?null:_.render(),l.flags|=1,o!==null&&y?(l.child=ep(l,o.child,null,b),l.child=ep(l,null,h,b)):sr(o,l,h,b),l.memoizedState=_.state,o=l.child):o=ma(o,l,b),o}function fD(o,l,h,y){return ty(),l.flags|=256,sr(o,l,h,y),l.child}var QE={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function KE(o){return{baseLanes:o,cachePool:tL()}}function e$(o,l,h){return o=o!==null?o.childLanes&~h:0,l&&(o|=Js),o}function mD(o,l,h){var y=l.pendingProps,b=!1,_=(l.flags&128)!==0,$;if(($=_)||($=o!==null&&o.memoizedState===null?!1:(Li.current&2)!==0),$&&(b=!0,l.flags&=-129),$=(l.flags&32)!==0,l.flags&=-33,o===null){if(wt){if(b?Ml(l):Al(),wt){var A=li,I;if(I=A){e:{for(I=A,A=go;I.nodeType!==8;){if(!A){A=null;break e}if(I=Cn(I.nextSibling),I===null){A=null;break e}}A=I}A!==null?(l.memoizedState={dehydrated:A,treeContext:Rc!==null?{id:ua,overflow:ca}:null,retryLane:536870912,hydrationErrors:null},I=vs(18,null,null,0),I.stateNode=A,I.return=l,l.child=I,Lr=l,li=null,I=!0):I=!1}I||Nc(l)}if(A=l.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return k$(A)?l.lanes=32:l.lanes=536870912,null;fa(l)}return A=y.children,y=y.fallback,b?(Al(),b=l.mode,A=rb({mode:"hidden",children:A},b),y=Oc(y,b,h,null),A.return=l,y.return=l,A.sibling=y,l.child=A,b=l.child,b.memoizedState=KE(h),b.childLanes=e$(o,$,h),l.memoizedState=QE,y):(Ml(l),t$(l,A))}if(I=o.memoizedState,I!==null&&(A=I.dehydrated,A!==null)){if(_)l.flags&256?(Ml(l),l.flags&=-257,l=i$(o,l,h)):l.memoizedState!==null?(Al(),l.child=o.child,l.flags|=128,l=null):(Al(),b=y.fallback,A=l.mode,y=rb({mode:"visible",children:y.children},A),b=Oc(b,A,h,null),b.flags|=2,y.return=l,b.return=l,y.sibling=b,l.child=y,ep(l,o.child,null,h),y=l.child,y.memoizedState=KE(h),y.childLanes=e$(o,$,h),l.memoizedState=QE,l=b);else if(Ml(l),k$(A)){if($=A.nextSibling&&A.nextSibling.dataset,$)var H=$.dgst;$=H,y=Error(r(419)),y.stack="",y.digest=$,iy({value:y,source:null,stack:null}),l=i$(o,l,h)}else if(qi||ry(o,l,h,!1),$=(h&o.childLanes)!==0,qi||$){if($=Ut,$!==null&&(y=h&-h,y=(y&42)!==0?1:jm(y),y=(y&($.suspendedLanes|h))!==0?0:y,y!==0&&y!==I.retryLane))throw I.retryLane=y,Gh(o,y),Ts($,o,y),oD;A.data==="$?"||w$(),l=i$(o,l,h)}else A.data==="$?"?(l.flags|=192,l.child=o.child,l=null):(o=I.treeContext,li=Cn(A.nextSibling),Lr=l,wt=!0,Ic=null,go=!1,o!==null&&(Ws[Zs++]=ua,Ws[Zs++]=ca,Ws[Zs++]=Rc,ua=o.id,ca=o.overflow,Rc=l),l=t$(l,y.children),l.flags|=4096);return l}return b?(Al(),b=y.fallback,A=l.mode,I=o.child,H=I.sibling,y=la(I,{mode:"hidden",children:y.children}),y.subtreeFlags=I.subtreeFlags&65011712,H!==null?b=la(H,b):(b=Oc(b,A,h,null),b.flags|=2),b.return=l,y.return=l,y.sibling=b,l.child=y,y=b,b=l.child,A=o.child.memoizedState,A===null?A=KE(h):(I=A.cachePool,I!==null?(H=Pi._currentValue,I=I.parent!==H?{parent:H,pool:H}:I):I=tL(),A={baseLanes:A.baseLanes|h,cachePool:I}),b.memoizedState=A,b.childLanes=e$(o,$,h),l.memoizedState=QE,y):(Ml(l),h=o.child,o=h.sibling,h=la(h,{mode:"visible",children:y.children}),h.return=l,h.sibling=null,o!==null&&($=l.deletions,$===null?(l.deletions=[o],l.flags|=16):$.push(o)),l.child=h,l.memoizedState=null,h)}function t$(o,l){return l=rb({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function rb(o,l){return o=vs(22,o,null,l),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function i$(o,l,h){return ep(l,o.child,null,h),o=t$(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function yD(o,l,h){o.lanes|=l;var y=o.alternate;y!==null&&(y.lanes|=l),wE(o.return,l,h)}function r$(o,l,h,y,b){var _=o.memoizedState;_===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:y,tail:h,tailMode:b}:(_.isBackwards=l,_.rendering=null,_.renderingStartTime=0,_.last=y,_.tail=h,_.tailMode=b)}function gD(o,l,h){var y=l.pendingProps,b=y.revealOrder,_=y.tail;if(sr(o,l,y.children,h),y=Li.current,(y&2)!==0)y=y&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&yD(o,h,l);else if(o.tag===19)yD(o,h,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}y&=1}switch(ge(Li,y),b){case"forwards":for(h=l.child,b=null;h!==null;)o=h.alternate,o!==null&&K1(o)===null&&(b=h),h=h.sibling;h=b,h===null?(b=l.child,l.child=null):(b=h.sibling,h.sibling=null),r$(l,!1,b,h,_);break;case"backwards":for(h=null,b=l.child,l.child=null;b!==null;){if(o=b.alternate,o!==null&&K1(o)===null){l.child=b;break}o=b.sibling,b.sibling=h,h=b,b=o}r$(l,!0,h,null,_);break;case"together":r$(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function ma(o,l,h){if(o!==null&&(l.dependencies=o.dependencies),Nl|=l.lanes,(h&l.childLanes)===0)if(o!==null){if(ry(o,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,h=la(o,o.pendingProps),l.child=h,h.return=l;o.sibling!==null;)o=o.sibling,h=h.sibling=la(o,o.pendingProps),h.return=l;h.sibling=null}return l.child}function s$(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&k1(o)))}function zX(o,l,h){switch(l.tag){case 3:Ft(l,l.stateNode.containerInfo),Sl(l,Pi,o.memoizedState.cache),ty();break;case 27:case 5:Pm(l);break;case 4:Ft(l,l.stateNode.containerInfo);break;case 10:Sl(l,l.type,l.memoizedProps.value);break;case 13:var y=l.memoizedState;if(y!==null)return y.dehydrated!==null?(Ml(l),l.flags|=128,null):(h&l.child.childLanes)!==0?mD(o,l,h):(Ml(l),o=ma(o,l,h),o!==null?o.sibling:null);Ml(l);break;case 19:var b=(o.flags&128)!==0;if(y=(h&l.childLanes)!==0,y||(ry(o,l,h,!1),y=(h&l.childLanes)!==0),b){if(y)return gD(o,l,h);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),ge(Li,Li.current),y)break;return null;case 22:case 23:return l.lanes=0,cD(o,l,h);case 24:Sl(l,Pi,o.memoizedState.cache)}return ma(o,l,h)}function vD(o,l,h){if(o!==null)if(o.memoizedProps!==l.pendingProps)qi=!0;else{if(!s$(o,h)&&(l.flags&128)===0)return qi=!1,zX(o,l,h);qi=(o.flags&131072)!==0}else qi=!1,wt&&(l.flags&1048576)!==0&&ZP(l,D1,l.index);switch(l.lanes=0,l.tag){case 16:e:{o=l.pendingProps;var y=l.elementType,b=y._init;if(y=b(y._payload),l.type=y,typeof y=="function")pE(y)?(o=Fc(y,o),l.tag=1,l=pD(null,l,y,o,h)):(l.tag=0,l=XE(null,l,y,o,h));else{if(y!=null){if(b=y.$$typeof,b===k){l.tag=11,l=aD(null,l,y,o,h);break e}else if(b===re){l.tag=14,l=lD(null,l,y,o,h);break e}}throw l=Ce(y)||y,Error(r(306,l,""))}}return l;case 0:return XE(o,l,l.type,l.pendingProps,h);case 1:return y=l.type,b=Fc(y,l.pendingProps),pD(o,l,y,b,h);case 3:e:{if(Ft(l,l.stateNode.containerInfo),o===null)throw Error(r(387));y=l.pendingProps;var _=l.memoizedState;b=_.element,ME(o,l),cy(l,y,null,h);var $=l.memoizedState;if(y=$.cache,Sl(l,Pi,y),y!==_.cache&&_E(l,[Pi],h,!0),uy(),y=$.element,_.isDehydrated)if(_={element:y,isDehydrated:!1,cache:$.cache},l.updateQueue.baseState=_,l.memoizedState=_,l.flags&256){l=fD(o,l,y,h);break e}else if(y!==b){b=Bs(Error(r(424)),l),iy(b),l=fD(o,l,y,h);break e}else{switch(o=l.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(li=Cn(o.firstChild),Lr=l,wt=!0,Ic=null,go=!0,h=JL(l,null,y,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(ty(),y===b){l=ma(o,l,h);break e}sr(o,l,y,h)}l=l.child}return l;case 26:return ib(o,l),o===null?(h=Sk(l.type,null,l.pendingProps,null))?l.memoizedState=h:wt||(h=l.type,o=l.pendingProps,y=gb(We.current).createElement(h),y[ti]=l,y[jt]=o,or(y,h,o),gi(y),l.stateNode=y):l.memoizedState=Sk(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return Pm(l),o===null&&wt&&(y=l.stateNode=bk(l.type,l.pendingProps,We.current),Lr=l,go=!0,b=li,kl(l.type)?(F$=b,li=Cn(y.firstChild)):li=b),sr(o,l,l.pendingProps.children,h),ib(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&wt&&((b=y=li)&&(y=mQ(y,l.type,l.pendingProps,go),y!==null?(l.stateNode=y,Lr=l,li=Cn(y.firstChild),go=!1,b=!0):b=!1),b||Nc(l)),Pm(l),b=l.type,_=l.pendingProps,$=o!==null?o.memoizedProps:null,y=_.children,P$(b,_)?y=null:$!==null&&P$(b,$)&&(l.flags|=32),l.memoizedState!==null&&(b=NE(o,l,NX,null,null,h),Iy._currentValue=b),ib(o,l),sr(o,l,y,h),l.child;case 6:return o===null&&wt&&((o=h=li)&&(h=yQ(h,l.pendingProps,go),h!==null?(l.stateNode=h,Lr=l,li=null,o=!0):o=!1),o||Nc(l)),null;case 13:return mD(o,l,h);case 4:return Ft(l,l.stateNode.containerInfo),y=l.pendingProps,o===null?l.child=ep(l,null,y,h):sr(o,l,y,h),l.child;case 11:return aD(o,l,l.type,l.pendingProps,h);case 7:return sr(o,l,l.pendingProps,h),l.child;case 8:return sr(o,l,l.pendingProps.children,h),l.child;case 12:return sr(o,l,l.pendingProps.children,h),l.child;case 10:return y=l.pendingProps,Sl(l,l.type,y.value),sr(o,l,y.children,h),l.child;case 9:return b=l.type._context,y=l.pendingProps.children,Lc(l),b=pr(b),y=y(b),l.flags|=1,sr(o,l,y,h),l.child;case 14:return lD(o,l,l.type,l.pendingProps,h);case 15:return uD(o,l,l.type,l.pendingProps,h);case 19:return gD(o,l,h);case 31:return y=l.pendingProps,h=l.mode,y={mode:y.mode,children:y.children},o===null?(h=rb(y,h),h.ref=l.ref,l.child=h,h.return=l,l=h):(h=la(o.child,y),h.ref=l.ref,l.child=h,h.return=l,l=h),l;case 22:return cD(o,l,h);case 24:return Lc(l),y=pr(Pi),o===null?(b=EE(),b===null&&(b=Ut,_=SE(),b.pooledCache=_,_.refCount++,_!==null&&(b.pooledCacheLanes|=h),b=_),l.memoizedState={parent:y,cache:b},xE(l),Sl(l,Pi,b)):((o.lanes&h)!==0&&(ME(o,l),cy(l,null,null,h),uy()),b=o.memoizedState,_=l.memoizedState,b.parent!==y?(b={parent:y,cache:y},l.memoizedState=b,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=b),Sl(l,Pi,y)):(y=_.cache,Sl(l,Pi,y),y!==b.cache&&_E(l,[Pi],h,!0))),sr(o,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function ya(o){o.flags|=4}function bD(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!Mk(l)){if(l=Ys.current,l!==null&&((dt&4194048)===dt?vo!==null:(dt&62914560)!==dt&&(dt&536870912)===0||l!==vo))throw ay=$E,iL;o.flags|=8192}}function sb(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?m1():536870912,o.lanes|=l,sp|=l)}function gy(o,l){if(!wt)switch(o.tailMode){case"hidden":l=o.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function ii(o){var l=o.alternate!==null&&o.alternate.child===o.child,h=0,y=0;if(l)for(var b=o.child;b!==null;)h|=b.lanes|b.childLanes,y|=b.subtreeFlags&65011712,y|=b.flags&65011712,b.return=o,b=b.sibling;else for(b=o.child;b!==null;)h|=b.lanes|b.childLanes,y|=b.subtreeFlags,y|=b.flags,b.return=o,b=b.sibling;return o.subtreeFlags|=y,o.childLanes=h,l}function VX(o,l,h){var y=l.pendingProps;switch(gE(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ii(l),null;case 1:return ii(l),null;case 3:return h=l.stateNode,y=null,o!==null&&(y=o.memoizedState.cache),l.memoizedState.cache!==y&&(l.flags|=2048),ha(Pi),mo(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(ey(l)?ya(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,XP())),ii(l),null;case 26:return h=l.memoizedState,o===null?(ya(l),h!==null?(ii(l),bD(l,h)):(ii(l),l.flags&=-16777217)):h?h!==o.memoizedState?(ya(l),ii(l),bD(l,h)):(ii(l),l.flags&=-16777217):(o.memoizedProps!==y&&ya(l),ii(l),l.flags&=-16777217),null;case 27:Ah(l),h=We.current;var b=l.type;if(o!==null&&l.stateNode!=null)o.memoizedProps!==y&&ya(l);else{if(!y){if(l.stateNode===null)throw Error(r(166));return ii(l),null}o=De.current,ey(l)?YP(l):(o=bk(b,y,h),l.stateNode=o,ya(l))}return ii(l),null;case 5:if(Ah(l),h=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==y&&ya(l);else{if(!y){if(l.stateNode===null)throw Error(r(166));return ii(l),null}if(o=De.current,ey(l))YP(l);else{switch(b=gb(We.current),o){case 1:o=b.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:o=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":o=b.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":o=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":o=b.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof y.is=="string"?b.createElement("select",{is:y.is}):b.createElement("select"),y.multiple?o.multiple=!0:y.size&&(o.size=y.size);break;default:o=typeof y.is=="string"?b.createElement(h,{is:y.is}):b.createElement(h)}}o[ti]=l,o[jt]=y;e:for(b=l.child;b!==null;){if(b.tag===5||b.tag===6)o.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===l)break e;for(;b.sibling===null;){if(b.return===null||b.return===l)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}l.stateNode=o;e:switch(or(o,h,y),h){case"button":case"input":case"select":case"textarea":o=!!y.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ya(l)}}return ii(l),l.flags&=-16777217,null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==y&&ya(l);else{if(typeof y!="string"&&l.stateNode===null)throw Error(r(166));if(o=We.current,ey(l)){if(o=l.stateNode,h=l.memoizedProps,y=null,b=Lr,b!==null)switch(b.tag){case 27:case 5:y=b.memoizedProps}o[ti]=l,o=!!(o.nodeValue===h||y!==null&&y.suppressHydrationWarning===!0||hk(o.nodeValue,h)),o||Nc(l)}else o=gb(o).createTextNode(y),o[ti]=l,l.stateNode=o}return ii(l),null;case 13:if(y=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(b=ey(l),y!==null&&y.dehydrated!==null){if(o===null){if(!b)throw Error(r(318));if(b=l.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[ti]=l}else ty(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;ii(l),b=!1}else b=XP(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=b),b=!0;if(!b)return l.flags&256?(fa(l),l):(fa(l),null)}if(fa(l),(l.flags&128)!==0)return l.lanes=h,l;if(h=y!==null,o=o!==null&&o.memoizedState!==null,h){y=l.child,b=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(b=y.alternate.memoizedState.cachePool.pool);var _=null;y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(_=y.memoizedState.cachePool.pool),_!==b&&(y.flags|=2048)}return h!==o&&h&&(l.child.flags|=8192),sb(l,l.updateQueue),ii(l),null;case 4:return mo(),o===null&&O$(l.stateNode.containerInfo),ii(l),null;case 10:return ha(l.type),ii(l),null;case 19:if(Se(Li),b=l.memoizedState,b===null)return ii(l),null;if(y=(l.flags&128)!==0,_=b.rendering,_===null)if(y)gy(b,!1);else{if(ui!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(_=K1(o),_!==null){for(l.flags|=128,gy(b,!1),o=_.updateQueue,l.updateQueue=o,sb(l,o),l.subtreeFlags=0,o=h,h=l.child;h!==null;)WP(h,o),h=h.sibling;return ge(Li,Li.current&1|2),l.child}o=o.sibling}b.tail!==null&&Gs()>ab&&(l.flags|=128,y=!0,gy(b,!1),l.lanes=4194304)}else{if(!y)if(o=K1(_),o!==null){if(l.flags|=128,y=!0,o=o.updateQueue,l.updateQueue=o,sb(l,o),gy(b,!0),b.tail===null&&b.tailMode==="hidden"&&!_.alternate&&!wt)return ii(l),null}else 2*Gs()-b.renderingStartTime>ab&&h!==536870912&&(l.flags|=128,y=!0,gy(b,!1),l.lanes=4194304);b.isBackwards?(_.sibling=l.child,l.child=_):(o=b.last,o!==null?o.sibling=_:l.child=_,b.last=_)}return b.tail!==null?(l=b.tail,b.rendering=l,b.tail=l.sibling,b.renderingStartTime=Gs(),l.sibling=null,o=Li.current,ge(Li,y?o&1|2:o&1),l):(ii(l),null);case 22:case 23:return fa(l),CE(),y=l.memoizedState!==null,o!==null?o.memoizedState!==null!==y&&(l.flags|=8192):y&&(l.flags|=8192),y?(h&536870912)!==0&&(l.flags&128)===0&&(ii(l),l.subtreeFlags&6&&(l.flags|=8192)):ii(l),h=l.updateQueue,h!==null&&sb(l,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),y=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(y=l.memoizedState.cachePool.pool),y!==h&&(l.flags|=2048),o!==null&&Se(Dc),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),ha(Pi),ii(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function GX(o,l){switch(gE(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return ha(Pi),mo(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return Ah(l),null;case 13:if(fa(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));ty()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return Se(Li),null;case 4:return mo(),null;case 10:return ha(l.type),null;case 22:case 23:return fa(l),CE(),o!==null&&Se(Dc),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return ha(Pi),null;case 25:return null;default:return null}}function wD(o,l){switch(gE(l),l.tag){case 3:ha(Pi),mo();break;case 26:case 27:case 5:Ah(l);break;case 4:mo();break;case 13:fa(l);break;case 19:Se(Li);break;case 10:ha(l.type);break;case 22:case 23:fa(l),CE(),o!==null&&Se(Dc);break;case 24:ha(Pi)}}function vy(o,l){try{var h=l.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var b=y.next;h=b;do{if((h.tag&o)===o){y=void 0;var _=h.create,$=h.inst;y=_(),$.destroy=y}h=h.next}while(h!==b)}}catch(A){Nt(l,l.return,A)}}function Ol(o,l,h){try{var y=l.updateQueue,b=y!==null?y.lastEffect:null;if(b!==null){var _=b.next;y=_;do{if((y.tag&o)===o){var $=y.inst,A=$.destroy;if(A!==void 0){$.destroy=void 0,b=l;var I=h,H=A;try{H()}catch(ee){Nt(b,I,ee)}}}y=y.next}while(y!==_)}}catch(ee){Nt(l,l.return,ee)}}function _D(o){var l=o.updateQueue;if(l!==null){var h=o.stateNode;try{lL(l,h)}catch(y){Nt(o,o.return,y)}}}function SD(o,l,h){h.props=Fc(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(y){Nt(o,l,y)}}function by(o,l){try{var h=o.ref;if(h!==null){switch(o.tag){case 26:case 27:case 5:var y=o.stateNode;break;case 30:y=o.stateNode;break;default:y=o.stateNode}typeof h=="function"?o.refCleanup=h(y):h.current=y}}catch(b){Nt(o,l,b)}}function bo(o,l){var h=o.ref,y=o.refCleanup;if(h!==null)if(typeof y=="function")try{y()}catch(b){Nt(o,l,b)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(b){Nt(o,l,b)}else h.current=null}function TD(o){var l=o.type,h=o.memoizedProps,y=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&y.focus();break e;case"img":h.src?y.src=h.src:h.srcSet&&(y.srcset=h.srcSet)}}catch(b){Nt(o,o.return,b)}}function n$(o,l,h){try{var y=o.stateNode;cQ(y,o.type,h,l),y[jt]=l}catch(b){Nt(o,o.return,b)}}function ED(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&kl(o.type)||o.tag===4}function o$(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||ED(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&kl(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function a$(o,l,h){var y=o.tag;if(y===5||y===6)o=o.stateNode,l?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(o,l):(l=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,l.appendChild(o),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=yb));else if(y!==4&&(y===27&&kl(o.type)&&(h=o.stateNode,l=null),o=o.child,o!==null))for(a$(o,l,h),o=o.sibling;o!==null;)a$(o,l,h),o=o.sibling}function nb(o,l,h){var y=o.tag;if(y===5||y===6)o=o.stateNode,l?h.insertBefore(o,l):h.appendChild(o);else if(y!==4&&(y===27&&kl(o.type)&&(h=o.stateNode),o=o.child,o!==null))for(nb(o,l,h),o=o.sibling;o!==null;)nb(o,l,h),o=o.sibling}function $D(o){var l=o.stateNode,h=o.memoizedProps;try{for(var y=o.type,b=l.attributes;b.length;)l.removeAttributeNode(b[0]);or(l,y,h),l[ti]=o,l[jt]=h}catch(_){Nt(o,o.return,_)}}var ga=!1,wi=!1,l$=!1,xD=typeof WeakSet=="function"?WeakSet:Set,Bi=null;function qX(o,l){if(o=o.containerInfo,I$=Tb,o=kP(o),oE(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var y=h.getSelection&&h.getSelection();if(y&&y.rangeCount!==0){h=y.anchorNode;var b=y.anchorOffset,_=y.focusNode;y=y.focusOffset;try{h.nodeType,_.nodeType}catch{h=null;break e}var $=0,A=-1,I=-1,H=0,ee=0,ie=o,W=null;t:for(;;){for(var Y;ie!==h||b!==0&&ie.nodeType!==3||(A=$+b),ie!==_||y!==0&&ie.nodeType!==3||(I=$+y),ie.nodeType===3&&($+=ie.nodeValue.length),(Y=ie.firstChild)!==null;)W=ie,ie=Y;for(;;){if(ie===o)break t;if(W===h&&++H===b&&(A=$),W===_&&++ee===y&&(I=$),(Y=ie.nextSibling)!==null)break;ie=W,W=ie.parentNode}ie=Y}h=A===-1||I===-1?null:{start:A,end:I}}else h=null}h=h||{start:0,end:0}}else h=null;for(N$={focusedElem:o,selectionRange:h},Tb=!1,Bi=l;Bi!==null;)if(l=Bi,o=l.child,(l.subtreeFlags&1024)!==0&&o!==null)o.return=l,Bi=o;else for(;Bi!==null;){switch(l=Bi,_=l.alternate,o=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&_!==null){o=void 0,h=l,b=_.memoizedProps,_=_.memoizedState,y=h.stateNode;try{var Ve=Fc(h.type,b,h.elementType===h.type);o=y.getSnapshotBeforeUpdate(Ve,_),y.__reactInternalSnapshotBeforeUpdate=o}catch(Ue){Nt(h,h.return,Ue)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,h=o.nodeType,h===9)D$(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":D$(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=l.sibling,o!==null){o.return=l.return,Bi=o;break}Bi=l.return}}function MD(o,l,h){var y=h.flags;switch(h.tag){case 0:case 11:case 15:Rl(o,h),y&4&&vy(5,h);break;case 1:if(Rl(o,h),y&4)if(o=h.stateNode,l===null)try{o.componentDidMount()}catch($){Nt(h,h.return,$)}else{var b=Fc(h.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(b,l,o.__reactInternalSnapshotBeforeUpdate)}catch($){Nt(h,h.return,$)}}y&64&&_D(h),y&512&&by(h,h.return);break;case 3:if(Rl(o,h),y&64&&(o=h.updateQueue,o!==null)){if(l=null,h.child!==null)switch(h.child.tag){case 27:case 5:l=h.child.stateNode;break;case 1:l=h.child.stateNode}try{lL(o,l)}catch($){Nt(h,h.return,$)}}break;case 27:l===null&&y&4&&$D(h);case 26:case 5:Rl(o,h),l===null&&y&4&&TD(h),y&512&&by(h,h.return);break;case 12:Rl(o,h);break;case 13:Rl(o,h),y&4&&RD(o,h),y&64&&(o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(h=KX.bind(null,h),gQ(o,h))));break;case 22:if(y=h.memoizedState!==null||ga,!y){l=l!==null&&l.memoizedState!==null||wi,b=ga;var _=wi;ga=y,(wi=l)&&!_?Cl(o,h,(h.subtreeFlags&8772)!==0):Rl(o,h),ga=b,wi=_}break;case 30:break;default:Rl(o,h)}}function AD(o){var l=o.alternate;l!==null&&(o.alternate=null,AD(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&ys(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Xt=null,Jr=!1;function va(o,l,h){for(h=h.child;h!==null;)OD(o,l,h),h=h.sibling}function OD(o,l,h){if(Nr&&typeof Nr.onCommitFiberUnmount=="function")try{Nr.onCommitFiberUnmount(Sc,h)}catch{}switch(h.tag){case 26:wi||bo(h,l),va(o,l,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:wi||bo(h,l);var y=Xt,b=Jr;kl(h.type)&&(Xt=h.stateNode,Jr=!1),va(o,l,h),Ay(h.stateNode),Xt=y,Jr=b;break;case 5:wi||bo(h,l);case 6:if(y=Xt,b=Jr,Xt=null,va(o,l,h),Xt=y,Jr=b,Xt!==null)if(Jr)try{(Xt.nodeType===9?Xt.body:Xt.nodeName==="HTML"?Xt.ownerDocument.body:Xt).removeChild(h.stateNode)}catch(_){Nt(h,l,_)}else try{Xt.removeChild(h.stateNode)}catch(_){Nt(h,l,_)}break;case 18:Xt!==null&&(Jr?(o=Xt,gk(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,h.stateNode),Dy(o)):gk(Xt,h.stateNode));break;case 4:y=Xt,b=Jr,Xt=h.stateNode.containerInfo,Jr=!0,va(o,l,h),Xt=y,Jr=b;break;case 0:case 11:case 14:case 15:wi||Ol(2,h,l),wi||Ol(4,h,l),va(o,l,h);break;case 1:wi||(bo(h,l),y=h.stateNode,typeof y.componentWillUnmount=="function"&&SD(h,l,y)),va(o,l,h);break;case 21:va(o,l,h);break;case 22:wi=(y=wi)||h.memoizedState!==null,va(o,l,h),wi=y;break;default:va(o,l,h)}}function RD(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Dy(o)}catch(h){Nt(l,l.return,h)}}function BX(o){switch(o.tag){case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new xD),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new xD),l;default:throw Error(r(435,o.tag))}}function u$(o,l){var h=BX(o);l.forEach(function(y){var b=eQ.bind(null,o,y);h.has(y)||(h.add(y),y.then(b,b))})}function bs(o,l){var h=l.deletions;if(h!==null)for(var y=0;y<h.length;y++){var b=h[y],_=o,$=l,A=$;e:for(;A!==null;){switch(A.tag){case 27:if(kl(A.type)){Xt=A.stateNode,Jr=!1;break e}break;case 5:Xt=A.stateNode,Jr=!1;break e;case 3:case 4:Xt=A.stateNode.containerInfo,Jr=!0;break e}A=A.return}if(Xt===null)throw Error(r(160));OD(_,$,b),Xt=null,Jr=!1,_=b.alternate,_!==null&&(_.return=null),b.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)CD(l,o),l=l.sibling}var Rn=null;function CD(o,l){var h=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:bs(l,o),ws(o),y&4&&(Ol(3,o,o.return),vy(3,o),Ol(5,o,o.return));break;case 1:bs(l,o),ws(o),y&512&&(wi||h===null||bo(h,h.return)),y&64&&ga&&(o=o.updateQueue,o!==null&&(y=o.callbacks,y!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?y:h.concat(y))));break;case 26:var b=Rn;if(bs(l,o),ws(o),y&512&&(wi||h===null||bo(h,h.return)),y&4){var _=h!==null?h.memoizedState:null;if(y=o.memoizedState,h===null)if(y===null)if(o.stateNode===null){e:{y=o.type,h=o.memoizedProps,b=b.ownerDocument||b;t:switch(y){case"title":_=b.getElementsByTagName("title")[0],(!_||_[$c]||_[ti]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=b.createElement(y),b.head.insertBefore(_,b.querySelector("head > title"))),or(_,y,h),_[ti]=o,gi(_),y=_;break e;case"link":var $=$k("link","href",b).get(y+(h.href||""));if($){for(var A=0;A<$.length;A++)if(_=$[A],_.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&_.getAttribute("rel")===(h.rel==null?null:h.rel)&&_.getAttribute("title")===(h.title==null?null:h.title)&&_.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){$.splice(A,1);break t}}_=b.createElement(y),or(_,y,h),b.head.appendChild(_);break;case"meta":if($=$k("meta","content",b).get(y+(h.content||""))){for(A=0;A<$.length;A++)if(_=$[A],_.getAttribute("content")===(h.content==null?null:""+h.content)&&_.getAttribute("name")===(h.name==null?null:h.name)&&_.getAttribute("property")===(h.property==null?null:h.property)&&_.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&_.getAttribute("charset")===(h.charSet==null?null:h.charSet)){$.splice(A,1);break t}}_=b.createElement(y),or(_,y,h),b.head.appendChild(_);break;default:throw Error(r(468,y))}_[ti]=o,gi(_),y=_}o.stateNode=y}else xk(b,o.type,o.stateNode);else o.stateNode=Ek(b,y,o.memoizedProps);else _!==y?(_===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):_.count--,y===null?xk(b,o.type,o.stateNode):Ek(b,y,o.memoizedProps)):y===null&&o.stateNode!==null&&n$(o,o.memoizedProps,h.memoizedProps)}break;case 27:bs(l,o),ws(o),y&512&&(wi||h===null||bo(h,h.return)),h!==null&&y&4&&n$(o,o.memoizedProps,h.memoizedProps);break;case 5:if(bs(l,o),ws(o),y&512&&(wi||h===null||bo(h,h.return)),o.flags&32){b=o.stateNode;try{Dh(b,"")}catch(Y){Nt(o,o.return,Y)}}y&4&&o.stateNode!=null&&(b=o.memoizedProps,n$(o,b,h!==null?h.memoizedProps:b)),y&1024&&(l$=!0);break;case 6:if(bs(l,o),ws(o),y&4){if(o.stateNode===null)throw Error(r(162));y=o.memoizedProps,h=o.stateNode;try{h.nodeValue=y}catch(Y){Nt(o,o.return,Y)}}break;case 3:if(wb=null,b=Rn,Rn=vb(l.containerInfo),bs(l,o),Rn=b,ws(o),y&4&&h!==null&&h.memoizedState.isDehydrated)try{Dy(l.containerInfo)}catch(Y){Nt(o,o.return,Y)}l$&&(l$=!1,ID(o));break;case 4:y=Rn,Rn=vb(o.stateNode.containerInfo),bs(l,o),ws(o),Rn=y;break;case 12:bs(l,o),ws(o);break;case 13:bs(l,o),ws(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(m$=Gs()),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,u$(o,y)));break;case 22:b=o.memoizedState!==null;var I=h!==null&&h.memoizedState!==null,H=ga,ee=wi;if(ga=H||b,wi=ee||I,bs(l,o),wi=ee,ga=H,ws(o),y&8192)e:for(l=o.stateNode,l._visibility=b?l._visibility&-2:l._visibility|1,b&&(h===null||I||ga||wi||jc(o)),h=null,l=o;;){if(l.tag===5||l.tag===26){if(h===null){I=h=l;try{if(_=I.stateNode,b)$=_.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none";else{A=I.stateNode;var ie=I.memoizedProps.style,W=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;A.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Y){Nt(I,I.return,Y)}}}else if(l.tag===6){if(h===null){I=l;try{I.stateNode.nodeValue=b?"":I.memoizedProps}catch(Y){Nt(I,I.return,Y)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}y&4&&(y=o.updateQueue,y!==null&&(h=y.retryQueue,h!==null&&(y.retryQueue=null,u$(o,h))));break;case 19:bs(l,o),ws(o),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,u$(o,y)));break;case 30:break;case 21:break;default:bs(l,o),ws(o)}}function ws(o){var l=o.flags;if(l&2){try{for(var h,y=o.return;y!==null;){if(ED(y)){h=y;break}y=y.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var b=h.stateNode,_=o$(o);nb(o,_,b);break;case 5:var $=h.stateNode;h.flags&32&&(Dh($,""),h.flags&=-33);var A=o$(o);nb(o,A,$);break;case 3:case 4:var I=h.stateNode.containerInfo,H=o$(o);a$(o,H,I);break;default:throw Error(r(161))}}catch(ee){Nt(o,o.return,ee)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function ID(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;ID(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function Rl(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)MD(o,l.alternate,l),l=l.sibling}function jc(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:Ol(4,l,l.return),jc(l);break;case 1:bo(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&SD(l,l.return,h),jc(l);break;case 27:Ay(l.stateNode);case 26:case 5:bo(l,l.return),jc(l);break;case 22:l.memoizedState===null&&jc(l);break;case 30:jc(l);break;default:jc(l)}o=o.sibling}}function Cl(o,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var y=l.alternate,b=o,_=l,$=_.flags;switch(_.tag){case 0:case 11:case 15:Cl(b,_,h),vy(4,_);break;case 1:if(Cl(b,_,h),y=_,b=y.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(H){Nt(y,y.return,H)}if(y=_,b=y.updateQueue,b!==null){var A=y.stateNode;try{var I=b.shared.hiddenCallbacks;if(I!==null)for(b.shared.hiddenCallbacks=null,b=0;b<I.length;b++)aL(I[b],A)}catch(H){Nt(y,y.return,H)}}h&&$&64&&_D(_),by(_,_.return);break;case 27:$D(_);case 26:case 5:Cl(b,_,h),h&&y===null&&$&4&&TD(_),by(_,_.return);break;case 12:Cl(b,_,h);break;case 13:Cl(b,_,h),h&&$&4&&RD(b,_);break;case 22:_.memoizedState===null&&Cl(b,_,h),by(_,_.return);break;case 30:break;default:Cl(b,_,h)}l=l.sibling}}function c$(o,l){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&sy(h))}function d$(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&sy(o))}function wo(o,l,h,y){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)ND(o,l,h,y),l=l.sibling}function ND(o,l,h,y){var b=l.flags;switch(l.tag){case 0:case 11:case 15:wo(o,l,h,y),b&2048&&vy(9,l);break;case 1:wo(o,l,h,y);break;case 3:wo(o,l,h,y),b&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&sy(o)));break;case 12:if(b&2048){wo(o,l,h,y),o=l.stateNode;try{var _=l.memoizedProps,$=_.id,A=_.onPostCommit;typeof A=="function"&&A($,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(I){Nt(l,l.return,I)}}else wo(o,l,h,y);break;case 13:wo(o,l,h,y);break;case 23:break;case 22:_=l.stateNode,$=l.alternate,l.memoizedState!==null?_._visibility&2?wo(o,l,h,y):wy(o,l):_._visibility&2?wo(o,l,h,y):(_._visibility|=2,tp(o,l,h,y,(l.subtreeFlags&10256)!==0)),b&2048&&c$($,l);break;case 24:wo(o,l,h,y),b&2048&&d$(l.alternate,l);break;default:wo(o,l,h,y)}}function tp(o,l,h,y,b){for(b=b&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var _=o,$=l,A=h,I=y,H=$.flags;switch($.tag){case 0:case 11:case 15:tp(_,$,A,I,b),vy(8,$);break;case 23:break;case 22:var ee=$.stateNode;$.memoizedState!==null?ee._visibility&2?tp(_,$,A,I,b):wy(_,$):(ee._visibility|=2,tp(_,$,A,I,b)),b&&H&2048&&c$($.alternate,$);break;case 24:tp(_,$,A,I,b),b&&H&2048&&d$($.alternate,$);break;default:tp(_,$,A,I,b)}l=l.sibling}}function wy(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=o,y=l,b=y.flags;switch(y.tag){case 22:wy(h,y),b&2048&&c$(y.alternate,y);break;case 24:wy(h,y),b&2048&&d$(y.alternate,y);break;default:wy(h,y)}l=l.sibling}}var _y=8192;function ip(o){if(o.subtreeFlags&_y)for(o=o.child;o!==null;)PD(o),o=o.sibling}function PD(o){switch(o.tag){case 26:ip(o),o.flags&_y&&o.memoizedState!==null&&RQ(Rn,o.memoizedState,o.memoizedProps);break;case 5:ip(o);break;case 3:case 4:var l=Rn;Rn=vb(o.stateNode.containerInfo),ip(o),Rn=l;break;case 22:o.memoizedState===null&&(l=o.alternate,l!==null&&l.memoizedState!==null?(l=_y,_y=16777216,ip(o),_y=l):ip(o));break;default:ip(o)}}function LD(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function Sy(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var y=l[h];Bi=y,kD(y,o)}LD(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)DD(o),o=o.sibling}function DD(o){switch(o.tag){case 0:case 11:case 15:Sy(o),o.flags&2048&&Ol(9,o,o.return);break;case 3:Sy(o);break;case 12:Sy(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,ob(o)):Sy(o);break;default:Sy(o)}}function ob(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var y=l[h];Bi=y,kD(y,o)}LD(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:Ol(8,l,l.return),ob(l);break;case 22:h=l.stateNode,h._visibility&2&&(h._visibility&=-3,ob(l));break;default:ob(l)}o=o.sibling}}function kD(o,l){for(;Bi!==null;){var h=Bi;switch(h.tag){case 0:case 11:case 15:Ol(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var y=h.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:sy(h.memoizedState.cache)}if(y=h.child,y!==null)y.return=h,Bi=y;else e:for(h=o;Bi!==null;){y=Bi;var b=y.sibling,_=y.return;if(AD(y),y===h){Bi=null;break e}if(b!==null){b.return=_,Bi=b;break e}Bi=_}}}var HX={getCacheForType:function(o){var l=pr(Pi),h=l.data.get(o);return h===void 0&&(h=o(),l.data.set(o,h)),h}},WX=typeof WeakMap=="function"?WeakMap:Map,xt=0,Ut=null,nt=null,dt=0,Mt=0,_s=null,Il=!1,rp=!1,h$=!1,ba=0,ui=0,Nl=0,Uc=0,p$=0,Js=0,sp=0,Ty=null,Xr=null,f$=!1,m$=0,ab=1/0,lb=null,Pl=null,nr=0,Ll=null,np=null,op=0,y$=0,g$=null,FD=null,Ey=0,v$=null;function Ss(){if((xt&2)!==0&&dt!==0)return dt&-dt;if(X.T!==null){var o=Wh;return o!==0?o:$$()}return v1()}function jD(){Js===0&&(Js=(dt&536870912)===0||wt?f1():536870912);var o=Ys.current;return o!==null&&(o.flags|=32),Js}function Ts(o,l,h){(o===Ut&&(Mt===2||Mt===9)||o.cancelPendingCommit!==null)&&(ap(o,0),Dl(o,dt,Js,!1)),Ec(o,h),((xt&2)===0||o!==Ut)&&(o===Ut&&((xt&2)===0&&(Uc|=h),ui===4&&Dl(o,dt,Js,!1)),_o(o))}function UD(o,l,h){if((xt&6)!==0)throw Error(r(327));var y=!h&&(l&124)===0&&(l&o.expiredLanes)===0||Tc(o,l),b=y?JX(o,l):_$(o,l,!0),_=y;do{if(b===0){rp&&!y&&Dl(o,l,0,!1);break}else{if(h=o.current.alternate,_&&!ZX(h)){b=_$(o,l,!1),_=!1;continue}if(b===2){if(_=l,o.errorRecoveryDisabledLanes&_)var $=0;else $=o.pendingLanes&-536870913,$=$!==0?$:$&536870912?536870912:0;if($!==0){l=$;e:{var A=o;b=Ty;var I=A.current.memoizedState.isDehydrated;if(I&&(ap(A,$).flags|=256),$=_$(A,$,!1),$!==2){if(h$&&!I){A.errorRecoveryDisabledLanes|=_,Uc|=_,b=4;break e}_=Xr,Xr=b,_!==null&&(Xr===null?Xr=_:Xr.push.apply(Xr,_))}b=$}if(_=!1,b!==2)continue}}if(b===1){ap(o,0),Dl(o,l,0,!0);break}e:{switch(y=o,_=b,_){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Dl(y,l,Js,!Il);break e;case 2:Xr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(b=m$+300-Gs(),10<b)){if(Dl(y,l,Js,!Il),Ch(y,0,!0)!==0)break e;y.timeoutHandle=mk(zD.bind(null,y,h,Xr,lb,f$,l,Js,Uc,sp,Il,_,2,-0,0),b);break e}zD(y,h,Xr,lb,f$,l,Js,Uc,sp,Il,_,0,-0,0)}}break}while(!0);_o(o)}function zD(o,l,h,y,b,_,$,A,I,H,ee,ie,W,Y){if(o.timeoutHandle=-1,ie=l.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(Cy={stylesheets:null,count:0,unsuspend:OQ},PD(l),ie=CQ(),ie!==null)){o.cancelPendingCommit=ie(ZD.bind(null,o,l,_,h,y,b,$,A,I,ee,1,W,Y)),Dl(o,_,$,!H);return}ZD(o,l,_,h,y,b,$,A,I)}function ZX(o){for(var l=o;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var y=0;y<h.length;y++){var b=h[y],_=b.getSnapshot;b=b.value;try{if(!gs(_(),b))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Dl(o,l,h,y){l&=~p$,l&=~Uc,o.suspendedLanes|=l,o.pingedLanes&=~l,y&&(o.warmLanes|=l),y=o.expirationTimes;for(var b=l;0<b;){var _=31-Pr(b),$=1<<_;y[_]=-1,b&=~$}h!==0&&y1(o,h,l)}function ub(){return(xt&6)===0?($y(0),!1):!0}function b$(){if(nt!==null){if(Mt===0)var o=nt.return;else o=nt,da=Pc=null,DE(o),Kh=null,my=0,o=nt;for(;o!==null;)wD(o.alternate,o),o=o.return;nt=null}}function ap(o,l){var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,hQ(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),b$(),Ut=o,nt=h=la(o.current,null),dt=l,Mt=0,_s=null,Il=!1,rp=Tc(o,l),h$=!1,sp=Js=p$=Uc=Nl=ui=0,Xr=Ty=null,f$=!1,(l&8)!==0&&(l|=l&32);var y=o.entangledLanes;if(y!==0)for(o=o.entanglements,y&=l;0<y;){var b=31-Pr(y),_=1<<b;l|=o[b],y&=~_}return ba=l,C1(),h}function VD(o,l){tt=null,X.H=J1,l===oy||l===U1?(l=nL(),Mt=3):l===iL?(l=nL(),Mt=4):Mt=l===oD?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,_s=l,nt===null&&(ui=1,tb(o,Bs(l,o.current)))}function GD(){var o=X.H;return X.H=J1,o===null?J1:o}function qD(){var o=X.A;return X.A=HX,o}function w$(){ui=4,Il||(dt&4194048)!==dt&&Ys.current!==null||(rp=!0),(Nl&134217727)===0&&(Uc&134217727)===0||Ut===null||Dl(Ut,dt,Js,!1)}function _$(o,l,h){var y=xt;xt|=2;var b=GD(),_=qD();(Ut!==o||dt!==l)&&(lb=null,ap(o,l)),l=!1;var $=ui;e:do try{if(Mt!==0&&nt!==null){var A=nt,I=_s;switch(Mt){case 8:b$(),$=6;break e;case 3:case 2:case 9:case 6:Ys.current===null&&(l=!0);var H=Mt;if(Mt=0,_s=null,lp(o,A,I,H),h&&rp){$=0;break e}break;default:H=Mt,Mt=0,_s=null,lp(o,A,I,H)}}YX(),$=ui;break}catch(ee){VD(o,ee)}while(!0);return l&&o.shellSuspendCounter++,da=Pc=null,xt=y,X.H=b,X.A=_,nt===null&&(Ut=null,dt=0,C1()),$}function YX(){for(;nt!==null;)BD(nt)}function JX(o,l){var h=xt;xt|=2;var y=GD(),b=qD();Ut!==o||dt!==l?(lb=null,ab=Gs()+500,ap(o,l)):rp=Tc(o,l);e:do try{if(Mt!==0&&nt!==null){l=nt;var _=_s;t:switch(Mt){case 1:Mt=0,_s=null,lp(o,l,_,1);break;case 2:case 9:if(rL(_)){Mt=0,_s=null,HD(l);break}l=function(){Mt!==2&&Mt!==9||Ut!==o||(Mt=7),_o(o)},_.then(l,l);break e;case 3:Mt=7;break e;case 4:Mt=5;break e;case 7:rL(_)?(Mt=0,_s=null,HD(l)):(Mt=0,_s=null,lp(o,l,_,7));break;case 5:var $=null;switch(nt.tag){case 26:$=nt.memoizedState;case 5:case 27:var A=nt;if(!$||Mk($)){Mt=0,_s=null;var I=A.sibling;if(I!==null)nt=I;else{var H=A.return;H!==null?(nt=H,cb(H)):nt=null}break t}}Mt=0,_s=null,lp(o,l,_,5);break;case 6:Mt=0,_s=null,lp(o,l,_,6);break;case 8:b$(),ui=6;break e;default:throw Error(r(462))}}XX();break}catch(ee){VD(o,ee)}while(!0);return da=Pc=null,X.H=y,X.A=b,xt=h,nt!==null?0:(Ut=null,dt=0,C1(),ui)}function XX(){for(;nt!==null&&!LT();)BD(nt)}function BD(o){var l=vD(o.alternate,o,ba);o.memoizedProps=o.pendingProps,l===null?cb(o):nt=l}function HD(o){var l=o,h=l.alternate;switch(l.tag){case 15:case 0:l=hD(h,l,l.pendingProps,l.type,void 0,dt);break;case 11:l=hD(h,l,l.pendingProps,l.type.render,l.ref,dt);break;case 5:DE(l);default:wD(h,l),l=nt=WP(l,ba),l=vD(h,l,ba)}o.memoizedProps=o.pendingProps,l===null?cb(o):nt=l}function lp(o,l,h,y){da=Pc=null,DE(l),Kh=null,my=0;var b=l.return;try{if(UX(o,b,l,h,dt)){ui=1,tb(o,Bs(h,o.current)),nt=null;return}}catch(_){if(b!==null)throw nt=b,_;ui=1,tb(o,Bs(h,o.current)),nt=null;return}l.flags&32768?(wt||y===1?o=!0:rp||(dt&536870912)!==0?o=!1:(Il=o=!0,(y===2||y===9||y===3||y===6)&&(y=Ys.current,y!==null&&y.tag===13&&(y.flags|=16384))),WD(l,o)):cb(l)}function cb(o){var l=o;do{if((l.flags&32768)!==0){WD(l,Il);return}o=l.return;var h=VX(l.alternate,l,ba);if(h!==null){nt=h;return}if(l=l.sibling,l!==null){nt=l;return}nt=l=o}while(l!==null);ui===0&&(ui=5)}function WD(o,l){do{var h=GX(o.alternate,o);if(h!==null){h.flags&=32767,nt=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(o=o.sibling,o!==null)){nt=o;return}nt=o=h}while(o!==null);ui=6,nt=null}function ZD(o,l,h,y,b,_,$,A,I){o.cancelPendingCommit=null;do db();while(nr!==0);if((xt&6)!==0)throw Error(r(327));if(l!==null){if(l===o.current)throw Error(r(177));if(_=l.lanes|l.childLanes,_|=dE,qT(o,h,_,$,A,I),o===Ut&&(nt=Ut=null,dt=0),np=l,Ll=o,op=h,y$=_,g$=b,FD=y,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,tQ(_c,function(){return KD(),null})):(o.callbackNode=null,o.callbackPriority=0),y=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||y){y=X.T,X.T=null,b=he.p,he.p=2,$=xt,xt|=4;try{qX(o,l,h)}finally{xt=$,he.p=b,X.T=y}}nr=1,YD(),JD(),XD()}}function YD(){if(nr===1){nr=0;var o=Ll,l=np,h=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||h){h=X.T,X.T=null;var y=he.p;he.p=2;var b=xt;xt|=4;try{CD(l,o);var _=N$,$=kP(o.containerInfo),A=_.focusedElem,I=_.selectionRange;if($!==A&&A&&A.ownerDocument&&DP(A.ownerDocument.documentElement,A)){if(I!==null&&oE(A)){var H=I.start,ee=I.end;if(ee===void 0&&(ee=H),"selectionStart"in A)A.selectionStart=H,A.selectionEnd=Math.min(ee,A.value.length);else{var ie=A.ownerDocument||document,W=ie&&ie.defaultView||window;if(W.getSelection){var Y=W.getSelection(),Ve=A.textContent.length,Ue=Math.min(I.start,Ve),Rt=I.end===void 0?Ue:Math.min(I.end,Ve);!Y.extend&&Ue>Rt&&($=Rt,Rt=Ue,Ue=$);var V=LP(A,Ue),F=LP(A,Rt);if(V&&F&&(Y.rangeCount!==1||Y.anchorNode!==V.node||Y.anchorOffset!==V.offset||Y.focusNode!==F.node||Y.focusOffset!==F.offset)){var q=ie.createRange();q.setStart(V.node,V.offset),Y.removeAllRanges(),Ue>Rt?(Y.addRange(q),Y.extend(F.node,F.offset)):(q.setEnd(F.node,F.offset),Y.addRange(q))}}}}for(ie=[],Y=A;Y=Y.parentNode;)Y.nodeType===1&&ie.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ie.length;A++){var te=ie[A];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Tb=!!I$,N$=I$=null}finally{xt=b,he.p=y,X.T=h}}o.current=l,nr=2}}function JD(){if(nr===2){nr=0;var o=Ll,l=np,h=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||h){h=X.T,X.T=null;var y=he.p;he.p=2;var b=xt;xt|=4;try{MD(o,l.alternate,l)}finally{xt=b,he.p=y,X.T=h}}nr=3}}function XD(){if(nr===4||nr===3){nr=0,DT();var o=Ll,l=np,h=op,y=FD;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?nr=5:(nr=0,np=Ll=null,QD(o,o.pendingLanes));var b=o.pendingLanes;if(b===0&&(Pl=null),Um(h),l=l.stateNode,Nr&&typeof Nr.onCommitFiberRoot=="function")try{Nr.onCommitFiberRoot(Sc,l,void 0,(l.current.flags&128)===128)}catch{}if(y!==null){l=X.T,b=he.p,he.p=2,X.T=null;try{for(var _=o.onRecoverableError,$=0;$<y.length;$++){var A=y[$];_(A.value,{componentStack:A.stack})}}finally{X.T=l,he.p=b}}(op&3)!==0&&db(),_o(o),b=o.pendingLanes,(h&4194090)!==0&&(b&42)!==0?o===v$?Ey++:(Ey=0,v$=o):Ey=0,$y(0)}}function QD(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,sy(l)))}function db(o){return YD(),JD(),XD(),KD()}function KD(){if(nr!==5)return!1;var o=Ll,l=y$;y$=0;var h=Um(op),y=X.T,b=he.p;try{he.p=32>h?32:h,X.T=null,h=g$,g$=null;var _=Ll,$=op;if(nr=0,np=Ll=null,op=0,(xt&6)!==0)throw Error(r(331));var A=xt;if(xt|=4,DD(_.current),ND(_,_.current,$,h),xt=A,$y(0,!1),Nr&&typeof Nr.onPostCommitFiberRoot=="function")try{Nr.onPostCommitFiberRoot(Sc,_)}catch{}return!0}finally{he.p=b,X.T=y,QD(o,l)}}function ek(o,l,h){l=Bs(h,l),l=JE(o.stateNode,l,2),o=$l(o,l,2),o!==null&&(Ec(o,2),_o(o))}function Nt(o,l,h){if(o.tag===3)ek(o,o,h);else for(;l!==null;){if(l.tag===3){ek(l,o,h);break}else if(l.tag===1){var y=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Pl===null||!Pl.has(y))){o=Bs(h,o),h=sD(2),y=$l(l,h,2),y!==null&&(nD(h,y,l,o),Ec(y,2),_o(y));break}}l=l.return}}function S$(o,l,h){var y=o.pingCache;if(y===null){y=o.pingCache=new WX;var b=new Set;y.set(l,b)}else b=y.get(l),b===void 0&&(b=new Set,y.set(l,b));b.has(h)||(h$=!0,b.add(h),o=QX.bind(null,o,l,h),l.then(o,o))}function QX(o,l,h){var y=o.pingCache;y!==null&&y.delete(l),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,Ut===o&&(dt&h)===h&&(ui===4||ui===3&&(dt&62914560)===dt&&300>Gs()-m$?(xt&2)===0&&ap(o,0):p$|=h,sp===dt&&(sp=0)),_o(o)}function tk(o,l){l===0&&(l=m1()),o=Gh(o,l),o!==null&&(Ec(o,l),_o(o))}function KX(o){var l=o.memoizedState,h=0;l!==null&&(h=l.retryLane),tk(o,h)}function eQ(o,l){var h=0;switch(o.tag){case 13:var y=o.stateNode,b=o.memoizedState;b!==null&&(h=b.retryLane);break;case 19:y=o.stateNode;break;case 22:y=o.stateNode._retryCache;break;default:throw Error(r(314))}y!==null&&y.delete(l),tk(o,h)}function tQ(o,l){return Dm(o,l)}var hb=null,up=null,T$=!1,pb=!1,E$=!1,zc=0;function _o(o){o!==up&&o.next===null&&(up===null?hb=up=o:up=up.next=o),pb=!0,T$||(T$=!0,rQ())}function $y(o,l){if(!E$&&pb){E$=!0;do for(var h=!1,y=hb;y!==null;){if(o!==0){var b=y.pendingLanes;if(b===0)var _=0;else{var $=y.suspendedLanes,A=y.pingedLanes;_=(1<<31-Pr(42|o)+1)-1,_&=b&~($&~A),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(h=!0,nk(y,_))}else _=dt,_=Ch(y,y===Ut?_:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(_&3)===0||Tc(y,_)||(h=!0,nk(y,_));y=y.next}while(h);E$=!1}}function iQ(){ik()}function ik(){pb=T$=!1;var o=0;zc!==0&&(dQ()&&(o=zc),zc=0);for(var l=Gs(),h=null,y=hb;y!==null;){var b=y.next,_=rk(y,l);_===0?(y.next=null,h===null?hb=b:h.next=b,b===null&&(up=h)):(h=y,(o!==0||(_&3)!==0)&&(pb=!0)),y=b}$y(o)}function rk(o,l){for(var h=o.suspendedLanes,y=o.pingedLanes,b=o.expirationTimes,_=o.pendingLanes&-62914561;0<_;){var $=31-Pr(_),A=1<<$,I=b[$];I===-1?((A&h)===0||(A&y)!==0)&&(b[$]=GT(A,l)):I<=l&&(o.expiredLanes|=A),_&=~A}if(l=Ut,h=dt,h=Ch(o,o===l?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),y=o.callbackNode,h===0||o===l&&(Mt===2||Mt===9)||o.cancelPendingCommit!==null)return y!==null&&y!==null&&km(y),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||Tc(o,h)){if(l=h&-h,l===o.callbackPriority)return l;switch(y!==null&&km(y),Um(h)){case 2:case 8:h=h1;break;case 32:h=_c;break;case 268435456:h=$n;break;default:h=_c}return y=sk.bind(null,o),h=Dm(h,y),o.callbackPriority=l,o.callbackNode=h,l}return y!==null&&y!==null&&km(y),o.callbackPriority=2,o.callbackNode=null,2}function sk(o,l){if(nr!==0&&nr!==5)return o.callbackNode=null,o.callbackPriority=0,null;var h=o.callbackNode;if(db()&&o.callbackNode!==h)return null;var y=dt;return y=Ch(o,o===Ut?y:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),y===0?null:(UD(o,y,l),rk(o,Gs()),o.callbackNode!=null&&o.callbackNode===h?sk.bind(null,o):null)}function nk(o,l){if(db())return null;UD(o,l,!0)}function rQ(){pQ(function(){(xt&6)!==0?Dm(d1,iQ):ik()})}function $$(){return zc===0&&(zc=f1()),zc}function ok(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:E1(""+o)}function ak(o,l){var h=l.ownerDocument.createElement("input");return h.name=l.name,h.value=l.value,o.id&&h.setAttribute("form",o.id),l.parentNode.insertBefore(h,l),o=new FormData(o),h.parentNode.removeChild(h),o}function sQ(o,l,h,y,b){if(l==="submit"&&h&&h.stateNode===b){var _=ok((b[jt]||null).action),$=y.submitter;$&&(l=(l=$[jt]||null)?ok(l.formAction):$.getAttribute("formAction"),l!==null&&(_=l,$=null));var A=new A1("action","action",null,y,b);o.push({event:A,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(zc!==0){var I=$?ak(b,$):new FormData(b);BE(h,{pending:!0,data:I,method:b.method,action:_},null,I)}}else typeof _=="function"&&(A.preventDefault(),I=$?ak(b,$):new FormData(b),BE(h,{pending:!0,data:I,method:b.method,action:_},_,I))},currentTarget:b}]})}}for(var x$=0;x$<cE.length;x$++){var M$=cE[x$],nQ=M$.toLowerCase(),oQ=M$[0].toUpperCase()+M$.slice(1);On(nQ,"on"+oQ)}On(UP,"onAnimationEnd"),On(zP,"onAnimationIteration"),On(VP,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(TX,"onTransitionRun"),On(EX,"onTransitionStart"),On($X,"onTransitionCancel"),On(GP,"onTransitionEnd"),wl("onMouseEnter",["mouseout","mouseover"]),wl("onMouseLeave",["mouseout","mouseover"]),wl("onPointerEnter",["pointerout","pointerover"]),wl("onPointerLeave",["pointerout","pointerover"]),Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aQ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xy));function lk(o,l){l=(l&4)!==0;for(var h=0;h<o.length;h++){var y=o[h],b=y.event;y=y.listeners;e:{var _=void 0;if(l)for(var $=y.length-1;0<=$;$--){var A=y[$],I=A.instance,H=A.currentTarget;if(A=A.listener,I!==_&&b.isPropagationStopped())break e;_=A,b.currentTarget=H;try{_(b)}catch(ee){eb(ee)}b.currentTarget=null,_=I}else for($=0;$<y.length;$++){if(A=y[$],I=A.instance,H=A.currentTarget,A=A.listener,I!==_&&b.isPropagationStopped())break e;_=A,b.currentTarget=H;try{_(b)}catch(ee){eb(ee)}b.currentTarget=null,_=I}}}}function ot(o,l){var h=l[xe];h===void 0&&(h=l[xe]=new Set);var y=o+"__bubble";h.has(y)||(uk(l,o,2,!1),h.add(y))}function A$(o,l,h){var y=0;l&&(y|=4),uk(h,o,y,l)}var fb="_reactListening"+Math.random().toString(36).slice(2);function O$(o){if(!o[fb]){o[fb]=!0,b1.forEach(function(h){h!=="selectionchange"&&(aQ.has(h)||A$(h,!1,o),A$(h,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[fb]||(l[fb]=!0,A$("selectionchange",!1,l))}}function uk(o,l,h,y){switch(Nk(l)){case 2:var b=PQ;break;case 8:b=LQ;break;default:b=G$}h=b.bind(null,l,h,o),b=void 0,!XT||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),y?b!==void 0?o.addEventListener(l,h,{capture:!0,passive:b}):o.addEventListener(l,h,!0):b!==void 0?o.addEventListener(l,h,{passive:b}):o.addEventListener(l,h,!1)}function R$(o,l,h,y,b){var _=y;if((l&1)===0&&(l&2)===0&&y!==null)e:for(;;){if(y===null)return;var $=y.tag;if($===3||$===4){var A=y.stateNode.containerInfo;if(A===b)break;if($===4)for($=y.return;$!==null;){var I=$.tag;if((I===3||I===4)&&$.stateNode.containerInfo===b)return;$=$.return}for(;A!==null;){if($=na(A),$===null)return;if(I=$.tag,I===5||I===6||I===26||I===27){y=_=$;continue e}A=A.parentNode}}y=y.return}yP(function(){var H=_,ee=YT(h),ie=[];e:{var W=qP.get(o);if(W!==void 0){var Y=A1,Ve=o;switch(o){case"keypress":if(x1(h)===0)break e;case"keydown":case"keyup":Y=tX;break;case"focusin":Ve="focus",Y=tE;break;case"focusout":Ve="blur",Y=tE;break;case"beforeblur":case"afterblur":Y=tE;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=bP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=GJ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=sX;break;case UP:case zP:case VP:Y=HJ;break;case GP:Y=oX;break;case"scroll":case"scrollend":Y=zJ;break;case"wheel":Y=lX;break;case"copy":case"cut":case"paste":Y=ZJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=_P;break;case"toggle":case"beforetoggle":Y=cX}var Ue=(l&4)!==0,Rt=!Ue&&(o==="scroll"||o==="scrollend"),V=Ue?W!==null?W+"Capture":null:W;Ue=[];for(var F=H,q;F!==null;){var te=F;if(q=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||q===null||V===null||(te=Bm(F,V),te!=null&&Ue.push(My(F,te,q))),Rt)break;F=F.return}0<Ue.length&&(W=new Y(W,Ve,null,h,ee),ie.push({event:W,listeners:Ue}))}}if((l&7)===0){e:{if(W=o==="mouseover"||o==="pointerover",Y=o==="mouseout"||o==="pointerout",W&&h!==ZT&&(Ve=h.relatedTarget||h.fromElement)&&(na(Ve)||Ve[xn]))break e;if((Y||W)&&(W=ee.window===ee?ee:(W=ee.ownerDocument)?W.defaultView||W.parentWindow:window,Y?(Ve=h.relatedTarget||h.toElement,Y=H,Ve=Ve?na(Ve):null,Ve!==null&&(Rt=n(Ve),Ue=Ve.tag,Ve!==Rt||Ue!==5&&Ue!==27&&Ue!==6)&&(Ve=null)):(Y=null,Ve=H),Y!==Ve)){if(Ue=bP,te="onMouseLeave",V="onMouseEnter",F="mouse",(o==="pointerout"||o==="pointerover")&&(Ue=_P,te="onPointerLeave",V="onPointerEnter",F="pointer"),Rt=Y==null?W:je(Y),q=Ve==null?W:je(Ve),W=new Ue(te,F+"leave",Y,h,ee),W.target=Rt,W.relatedTarget=q,te=null,na(ee)===H&&(Ue=new Ue(V,F+"enter",Ve,h,ee),Ue.target=q,Ue.relatedTarget=Rt,te=Ue),Rt=te,Y&&Ve)t:{for(Ue=Y,V=Ve,F=0,q=Ue;q;q=cp(q))F++;for(q=0,te=V;te;te=cp(te))q++;for(;0<F-q;)Ue=cp(Ue),F--;for(;0<q-F;)V=cp(V),q--;for(;F--;){if(Ue===V||V!==null&&Ue===V.alternate)break t;Ue=cp(Ue),V=cp(V)}Ue=null}else Ue=null;Y!==null&&ck(ie,W,Y,Ue,!1),Ve!==null&&Rt!==null&&ck(ie,Rt,Ve,Ue,!0)}}e:{if(W=H?je(H):window,Y=W.nodeName&&W.nodeName.toLowerCase(),Y==="select"||Y==="input"&&W.type==="file")var Ae=OP;else if(MP(W))if(RP)Ae=wX;else{Ae=vX;var st=gX}else Y=W.nodeName,!Y||Y.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?H&&WT(H.elementType)&&(Ae=OP):Ae=bX;if(Ae&&(Ae=Ae(o,H))){AP(ie,Ae,h,ee);break e}st&&st(o,W,H),o==="focusout"&&H&&W.type==="number"&&H.memoizedProps.value!=null&&HT(W,"number",W.value)}switch(st=H?je(H):window,o){case"focusin":(MP(st)||st.contentEditable==="true")&&(Uh=st,aE=H,Km=null);break;case"focusout":Km=aE=Uh=null;break;case"mousedown":lE=!0;break;case"contextmenu":case"mouseup":case"dragend":lE=!1,FP(ie,h,ee);break;case"selectionchange":if(SX)break;case"keydown":case"keyup":FP(ie,h,ee)}var Le;if(rE)e:{switch(o){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else jh?$P(o,h)&&(ze="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(ze="onCompositionStart");ze&&(SP&&h.locale!=="ko"&&(jh||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&jh&&(Le=gP()):(_l=ee,QT="value"in _l?_l.value:_l.textContent,jh=!0)),st=mb(H,ze),0<st.length&&(ze=new wP(ze,o,null,h,ee),ie.push({event:ze,listeners:st}),Le?ze.data=Le:(Le=xP(h),Le!==null&&(ze.data=Le)))),(Le=hX?pX(o,h):fX(o,h))&&(ze=mb(H,"onBeforeInput"),0<ze.length&&(st=new wP("onBeforeInput","beforeinput",null,h,ee),ie.push({event:st,listeners:ze}),st.data=Le)),sQ(ie,o,H,h,ee)}lk(ie,l)})}function My(o,l,h){return{instance:o,listener:l,currentTarget:h}}function mb(o,l){for(var h=l+"Capture",y=[];o!==null;){var b=o,_=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||_===null||(b=Bm(o,h),b!=null&&y.unshift(My(o,b,_)),b=Bm(o,l),b!=null&&y.push(My(o,b,_))),o.tag===3)return y;o=o.return}return[]}function cp(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function ck(o,l,h,y,b){for(var _=l._reactName,$=[];h!==null&&h!==y;){var A=h,I=A.alternate,H=A.stateNode;if(A=A.tag,I!==null&&I===y)break;A!==5&&A!==26&&A!==27||H===null||(I=H,b?(H=Bm(h,_),H!=null&&$.unshift(My(h,H,I))):b||(H=Bm(h,_),H!=null&&$.push(My(h,H,I)))),h=h.return}$.length!==0&&o.push({event:l,listeners:$})}var lQ=/\r\n?/g,uQ=/\u0000|\uFFFD/g;function dk(o){return(typeof o=="string"?o:""+o).replace(lQ,`
`).replace(uQ,"")}function hk(o,l){return l=dk(l),dk(o)===l}function yb(){}function Ot(o,l,h,y,b,_){switch(h){case"children":typeof y=="string"?l==="body"||l==="textarea"&&y===""||Dh(o,y):(typeof y=="number"||typeof y=="bigint")&&l!=="body"&&Dh(o,""+y);break;case"className":Ph(o,"class",y);break;case"tabIndex":Ph(o,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":Ph(o,h,y);break;case"style":fP(o,y,_);break;case"data":if(l!=="object"){Ph(o,"data",y);break}case"src":case"href":if(y===""&&(l!=="a"||h!=="href")){o.removeAttribute(h);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){o.removeAttribute(h);break}y=E1(""+y),o.setAttribute(h,y);break;case"action":case"formAction":if(typeof y=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(h==="formAction"?(l!=="input"&&Ot(o,l,"name",b.name,b,null),Ot(o,l,"formEncType",b.formEncType,b,null),Ot(o,l,"formMethod",b.formMethod,b,null),Ot(o,l,"formTarget",b.formTarget,b,null)):(Ot(o,l,"encType",b.encType,b,null),Ot(o,l,"method",b.method,b,null),Ot(o,l,"target",b.target,b,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){o.removeAttribute(h);break}y=E1(""+y),o.setAttribute(h,y);break;case"onClick":y!=null&&(o.onclick=yb);break;case"onScroll":y!=null&&ot("scroll",o);break;case"onScrollEnd":y!=null&&ot("scrollend",o);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(h=y.__html,h!=null){if(b.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"multiple":o.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":o.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){o.removeAttribute("xlink:href");break}h=E1(""+y),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(h,""+y):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":y===!0?o.setAttribute(h,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(h,y):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?o.setAttribute(h,y):o.removeAttribute(h);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?o.removeAttribute(h):o.setAttribute(h,y);break;case"popover":ot("beforetoggle",o),ot("toggle",o),Nh(o,"popover",y);break;case"xlinkActuate":An(o,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":An(o,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":An(o,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":An(o,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":An(o,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":An(o,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":An(o,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":An(o,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":An(o,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Nh(o,"is",y);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=jJ.get(h)||h,Nh(o,h,y))}}function C$(o,l,h,y,b,_){switch(h){case"style":fP(o,y,_);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(h=y.__html,h!=null){if(b.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"children":typeof y=="string"?Dh(o,y):(typeof y=="number"||typeof y=="bigint")&&Dh(o,""+y);break;case"onScroll":y!=null&&ot("scroll",o);break;case"onScrollEnd":y!=null&&ot("scrollend",o);break;case"onClick":y!=null&&(o.onclick=yb);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!w1.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(b=h.endsWith("Capture"),l=h.slice(2,b?h.length-7:void 0),_=o[jt]||null,_=_!=null?_[h]:null,typeof _=="function"&&o.removeEventListener(l,_,b),typeof y=="function")){typeof _!="function"&&_!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(l,y,b);break e}h in o?o[h]=y:y===!0?o.setAttribute(h,""):Nh(o,h,y)}}}function or(o,l,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ot("error",o),ot("load",o);var y=!1,b=!1,_;for(_ in h)if(h.hasOwnProperty(_)){var $=h[_];if($!=null)switch(_){case"src":y=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Ot(o,l,_,$,h,null)}}b&&Ot(o,l,"srcSet",h.srcSet,h,null),y&&Ot(o,l,"src",h.src,h,null);return;case"input":ot("invalid",o);var A=_=$=b=null,I=null,H=null;for(y in h)if(h.hasOwnProperty(y)){var ee=h[y];if(ee!=null)switch(y){case"name":b=ee;break;case"type":$=ee;break;case"checked":I=ee;break;case"defaultChecked":H=ee;break;case"value":_=ee;break;case"defaultValue":A=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,l));break;default:Ot(o,l,y,ee,h,null)}}cP(o,_,A,I,H,$,b,!1),It(o);return;case"select":ot("invalid",o),y=$=_=null;for(b in h)if(h.hasOwnProperty(b)&&(A=h[b],A!=null))switch(b){case"value":_=A;break;case"defaultValue":$=A;break;case"multiple":y=A;default:Ot(o,l,b,A,h,null)}l=_,h=$,o.multiple=!!y,l!=null?Lh(o,!!y,l,!1):h!=null&&Lh(o,!!y,h,!0);return;case"textarea":ot("invalid",o),_=b=y=null;for($ in h)if(h.hasOwnProperty($)&&(A=h[$],A!=null))switch($){case"value":y=A;break;case"defaultValue":b=A;break;case"children":_=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:Ot(o,l,$,A,h,null)}hP(o,y,b,_),It(o);return;case"option":for(I in h)if(h.hasOwnProperty(I)&&(y=h[I],y!=null))switch(I){case"selected":o.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:Ot(o,l,I,y,h,null)}return;case"dialog":ot("beforetoggle",o),ot("toggle",o),ot("cancel",o),ot("close",o);break;case"iframe":case"object":ot("load",o);break;case"video":case"audio":for(y=0;y<xy.length;y++)ot(xy[y],o);break;case"image":ot("error",o),ot("load",o);break;case"details":ot("toggle",o);break;case"embed":case"source":case"link":ot("error",o),ot("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in h)if(h.hasOwnProperty(H)&&(y=h[H],y!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Ot(o,l,H,y,h,null)}return;default:if(WT(l)){for(ee in h)h.hasOwnProperty(ee)&&(y=h[ee],y!==void 0&&C$(o,l,ee,y,h,void 0));return}}for(A in h)h.hasOwnProperty(A)&&(y=h[A],y!=null&&Ot(o,l,A,y,h,null))}function cQ(o,l,h,y){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,_=null,$=null,A=null,I=null,H=null,ee=null;for(Y in h){var ie=h[Y];if(h.hasOwnProperty(Y)&&ie!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":I=ie;default:y.hasOwnProperty(Y)||Ot(o,l,Y,null,y,ie)}}for(var W in y){var Y=y[W];if(ie=h[W],y.hasOwnProperty(W)&&(Y!=null||ie!=null))switch(W){case"type":_=Y;break;case"name":b=Y;break;case"checked":H=Y;break;case"defaultChecked":ee=Y;break;case"value":$=Y;break;case"defaultValue":A=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,l));break;default:Y!==ie&&Ot(o,l,W,Y,y,ie)}}BT(o,$,A,I,H,ee,_,b);return;case"select":Y=$=A=W=null;for(_ in h)if(I=h[_],h.hasOwnProperty(_)&&I!=null)switch(_){case"value":break;case"multiple":Y=I;default:y.hasOwnProperty(_)||Ot(o,l,_,null,y,I)}for(b in y)if(_=y[b],I=h[b],y.hasOwnProperty(b)&&(_!=null||I!=null))switch(b){case"value":W=_;break;case"defaultValue":A=_;break;case"multiple":$=_;default:_!==I&&Ot(o,l,b,_,y,I)}l=A,h=$,y=Y,W!=null?Lh(o,!!h,W,!1):!!y!=!!h&&(l!=null?Lh(o,!!h,l,!0):Lh(o,!!h,h?[]:"",!1));return;case"textarea":Y=W=null;for(A in h)if(b=h[A],h.hasOwnProperty(A)&&b!=null&&!y.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Ot(o,l,A,null,y,b)}for($ in y)if(b=y[$],_=h[$],y.hasOwnProperty($)&&(b!=null||_!=null))switch($){case"value":W=b;break;case"defaultValue":Y=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==_&&Ot(o,l,$,b,y,_)}dP(o,W,Y);return;case"option":for(var Ve in h)if(W=h[Ve],h.hasOwnProperty(Ve)&&W!=null&&!y.hasOwnProperty(Ve))switch(Ve){case"selected":o.selected=!1;break;default:Ot(o,l,Ve,null,y,W)}for(I in y)if(W=y[I],Y=h[I],y.hasOwnProperty(I)&&W!==Y&&(W!=null||Y!=null))switch(I){case"selected":o.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:Ot(o,l,I,W,y,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in h)W=h[Ue],h.hasOwnProperty(Ue)&&W!=null&&!y.hasOwnProperty(Ue)&&Ot(o,l,Ue,null,y,W);for(H in y)if(W=y[H],Y=h[H],y.hasOwnProperty(H)&&W!==Y&&(W!=null||Y!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,l));break;default:Ot(o,l,H,W,y,Y)}return;default:if(WT(l)){for(var Rt in h)W=h[Rt],h.hasOwnProperty(Rt)&&W!==void 0&&!y.hasOwnProperty(Rt)&&C$(o,l,Rt,void 0,y,W);for(ee in y)W=y[ee],Y=h[ee],!y.hasOwnProperty(ee)||W===Y||W===void 0&&Y===void 0||C$(o,l,ee,W,y,Y);return}}for(var V in h)W=h[V],h.hasOwnProperty(V)&&W!=null&&!y.hasOwnProperty(V)&&Ot(o,l,V,null,y,W);for(ie in y)W=y[ie],Y=h[ie],!y.hasOwnProperty(ie)||W===Y||W==null&&Y==null||Ot(o,l,ie,W,y,Y)}var I$=null,N$=null;function gb(o){return o.nodeType===9?o:o.ownerDocument}function pk(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fk(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function P$(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var L$=null;function dQ(){var o=window.event;return o&&o.type==="popstate"?o===L$?!1:(L$=o,!0):(L$=null,!1)}var mk=typeof setTimeout=="function"?setTimeout:void 0,hQ=typeof clearTimeout=="function"?clearTimeout:void 0,yk=typeof Promise=="function"?Promise:void 0,pQ=typeof queueMicrotask=="function"?queueMicrotask:typeof yk<"u"?function(o){return yk.resolve(null).then(o).catch(fQ)}:mk;function fQ(o){setTimeout(function(){throw o})}function kl(o){return o==="head"}function gk(o,l){var h=l,y=0,b=0;do{var _=h.nextSibling;if(o.removeChild(h),_&&_.nodeType===8)if(h=_.data,h==="/$"){if(0<y&&8>y){h=y;var $=o.ownerDocument;if(h&1&&Ay($.documentElement),h&2&&Ay($.body),h&4)for(h=$.head,Ay(h),$=h.firstChild;$;){var A=$.nextSibling,I=$.nodeName;$[$c]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&$.rel.toLowerCase()==="stylesheet"||h.removeChild($),$=A}}if(b===0){o.removeChild(_),Dy(l);return}b--}else h==="$"||h==="$?"||h==="$!"?b++:y=h.charCodeAt(0)-48;else y=0;h=_}while(h);Dy(l)}function D$(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var h=l;switch(l=l.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":D$(h),ys(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function mQ(o,l,h,y){for(;o.nodeType===1;){var b=h;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!y&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(y){if(!o[$c])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(_=o.getAttribute("rel"),_==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(_!==b.rel||o.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||o.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||o.getAttribute("title")!==(b.title==null?null:b.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(_=o.getAttribute("src"),(_!==(b.src==null?null:b.src)||o.getAttribute("type")!==(b.type==null?null:b.type)||o.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&_&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var _=b.name==null?null:""+b.name;if(b.type==="hidden"&&o.getAttribute("name")===_)return o}else return o;if(o=Cn(o.nextSibling),o===null)break}return null}function yQ(o,l,h){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=Cn(o.nextSibling),o===null))return null;return o}function k$(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function gQ(o,l){var h=o.ownerDocument;if(o.data!=="$?"||h.readyState==="complete")l();else{var y=function(){l(),h.removeEventListener("DOMContentLoaded",y)};h.addEventListener("DOMContentLoaded",y),o._reactRetry=y}}function Cn(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return o}var F$=null;function vk(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return o;l--}else h==="/$"&&l++}o=o.previousSibling}return null}function bk(o,l,h){switch(l=gb(h),o){case"html":if(o=l.documentElement,!o)throw Error(r(452));return o;case"head":if(o=l.head,!o)throw Error(r(453));return o;case"body":if(o=l.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Ay(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);ys(o)}var Xs=new Map,wk=new Set;function vb(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var wa=he.d;he.d={f:vQ,r:bQ,D:wQ,C:_Q,L:SQ,m:TQ,X:$Q,S:EQ,M:xQ};function vQ(){var o=wa.f(),l=ub();return o||l}function bQ(o){var l=oa(o);l!==null&&l.tag===5&&l.type==="form"?UL(l):wa.r(o)}var dp=typeof document>"u"?null:document;function _k(o,l,h){var y=dp;if(y&&typeof l=="string"&&l){var b=qs(l);b='link[rel="'+o+'"][href="'+b+'"]',typeof h=="string"&&(b+='[crossorigin="'+h+'"]'),wk.has(b)||(wk.add(b),o={rel:o,crossOrigin:h,href:l},y.querySelector(b)===null&&(l=y.createElement("link"),or(l,"link",o),gi(l),y.head.appendChild(l)))}}function wQ(o){wa.D(o),_k("dns-prefetch",o,null)}function _Q(o,l){wa.C(o,l),_k("preconnect",o,l)}function SQ(o,l,h){wa.L(o,l,h);var y=dp;if(y&&o&&l){var b='link[rel="preload"][as="'+qs(l)+'"]';l==="image"&&h&&h.imageSrcSet?(b+='[imagesrcset="'+qs(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(b+='[imagesizes="'+qs(h.imageSizes)+'"]')):b+='[href="'+qs(o)+'"]';var _=b;switch(l){case"style":_=hp(o);break;case"script":_=pp(o)}Xs.has(_)||(o=g({rel:"preload",href:l==="image"&&h&&h.imageSrcSet?void 0:o,as:l},h),Xs.set(_,o),y.querySelector(b)!==null||l==="style"&&y.querySelector(Oy(_))||l==="script"&&y.querySelector(Ry(_))||(l=y.createElement("link"),or(l,"link",o),gi(l),y.head.appendChild(l)))}}function TQ(o,l){wa.m(o,l);var h=dp;if(h&&o){var y=l&&typeof l.as=="string"?l.as:"script",b='link[rel="modulepreload"][as="'+qs(y)+'"][href="'+qs(o)+'"]',_=b;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=pp(o)}if(!Xs.has(_)&&(o=g({rel:"modulepreload",href:o},l),Xs.set(_,o),h.querySelector(b)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Ry(_)))return}y=h.createElement("link"),or(y,"link",o),gi(y),h.head.appendChild(y)}}}function EQ(o,l,h){wa.S(o,l,h);var y=dp;if(y&&o){var b=bl(y).hoistableStyles,_=hp(o);l=l||"default";var $=b.get(_);if(!$){var A={loading:0,preload:null};if($=y.querySelector(Oy(_)))A.loading=5;else{o=g({rel:"stylesheet",href:o,"data-precedence":l},h),(h=Xs.get(_))&&j$(o,h);var I=$=y.createElement("link");gi(I),or(I,"link",o),I._p=new Promise(function(H,ee){I.onload=H,I.onerror=ee}),I.addEventListener("load",function(){A.loading|=1}),I.addEventListener("error",function(){A.loading|=2}),A.loading|=4,bb($,l,y)}$={type:"stylesheet",instance:$,count:1,state:A},b.set(_,$)}}}function $Q(o,l){wa.X(o,l);var h=dp;if(h&&o){var y=bl(h).hoistableScripts,b=pp(o),_=y.get(b);_||(_=h.querySelector(Ry(b)),_||(o=g({src:o,async:!0},l),(l=Xs.get(b))&&U$(o,l),_=h.createElement("script"),gi(_),or(_,"link",o),h.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},y.set(b,_))}}function xQ(o,l){wa.M(o,l);var h=dp;if(h&&o){var y=bl(h).hoistableScripts,b=pp(o),_=y.get(b);_||(_=h.querySelector(Ry(b)),_||(o=g({src:o,async:!0,type:"module"},l),(l=Xs.get(b))&&U$(o,l),_=h.createElement("script"),gi(_),or(_,"link",o),h.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},y.set(b,_))}}function Sk(o,l,h,y){var b=(b=We.current)?vb(b):null;if(!b)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(l=hp(h.href),h=bl(b).hoistableStyles,y=h.get(l),y||(y={type:"style",instance:null,count:0,state:null},h.set(l,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=hp(h.href);var _=bl(b).hoistableStyles,$=_.get(o);if($||(b=b.ownerDocument||b,$={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(o,$),(_=b.querySelector(Oy(o)))&&!_._p&&($.instance=_,$.state.loading=5),Xs.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Xs.set(o,h),_||MQ(b,o,h,$.state))),l&&y===null)throw Error(r(528,""));return $}if(l&&y!==null)throw Error(r(529,""));return null;case"script":return l=h.async,h=h.src,typeof h=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=pp(h),h=bl(b).hoistableScripts,y=h.get(l),y||(y={type:"script",instance:null,count:0,state:null},h.set(l,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function hp(o){return'href="'+qs(o)+'"'}function Oy(o){return'link[rel="stylesheet"]['+o+"]"}function Tk(o){return g({},o,{"data-precedence":o.precedence,precedence:null})}function MQ(o,l,h,y){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?y.loading=1:(l=o.createElement("link"),y.preload=l,l.addEventListener("load",function(){return y.loading|=1}),l.addEventListener("error",function(){return y.loading|=2}),or(l,"link",h),gi(l),o.head.appendChild(l))}function pp(o){return'[src="'+qs(o)+'"]'}function Ry(o){return"script[async]"+o}function Ek(o,l,h){if(l.count++,l.instance===null)switch(l.type){case"style":var y=o.querySelector('style[data-href~="'+qs(h.href)+'"]');if(y)return l.instance=y,gi(y),y;var b=g({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return y=(o.ownerDocument||o).createElement("style"),gi(y),or(y,"style",b),bb(y,h.precedence,o),l.instance=y;case"stylesheet":b=hp(h.href);var _=o.querySelector(Oy(b));if(_)return l.state.loading|=4,l.instance=_,gi(_),_;y=Tk(h),(b=Xs.get(b))&&j$(y,b),_=(o.ownerDocument||o).createElement("link"),gi(_);var $=_;return $._p=new Promise(function(A,I){$.onload=A,$.onerror=I}),or(_,"link",y),l.state.loading|=4,bb(_,h.precedence,o),l.instance=_;case"script":return _=pp(h.src),(b=o.querySelector(Ry(_)))?(l.instance=b,gi(b),b):(y=h,(b=Xs.get(_))&&(y=g({},h),U$(y,b)),o=o.ownerDocument||o,b=o.createElement("script"),gi(b),or(b,"link",y),o.head.appendChild(b),l.instance=b);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(y=l.instance,l.state.loading|=4,bb(y,h.precedence,o));return l.instance}function bb(o,l,h){for(var y=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=y.length?y[y.length-1]:null,_=b,$=0;$<y.length;$++){var A=y[$];if(A.dataset.precedence===l)_=A;else if(_!==b)break}_?_.parentNode.insertBefore(o,_.nextSibling):(l=h.nodeType===9?h.head:h,l.insertBefore(o,l.firstChild))}function j$(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function U$(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var wb=null;function $k(o,l,h){if(wb===null){var y=new Map,b=wb=new Map;b.set(h,y)}else b=wb,y=b.get(h),y||(y=new Map,b.set(h,y));if(y.has(o))return y;for(y.set(o,null),h=h.getElementsByTagName(o),b=0;b<h.length;b++){var _=h[b];if(!(_[$c]||_[ti]||o==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var $=_.getAttribute(l)||"";$=o+$;var A=y.get($);A?A.push(_):y.set($,[_])}}return y}function xk(o,l,h){o=o.ownerDocument||o,o.head.insertBefore(h,l==="title"?o.querySelector("head > title"):null)}function AQ(o,l,h){if(h===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Mk(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Cy=null;function OQ(){}function RQ(o,l,h){if(Cy===null)throw Error(r(475));var y=Cy;if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var b=hp(h.href),_=o.querySelector(Oy(b));if(_){o=_._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(y.count++,y=_b.bind(y),o.then(y,y)),l.state.loading|=4,l.instance=_,gi(_);return}_=o.ownerDocument||o,h=Tk(h),(b=Xs.get(b))&&j$(h,b),_=_.createElement("link"),gi(_);var $=_;$._p=new Promise(function(A,I){$.onload=A,$.onerror=I}),or(_,"link",h),l.instance=_}y.stylesheets===null&&(y.stylesheets=new Map),y.stylesheets.set(l,o),(o=l.state.preload)&&(l.state.loading&3)===0&&(y.count++,l=_b.bind(y),o.addEventListener("load",l),o.addEventListener("error",l))}}function CQ(){if(Cy===null)throw Error(r(475));var o=Cy;return o.stylesheets&&o.count===0&&z$(o,o.stylesheets),0<o.count?function(l){var h=setTimeout(function(){if(o.stylesheets&&z$(o,o.stylesheets),o.unsuspend){var y=o.unsuspend;o.unsuspend=null,y()}},6e4);return o.unsuspend=l,function(){o.unsuspend=null,clearTimeout(h)}}:null}function _b(){if(this.count--,this.count===0){if(this.stylesheets)z$(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Sb=null;function z$(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Sb=new Map,l.forEach(IQ,o),Sb=null,_b.call(o))}function IQ(o,l){if(!(l.state.loading&4)){var h=Sb.get(o);if(h)var y=h.get(null);else{h=new Map,Sb.set(o,h);for(var b=o.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<b.length;_++){var $=b[_];($.nodeName==="LINK"||$.getAttribute("media")!=="not all")&&(h.set($.dataset.precedence,$),y=$)}y&&h.set(null,y)}b=l.instance,$=b.getAttribute("data-precedence"),_=h.get($)||y,_===y&&h.set(null,b),h.set($,b),this.count++,y=_b.bind(this),b.addEventListener("load",y),b.addEventListener("error",y),_?_.parentNode.insertBefore(b,_.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(b,o.firstChild)),l.state.loading|=4}}var Iy={$$typeof:N,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function NQ(o,l,h,y,b,_,$,A){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fm(0),this.hiddenUpdates=Fm(null),this.identifierPrefix=y,this.onUncaughtError=b,this.onCaughtError=_,this.onRecoverableError=$,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Ak(o,l,h,y,b,_,$,A,I,H,ee,ie){return o=new NQ(o,l,h,$,A,I,H,ie),l=1,_===!0&&(l|=24),_=vs(3,null,null,l),o.current=_,_.stateNode=o,l=SE(),l.refCount++,o.pooledCache=l,l.refCount++,_.memoizedState={element:y,isDehydrated:h,cache:l},xE(_),o}function Ok(o){return o?(o=qh,o):qh}function Rk(o,l,h,y,b,_){b=Ok(b),y.context===null?y.context=b:y.pendingContext=b,y=El(l),y.payload={element:h},_=_===void 0?null:_,_!==null&&(y.callback=_),h=$l(o,y,l),h!==null&&(Ts(h,o,l),ly(h,o,l))}function Ck(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<l?h:l}}function V$(o,l){Ck(o,l),(o=o.alternate)&&Ck(o,l)}function Ik(o){if(o.tag===13){var l=Gh(o,67108864);l!==null&&Ts(l,o,67108864),V$(o,67108864)}}var Tb=!0;function PQ(o,l,h,y){var b=X.T;X.T=null;var _=he.p;try{he.p=2,G$(o,l,h,y)}finally{he.p=_,X.T=b}}function LQ(o,l,h,y){var b=X.T;X.T=null;var _=he.p;try{he.p=8,G$(o,l,h,y)}finally{he.p=_,X.T=b}}function G$(o,l,h,y){if(Tb){var b=q$(y);if(b===null)R$(o,l,y,Eb,h),Pk(o,y);else if(kQ(b,o,l,h,y))y.stopPropagation();else if(Pk(o,y),l&4&&-1<DQ.indexOf(o)){for(;b!==null;){var _=oa(b);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var $=sa(_.pendingLanes);if($!==0){var A=_;for(A.pendingLanes|=2,A.entangledLanes|=2;$;){var I=1<<31-Pr($);A.entanglements[1]|=I,$&=~I}_o(_),(xt&6)===0&&(ab=Gs()+500,$y(0))}}break;case 13:A=Gh(_,2),A!==null&&Ts(A,_,2),ub(),V$(_,2)}if(_=q$(y),_===null&&R$(o,l,y,Eb,h),_===b)break;b=_}b!==null&&y.stopPropagation()}else R$(o,l,y,null,h)}}function q$(o){return o=YT(o),B$(o)}var Eb=null;function B$(o){if(Eb=null,o=na(o),o!==null){var l=n(o);if(l===null)o=null;else{var h=l.tag;if(h===13){if(o=a(l),o!==null)return o;o=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return Eb=o,null}function Nk(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kT()){case d1:return 2;case h1:return 8;case _c:case p1:return 32;case $n:return 268435456;default:return 32}default:return 32}}var H$=!1,Fl=null,jl=null,Ul=null,Ny=new Map,Py=new Map,zl=[],DQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pk(o,l){switch(o){case"focusin":case"focusout":Fl=null;break;case"dragenter":case"dragleave":jl=null;break;case"mouseover":case"mouseout":Ul=null;break;case"pointerover":case"pointerout":Ny.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Py.delete(l.pointerId)}}function Ly(o,l,h,y,b,_){return o===null||o.nativeEvent!==_?(o={blockedOn:l,domEventName:h,eventSystemFlags:y,nativeEvent:_,targetContainers:[b]},l!==null&&(l=oa(l),l!==null&&Ik(l)),o):(o.eventSystemFlags|=y,l=o.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),o)}function kQ(o,l,h,y,b){switch(l){case"focusin":return Fl=Ly(Fl,o,l,h,y,b),!0;case"dragenter":return jl=Ly(jl,o,l,h,y,b),!0;case"mouseover":return Ul=Ly(Ul,o,l,h,y,b),!0;case"pointerover":var _=b.pointerId;return Ny.set(_,Ly(Ny.get(_)||null,o,l,h,y,b)),!0;case"gotpointercapture":return _=b.pointerId,Py.set(_,Ly(Py.get(_)||null,o,l,h,y,b)),!0}return!1}function Lk(o){var l=na(o.target);if(l!==null){var h=n(l);if(h!==null){if(l=h.tag,l===13){if(l=a(h),l!==null){o.blockedOn=l,J(o.priority,function(){if(h.tag===13){var y=Ss();y=jm(y);var b=Gh(h,y);b!==null&&Ts(b,h,y),V$(h,y)}});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function $b(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var h=q$(o.nativeEvent);if(h===null){h=o.nativeEvent;var y=new h.constructor(h.type,h);ZT=y,h.target.dispatchEvent(y),ZT=null}else return l=oa(h),l!==null&&Ik(l),o.blockedOn=h,!1;l.shift()}return!0}function Dk(o,l,h){$b(o)&&h.delete(l)}function FQ(){H$=!1,Fl!==null&&$b(Fl)&&(Fl=null),jl!==null&&$b(jl)&&(jl=null),Ul!==null&&$b(Ul)&&(Ul=null),Ny.forEach(Dk),Py.forEach(Dk)}function xb(o,l){o.blockedOn===l&&(o.blockedOn=null,H$||(H$=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,FQ)))}var Mb=null;function kk(o){Mb!==o&&(Mb=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Mb===o&&(Mb=null);for(var l=0;l<o.length;l+=3){var h=o[l],y=o[l+1],b=o[l+2];if(typeof y!="function"){if(B$(y||h)===null)continue;break}var _=oa(h);_!==null&&(o.splice(l,3),l-=3,BE(_,{pending:!0,data:b,method:h.method,action:y},y,b))}}))}function Dy(o){function l(I){return xb(I,o)}Fl!==null&&xb(Fl,o),jl!==null&&xb(jl,o),Ul!==null&&xb(Ul,o),Ny.forEach(l),Py.forEach(l);for(var h=0;h<zl.length;h++){var y=zl[h];y.blockedOn===o&&(y.blockedOn=null)}for(;0<zl.length&&(h=zl[0],h.blockedOn===null);)Lk(h),h.blockedOn===null&&zl.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(y=0;y<h.length;y+=3){var b=h[y],_=h[y+1],$=b[jt]||null;if(typeof _=="function")$||kk(h);else if($){var A=null;if(_&&_.hasAttribute("formAction")){if(b=_,$=_[jt]||null)A=$.formAction;else if(B$(b)!==null)continue}else A=$.action;typeof A=="function"?h[y+1]=A:(h.splice(y,3),y-=3),kk(h)}}}function W$(o){this._internalRoot=o}Ab.prototype.render=W$.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));var h=l.current,y=Ss();Rk(h,y,o,l,null,null)},Ab.prototype.unmount=W$.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;Rk(o.current,2,null,o,null,null),ub(),l[xn]=null}};function Ab(o){this._internalRoot=o}Ab.prototype.unstable_scheduleHydration=function(o){if(o){var l=v1();o={blockedOn:null,target:o,priority:l};for(var h=0;h<zl.length&&l!==0&&l<zl[h].priority;h++);zl.splice(h,0,o),h===0&&Lk(o)}};var Fk=t.version;if(Fk!=="19.1.0")throw Error(r(527,Fk,"19.1.0"));he.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(l),o=o!==null?f(o):null,o=o===null?null:o.stateNode,o};var jQ={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ob=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ob.isDisabled&&Ob.supportsFiber)try{Sc=Ob.inject(jQ),Nr=Ob}catch{}}return Fy.createRoot=function(o,l){if(!s(o))throw Error(r(299));var h=!1,y="",b=eD,_=tD,$=iD,A=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&($=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(A=l.unstable_transitionCallbacks)),l=Ak(o,1,!1,null,null,h,y,b,_,$,A,null),o[xn]=l.current,O$(o),new W$(l)},Fy.hydrateRoot=function(o,l,h){if(!s(o))throw Error(r(299));var y=!1,b="",_=eD,$=tD,A=iD,I=null,H=null;return h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(b=h.identifierPrefix),h.onUncaughtError!==void 0&&(_=h.onUncaughtError),h.onCaughtError!==void 0&&($=h.onCaughtError),h.onRecoverableError!==void 0&&(A=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(I=h.unstable_transitionCallbacks),h.formState!==void 0&&(H=h.formState)),l=Ak(o,1,!0,l,h??null,y,b,_,$,A,I,H),l.context=Ok(null),h=l.current,y=Ss(),y=jm(y),b=El(y),b.callback=null,$l(h,b,y),h=y,l.current.lanes=h,Ec(l,h),_o(l),o[xn]=l.current,O$(o),new Ab(l)},Fy.version="19.1.0",Fy}var Zk;function YQ(){if(Zk)return J$.exports;Zk=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),J$.exports=ZQ(),J$.exports}var JQ=YQ();const XQ=()=>Y0.jsx("div",{id:"viewDiv",className:"w-full h-full"}),QQ="modulepreload",KQ=function(e,t){return new URL(e,t).href},Yk={},ue=function(t,i,r){let s=Promise.resolve();if(i&&i.length>0){let a=function(g){return Promise.all(g.map(v=>Promise.resolve(v).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};const u=document.getElementsByTagName("link"),d=document.querySelector("meta[property=csp-nonce]"),f=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));s=a(i.map(g=>{if(g=KQ(g,r),g in Yk)return;Yk[g]=!0;const v=g.endsWith(".css"),w=v?'[rel="stylesheet"]':"";if(!!r)for(let E=u.length-1;E>=0;E--){const M=u[E];if(M.href===g&&(!v||M.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${g}"]${w}`))return;const T=document.createElement("link");if(T.rel=v?"stylesheet":QQ,v||(T.as="script"),T.crossOrigin="",T.href=g,f&&T.setAttribute("nonce",f),document.head.appendChild(T),v)return new Promise((E,M)=>{T.addEventListener("load",E),T.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${g}`)))})}))}function n(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return s.then(a=>{for(const u of a||[])u.status==="rejected"&&n(u.reason);return t().catch(n)})};function c(e,t,i,r){var s,n=arguments.length,a=n<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,i,r);else for(var u=e.length-1;u>=0;u--)(s=e[u])&&(a=(n<3?s(a):n>3?s(t,i,a):s(t,i))||a);return n>3&&a&&Object.defineProperty(t,i,a),a}function AMe(e,t){return function(i,r){t(i,r,e)}}function OMe(e,t,i,r){function s(n){return n instanceof i?n:new i(function(a){a(n)})}return new(i||(i=Promise))(function(n,a){function u(g){try{f(r.next(g))}catch(v){a(v)}}function d(g){try{f(r.throw(g))}catch(v){a(v)}}function f(g){g.done?n(g.value):s(g.value).then(u,d)}f((r=r.apply(e,[])).next())})}function RMe(e,t,i){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,s;if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose]}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(n){return Promise.reject(n)}}),e.stack.push({value:t,dispose:r,async:i})}return t}var eK=typeof SuppressedError=="function"?SuppressedError:function(e,t,i){var r=new Error(i);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function CMe(e){function t(n){e.error=e.hasError?new eK(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}var i,r=0;function s(){for(;i=e.stack.pop();)try{if(!i.async&&r===1)return r=0,e.stack.push(i),Promise.resolve().then(s);if(i.dispose){var n=i.dispose.call(i.value);if(i.async)return r|=2,Promise.resolve(n).then(s,function(a){return t(a),s()})}else r|=1}catch(a){t(a)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}let ku;function B(e){return typeof ku[e]=="function"?ku[e]=ku[e](globalThis):ku[e]}var vU,bU,wU,_U;ku=(vU=globalThis.dojoConfig)!=null&&vU.has||(bU=globalThis.esriConfig)!=null&&bU.has?{...(wU=globalThis.dojoConfig)==null?void 0:wU.has,...(_U=globalThis.esriConfig)==null?void 0:_U.has}:{},B.add=(e,t,i,r)=>{(r||ku[e]===void 0)&&(ku[e]=t),i&&B(e)},B.cache=ku,B.add("big-integer-warning-enabled",!0),B.add("esri-deprecation-warnings",!0),B.add("esri-tests-disable-screenshots",!1),B.add("esri-tests-use-full-window",!1),B.add("esri-tests-post-to-influx",!0),B.add("esri-cim-animations-enable-status","enabled"),B.add("esri-cim-animations-spotlight",!1),B.add("esri-cim-animations-freeze-time",!1),B.add("enable-feature:multiple-highlights",!0),(()=>{var t;B.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const e=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(B.add("host-browser",e),B.add("host-node",typeof globalThis.process=="object"&&((t=globalThis.process.versions)==null?void 0:t.node)&&globalThis.process.versions.v8),B.add("dom",e),B("host-browser")){const i=navigator,r=i.userAgent,s=i.appVersion,n=parseFloat(s);if(B.add("wp",parseFloat(r.split("Windows Phone")[1])||void 0),B.add("msapp",parseFloat(r.split("MSAppHost/")[1])||void 0),B.add("khtml",s.includes("Konqueror")?n:void 0),B.add("edge",parseFloat(r.split("Edge/")[1])||void 0),B.add("opr",parseFloat(r.split("OPR/")[1])||void 0),B.add("webkit",!B("wp")&&!B("edge")&&parseFloat(r.split("WebKit/")[1])||void 0),B.add("chrome",!B("edge")&&!B("opr")&&parseFloat(r.split("Chrome/")[1])||void 0),B.add("android",!B("wp")&&parseFloat(r.split("Android ")[1])||void 0),B.add("safari",!s.includes("Safari")||B("wp")||B("chrome")||B("android")||B("edge")||B("opr")?void 0:parseFloat(s.split("Version/")[1])),B.add("mac",s.includes("Macintosh")),!B("wp")&&/(iPhone|iPod|iPad)/.test(r)){const a=RegExp.$1.replace(/P/,"p"),u=/OS ([\d_]+)/.test(r)?RegExp.$1:"1",d=parseFloat(u.replace(/_/,".").replaceAll("_",""));B.add(a,d),B.add("ios",d)}B("webkit")||(!r.includes("Gecko")||B("wp")||B("khtml")||B("edge")||B.add("mozilla",n),B("mozilla")&&B.add("ff",parseFloat(r.split("Firefox/")[1]||r.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),i=/iPhone/i.test(e);t&&B.add("esri-mobile",t),i&&B.add("esri-iPhone",i),B.add("esri-geolocation",!!navigator.geolocation)}B.add("esri-wasm","WebAssembly"in globalThis),B.add("esri-performance-mode-frames-between-render",20),B.add("esri-force-performance-mode",!1),B.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in globalThis,t=globalThis.crossOriginIsolated===!1;return e&&!t}),B.add("wasm-simd",()=>{const e=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(e))}),B.add("esri-atomics","Atomics"in globalThis),B.add("esri-workers","Worker"in globalThis),B.add("web-feat:cache","caches"in globalThis),B.add("esri-workers-arraybuffer-transfer",!B("safari")||Number(B("safari"))>=12),B.add("workers-pool-size",8),B.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),B.add("featurelayer-simplify-payload-size-factors",[1,1,4]),B.add("featurelayer-fast-triangulation-enabled",!0),B.add("featurelayer-animation-enabled",!0),B.add("featurelayer-snapshot-enabled",!0),B.add("featurelayer-snapshot-point-min-threshold",8e4),B.add("featurelayer-snapshot-point-max-threshold",4e5),B.add("featurelayer-snapshot-point-coverage",.1),B.add("featurelayer-query-max-depth",4),B.add("featurelayer-query-pausing-enabled",!1),B.add("featurelayer-advanced-symbols",!1),B.add("featurelayer-pbf",!0),B.add("featurelayer-pbf-statistics",!1),B.add("feature-layers-workers",!0),B.add("feature-polyline-generalization-factor",1),B.add("mapview-transitions-duration",200),B.add("mapview-essential-goto-duration",200),B.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),B.add("mapserver-pbf-version-support",10.81),B.add("mapservice-popup-identify-max-tolerance",20),B.add("request-queue-concurrency-hosted",16),B.add("request-queue-concurrency-non-hosted",4),B.add("curve-densification-coarse-segments",128),B.add("curve-densification-max-segments",2e3),B.add("curve-densification-min-segments",3),B.add("curve-densification-pixels-per-segment",16),B.add("view-readyState-waiting-delay",1e3),B.add("gradient-depth-bias",.01),B.add("gradient-depth-epsilon",1e-8),B("host-webworker")||B("host-browser")&&(B.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),B.add("esri-image-decode",()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then(()=>{B.add("esri-image-decode",!0,!0,!0)}).catch(()=>{B.add("esri-image-decode",!1,!0,!0)})}return!1}),B.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")}))})();const Jk=new WeakMap;function tK(e,t,i=!1){const r=`🛑 DEPRECATED - ${t}`;if(!i)return void e.warn(r);let s=Jk.get(e);s||(s=new Set,Jk.set(e,s)),s.has(t)||(s.add(t),e.warn(r))}function iK(e,t,i={}){if(B("esri-deprecation-warnings")){const{moduleName:r}=i;J0(e,`Function: ${(r?r+"::":"")+t+"()"}`,i)}}function rK(e,t,i={}){if(B("esri-deprecation-warnings")){const{moduleName:r}=i;J0(e,`Property: ${(r?r+"::":"")+t}`,i)}}function sK(e,t,i={}){B("esri-deprecation-warnings")&&J0(e,`Multiple argument constructor: ${t}`,{warnOnce:!0,replacement:`new ${t}({ <your properties here> })`,...i})}function J0(e,t,i={}){if(B("esri-deprecation-warnings")){const{replacement:r,version:s,see:n,warnOnce:a}=i;let u=t;if(r&&(u+=`
	🛠️ Replacement: ${r}`),s&&(u+=`
	⚙️ Version: ${s}`),n)if(Array.isArray(n)){u+=`
	🔗 See for more details:`;for(const d of n)u+=`
		${d}`}else u+=`
	🔗 See ${n} for more details.`;tK(e,u,a)}}function IMe(e){const t=[];return function*(){yield*t;for(const i of e)t.push(i),yield i}}function nK(e,t){for(const i of e)if(i!=null&&t(i))return i}function tS(e){return e!=null&&typeof e[Symbol.iterator]=="function"}let fm=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach(i=>{t+=i.length}),t}add(t,i){if(tS(t)){const r=this._getOrCreateGroup(i);for(const s of t)Qk(s)&&r.push(s)}else Qk(t)&&this._getOrCreateGroup(i).push(t);return this}forEach(t,i){if(typeof t=="function")this._groups.forEach(r=>r.forEach(t));else{const r=this._getGroup(t);r&&i&&r.forEach(i)}}has(t){return this._groups.has(Rb(t))}remove(t){if(typeof t!="string"&&tS(t)){for(const i of t)this.remove(i);return this}return this.has(t)?(Xk(this._getGroup(t)),this._groups.delete(Rb(t)),this):this}removeAll(){return this._groups.forEach(Xk),this._groups.clear(),this}removeReference(t){return this._groups.delete(t),this}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const i=[];return this._groups.set(Rb(t),i),i}_getGroup(t){return this._groups.get(Rb(t))}};function Rb(e){return e||"_default_"}function Xk(e){for(const t of e)t instanceof fm?t.removeAll():t.remove()}function Qk(e){return e!=null&&(!!e.remove||e instanceof fm)}function PMe(e){}function oK(e){return()=>e}function LMe(e){return e}let Nw=class Kc{constructor(t=1){this._seed=t}set seed(t){this._seed=t??Math.random()*Kc._m}getInt(){return this._seed=(Kc._a*this._seed+Kc._c)%Kc._m,this._seed}getFloat(){return this.getInt()/(Kc._m-1)}getIntRange(t,i){return Math.round(this.getFloatRange(t,i))}getFloatRange(t,i){const r=i-t;return t+this.getInt()/Kc._m*r}};Nw._m=2147483647,Nw._a=48271,Nw._c=0;const aK=1.5,DMe=1/aK,kMe=.5;function FMe(e,t){return t?e.filter((i,r,s)=>s.findIndex(t.bind(null,i))===r):Array.from(new Set(e))}function v2(e,t,i){if(e==null&&t==null)return!0;if(e==null||t==null||e.length!==t.length)return!1;if(i){for(let r=0;r<e.length;r++)if(!i(e[r],t[r]))return!1}else for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function Kk(e,t,i){let r,s;return i?(r=t.filter(n=>!e.some(a=>i(a,n))),s=e.filter(n=>!t.some(a=>i(a,n)))):(r=t.filter(n=>!e.includes(n)),s=e.filter(n=>!t.includes(n))),{added:r,removed:s}}function jMe(e){return e&&typeof e.length=="number"}let OU=class{constructor(){this.last=0}};const RU=new OU;function zM(e,t,i,r){r=r||RU;const s=Math.max(0,r.last-10);for(let a=s;a<i;++a)if(e[a]===t)return r.last=a,a;const n=Math.min(s,i);for(let a=0;a<n;++a)if(e[a]===t)return r.last=a,a;return-1}function lK(e,t,i,r){const s=e.length,n=zM(e,t,s,r);if(n!==-1)return e[n]=e[s-1],e.pop(),t}const In=new Set;function uK(e,t,i=e.length,r=t.length,s,n){if(r===0||i===0)return i;In.clear();for(let u=0;u<r;++u)In.add(t[u]);s=s||RU;const a=Math.max(0,s.last-10);for(let u=a;u<i;++u)if(In.has(e[u])&&(n==null||n.push(e[u]),In.delete(e[u]),e[u]=e[i-1],--i,--u,In.size===0||i===0))return In.clear(),i;for(let u=0;u<a;++u)if(In.has(e[u])&&(n==null||n.push(e[u]),In.delete(e[u]),e[u]=e[i-1],--i,--u,In.size===0||i===0))return In.clear(),i;return In.clear(),i}function zMe(e,t,i){const r=e.length;if(t>=r)return e.slice();const s=CU(i),n=new Set,a=[];for(;a.length<t;){const u=Math.floor(s()*r);n.has(u)||(n.add(u),a.push(e[u]))}return a}function CU(e){return e?(e4.seed=e,()=>e4.getFloat()):Math.random}const e4=new Nw;function VMe(e,t){const i=CU(t);for(let r=e.length-1;r>0;r--){const s=Math.floor(i()*(r+1)),n=e[r];e[r]=e[s],e[s]=n}return e}function IU(e,t){const i=e.indexOf(t);return i!==-1?(e.splice(i,1),t):null}function Ju(e,t){return e!=null}const GMe=[];function qMe(e){return e instanceof ArrayBuffer}function _C(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Int8Array"}function NU(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint8Array"}function PU(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint8ClampedArray"}function SC(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Int16Array"}function LU(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint16Array"}function TC(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Int32Array"}function DU(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint32Array"}function b2(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Float32Array"}function w2(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Float64Array"}function cK(e){return"buffer"in e}const kU=1024;function BMe(e){return w2(e)||b2(e)||TC(e)||SC(e)||_C(e)}function HMe(e){return w2(e)||b2(e)}function WMe(e){return w2(e)?179769e303:b2(e)?3402823e32:DU(e)?4294967295:LU(e)?65535:NU(e)||PU(e)?255:TC(e)?2147483647:SC(e)?32767:_C(e)?127:256}function dK(e,t){let i;for(i in e)e.hasOwnProperty(i)&&e[i]===void 0&&delete e[i];return e}function j(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=UU(e);if(t!=null)return t;if(iS(e))return e.clone();if(FU(e))return e.map(j);if(jU(e))throw new Error("Trying to clone an unclonable Accessor instance");const i={};for(const r of Object.getOwnPropertyNames(e))i[r]=j(e[r]);return i}function VM(e){if(!e||typeof e!="object"||typeof e=="function"||"HTMLElement"in globalThis&&e instanceof HTMLElement)return e;const t=UU(e);if(t!=null)return t;if(FU(e)){let r=!0;const s=e.map(n=>{const a=VM(n);return n!=null&&a==null&&(r=!1),a});return r?s:null}if(iS(e))return e.clone();if(e instanceof File||e instanceof Blob)return e;if(jU(e))return null;const i=new(Object.getPrototypeOf(e)).constructor;for(const r of Object.getOwnPropertyNames(e)){const s=e[r],n=VM(s);if(s!=null&&n==null)return null;i[r]=n}return i}function iS(e){return typeof e.clone=="function"}function FU(e){return typeof e.map=="function"&&typeof e.forEach=="function"}function jU(e){return typeof e.notifyChange=="function"&&typeof e.watch=="function"}function t4(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function UU(e){if(_C(e)||NU(e)||PU(e)||SC(e)||LU(e)||TC(e)||DU(e)||b2(e)||w2(e))return e.slice();if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;for(const[i,r]of e)t.set(i,j(r));return t}if(e instanceof Set){const t=new Set;for(const i of e)t.add(j(i));return t}return null}function EC(e,t){return e===t||typeof e=="number"&&isNaN(e)&&typeof t=="number"&&isNaN(t)||typeof(e==null?void 0:e.getTime)=="function"&&typeof(t==null?void 0:t.getTime)=="function"&&e.getTime()===t.getTime()||!1}function zU(e,t){return e===t||(e==null||typeof e=="string"?e===t:typeof e=="number"?e===t||typeof t=="number"&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&v2(e,t):e instanceof Set?t instanceof Set&&pK(e,t):e instanceof Map?t instanceof Map&&fK(e,t):!!t4(e)&&t4(t)&&hK(e,t))}function hK(e,t){if(e===null||t===null)return!1;const i=Object.keys(e);if(t===null||Object.keys(t).length!==i.length)return!1;for(const r of i)if(e[r]!==t[r]||!Object.prototype.hasOwnProperty.call(t,r))return!1;return!0}function pK(e,t){if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}function fK(e,t){if(e.size!==t.size)return!1;for(const[i,r]of e){const s=t.get(i);if(s!==r||s===void 0&&!t.has(i))return!1}return!0}function $C(e,t,i=!1){return GU(e,t,i)}function _2(e,t){if(t!=null)return t[e]||VU(e.split("."),!1,t)}function ir(e,t,i){const r=e.split("."),s=r.pop(),n=VU(r,!0,i);n&&s&&(n[s]=t)}function i4(e,t){if(e==null&&t==null)return!1;if(e==null||t==null)return!0;if(typeof e=="object"){if(Array.isArray(e)){const i=t;if(e.length!==i.length)return!0;for(let r=0;r<e.length;r++)if(i4(e[r],i[r]))return!0;return!1}if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const i in e)if(i4(e[i],t[i]))return!0;return!1}return e!==t}function VU(e,t,i){let r=i;for(const s of e){if(r==null)return;if(!(s in r)){if(!t)return;r[s]={}}r=r[s]}return r}function GU(e,t,i){return t?Object.keys(t).reduce((r,s)=>{let n=r[s],a=t[s];return n===a?r:n===void 0?(r[s]=j(a),r):(Array.isArray(a)||Array.isArray(r)?(n=n?Array.isArray(n)?r[s]=n.slice():r[s]=[n]:r[s]=[],a&&(Array.isArray(a)||(a=[a]),i?a.forEach(u=>{n.includes(u)||n.push(u)}):r[s]=a.slice())):a&&typeof a=="object"?r[s]=GU(n,a,i):r.hasOwnProperty(s)&&!t.hasOwnProperty(s)||(r[s]=a),r)},e||{}):e}var SU;const bt={apiKey:void 0,applicationName:"",applicationUrl:(SU=globalThis.location)==null?void 0:SU.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&($C(bt,globalThis.esriConfig,!0),delete bt.has),!bt.assetsPath){{const e="4.32";bt.assetsPath=`https://js.arcgis.com/${e}/@arcgis/core/assets`}bt.defaultAssetsPath=bt.assetsPath}const mK=/\{([^}]+)\}/g;function r4(e){return e??""}function S2(e,t){return t?e.replaceAll(mK,typeof t=="object"?(i,r)=>r4(_2(r,t)):(i,r)=>r4(t(r))):e}function ZMe(e,t){return e.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,i=>t!=null&&t.includes(i)?i:`\\${i}`)}function qU(e){let t=0;for(let i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return t}let s4;function YMe(e){return s4??(s4=new DOMParser),s4.parseFromString(e||"","text/html").body.innerText||""}function JMe(e,t){return new RegExp(`{${t}}`,"ig").test(e)}function XMe(e,...t){let i=e[0];for(let r=0;r<t.length;++r)i+=t[r]+e[r+1];return i}const n4={info:0,warn:1,error:2,none:3};let ne=class $s{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,$s._loggers.set(this.module,this);const i=this.module.lastIndexOf(".");i!==-1&&(this._parent=$s.getLogger(this.module.slice(0,i)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){}static get test(){}static getLogger(t){return t=typeof t!="string"?t.declaredClass:t,$s._loggers.get(t)||new $s({module:t})}_log(t,i,...r){if(this._matchLevel(t)){if(i!=="always"&&!$s._throttlingDisabled){const s=gK(r),n=this._loggedMessages[t].get(s);if(i==="once"&&n!=null||i==="oncePerTick"&&n&&n>=$s._tickCounter)return;this._loggedMessages[t].set(s,$s._tickCounter),$s._scheduleTickCounterIncrement()}for(const s of bt.log.interceptors)if(s(t,this.module,...r))return;this._inheritedWriter()(t,this.module,...r)}}_parentWithMember(t,i){let r=this;for(;r!=null;){const s=r[t];if(s!=null)return s;r=r.parent}return i}_inheritedWriter(){return this._parentWithMember("writer",yK)}_matchLevel(t){const i=bt.log.level||"warn";return n4[this._parentWithMember("level",i)]<=n4[t]}static _scheduleTickCounterIncrement(){$s._tickCounterScheduled||($s._tickCounterScheduled=!0,Promise.resolve().then(()=>{$s._tickCounter++,$s._tickCounterScheduled=!1}))}};function yK(e,t,...i){console[e](`[${t}]`,...i)}function gK(...e){return qU(JSON.stringify(e,(i,r)=>typeof r!="object"||Array.isArray(r)?r:"[Object]"))}ne._loggers=new Map,ne._tickCounter=0,ne._tickCounterScheduled=!1,ne._throttlingDisabled=!1;function BU(e,t){if(e==null)throw new Error(t??"value is None")}function Zt(e){return e==null||e.destroy(),null}function QMe(e){return e==null||e.dispose(),null}function Yt(e){return e==null||e.remove(),null}function Zf(e){return e==null||e.abort(),null}function KMe(e){return e==null||e.release(),null}function vK(e,t,i){return e!=null&&t!=null?i!=null?i(e,t):e.equals(t):e===t}function bK(e,t){let i;return e.some((r,s)=>(i=t(r,s),i!=null)),i??void 0}const HU=Symbol("Accessor-beforeDestroy"),wK={remove:()=>{}};function pt(e){return e?{remove(){e&&(e(),e=void 0)}}:wK}function WU(e){e.forEach(t=>t==null?void 0:t.remove())}function e3e(e){WU(e),e.length=0}function Av(e){return pt(()=>WU(e))}function t3e(e){return pt(()=>{var t;return(t=e())==null?void 0:t.remove()})}function i3e(e){return pt(()=>e==null?void 0:e.abort())}function _K(e){return pt(e!=null?()=>e.destroy():void 0)}function ps(e){return e.__accessor__??null}function SK(e,t){var i;return((i=e==null?void 0:e.metadata)==null?void 0:i[t])!=null}function Pw(e,t,i){return i?rS(e,t,{policy:i,path:""}):rS(e,t,null)}function rS(e,t,i){return t?Object.keys(t).reduce((r,s)=>{const n=s;let a=null,u="merge";if(i&&(a=i.path?`${i.path}.${s}`:s,u=i.policy(a)),u==="replace"||u==="replace-arrays"&&Array.isArray(r[n]))return r[n]=t[n],r;if(r[n]===void 0)return r[n]=j(t[n]),r;let d=r[n],f=t[n];if(d===f)return r;if(Array.isArray(f)||Array.isArray(r))d=d?Array.isArray(d)?r[n]=d.slice():r[n]=[d]:r[n]=[],f&&(Array.isArray(f)||(f=[f]),f.forEach(g=>{d.includes(g)||d.push(g)}));else if(f&&typeof f=="object")if(i){const g=i.path;i.path=a,r[n]=rS(d,f,i),i.path=g}else r[n]=rS(d,f,null);else r.hasOwnProperty(s)&&!t.hasOwnProperty(s)||(r[n]=f);return r},e||{}):e}function ZU(e){return Array.isArray(e)?e:e.split(".")}function o4(e){return e.includes(",")?e.split(",").map(t=>t.trim()):[e.trim()]}function TK(e){if(Array.isArray(e)){const t=[];for(const i of e)t.push(...o4(i));return t}return o4(e)}function YU(e,t,i,r){const s=TK(t);if(s.length!==1){const n=s.map(a=>r(e,a,i));return Av(n)}return r(e,s[0],i)}function JU(e,t){const i=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const s=parseInt(i,10);if(!isNaN(s))return Array.isArray(t)?t[s]:t.at(s)}const r=ps(t);return SK(r,i)?r.get(i):t[i]}function XU(e,t,i){if(e==null)return e;const r=JU(t[i],e);return!r&&i<t.length-1?void 0:i===t.length-1?r:XU(r,t,i+1)}function Ov(e,t,i=0){return typeof t!="string"||t.includes(".")?XU(e,ZU(t),i):JU(t,e)}function Ho(e,t){return Ov(e,t)}function a4(e,t){return Ov(t,e)!==void 0}var us;(function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CONSTRUCTING=1]="CONSTRUCTING",e[e.CONSTRUCTED=2]="CONSTRUCTED",e[e.DESTROYED=3]="DESTROYED"})(us||(us={}));function Rv(e){let t=e.constructor.__accessorMetadata__;const i=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!i){t=Object.create(t);for(const r in t)t[r]=j(t[r]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function T2(e,t){const i=Rv(e);let r=i[t];return r||(r=i[t]={}),r}function EK(e,t){return Pw(e,t,xK)}const $K=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function xK(e){return $K.test(e)?"replace":"merge"}function MK(e){return(e==null?void 0:e.release)&&typeof e.release=="function"}function AK(e){return(e==null?void 0:e.acquire)&&typeof e.acquire=="function"}let vh=class GM{constructor(t,i,r,s=1,n=0){this._ctor=t,this._acquireFunction=i,this._releaseFunction=r,this.allocationSize=s,this._pool=new Array(n),this._initialSize=n;for(let a=0;a<n;a++)this._pool[a]=new this._ctor;this.allocationSize=Math.max(s,1)}destroy(){this.prune(0)}acquire(...t){let i;if(GM.test.disabled)i=new this._ctor;else{if(this._pool.length===0){const r=this.allocationSize;for(let s=0;s<r;s++)this._pool[s]=new this._ctor}i=this._pool.pop()}return this._acquireFunction?this._acquireFunction(i,...t):AK(i)&&i.acquire(...t),i}release(t){t&&!GM.test.disabled&&(this._releaseFunction?this._releaseFunction(t):MK(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let i=t;i<this._pool.length;++i){const r=this._pool[i];this._dispose(r)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}};vh.test={disabled:!1};let OK=class{constructor(t,i){this._observers=t,this._observer=i}remove(){IU(this._observers,this._observer)}},QU=class{constructor(){this._observers=null,this.destroyed=!1}observe(t){if(this.destroyed||t.destroyed)return RK;this._observers==null&&(this._observers=[]);const i=this._observers;let r=!1,s=!1;const n=i.length;for(let a=0;a<n;++a){const u=i[a];if(u.destroyed)s=!0;else if(u===t){r=!0;break}}return r||(i.push(t),s&&this._removeDestroyedObservers()),new OK(i,t)}_removeDestroyedObservers(){const t=this._observers;if(!t||t.length===0)return;const i=t.length;let r=0;for(let s=0;s<i;++s){for(;s+r<i&&t[s+r].destroyed;)++r;if(r>0){if(!(s+r<i))break;t[s]=t[s+r]}}t.length=i-r}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this._observers;if(t!=null){for(const i of t)i.onCommitted();this._observers=null}}};const RK=pt();var Qe;(function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.LINK_CHART=6]="LINK_CHART",e[e.USER=7]="USER"})(Qe||(Qe={}));const qM=Qe.USER+1;function Fu(e){switch(e){case"defaults":return Qe.DEFAULTS;case"service":return Qe.SERVICE;case"portal-item":return Qe.PORTAL_ITEM;case"web-scene":return Qe.WEB_SCENE;case"web-map":return Qe.WEB_MAP;case"link-chart":return Qe.LINK_CHART;case"user":return Qe.USER;default:return null}}function sS(e){switch(e){case Qe.DEFAULTS:return"defaults";case Qe.SERVICE:return"service";case Qe.PORTAL_ITEM:return"portal-item";case Qe.WEB_SCENE:return"web-scene";case Qe.WEB_MAP:return"web-map";case Qe.LINK_CHART:return"link-chart";case Qe.USER:return"user"}}function CK(e){return sS(e)}var St;(function(e){e[e.Dirty=1]="Dirty",e[e.Overridden=2]="Overridden",e[e.Computing=4]="Computing",e[e.NonNullable=8]="NonNullable",e[e.HasDefaultValue=16]="HasDefaultValue",e[e.DepTrackingInitialized=32]="DepTrackingInitialized",e[e.AutoTracked=64]="AutoTracked",e[e.ExplicitlyTracking=128]="ExplicitlyTracking"})(St||(St={}));let E2=class{constructor(t){this.accessed=void 0,this._handles=void 0,this._observer=t}destroy(){var t;(t=this.accessed)==null||t.clear(),this.clear()}onAccessed(t){this._observer!=null&&t!==this._observer&&(this.accessed==null&&(this.accessed=new Set),this.accessed.add(t))}onTrackingEnd(){this._observer!=null&&(this.clear(),this.accessed!=null&&(this._handles==null&&(this._handles=[]),this.accessed.forEach(t=>{this._handles.push(t.observe(this._observer))}),this.accessed.clear()))}clear(){if(this._handles!=null){for(let t=0;t<this._handles.length;++t)this._handles[t].remove();this._handles.length=0}}};const nS=new E2,cg=[];let _0=nS;function Pe(e){_0.onAccessed(e)}let Lw=!1,Dw=!1;function ul(e,t,i){if(Lw)return xC(e,t,i);let r=null;return KU(e),r=t.call(i),ez(),r}function IK(e,t){return ul(nS,e,t)}function xC(e,t,i){const r=Lw;Lw=!0,KU(e);let s=null;try{s=t.call(i)}catch(n){Dw&&ne.getLogger("esri.core.accessorSupport.tracking").error(n)}return ez(),Lw=r,s}function KU(e){_0=e,cg.push(e)}function ez(){const e=cg.length;if(e>1){const t=cg.pop();_0=cg[e-2],t.onTrackingEnd()}else if(e===1){const t=cg.pop();_0=nS,t.onTrackingEnd()}else _0=nS}function tz(e,t){if(t.flags&St.DepTrackingInitialized)return;t.flags|=St.DepTrackingInitialized;const i=Dw;Dw=!1,t.flags&St.AutoTracked?xC(t.trackingTarget,t.metadata.get,e):iz(e,t),Dw=i}const NK=[];function iz(e,t){t.flags&St.ExplicitlyTracking||(t.flags|=St.ExplicitlyTracking,xC(t.trackingTarget,()=>{const i=t.metadata.dependsOn||NK;for(const r of i)if(typeof r!="string"||r.includes(".")){const s=ZU(r);for(let n=0,a=e;n<s.length&&a!=null&&typeof a=="object";++n)a=l4(a,s[n],n!==s.length-1)}else l4(e,r,!1)}),t.flags&=~St.ExplicitlyTracking)}function l4(e,t,i){const r=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const n=parseInt(r,10);if(!isNaN(n))return Array.isArray(e)?e[n]:e.at(n)}const s=ps(e);if(s){const n=s.propertiesByName.get(r);n&&(Pe(n),tz(e,n))}return i?e[r]:void 0}let u4=class extends QU{constructor(t,i){super(),this.propertyName=t,this.metadata=i,this.trackingTarget=new E2(this),this.flags=0,this.flags=St.Dirty|(i.nonNullable?St.NonNullable:0)|(i.hasOwnProperty("value")?St.HasDefaultValue:0)|(i.get===void 0?St.DepTrackingInitialized:0)|(i.dependsOn===void 0?St.AutoTracked:0)}destroy(){this.flags&St.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(t){t.mutable&&Pe(this);const i=t.store,r=this.propertyName,s=this.flags,n=i.get(r);if(s&St.Computing||~s&St.Dirty&&i.has(r))return n;this.flags|=St.Computing;const a=t.host;let u;s&St.AutoTracked?u=ul(this.trackingTarget,this.metadata.get,a):(iz(a,this),u=this.metadata.get.call(a)),this.flags|=St.DepTrackingInitialized,i.set(r,u,Qe.COMPUTED);const d=i.get(r);return d===n?this.flags&=~St.Dirty:IK(this.commit,this),this.flags&=~St.Computing,d}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~St.Dirty,this.onCommitted()}onInvalidated(){~this.flags&St.Overridden&&(this.flags|=St.Dirty);const t=this._observers;if(t&&t.length>0)for(const i of t)i.onInvalidated()}onCommitted(){const t=this._observers;if(t&&t.length>0){const i=t.slice();for(const r of i)r.onCommitted()}}},PK=class rz{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const i=new rz;return this._values.forEach((r,s)=>{t&&t.has(s)||i.set(s,j(r))}),i}get(t){return this._values.get(t)}originOf(){return Qe.USER}keys(){return[...this._values.keys()]}set(t,i){this._values.set(t,i)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}forEach(t){this._values.forEach(t)}};function Cb(e,t,i){return e!==void 0}function c4(e,t,i,r){return e!==void 0&&(!(i==null&&e.flags&St.NonNullable)||(r.lifecycle,us.INITIALIZING,!1))}let LK=class{constructor(t){this.host=t,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=us.INITIALIZING,this.store=new PK,this.mutable=!0,this._origin=Qe.USER;const i=this.host.constructor.__accessorMetadata__;for(const r in i){const s=new u4(r,i[r]);this.propertiesByName.set(r,s)}this.metadata=i}initialize(){this.lifecycle=us.CONSTRUCTING}constructed(){this.lifecycle=us.CONSTRUCTED}destroy(){this.lifecycle=us.DESTROYED,this.propertiesByName.forEach(t=>t.destroy())}get initialized(){return this.lifecycle!==us.INITIALIZING}get(t){const i=this.propertiesByName.get(t);if(i.metadata.get)return i.getComputed(this);this.mutable&&Pe(i);const r=this.store;return r.has(t)?r.get(t):i.metadata.value}originOf(t){const i=this.store.originOf(t);if(i===void 0){const r=this.propertiesByName.get(t);if(r!==void 0&&r.flags&St.HasDefaultValue)return"defaults"}return sS(i)}has(t){return this.propertiesByName.has(t)&&this.store.has(t)}keys(){return[...this.propertiesByName.keys()]}internalGet(t){const i=this.propertiesByName.get(t);if(Cb(i))return this.store.has(t)?this.store.get(t):i.metadata.value}internalSet(t,i){const r=this.propertiesByName.get(t);Cb(r)&&this._internalSet(r,i)}getDependsInfo(t,i,r){const s=this.propertiesByName.get(i);if(!Cb(s))return"";const n=new E2,a=ul(n,()=>{var f;return(f=s.metadata.get)==null?void 0:f.call(t)});let u=`${r}${t.declaredClass.split(".").pop()}.${i}: ${a}
`;const d=n.accessed??new Set;if(d.size===0)return u;r+="  ";for(const f of d)f instanceof u4&&(u+=`${r}${f.propertyName}: undefined
`);return u}setAtOrigin(t,i,r){const s=this.propertiesByName.get(t);if(Cb(s))return this._setAtOrigin(s,i,r)}isOverridden(t){const i=this.propertiesByName.get(t);return i!==void 0&&!!(i.flags&St.Overridden)}clearOverride(t){const i=this.propertiesByName.get(t);i&&i.flags&St.Overridden&&(i.flags&=~St.Overridden,i.notifyChange())}override(t,i){const r=this.propertiesByName.get(t);if(!c4(r,t,i,this))return;const s=r.metadata.cast;if(s){const n=this._cast(s,i),{valid:a,value:u}=n;if(ex.release(n),!a)return;i=u}r.flags|=St.Overridden,this._internalSet(r,i)}set(t,i){const r=this.propertiesByName.get(t);if(!c4(r,t,i,this))return;const s=r.metadata.cast;if(s){const a=this._cast(s,i),{valid:u,value:d}=a;if(ex.release(a),!u)return;i=d}const n=r.metadata.set;n?n.call(this.host,i):this._internalSet(r,i)}setDefaultOrigin(t){this._origin=Fu(t)}getDefaultOrigin(){return sS(this._origin)}notifyChange(t){const i=this.propertiesByName.get(t);i!==void 0&&i.notifyChange()}invalidate(t){const i=this.propertiesByName.get(t);i!==void 0&&i.invalidate()}commit(t){const i=this.propertiesByName.get(t);i!==void 0&&i.commit()}_internalSet(t,i){const r=this.lifecycle!==us.INITIALIZING?this._origin:Qe.DEFAULTS;this._setAtOrigin(t,i,r)}_setAtOrigin(t,i,r){const s=this.store,n=t.propertyName;s.has(n,r)&&EC(i,s.get(n))&&~t.flags&St.Overridden&&r===s.originOf(n)||(t.invalidate(),s.set(n,i,r),t.commit(),tz(this.host,t))}_cast(t,i){const r=ex.acquire();return r.valid=!0,r.value=i,t&&(r.value=t.call(this.host,i,r)),r}},DK=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const ex=new vh(DK);function kK(e,t){return e.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(i,r)=>r===""?"$":(_2(r,t)??"").toString())}let sz=class{constructor(t,i,r=void 0){this.name=t,this.details=r,this.message=(i&&kK(i,r))??""}toString(){return"["+this.name+"]: "+this.message}},z=class nz extends sz{constructor(t,i,r){super(t,i,r)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,i)=>{if(i&&typeof i=="object"&&typeof i.toJSON=="function")return i;try{return j(i)}catch{return"[object]"}}))}}catch(t){throw ne.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new nz(t.name,t.message,t.details)}};z.prototype.type="error";function oS(e,t,i){if(e&&t)if(typeof t=="object")for(const r of Object.getOwnPropertyNames(t))oS(e,r,t[r]);else{if(t.includes(".")){const s=t.split("."),n=s.splice(-1,1)[0];return void oS(Ho(e,s),n,i)}const r=e.__accessor__;r!=null&&FK(t,r),e[t]=i}}function FK(e,t){if(B("esri-unknown-property-errors")&&!jK(e,t))throw new z("set:unknown-property",UK(e,t))}function jK(e,t){return t.metadata[e]!=null}function UK(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}let zK;function VK(){return zK}var d4;(function(e){e[e.Ignore=0]="Ignore",e[e.Destroy=1]="Destroy",e[e.ThrowError=2]="ThrowError"})(d4||(d4={}));function GK(e){e.length=0}let Vr=class{constructor(t=50,i=50){this._pool=new vh(Array,void 0,GK,i,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return tx.acquire()}static release(t){return tx.release(t)}static prune(){tx.prune()}};const tx=new Vr(100);let oz=class extends vh{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...t){const i=super.acquire(...t);return this._set.delete(i),i}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}};const Ib=[];function aS(e){Ib.push(e),Ib.length===1&&queueMicrotask(()=>{const t=Ib.slice();Ib.length=0;for(const i of t)i()})}let S0=class{constructor(t,i=30){this.name=t,this._counter=0,this._samples=new Array(i)}push(t){t!=null&&(this._samples[++this._counter%this._samples.length]=t)}set(t){t!=null&&(this._samples[this._counter%this._samples.length]=t)}get median(){return this._samples.slice().sort((t,i)=>t-i)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((t,i)=>t+i,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};var BM;(function(e){const t=(n,a,u,d)=>{let f=a,g=a;const v=u>>>1,w=n[f-1];for(;g<=v;){g=f<<1,g<u&&d(n[g-1],n[g])<0&&++g;const S=n[g-1];if(d(S,w)<=0)break;n[f-1]=S,f=g}n[f-1]=w},i=(n,a)=>n<a?-1:n>a?1:0;function r(n,a,u,d){a===void 0&&(a=0),u===void 0&&(u=n.length),d===void 0&&(d=i);for(let g=u>>>1;g>a;g--)t(n,g,u,d);const f=a+1;for(let g=u-1;g>a;g--){const v=n[a];n[a]=n[g],n[g]=v,t(n,f,g,d)}}function*s(n,a,u,d){a===void 0&&(a=0),u===void 0&&(u=n.length),d===void 0&&(d=i);for(let g=u>>>1;g>a;g--)t(n,g,u,d),yield;const f=a+1;for(let g=u-1;g>a;g--){const v=n[a];n[a]=n[g],n[g]=v,t(n,f,g,d),yield}}e.sort=r,e.iterableSort=s})(BM||(BM={}));const h4=BM,qK=1.5,BK=1.1;let Jd=class{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new OU,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>p4(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const i=new Array;for(let r=0;r<this._length;r++){const s=this.data[r];t(s)&&i.push(s)}return i}at(t){if((t=Math.trunc(t)||0)<0&&(t+=this._length),!(t<0||t>=this._length))return this.data[t]}includes(t,i){const r=this.data.indexOf(t,i);return r!==-1&&r<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let i=t;i<this._length;++i)this.data[i]=this._deallocator(this.data[i]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,i=t.length){for(let r=0;r<i;r++)this.data[this._length++]=t[r]}fill(t,i){for(let r=0;r<i;r++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,p4(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const i=zM(this.data,t,this.length,this._hint);if(i!==-1)return this.data.splice(i,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex(zM(this.data,t,this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,i=t.length,r){this.length=uK(this.data,t,this.length,i,this._hint,r),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,i){if(t>=this.length||i>=this.length||t===i)return;const r=this.data[t];this.data[t]=this.data[i],this.data[i]=r}sort(t){h4.sort(this.data,0,this.length,t)}iterableSort(t){return h4.iterableSort(this.data,0,this.length,t)}some(t,i){for(let r=0;r<this.length;++r)if(t.call(i,this.data[r],r,this.data))return!0;return!1}find(t,i){const{data:r,length:s}=this;for(let n=0;n<s;++n)if(t.call(i,r[n]))return r[n]}filterInPlace(t,i){let r=0;for(let s=0;s<this._length;++s){const n=this.data[s];t.call(i,n,s,this.data)&&(this.data[s]=this.data[r],this.data[r]=n,r++)}if(this._deallocator)for(let s=r;s<this._length;s++)this.data[s]=this._deallocator(this.data[s]);return this._length=r,this._shrink(),this}forAll(t,i){const{data:r,length:s}=this;for(let n=0;n<s;++n)t.call(i,r[n],n,r)}forEach(t,i){this.data.slice(0,this.length).forEach(t,i)}map(t,i){const r=new Array(this.length);for(let s=0;s<this.length;++s)r[s]=t.call(i,this.data[s],s,this.data);return r}reduce(t,i){let r=i;for(let s=0;s<this.length;++s)r=t(r,this.data[s],s,this.data);return r}has(t){const i=this.length,r=this.data;for(let s=0;s<i;++s)if(r[s]===t)return!0;return!1}*[Symbol.iterator](){for(let t=0;t<this.length;t++)yield this.data[t]}};function p4(e){e.data.length>qK*e.length&&(e.data.length=Math.floor(e.length*BK))}function HK(e){return{setTimeout:(t,i)=>{const r=e.setTimeout(t,i);return pt(()=>e.clearTimeout(r))}}}const mm=HK(globalThis);function $2(e){return WK(e)||az(e)}function WK(e){return e!=null&&typeof e=="object"&&"on"in e&&typeof e.on=="function"}function az(e){return e!=null&&typeof e=="object"&&"addEventListener"in e&&typeof e.addEventListener=="function"}function Cv(e,t,i){if(!$2(e))throw new TypeError("target is not a Evented or EventTarget object");return az(e)?ZK(e,t,i):e.on(t,i)}function ZK(e,t,i,r){if(Array.isArray(t)){const s=t.slice();for(const n of s)e.addEventListener(n,i,r);return pt(()=>{for(const n of s)e.removeEventListener(n,i,r)})}return e.addEventListener(t,i,r),pt(()=>e.removeEventListener(t,i,r))}function lz(e,t,i){if(!$2(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,i);const r=Cv(e,t,s=>{r.remove(),i.call(e,s)});return r}function Dt(e="Aborted"){return new z("AbortError",e)}function ei(e,t="Aborted"){if(Us(e))throw Dt(t)}function Iv(e){return e instanceof AbortSignal?e:(e==null?void 0:e.signal)??void 0}function Us(e){const t=Iv(e);return t!=null&&t.aborted}function qo(e){if(Cr(e))throw e}function f4(e){if(!Cr(e))throw e}function yn(e,t){const i=Iv(e);if(i!=null){if(!i.aborted)return lz(i,"abort",()=>t());t()}}function MC(e,t){const i=Iv(e);if(i!=null)return ei(i),lz(i,"abort",()=>t(Dt()))}function uz(e,t){return Iv(t)==null?e:new Promise((i,r)=>{let s=yn(t,()=>r(Dt()));const n=()=>{s=Yt(s)};e.then(n,n),e.then(i,r)})}function Cr(e){return(e==null?void 0:e.name)==="AbortError"}async function X0(e){try{return await e}catch(t){if(!Cr(t))throw t;return}}async function AC(e){if(!e)return;if(typeof e.forEach!="function"){const i=Object.keys(e),r=i.map(a=>e[a]),s=await AC(r),n={};return i.map((a,u)=>n[a]=s[u]),n}const t=e;return Promise.allSettled(t).then(i=>Array.from(t,(r,s)=>{const n=i[s];return n.status==="fulfilled"?{promise:r,value:n.value}:{promise:r,error:n.reason}}))}async function YK(e){return(await Promise.allSettled(e)).filter(t=>t.status==="fulfilled").map(t=>t.value)}async function f3e(e){return(await Promise.allSettled(e)).filter(t=>t.status==="rejected").map(t=>t.reason)}function cz(e,t=void 0,i){const r=new AbortController;return yn(i,()=>r.abort()),new Promise((s,n)=>{let a=setTimeout(()=>{a=0,s(t)},e);yn(r,()=>{a&&(clearTimeout(a),n(Dt()))})})}function m3e(e,t,i,r){const s=i&&"abort"in i?i:null;r!=null||s||(r=i);let n=setTimeout(()=>{n=0,s==null||s.abort()},t);const a=()=>r||new z("promiseUtils:timeout","The wrapped promise did not resolve within "+t+" ms");return e.then(u=>{if(n===0)throw a();return clearTimeout(n),u},u=>{throw clearTimeout(n),n===0?a():u})}function JK(e,t){const i=new AbortController,r=setTimeout(()=>i.abort(),t);return yn(e,()=>{i.abort(),clearTimeout(r)}),{...e,signal:i.signal}}function ta(e){return e&&typeof e.then=="function"}function HM(e){return ta(e)?e:Promise.resolve(e)}function OC(e,t=-1){let i,r,s,n,a=null;const u=(...d)=>{if(i){r=d,n&&n.reject(Dt()),n=zs();const w=n.promise;if(a){const S=a;a=null,S.abort()}return w}if(s=n||zs(),n=null,t>0){const w=new AbortController;i=HM(e(...d,w.signal));const S=i;cz(t).then(()=>{i===S&&(n?w.abort():a=w)})}else i=1,i=HM(e(...d));const f=()=>{const w=r;r=s=i=a=null,w!=null&&u(...w)},g=i,v=s;return g.then(f,f),g.then(v.resolve,v.reject),v.promise};return u}function zs(){let e,t;const i=new Promise((s,n)=>{e=s,t=n}),r=s=>{e(s)};return r.resolve=s=>e(s),r.reject=s=>t(s),r.timeout=(s,n)=>mm.setTimeout(()=>r.reject(n),s),r.promise=i,r}async function m4(e){await Promise.resolve(),ei(e)}function y3e(e){return e}function XK(e){return 1e3*e}function g3e(e){return e}function v3e(e){return .001*e}let QK=class{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}},KK=class{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}},WM=0;const jy={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},ZM=["prepare","preRender","render","postRender","update","finish"],YM=[],nh=new Jd;let eee=class{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1,dz()}};function tee(){Xd!=null&&(cancelAnimationFrame(Xd),Xd=requestAnimationFrame(RC))}function dz(){Xd==null&&(WM=performance.now(),Xd=requestAnimationFrame(RC))}const lS={frameTasks:nh,willDispatch:!1,clearFrameTasks:iee,dispatch:pz,executeFrameTasks:ree,reschedule:tee};function Nv(e){const t=new KK(e);return YM.push(t),lS.willDispatch||(lS.willDispatch=!0,aS(pz)),t}function Yf(e){const t=new QK(e);return nh.push(t),dz(),new eee(t)}let Xd=null;function iee(e=!1){nh.forAll(t=>{t.removed=!0}),e&&hz()}function RC(){const e=performance.now();Xd=null,Xd=nh.some(i=>!i.paused&&!i.removed)?requestAnimationFrame(RC):null,lS.executeFrameTasks(e)}function ree(e){const t=e-WM;WM=e;const i=1e3/60,r=Math.max(0,t-i);jy.time=e,jy.frameDuration=i-r;for(let s=0;s<ZM.length;s++){const n=performance.now(),a=ZM[s];nh.forAll(u=>{var d;u.paused||u.removed||(s===0&&u.ticks++,u.phases[a]&&(jy.elapsedFrameTime=performance.now()-e,jy.deltaTime=u.ticks===0?0:t,(d=u.phases[a])==null||d.call(u,jy)))}),aee[s].push(performance.now()-n)}hz(),lee.push(performance.now()-e)}const Nb=new Jd;function hz(){nh.forAll(e=>{e.removed&&Nb.push(e)}),nh.removeUnorderedMany(Nb.data,Nb.length),Nb.clear()}function pz(){for(;YM.length;){const e=YM.shift();e.isActive&&e.callback()}lS.willDispatch=!1}function see(e=1,t){const i=zs(),r=()=>{Us(t)?i.reject(Dt()):e===0?i():(--e,aS(()=>r()))};return r(),i.promise}function nee(e){return see(1,e)}async function oee(e){await nee(e),await new Promise(t=>requestAnimationFrame(()=>{e!=null&&e.aborted||t()}))}const aee=ZM.map(e=>new S0(e)),lee=new S0("total");function fz(e,t){for(const i of e.values())if(t(i))return!0;return!1}function uS(e,t){if(!t)return e;for(const i of t)i!=null&&e.add(i);return e}function y4(e,t){return t!=null&&e.add(t),e}function CC(e,t){const i=new Set;return uS(i,e),uS(i,t),i}function uee(e,t){const i=new Set;for(const r of t)e.has(r)&&i.add(r);return i}function S3e(e,t){if(!e||!t)return!1;if(e===t)return!0;for(const i of e)if(!t.has(i))return!1;return!0}function T3e(e,t){if(e==null&&t==null)return!0;if(e==null||t==null||e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}function cee(e,t){const i=new Set(e);for(const r of t)i.delete(r);return i}function dee(e,t){return cee(CC(e,t),uee(e,t))}let hee=0;function kw(){return++hee}let x2=class extends E2{constructor(t){super(new pee(t)),this._observer&&g4.register(this,new WeakRef(this._observer),this)}destroy(){var t,i;this._observer&&g4.unregister(this._observer),(t=this.accessed)==null||t.clear(),this.clear(),(i=this._observer)==null||i.destroy()}},pee=class{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}destroy(){this.destroyed=!0,this._notify=fee}};const g4=new FinalizationRegistry(e=>{var t;(t=e.deref())==null||t.destroy()});function fee(){}let Of=!1;const cS=[];function mz(e,t){let i=new x2(n),r=null,s=!1;function n(){if(!i||s)return;if(Of)return void vz(n);const u=r;i.clear(),Of=!0,s=!0,r=ul(i,e),s=!1,Of=!1,t(r,u),bz()}function a(){i&&(i.destroy(),i=null,r=null)}return s=!0,r=ul(i,e),s=!1,pt(a)}function yz(e,t){let i=new x2(s),r=null;function s(){t(r,a)}function n(){i&&(i.destroy(),i=null),r=null}function a(){return i?(i.clear(),r=ul(i,e),r):null}return a(),pt(n)}function gz(e,t){let i=!1,r=!1;const s=!!(t!=null&&t.sync);let n=new x2(()=>{i||r||(r=!0,s?a():queueMicrotask(a))});function a(){r=!1,n&&!i&&(Of?vz(a):(n.clear(),Of=!0,i=!0,ul(n,e),i=!1,Of=!1,bz()))}function u(){n&&(n.destroy(),n=null)}return i=!0,ul(n,e),i=!1,pt(u)}function vz(e){cS.includes(e)||cS.unshift(e)}function bz(){for(;cS.length;)cS.pop()()}var T0;(function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"})(T0||(T0={}));let Q0=class{constructor(){this.uid=kw(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,i,r,s,n){return this.pool.acquire(T0.Untracked,t,i,r,s,n,EC)}static acquireTracked(t,i,r,s){return this.pool.acquire(T0.Tracked,t,i,r,null,null,s)}notify(t,i){this.type===T0.Untracked?this.callback.call(this.target,t,i,this.path,this.target):this.callback.call(null,t,i,void 0,void 0)}acquire(t,i,r,s,n,a,u){this.uid=kw(),this.removed=!1,this.type=t,this.oldValue=i,this.callback=r,this.getValue=s,this.target=n,this.path=a,this.equals=u}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=kw(),this.removed=!0}};Q0.pool=new oz(Q0);const Fw=new Vr,sl=new Set;let dS;function hS(e){sl.delete(e),sl.add(e),dS||(dS=Nv(gee))}function mee(e){if(e.removed)return;const t=e.oldValue,i=e.getValue();e.equals(t,i)||(e.oldValue=i,e.notify(i,t))}function yee(e){for(const t of sl.values())t.target===e&&(t.removed=!0)}function gee(){let e=10;for(;dS&&e--;){dS=null;const t=vee(),i=Fw.acquire();for(const r of t){const s=r.uid;mee(r),s===r.uid&&r.removed&&i.push(r)}for(const r of sl)r.removed&&(i.push(r),sl.delete(r));for(const r of i)Q0.pool.release(r);Fw.release(i),Fw.release(t),JM.forEach(r=>r())}}function vee(){const e=Fw.acquire();e.length=sl.size;let t=0;for(const i of sl)e[t]=i,++t;return sl.clear(),e}const JM=new Set;function bee(e){return JM.add(e),pt(()=>JM.delete(e))}function wee(e,t,i){let r=YU(e,t,i,(s,n,a)=>{let u,d,f=yz(()=>Ov(s,n),(g,v)=>{var w;((w=s.__accessor__)==null?void 0:w.lifecycle)===us.DESTROYED||u&&u.uid!==d?r.remove():(u||(u=Q0.acquireUntracked(g,a,v,s,n),d=u.uid),hS(u))});return pt(()=>{f.remove(),u&&(u.uid!==d||u.removed||(u.removed=!0,hS(u)),u=null),r=f=null})});return r}function _ee(e,t,i){const r=YU(e,t,i,(s,n,a)=>{let u=!1;return mz(()=>Ov(s,n),(d,f)=>{s.__accessor__.lifecycle!==us.DESTROYED?u||(u=!0,EC(f,d)||a.call(s,d,f,n,s),u=!1):r.remove()})});return r}function See(e,t,i,r=!1){return e.__accessor__&&e.__accessor__.lifecycle!==us.DESTROYED?r?_ee(e,t,i):wee(e,t,i):pt()}function Tee(e,t,i){let r,s,n=yz(e,(a,u)=>{r&&r.uid!==s?n.remove():(r||(r=Q0.acquireTracked(a,t,u,i),s=r.uid),hS(r))});return pt(()=>{n.remove(),r&&(r.uid!==s||r.removed||(r.removed=!0,hS(r)),r=null),n=null})}function Eee(e,t,i){let r=!1;return mz(e,(s,n)=>{r||(r=!0,i(n,s)||t(s,n),r=!1)})}function $ee(e,t,i=!1,r=zU){return i?Eee(e,t,r):Tee(e,t,r)}function v4(e){return fz(sl,t=>t.oldValue===e)}function xee(e,t){for(const i of e.values())if(t(i))return!0;return!1}function M3e(e,t){for(const i of e.values())if(t(i))return i;return null}function Pv(e,t,i){const r=e.get(t);if(r!==void 0)return r;const s=i();return e.set(t,s),s}function A3e(e){const t=new Map;return i=>(t.has(i)||t.set(i,e(i)),t.get(i))}const Rf=()=>ne.getLogger("esri.core.accessorSupport.ensureTypes");function Mee(e){return e==null?e:new Date(e)}function Aee(e){return e==null?e:!!e}function Lv(e){return e==null?e:e.toString()}function Gr(e,t=0){return e==null?e:(e=parseFloat(e),isNaN(e)?t:e)}function IC(e){return e==null?e:Math.round(parseFloat(e))}function Oee(e){return null}function Ree(e,t){return i=>{let r=e(i);return t.step!=null&&(r=Math.round(r/t.step)*t.step),t.min!=null&&(r=Math.max(t.min,r)),t.max!=null&&(r=Math.min(t.max,r)),r}}function wz(e){return(e==null?void 0:e.constructor)&&e.constructor.__accessorMetadata__!==void 0}function pS(e,t){return t!=null&&e&&!(t instanceof e)}function _z(e){return e&&"isCollection"in e}function b4(e){return e!=null&&e.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function Cee(e,t){if(!(t!=null&&t.constructor)||!_z(t.constructor))return XM(e,t)?t:new e(t);const i=b4(e.prototype.itemType),r=b4(t.constructor.prototype.itemType);return i?r?i===r?t:i.prototype.isPrototypeOf(r.prototype)?new e(t):(XM(e,t),t):new e(t):t}function XM(e,t){return!!wz(t)&&(Rf().error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+M2(e)+"'"),!0)}function Dv(e,t){return t==null?t:_z(e)?Cee(e,t):pS(e,t)?XM(e,t)?t:new e(t):t}function M2(e){var t;return((t=e==null?void 0:e.prototype)==null?void 0:t.declaredClass)||"unknown"}const Iee=new WeakMap;function Nee(e){switch(e){case Number:return t=>Gr(t);case ht:return IC;case Boolean:return Aee;case String:return Lv;case Date:return Mee;case A2:return Oee;default:return Pv(Iee,e,()=>Dv.bind(null,e))}}function Ci(e,t){const i=Nee(e);return arguments.length===1?i:i(t)}function K0(e,t,i){return arguments.length===1?K0.bind(null,e):t&&(Array.isArray(t)?t.map(r=>e(r,i)):[e(t,i)])}function Pee(e,t){return arguments.length===1?K0(i=>Ci(e,i)):K0(i=>Ci(e,i),t)}function Sz(e,t,i){return t!==0&&Array.isArray(i)?i.map(r=>Sz(e,t-1,r)):e(i)}function fS(e,t,i){if(arguments.length===2)return n=>fS(e,t,n);if(!i)return i;i=Sz(e,t,i);let r=t,s=i;for(;r>0&&Array.isArray(s);)r--,s=s[0];if(s!==void 0)for(let n=0;n<r;n++)i=[i];return i}function Lee(e,t,i){return arguments.length===2?fS(r=>Ci(e,r),t):fS(r=>Ci(e,r),t,i)}function Tz(e){return!!Array.isArray(e)&&!e.some(t=>{const i=typeof t;return!(i==="string"||i==="number"||i==="function"&&e.length>1)})}function QM(e,t){if(arguments.length===2)return QM(e).call(null,t);const i=new Set,r=e.filter(u=>typeof u!="function"),s=e.filter(u=>typeof u=="function");for(const u of e)typeof u!="string"&&typeof u!="number"||i.add(u);let n=null,a=null;return(u,d)=>{if(u==null)return u;const f=typeof u,g=f==="string"||f==="number";return g&&(i.has(u)||s.some(v=>f==="string"&&v===String||f==="number"&&v===Number))||f==="object"&&s.some(v=>!pS(u,v))?u:(g&&r.length?(n||(n=r.map(v=>typeof v=="string"?`'${v}'`:`${v}`).join(", ")),Rf().error("Accessor#set",`'${u}' is not a valid value for this property, only the following values are valid: ${n}`)):typeof u=="object"&&s.length?(a||(a=s.map(v=>M2(v)).join(", ")),Rf().error("Accessor#set",`'${u}' is not a valid value for this property, value must be one of ${a}`)):Rf().error("Accessor#set",`'${u}' is not a valid value for this property`),d&&(d.valid=!1),null)}}function co(e,t){if(arguments.length===2)return co(e).call(null,t);const i={},r=[],s=[];for(const d in e.typeMap){const f=e.typeMap[d];i[d]=Ci(f),r.push(M2(f)),s.push(d)}const n=()=>`'${r.join("', '")}'`,a=()=>`'${s.join("', '")}'`,u=typeof e.key=="string"?d=>d[e.key]:e.key;return d=>{if(e.base&&!pS(e.base,d)||d==null)return d;const f=u(d)||e.defaultKeyValue,g=i[f];if(!g)return Rf().error("Accessor#set",`Invalid property value, value needs to be one of ${n()}, or a plain object that can autocast (having .type = ${a()})`),null;if(!pS(e.typeMap[f],d))return d;if(typeof e.key=="string"&&!wz(d)){const v={};for(const w in d)w!==e.key&&(v[w]=d[w]);return g(v)}return g(d)}}let ht=class{},A2=class{};const C3e={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function Dee(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function Ez(e){switch(e.type){case"native":return Ci(e.value);case"array":return K0(Ez(e.value));case"one-of":return kee(e);default:return null}}function kee(e){let t=null;return(i,r)=>e3(i,e)?i:(t==null&&(t=KM(e)),Rf().error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),r&&(r.valid=!1),null)}function KM(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case ht:return"integer";case Date:return"date";case A2:return"null";default:return M2(e.value)}case"array":return`array of ${KM(e.value)}`;case"one-of":{const t=e.values.map(i=>KM(i));return`one of ${t.slice(0,-1)} or ${t[t.length-1]}`}}return"unknown"}function e3(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case ht:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string";case A2:return e===null}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some(i=>!e3(i,t.value));case"one-of":return t.values.some(i=>e3(e,i))}}function p(e={}){return(t,i)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${i}. Accessor does not support static properties.`);const r=Object.getOwnPropertyDescriptor(t,i),s=T2(t,i);r&&(r.get||r.set?(s.get=r.get||s.get,s.set=r.set||s.set):"value"in r&&("value"in e&&ne.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${i}" on "${t.constructor.name}" already defined in the metadata`,e),s.value=e.value=r.value)),e.readOnly!=null&&(s.readOnly=e.readOnly);const n=e.aliasOf;if(n){const d=typeof n=="string"?n:n.source,f=typeof n=="string"?null:n.overridable===!0;let g;s.dependsOn=[d],s.get=function(){let v=Ho(this,d);if(typeof v=="function"){g||(g=d.split(".").slice(0,-1).join("."));const w=Ho(this,g);w&&(v=v.bind(w))}return v},s.readOnly||(s.set=f?function(v){this._override(i,v)}:function(v){oS(this,d,v)})}const a=e.type,u=e.types;if(!s.cast){let d;a?d=Fee(a):u&&(d=Array.isArray(u)?K0(co(u[0])):co(u)),e.cast=jee(e.cast,d)}EK(s,e),e.range&&(s.cast=Ree(s.cast,e.range))}}function $z(e,t,i){const r=T2(e,i);r.json||(r.json={});let s=r.json;return t!==void 0&&(s.origins||(s.origins={}),s.origins[t]||(s.origins[t]={}),s=s.origins[t]),s}function Fee(e){let t=0,i=e;if(Dee(e))return Ez(e);for(;Array.isArray(i)&&i.length===1&&typeof i[0]!="string"&&typeof i[0]!="number";)i=i[0],t++;const r=i;if(Tz(r))return t===0?QM(r):fS(QM(r),t);if(t===1)return Pee(r);if(t>1)return Lee(r,t);const s=e;return s.from?s.from:Ci(s)}function jee(e,t){if(e||t)return e?t?(i,r)=>t(e(i,r),r):e:t}function Uee(e){if(e.json&&e.json.origins){const t=e.json.origins,i={"web-document":["web-scene","web-map"]};for(const r in i)if(t[r]){const s=t[r];i[r].forEach(n=>{t[n]=s}),delete t[r]}}}let vn=class extends sz{constructor(t,i,r){super(t,i,r)}};vn.prototype.type="warning";function xz(e){var t;return!!e&&((t=e.prototype)==null?void 0:t.declaredClass)&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}const t3=()=>ne.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function w4(e,t,i){var r,s;e&&(!i&&!t.read||(r=t.read)!=null&&r.reader||((s=t.read)==null?void 0:s.enabled)===!1||Gee(e)&&ir("read.reader",ym(e),t))}function ym(e){var i,r;const t=e.ndimArray??0;if(t>1)return Vee(e);if(t===1)return _4(e);if("type"in e&&Az(e.type)){const s=(r=(i=e.type.prototype)==null?void 0:i.itemType)==null?void 0:r.Type,n=_4(typeof s=="function"?{type:s}:{types:s});return(a,u,d)=>{const f=n(a,u,d);return f&&new e.type(f)}}return NC(e)}function NC(e){return"type"in e?zee(e.type):qee(e.types)}function zee(e){return e.prototype.read?(t,i,r)=>{if(t==null)return t;const s=typeof t;if(s!=="object")return void t3().error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${s}'`);const n=new e;return n.read(t,r),n}:e.fromJSON}function Mz(e,t,i,r){return r!==0&&Array.isArray(t)?t.map(s=>Mz(e,s,i,r-1)):e(t,void 0,i)}function Vee(e){const t=NC(e),i=Mz.bind(null,t),r=e.ndimArray??0;return(s,n,a)=>{if(s==null)return s;s=i(s,a,r);let u=r,d=s;for(;u>0&&Array.isArray(d);)u--,d=d[0];if(d!==void 0)for(let f=0;f<u;f++)s=[s];return s}}function _4(e){const t=NC(e);return(i,r,s)=>{if(i==null)return i;if(Array.isArray(i)){const a=[];for(const u of i){const d=t(u,void 0,s);d!==void 0&&a.push(d)}return a}const n=t(i,void 0,s);return n!==void 0?[n]:void 0}}function Az(e){if(!xz(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?PC(t.Type):Oz(t.Type))}function Gee(e){return"types"in e?Oz(e.types):PC(e.type)}function PC(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||Az(e))}function Oz(e){for(const t in e.typeMap)if(!PC(e.typeMap[t]))return!1;return!0}function qee(e){let t=null;const i=e.errorContext??"type",r=e.validate;return(s,n,a)=>{if(s==null)return s;const u=typeof s;if(u!=="object")return void t3().error(`Expected JSON value of type 'object' to deserialize, but got '${u}'`);t||(t=Bee(e));const d=e.key;if(typeof d!="string")return;const f=s[d],g=f?t[f]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!g){const w=`Type '${f||"unknown"}' is not supported`;return a!=null&&a.messages&&s&&a.messages.push(new vn(`${i}:unsupported`,w,{definition:s,context:a})),void t3().error(w)}const v=new g;return v.read(s,a),r?r(v):v}}function Bee(e){var i,r;const t={};for(const s in e.typeMap){const n=e.typeMap[s],a=Rv(n.prototype);if(typeof e.key=="function")continue;const u=a[e.key];if(!u)continue;if((i=u.json)!=null&&i.type&&Array.isArray(u.json.type)&&u.json.type.length===1&&typeof u.json.type[0]=="string"){t[u.json.type[0]]=n;continue}const d=(r=u.json)==null?void 0:r.write;if(!(d!=null&&d.writer)){t[s]=n;continue}const f=d.target,g=typeof f=="string"?f:e.key,v={};d.writer(s,v,g),v[g]&&(t[v[g]]=n)}return t}function Hee(e){if(e.json||(e.json={}),T4(e.json),E4(e.json),S4(e.json),e.json.origins)for(const t in e.json.origins)T4(e.json.origins[t]),E4(e.json.origins[t]),S4(e.json.origins[t]);return!0}function S4(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function T4(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function E4(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}function $4(e,t){if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const i=(e==null?void 0:e.ndimArray)??0;e&&(i===1||"type"in e&&xz(e.type))?t.write.writer=Yee:i>1?t.write.writer=Jee(i):t.types?Array.isArray(t.types)?t.write.writer=Zee(t.types[0]):t.write.writer=Wee(t.types):t.write.writer=ev}function Wee(e){return(t,i,r,s)=>t?Rz(t,e,s)?ev(t,i,r,s):void 0:ev(t,i,r,s)}function Rz(e,t,i){for(const r in t.typeMap)if(e instanceof t.typeMap[r])return!0;if(i!=null&&i.messages){const r=t.errorContext??"type",s=`Values of type '${(typeof t.key!="function"?e[t.key]:e.declaredClass)??"Unknown"}' cannot be written`;i&&i.messages&&e&&i.messages.push(new z(`${r}:unsupported`,s,{definition:e,context:i})),ne.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(s)}return!1}function Zee(e){return(t,i,r,s)=>!t||!Array.isArray(t)?ev(t,i,r,s):ev(t.filter(n=>Rz(n,e,s)),i,r,s)}function ev(e,t,i,r){ir(i,mS(e,r),t)}function mS(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?yS(e):e}function yS(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function Yee(e,t,i,r){let s;e===null?s=null:e&&typeof e.map=="function"?(s=e.map(n=>mS(n,r)),typeof s.toArray=="function"&&(s=s.toArray())):s=[mS(e,r)],ir(i,s,t)}function Cz(e,t,i){return i!==0&&Array.isArray(e)?e.map(r=>Cz(r,t,i-1)):mS(e,t)}function Jee(e){return(t,i,r,s)=>{let n;if(t===null)n=null;else{n=Cz(t,s,e);let a=e,u=n;for(;a>0&&Array.isArray(u);)a--,u=u[0];if(u!==void 0)for(let d=0;d<a;d++)n=[n]}ir(r,n,i)}}function Xee(e,t){return LC(e,"any",t==null?void 0:t.origin)}function i3(e,t){return LC(e,"read",t==null?void 0:t.origin)}function Iz(e,t){return LC(e,"write",t==null?void 0:t.origin)}function LC(e,t,i){let r=e==null?void 0:e.json;if(r!=null&&r.origins&&i){let s;s=i==="link-chart"?r.origins[i]&&(t==="any"||t in r.origins[i])?r.origins[i]:r.origins["web-map"]:r.origins[i],s&&(t==="any"||t in s)&&(r=s)}return r}function Qee(e){var i;const t=Kee(e);if(e.json.origins)for(const r in e.json.origins){const s=e.json.origins[r],n=s.types?ete(s):t;w4(n,s,!1),s.types&&!s.write&&((i=e.json.write)!=null&&i.enabled)&&(s.write={...e.json.write}),$4(n,s)}w4(t,e.json,!0),$4(t,e.json)}function Kee(e){return e.json.types?r3(e.json):e.type?Nz(e):r3(e)}function ete(e){return e.type?Nz(e):r3(e)}function Nz(e){if(!e.type)return;let t=0,i=e.type;for(;Array.isArray(i)&&!Tz(i);)i=i[0],t++;return{type:i,ndimArray:t}}function r3(e){if(!e.types)return;let t=0,i=e.types;for(;Array.isArray(i);)i=i[0],t++;return{types:i,ndimArray:t}}function tte(e){Hee(e)&&(Uee(e),Qee(e))}const ix=new Set,rx=new Set;function O(e){return t=>{e??(e="esri.core.Accessor"),t.prototype.declaredClass=e,rte(t);const i=[],r=[];let s=t.prototype;for(;s;)s.hasOwnProperty("initialize")&&!ix.has(s.initialize)&&(ix.add(s.initialize),i.push(s.initialize)),s.hasOwnProperty("destroy")&&!rx.has(s.destroy)&&(rx.add(s.destroy),r.push(s.destroy)),s=Object.getPrototypeOf(s);ix.clear(),rx.clear();const n=class extends t{constructor(...u){if(super(...u),this.constructor===n&&typeof this.postscript=="function"){if(i.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let d=i.length-1;d>=0;d--)i[d].call(this)}}),r.length){let d=!1;const f=this[HU];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!d){d=!0,f.call(this);for(let g=0;g<r.length;g++)r[g].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};n.__accessorMetadata__=Rv(t.prototype),n.prototype.declaredClass=e;const a=(e||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(n,"name",{value:a,configurable:!0}),n}}function ite(e,t){return t.get==null?function(){const i=this.__accessor__,r=i.propertiesByName.get(e);if(r===void 0)return;i.mutable&&Pe(r);const s=i.store;return s.has(e)?s.get(e):r.metadata.value}:function(){const i=this.__accessor__,r=i.propertiesByName.get(e);if(r!==void 0)return r.getComputed(i)}}function rte(e){const t=e.prototype,i=Rv(t),r={};for(const s of Object.getOwnPropertyNames(i)){const n=i[s];tte(n),r[s]={enumerable:!0,configurable:!0,get:ite(s,n),set(a){const u=this.__accessor__;if(u!==void 0){if(u.mutable)return u.initialized&&n.readOnly?x4("read-only",s):u.lifecycle===us.CONSTRUCTED&&n.constructOnly?x4("construct-only",s):void u.set(s,a)}else Object.defineProperty(this,s,{enumerable:!0,configurable:!0,writable:!0,value:a})}}}Object.defineProperties(e.prototype,r)}const x4=(e,t)=>{ne.getLogger("esri.core.Accessor").error(`cannot assign to ${e} property '${t}'`)};var Pz,Lz;function ste(e){var t;if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return(t=e.constructor)!=null&&t.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const To=Symbol("Accessor-Handles"),s3=Symbol("Accessor-Initialized");let $e=class jw{static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:i,declaredClass:r,constructor:s}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const n=this;class a extends n{constructor(...d){super(...d),this.inherited=null,s&&s.apply(this,d)}}Rv(a.prototype);for(const u in t){const d=t[u];a.prototype[u]=typeof d=="function"?function(...f){const g=this.inherited;let v;this.inherited=function(...w){if(n.prototype[u])return n.prototype[u].apply(this,w)};try{v=d.apply(this,f)}catch(w){throw this.inherited=g,w}return this.inherited=g,v}:t[u]}for(const u in i){const d=ste(i[u]);p(d)(a.prototype,u)}return O(r)(a)}static freeze(t){return t instanceof jw?t.__accessor__.mutable=!1:Object.freeze(t),t}static isFrozen(t){return t instanceof jw?!t.__accessor__.mutable:Object.isFrozen(t)}constructor(...t){var r;if(this[Pz]=null,this[Lz]=!1,this.constructor===jw)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const i=new LK(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:i}),t.length>0&&(i.ctorArgs=((r=this.normalizeCtorArgs)==null?void 0:r.apply(this,t))??t[0])}postscript(){const t=this.__accessor__,i=t.ctorArgs;t.initialize(),i&&(this.set(i),t.ctorArgs=null),t.constructed(),this.initialize(),this[s3]=!0}initialize(){}[HU](){this[To]=Zt(this[To])}destroy(){var t;this.destroyed||(yee(this),this.__accessor__.destroy(),(t=VK())==null||t.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[s3]}get destroyed(){var t;return((t=this.__accessor__)==null?void 0:t.lifecycle)===us.DESTROYED||!1}commitProperty(t){Ho(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,i){return oS(this,t,i),this}watch(t,i,r){return iK(ne.getLogger(this),"`watch` is deprecated in favor of reactiveUtils.watch",{replacement:"reactiveUtils.watch",version:"4.32",see:"https://developers.arcgis.com/javascript/latest/api-reference/esri-core-reactiveUtils.html#watch",warnOnce:!0}),See(this,t,i,r)}addHandles(t,i){if(this.destroyed){const r=Array.isArray(t)?t:[t];for(const s of r)s.remove();return}(this[To]??(this[To]=new fm)).add(t,i)}removeHandles(t){var i;(i=this[To])==null||i.remove(t)}removeAllHandles(){var t;(t=this[To])==null||t.removeAll()}removeHandlesReference(t){var i;(i=this[To])==null||i.removeReference(t)}hasHandles(t){var i;return((i=this[To])==null?void 0:i.has(t))===!0}_override(t,i){i===void 0?this.__accessor__.clearOverride(t):this.__accessor__.override(t,i)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_overrideIfSome(t,i){i==null?this.__accessor__.clearOverride(t):this.__accessor__.override(t,i)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,i){return this.__accessor__.internalSet(t,i),this}};Pz=To,Lz=s3;const Dz=e=>{let t=class extends e{clone(){var d;const i=ps(this);BU(i,"unable to clone instance of non-accessor class");const r=i.metadata,s=i.store,n={},a=new Map;for(const f in r){const g=r[f],v=s==null?void 0:s.originOf(f),w=g.clonable;if(g.readOnly||w===!1||v!==Qe.USER&&v!==Qe.DEFAULTS&&v!==Qe.WEB_MAP&&v!==Qe.WEB_SCENE)continue;const S=this[f];let T=null;T=typeof w=="function"?w(S):w==="reference"?S:VM(S),S!=null&&T==null||(v===Qe.DEFAULTS?a.set(f,T):n[f]=T)}const u=new(Object.getPrototypeOf(this)).constructor(n);if(a.size){const f=(d=ps(u))==null?void 0:d.store;if(f)for(const[g,v]of a)f.set(g,v,Qe.DEFAULTS)}return u}};return t=c([O("esri.core.Clonable")],t),t};let dg=class extends Dz($e){};dg=c([O("esri.core.Clonable")],dg),function(e){e.ClonableMixin=Dz}(dg||(dg={}));const rt=dg;let ho=class kz{constructor(){this._emitter=new kz.EventEmitter(this)}emit(t,i){return this._emitter.emit(t,i)}on(t,i){return this._emitter.on(t,i)}once(t,i){return this._emitter.once(t,i)}hasEventListener(t){return this._emitter.hasEventListener(t)}};(function(e){class t{constructor(s=null){this._target=s,this._listenersMap=null}clear(){var s;(s=this._listenersMap)==null||s.clear(),this._listenersMap=null}destroy(){this.clear()}emit(s,n){var f;let a=(f=this._listenersMap)==null?void 0:f.get(s);if(!a)return!1;const u=this._target||this;let d=!1;for(const g of a.slice()){const v="deref"in g?g.deref():g;v?v==null||v.call(u,n):d=!0}return d&&(a=a.filter(g=>!("deref"in g)||g.deref()!=null),this._listenersMap.set(s,a)),a.length>0}on(s,n){if(Array.isArray(s)){const u=s.map(d=>this.on(d,n));return Av(u)}if(s.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??(this._listenersMap=new Map);const a=this._listenersMap.get(s)||[];return a.push(n),this._listenersMap.set(s,a),pt(()=>{var f;const u=(f=this._listenersMap)==null?void 0:f.get(s),d=(u==null?void 0:u.indexOf(n))??-1;d>=0&&u.splice(d,1)})}once(s,n){const a=this.on(s,u=>{a.remove();const d="deref"in n?n.deref():n;d==null||d.call(null,u)});return a}hasEventListener(s){var a;const n=(a=this._listenersMap)==null?void 0:a.get(s);return n!=null&&n.length>0}}e.EventEmitter=t,e.EventedMixin=r=>{let s=class extends r{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(n,a){return this._emitter.emit(n,a)}on(n,a){return this._emitter.on(n,a)}once(n,a){return this._emitter.once(n,a)}hasEventListener(n){return this._emitter.hasEventListener(n)}};return s=c([O("esri.core.Evented")],s),s};let i=class extends $e{constructor(){super(...arguments),this._emitter=new ho.EventEmitter(this)}destroy(){this._emitter.clear()}emit(r,s){return this._emitter.emit(r,s)}on(r,s){return this._emitter.on(r,s)}once(r,s){return this._emitter.once(r,s)}hasEventListener(r){return this._emitter.hasEventListener(r)}};i=c([O("esri.core.Evented.EventedAccessor")],i),e.EventedAccessor=i})(ho);var gt;(function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"})(gt||(gt={}));function DC(e){return(t,i)=>{t[i]=e}}let kv=class extends QU{notify(){const t=this._observers;if(t&&t.length>0){const i=t.slice();for(const r of i)r.onInvalidated(),r.onCommitted()}}};var el;let nte=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}},ote=class{constructor(t,i,r,s,n){this.target=t,this.added=i,this.removed=r,this.start=s,this.deleteCount=n}};const Qs=new vh(nte,void 0,e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1});function M4(e){e&&typeof e=="object"&&"destroy"in e&&typeof e.destroy=="function"&&e.destroy()}function sx(e){return e?e instanceof Ya?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function nx(e){if(e!=null&&e.length)return e[0]}function ate(e,t,i,r){const s=Math.min(e.length-i,t.length-r);let n=0;for(;n<s&&e[i+n]===t[r+n];)n++;return n}function Fz(e,t,i,r){t&&t.forEach((s,n,a)=>{e.push(s),Fz(e,i.call(r,s,n,a),i,r)})}const Gl=new Set,ql=new Set,Bl=new Set,ox=new Map;let lte=0,Ya=el=class extends ho.EventedAccessor{static isCollection(e){return e!=null&&e instanceof el}constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new kv,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:lte++})}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof el?{items:e}:e:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),this._emitter.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return Pe(this._observable),this._items}set items(e){this._emitBeforeChanges(gt.ADD)||(this._splice(0,this.length,sx(e)),this._emitAfterChanges(gt.ADD))}hasEventListener(e){return!this.destroyed&&(e==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(e))}on(e,t){if(this.destroyed)return pt();if(e==="change"){const i=this._chgListeners,r={removed:!1,callback:t};return i.push(r),this._notifications&&this._notifications.push({listeners:i.slice(),items:this._items.slice(),changes:[]}),pt(()=>{r.removed=!0,i.splice(i.indexOf(r),1)})}return this._emitter.on(e,t)}once(e,t){const i="deref"in t?()=>t.deref():()=>t,r=this.on(e,s=>{var n;(n=i())==null||n.call(null,s),r.remove()});return r}add(e,t){if(Pe(this._observable),this._emitBeforeChanges(gt.ADD))return this;const i=this.getNextIndex(t??null);return this._splice(i,0,[e]),this._emitAfterChanges(gt.ADD),this}addMany(e,t=this._items.length){if(Pe(this._observable),!(e!=null&&e.length))return this;if(this._emitBeforeChanges(gt.ADD))return this;const i=this.getNextIndex(t);return this._splice(i,0,sx(e)),this._emitAfterChanges(gt.ADD),this}at(e){if(Pe(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(Pe(this._observable),!this.length||this._emitBeforeChanges(gt.REMOVE))return[];const e=this._removeAllRaw();return this._emitAfterChanges(gt.REMOVE),e}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return Pe(this._observable),this._createNewInstance({items:this._items.map(j)})}concat(...e){Pe(this._observable);const t=e.map(sx);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(Pe(this._observable),!this.length||this._emitBeforeChanges(gt.REMOVE))return;const i=this._splice(0,this.length),r=i.length;for(let s=0;s<r;s++)e.call(t,i[s],s,i);this._emitAfterChanges(gt.REMOVE)}destroyAll(){this.drain(M4)}destroyMany(e){const t=this.removeMany(e);return t.forEach(M4),t}every(e,t){return Pe(this._observable),this._items.every(e,t)}filter(e,t){Pe(this._observable);const i=arguments.length===2?this._items.filter(e,t):this._items.filter(e);return this._createNewInstance({items:i})}find(e,t){return Pe(this._observable),this._items.find(e,t)}findIndex(e,t){return Pe(this._observable),this._items.findIndex(e,t)}flatten(e,t){Pe(this._observable);const i=[];return Fz(i,this,e,t),new el(i)}forEach(e,t){return Pe(this._observable),this._items.forEach(e,t)}getItemAt(e){return Pe(this._observable),this._items[e]}getNextIndex(e){Pe(this._observable);const t=this.length;return(e=e??t)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return Pe(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return Pe(this._observable),this._items.indexOf(e,t)}join(e=","){return Pe(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return Pe(this._observable),this._items.lastIndexOf(e,t)}map(e,t){Pe(this._observable);const i=this._items.map(e,t);return new el({items:i})}reorder(e,t=this.length-1){Pe(this._observable);const i=this.indexOf(e);if(i!==-1){if(t<0?t=0:t>=this.length&&(t=this.length-1),i!==t){if(this._emitBeforeChanges(gt.MOVE))return e;this._splice(i,1),this._splice(t,0,[e]),this._emitAfterChanges(gt.MOVE)}return e}}pop(){if(Pe(this._observable),!this.length||this._emitBeforeChanges(gt.REMOVE))return;const e=nx(this._splice(this.length-1,1));return this._emitAfterChanges(gt.REMOVE),e}push(...e){return Pe(this._observable),this._emitBeforeChanges(gt.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(gt.ADD)),this.length}reduce(e,t){Pe(this._observable);const i=this._items;return arguments.length===2?i.reduce(e,t):i.reduce(e)}reduceRight(e,t){Pe(this._observable);const i=this._items;return arguments.length===2?i.reduceRight(e,t):i.reduceRight(e)}remove(e){return Pe(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(Pe(this._observable),e<0||e>=this.length||this._emitBeforeChanges(gt.REMOVE))return;const t=nx(this._splice(e,1));return this._emitAfterChanges(gt.REMOVE),t}removeMany(e){if(Pe(this._observable),!(e!=null&&e.length)||this._emitBeforeChanges(gt.REMOVE))return[];const t=e instanceof el?e.toArray():e,i=this._items,r=[],s=t.length;for(let n=0;n<s;n++){const a=t[n],u=i.indexOf(a);if(u>-1){const d=1+ate(t,i,n+1,u+1),f=this._splice(u,d);f&&f.length>0&&r.push.apply(r,f),n+=d-1}}return this._emitAfterChanges(gt.REMOVE),r}reverse(){if(Pe(this._observable),this._emitBeforeChanges(gt.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(gt.MOVE),this}shift(){if(Pe(this._observable),!this.length||this._emitBeforeChanges(gt.REMOVE))return;const e=nx(this._splice(0,1));return this._emitAfterChanges(gt.REMOVE),e}slice(e=0,t=this.length){return Pe(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return Pe(this._observable),this._items.some(e,t)}sort(e){if(Pe(this._observable),!this.length||this._emitBeforeChanges(gt.MOVE)||!this._requiresSort(e))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(gt.MOVE),this}_requiresSort(e=(t,i)=>t===i?0:t<i?-1:1){const t=this.length-1;for(let i=0;i<t;i++)if(e(this.items[i],this.items[i+1])>0)return!0;return!1}splice(e,t,...i){Pe(this._observable);const r=(t?gt.REMOVE:0)|(i.length?gt.ADD:0);if(this._emitBeforeChanges(r))return[];const s=this._splice(e,t,i)||[];return this._emitAfterChanges(r),s}toArray(){return Pe(this._observable),this._items.slice()}toJSON(){return Pe(this._observable),this.toArray()}toLocaleString(){return Pe(this._observable),this._items.toLocaleString()}toString(){return Pe(this._observable),this._items.toString()}unshift(...e){return Pe(this._observable),!e.length||this._emitBeforeChanges(gt.ADD)||(this._splice(0,0,e),this._emitAfterChanges(gt.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,i){const r=this._items,s=this.itemType;let n,a;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=Nv(()=>this._dispatchChange())),e<0&&(e+=this.length),t){if(a=r.splice(e,t),this.hasEventListener("before-remove")){const u=Qs.acquire();u.target=this,u.cancellable=!0;for(let d=0,f=a.length;d<f;d++)n=a[d],u.reset(n),this.emit("before-remove",u),u.defaultPrevented&&(a.splice(d,1),r.splice(e,0,n),e+=1,d-=1,f-=1);Qs.release(u)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const u=Qs.acquire();u.target=this,u.cancellable=!1;const d=a.length;for(let f=0;f<d;f++)u.reset(a[f]),this.emit("after-remove",u);Qs.release(u)}}if(i!=null&&i.length){if(s){const g=[];for(const v of i){const w=s.ensureType(v);w==null&&v!=null||g.push(w)}i=g}const u=this.hasEventListener("before-add"),d=this.hasEventListener("after-add"),f=e===this.length;if(u||d){const g=Qs.acquire();g.target=this,g.cancellable=!0;const v=Qs.acquire();v.target=this,v.cancellable=!1;for(const w of i)u?(g.reset(w),this.emit("before-add",g),g.defaultPrevented||(f?r.push(w):r.splice(e++,0,w),this._set("length",r.length),d&&(v.reset(w),this.emit("after-add",v)))):(f?r.push(w):r.splice(e++,0,w),this._set("length",r.length),v.reset(w),this.emit("after-add",v));Qs.release(v),Qs.release(g)}else{if(f)for(const g of i)r.push(g);else r.splice(e,0,...i);this._set("length",r.length)}}if((i!=null&&i.length||a!=null&&a.length)&&this._notifyChangeEvent(i,a),this.hasEventListener("after-splice")){const u=new ote(this,i,a,e,t);this.emit("after-splice",u)}return a}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const i=Qs.acquire();i.target=this,i.cancellable=!0,i.type=e,this.emit("before-changes",i),t=i.defaultPrevented,Qs.release(i)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=Qs.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),Qs.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const i=t.changes;Gl.clear(),ql.clear(),Bl.clear();for(const{added:d,removed:f}of i){if(d)if(Bl.size===0&&ql.size===0)for(const g of d)Gl.add(g);else for(const g of d)ql.has(g)?(Bl.add(g),ql.delete(g)):Bl.has(g)||Gl.add(g);if(f)if(Bl.size===0&&Gl.size===0)for(const g of f)ql.add(g);else for(const g of f)Gl.has(g)?Gl.delete(g):(Bl.delete(g),ql.add(g))}const r=Vr.acquire();Gl.forEach(d=>{r.push(d)});const s=Vr.acquire();ql.forEach(d=>{s.push(d)});const n=this._items,a=t.items,u=Vr.acquire();if(Bl.forEach(d=>{a.indexOf(d)!==n.indexOf(d)&&u.push(d)}),t.listeners&&(r.length||s.length||u.length)){const d={target:this,added:r,removed:s,moved:u},f=t.listeners.length;for(let g=0;g<f;g++){const v=t.listeners[g];v.removed||v.callback.call(this,d)}}Vr.release(r),Vr.release(s),Vr.release(u)}Gl.clear(),ql.clear(),Bl.clear()}};Ya.ofType=e=>{if(!e)return el;if(ox.has(e))return ox.get(e);let t=null;if(typeof e=="function")t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const r in e.typeMap){const s=e.typeMap[r].prototype.declaredClass;t?t+=` | ${s}`:t=s}let i=class extends el{};return c([DC({Type:e,ensureType:typeof e=="function"?Ci(e):co(e)})],i.prototype,"itemType",void 0),i=c([O(`esri.core.Collection<${t}>`)],i),ox.set(e,i),i},c([p()],Ya.prototype,"_updating",void 0),c([p()],Ya.prototype,"length",void 0),c([p()],Ya.prototype,"items",null),c([p({readOnly:!0})],Ya.prototype,"updating",null),Ya=el=c([O("esri.core.Collection")],Ya);const ye=Ya;let ute=class jz{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const i=new jz;return this._values.forEach((r,s)=>{t&&t.has(s)||i.set(s,j(r.value),r.origin)}),i}get(t,i){i=this._normalizeOrigin(i);const r=this._values.get(t);return i==null||(r==null?void 0:r.origin)===i?r==null?void 0:r.value:void 0}originOf(t){var i;return((i=this._values.get(t))==null?void 0:i.origin)??Qe.USER}keys(t){t=this._normalizeOrigin(t);const i=[...this._values.keys()];return t==null?i:i.filter(r=>{var s;return((s=this._values.get(r))==null?void 0:s.origin)===t})}set(t,i,r){if((r=this._normalizeOrigin(r))===Qe.DEFAULTS){const s=this._values.get(t);if((s==null?void 0:s.origin)!=null&&s.origin>r)return}this._values.set(t,new cte(i,r))}delete(t,i){var r;(i=this._normalizeOrigin(i))!=null&&((r=this._values.get(t))==null?void 0:r.origin)!==i||this._values.delete(t)}has(t,i){var r;return(i=this._normalizeOrigin(i))!=null?((r=this._values.get(t))==null?void 0:r.origin)===i:this._values.has(t)}forEach(t){this._values.forEach(({value:i},r)=>t(i,r))}_normalizeOrigin(t){if(t!=null)return t===Qe.DEFAULTS?t:Qe.USER}},cte=class{constructor(t,i){this.value=t,this.origin=i}};function Uz(e,t,i){t.keys().forEach(s=>{i.set(s,t.get(s),Qe.DEFAULTS)});const r=e.metadata;Object.keys(r).forEach(s=>{e.internalGet(s)&&i.set(s,e.internalGet(s),Qe.DEFAULTS)})}function dte(e,t,i){if(!(e!=null&&e.read)||e.read.enabled===!1||!e.read.source)return!1;const r=e.read.source;if(typeof r=="string"){if(r===t||r.includes(".")&&r.indexOf(t)===0&&a4(r,i))return!0}else for(const s of r)if(s===t||s.includes(".")&&s.indexOf(t)===0&&a4(s,i))return!0;return!1}function hte(e){return e&&(!e.read||e.read.enabled!==!1&&!e.read.source)}function pte(e,t,i,r,s){let n=i3(t[i],s);hte(n)&&(e[i]=!0);for(const a of Object.getOwnPropertyNames(t))n=i3(t[a],s),dte(n,i,r)&&(e[a]=!0)}function fte(e,t,i,r){const s=i.metadata,n=Xee(s[t],r),a=n==null?void 0:n.default;if(a===void 0)return;const u=typeof a=="function"?a.call(e,t,r):a;u!==void 0&&i.set(t,u)}const zz={origin:"service"};function Vz(e,t,i=zz){if(!t||typeof t!="object")return;const r=ps(e),s=r.metadata,n={};for(const a of Object.getOwnPropertyNames(t))pte(n,s,a,t,i);r.setDefaultOrigin(i.origin);for(const a of Object.getOwnPropertyNames(n)){const u=i3(s[a],i).read,d=u==null?void 0:u.source;let f;f=d&&typeof d=="string"?Ov(t,d):t[a],u!=null&&u.reader&&(f=u.reader.call(e,f,t,i)),f!==void 0&&r.set(a,f)}if(!i||!i.ignoreDefaults){r.setDefaultOrigin("defaults");for(const a of Object.getOwnPropertyNames(s))n[a]||fte(e,a,r,i)}r.setDefaultOrigin("user")}function mte(e,t,i,r=zz){var n;const s={...r,messages:[]};i(s),(n=s.messages)==null||n.forEach(a=>{a.type!=="warning"||e.loaded?r!=null&&r.messages&&r.messages.push(a):e.loadWarnings.push(a)})}function yte(e,t,i,r,s){var a,u;const n={};return(u=(a=t.write)==null?void 0:a.writer)==null||u.call(e,r,n,i,s),n}function Gz(e,t,i,r,s,n){if(!(r!=null&&r.write))return!1;const a=Ho(e,i);if(!s&&r.write.overridePolicy){const u=r.write.overridePolicy.call(e,a,i,n??void 0);u!==void 0&&(s=u)}if(s||(s=r.write),!s||s.enabled===!1||s.layerContainerTypes&&(n!=null&&n.layerContainerType)&&!s.layerContainerTypes.includes(n.layerContainerType))return!1;if((a===null&&!s.allowNull&&!s.writerEnsuresNonNull||a===void 0)&&s.isRequired){const u=new z("web-document-write:property-required",`Missing value for required property '${i}' on '${e.declaredClass}'`,{propertyName:i,target:e});return u&&(n!=null&&n.messages)?n.messages.push(u):u&&!n&&ne.getLogger("esri.core.accessorSupport.write").error(u.name,u.message),!1}return!(a===void 0||a===null&&!s.allowNull&&!s.writerEnsuresNonNull||!s.alwaysWriteDefaults&&(!t.store.multipleOriginsSupported||t.store.originOf(i)===Qe.DEFAULTS)&&gte(e,i,n,r,a)||!s.ignoreOrigin&&(n!=null&&n.origin)&&t.store.multipleOriginsSupported&&t.store.originOf(i)<Fu(n.origin))}function gte(e,t,i,r,s){const n=r.default;if(n===void 0)return!1;if(r.defaultEquals!=null)return r.defaultEquals(s);if(typeof n=="function"){if(Array.isArray(s)){const a=n.call(e,t,i??void 0);return v2(a,s)}return!1}return n===s}function vte(e,t,i,r){const s=ps(e),n=s.metadata,a=Iz(n[t],r);return!!a&&Gz(e,s,t,a,i,r)}function qz(e,t,i){var n,a;if(e&&typeof e.toJSON=="function"&&(!e.toJSON.isDefaultToJSON||!e.write))return Pw(t,e.toJSON(i));const r=ps(e),s=r.metadata;for(const u in s){const d=Iz(s[u],i);if(!Gz(e,r,u,d,void 0,i))continue;const f=Ho(e,u),g=yte(e,d,d.write&&typeof d.write.target=="string"?d.write.target:u,f,i);Object.keys(g).length>0&&(t=Pw(t,g),(a=(n=i==null?void 0:i.resources)==null?void 0:n.pendingOperations)!=null&&a.length&&i.resources.pendingOperations.push(Promise.all(i.resources.pendingOperations).then(()=>Pw(t,g,()=>"replace-arrays"))),i!=null&&i.writtenProperties&&i.writtenProperties.push({target:e,propName:u,oldOrigin:CK(r.store.originOf(u)),newOrigin:i.origin}))}return t}const Bz=e=>{let t=class extends e{constructor(...i){super(...i);const r=ps(this),s=r.store,n=new ute;r.store=n,Uz(r,s,n)}read(i,r){Vz(this,i,r)}write(i,r){return qz(this,i??{},r)}toJSON(i){return this.write({},i)}static fromJSON(i,r){return bte.call(this,i,r)}};return t=c([O("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function bte(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const i=new this;return i.read(e,t),i}let hg=class extends Bz($e){};hg=c([O("esri.core.JSONSupport")],hg),function(e){function t(i){return i&&typeof i=="object"&&"toJSON"in i&&typeof i.toJSON=="function"}e.JSONSupportMixin=Bz,e.isSerializable=t}(hg||(hg={}));const K=hg,wte=Object.prototype.toString;function _te(e){const t="__accessorMetadata__"in e?Ci(e):e;return function(...i){if(i.push(t),typeof i[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return Ste.apply(this,i)}}function Ste(e,t,i,r){T2(e,t).cast=r}function Tte(e){return(t,i)=>{T2(t,e).cast=t[i]}}function lt(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&wte.call(e[0])==="[object Function]"?_te(e[0]):e.length===1&&typeof e[0]=="string"?Tte(e[0]):void 0}function le(e,t,i){let r,s;return t===void 0||Array.isArray(t)?(s=e,i=t,r=[void 0]):(s=t,r=Array.isArray(e)?e:[e]),(n,a)=>{const u=n.constructor.prototype;r.forEach(d=>{const f=$z(n,d,s);f.read&&typeof f.read=="object"||(f.read={}),f.read.reader=u[a],i&&(f.read.source=(f.read.source||[]).concat(i))})}}function de(e,t,i){let r,s;return t===void 0?(s=e,r=[void 0]):typeof t!="string"?(s=e,r=[void 0],i=t):(s=t,r=Array.isArray(e)?e:[e]),(n,a)=>{const u=n.constructor.prototype;for(const d of r){const f=$z(n,d,s);f.write&&typeof f.write=="object"||(f.write={}),i&&(f.write.target=i),f.write.writer=u[a]}}}let ax;async function Ete(){return ax==null&&(ax=ue(()=>import("./WhereClauseCache-B7zIYtST.js"),__vite__mapDeps([0,1,2]),import.meta.url).then(e=>new e.WhereClauseCache(500,500))),ax}async function Hz(e,t){const i=await Ete(),r=i.get(e,t);if(r==null)throw i.getError(e,t);return r}function $te(e,t){return e||(e=null),t||(t=null),e==="1=1"?t??e:t==="1=1"?e??t:e&&t?`(${e}) AND (${t})`:e??t}function xte(e,t){return e||(e=null),t||(t=null),e==="1=1"||t==="1=1"||e===t?e==="1=1"?e:t:e&&t?`(${e}) OR (${t})`:e??t}function j3e(e,t){return t.length===0?null:`${e} IN (${Mte(t)})`}function Mte(e){return e.map(t=>typeof t=="string"?Ate(t):t).join(",")}function Ate(e){return`'${e.replaceAll("'","''")}'`}function A4(e){return typeof e=="number"}function U3e(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}function z3e(e){return typeof e=="boolean"}function Fv(e){return typeof e=="string"||e instanceof String}function Ote(e){return e==null||Fv(e)}function V3e(e){return Array.isArray(e)}function Rte(e){return(e==null?void 0:e.declaredClass)==="esri.Graphic"}function G3e(e){return e instanceof Date}class bh extends Error{}class Cte extends bh{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class Ite extends bh{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class Nte extends bh{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class bf extends bh{}class Wz extends bh{constructor(t){super(`Invalid unit ${t}`)}}class Tr extends bh{}class Hl extends bh{constructor(){super("Zone is an abstract class")}}const ve="numeric",po="short",ks="long",gS={year:ve,month:ve,day:ve},Zz={year:ve,month:po,day:ve},Pte={year:ve,month:po,day:ve,weekday:po},Yz={year:ve,month:ks,day:ve},Jz={year:ve,month:ks,day:ve,weekday:ks},Xz={hour:ve,minute:ve},Qz={hour:ve,minute:ve,second:ve},Kz={hour:ve,minute:ve,second:ve,timeZoneName:po},e7={hour:ve,minute:ve,second:ve,timeZoneName:ks},t7={hour:ve,minute:ve,hourCycle:"h23"},i7={hour:ve,minute:ve,second:ve,hourCycle:"h23"},r7={hour:ve,minute:ve,second:ve,hourCycle:"h23",timeZoneName:po},s7={hour:ve,minute:ve,second:ve,hourCycle:"h23",timeZoneName:ks},n7={year:ve,month:ve,day:ve,hour:ve,minute:ve},o7={year:ve,month:ve,day:ve,hour:ve,minute:ve,second:ve},a7={year:ve,month:po,day:ve,hour:ve,minute:ve},l7={year:ve,month:po,day:ve,hour:ve,minute:ve,second:ve},Lte={year:ve,month:po,day:ve,weekday:po,hour:ve,minute:ve},u7={year:ve,month:ks,day:ve,hour:ve,minute:ve,timeZoneName:po},c7={year:ve,month:ks,day:ve,hour:ve,minute:ve,second:ve,timeZoneName:po},d7={year:ve,month:ks,day:ve,weekday:ks,hour:ve,minute:ve,timeZoneName:ks},h7={year:ve,month:ks,day:ve,weekday:ks,hour:ve,minute:ve,second:ve,timeZoneName:ks};class wh{get type(){throw new Hl}get name(){throw new Hl}get ianaName(){return this.name}get isUniversal(){throw new Hl}offsetName(t,i){throw new Hl}formatOffset(t,i){throw new Hl}offset(t){throw new Hl}equals(t){throw new Hl}get isValid(){throw new Hl}}let lx=null;class O2 extends wh{static get instance(){return lx===null&&(lx=new O2),lx}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:i,locale:r}){return _7(t,i,r)}formatOffset(t,i){return E0(this.offset(t),i)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let Uw={};function Dte(e){return Uw[e]||(Uw[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Uw[e]}const kte={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function Fte(e,t){const i=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(i),[,s,n,a,u,d,f,g]=r;return[a,s,n,u,d,f,g]}function jte(e,t){const i=e.formatToParts(t),r=[];for(let s=0;s<i.length;s++){const{type:n,value:a}=i[s],u=kte[n];n==="era"?r[u]=a:Ze(u)||(r[u]=parseInt(a,10))}return r}let Pb={};class fs extends wh{static create(t){return Pb[t]||(Pb[t]=new fs(t)),Pb[t]}static resetCache(){Pb={},Uw={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=fs.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:i,locale:r}){return _7(t,i,r,this.name)}formatOffset(t,i){return E0(this.offset(t),i)}offset(t){const i=new Date(t);if(isNaN(i))return NaN;const r=Dte(this.name);let[s,n,a,u,d,f,g]=r.formatToParts?jte(r,i):Fte(r,i);u==="BC"&&(s=-Math.abs(s)+1);const w=C2({year:s,month:n,day:a,hour:d===24?0:d,minute:f,second:g,millisecond:0});let S=+i;const T=S%1e3;return S-=T>=0?T:1e3+T,(w-S)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let O4={};function Ute(e,t={}){const i=JSON.stringify([e,t]);let r=O4[i];return r||(r=new Intl.ListFormat(e,t),O4[i]=r),r}let n3={};function o3(e,t={}){const i=JSON.stringify([e,t]);let r=n3[i];return r||(r=new Intl.DateTimeFormat(e,t),n3[i]=r),r}let a3={};function zte(e,t={}){const i=JSON.stringify([e,t]);let r=a3[i];return r||(r=new Intl.NumberFormat(e,t),a3[i]=r),r}let l3={};function Vte(e,t={}){const{base:i,...r}=t,s=JSON.stringify([e,r]);let n=l3[s];return n||(n=new Intl.RelativeTimeFormat(e,t),l3[s]=n),n}let pg=null;function Gte(){return pg||(pg=new Intl.DateTimeFormat().resolvedOptions().locale,pg)}let R4={};function qte(e){let t=R4[e];if(!t){const i=new Intl.Locale(e);t="getWeekInfo"in i?i.getWeekInfo():i.weekInfo,R4[e]=t}return t}function Bte(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const i=e.indexOf("-u-");if(i===-1)return[e];{let r,s;try{r=o3(e).resolvedOptions(),s=e}catch{const d=e.substring(0,i);r=o3(d).resolvedOptions(),s=d}const{numberingSystem:n,calendar:a}=r;return[s,n,a]}}function Hte(e,t,i){return(i||t)&&(e.includes("-u-")||(e+="-u"),i&&(e+=`-ca-${i}`),t&&(e+=`-nu-${t}`)),e}function Wte(e){const t=[];for(let i=1;i<=12;i++){const r=Re.utc(2009,i,1);t.push(e(r))}return t}function Zte(e){const t=[];for(let i=1;i<=7;i++){const r=Re.utc(2016,11,13+i);t.push(e(r))}return t}function Lb(e,t,i,r){const s=e.listingMode();return s==="error"?null:s==="en"?i(t):r(t)}function Yte(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class Jte{constructor(t,i,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:s,floor:n,...a}=r;if(!i||Object.keys(a).length>0){const u={useGrouping:!1,...r};r.padTo>0&&(u.minimumIntegerDigits=r.padTo),this.inf=zte(t,u)}}format(t){if(this.inf){const i=this.floor?Math.floor(t):t;return this.inf.format(i)}else{const i=this.floor?Math.floor(t):zC(t,3);return Ri(i,this.padTo)}}}class Xte{constructor(t,i,r){this.opts=r,this.originalZone=void 0;let s;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){const a=-1*(t.offset/60),u=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;t.offset!==0&&fs.create(u).valid?(s=u,this.dt=t):(s="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,s=t.zone.name):(s="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const n={...this.opts};n.timeZone=n.timeZone||s,this.dtf=o3(i,n)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(i=>{if(i.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...i,value:r}}else return i}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class Qte{constructor(t,i,r){this.opts={style:"long",...r},!i&&b7()&&(this.rtf=Vte(t,r))}format(t,i){return this.rtf?this.rtf.format(t,i):_ie(i,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,i){return this.rtf?this.rtf.formatToParts(t,i):[]}}const Kte={firstDay:1,minimalDays:4,weekend:[6,7]};class Et{static fromOpts(t){return Et.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,i,r,s,n=!1){const a=t||yi.defaultLocale,u=a||(n?"en-US":Gte()),d=i||yi.defaultNumberingSystem,f=r||yi.defaultOutputCalendar,g=u3(s)||yi.defaultWeekSettings;return new Et(u,d,f,g,a)}static resetCache(){pg=null,n3={},a3={},l3={}}static fromObject({locale:t,numberingSystem:i,outputCalendar:r,weekSettings:s}={}){return Et.create(t,i,r,s)}constructor(t,i,r,s,n){const[a,u,d]=Bte(t);this.locale=a,this.numberingSystem=i||u||null,this.outputCalendar=r||d||null,this.weekSettings=s,this.intl=Hte(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=n,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Yte(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),i=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&i?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:Et.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,u3(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,i=!1){return Lb(this,t,E7,()=>{const r=i?{month:t,day:"numeric"}:{month:t},s=i?"format":"standalone";return this.monthsCache[s][t]||(this.monthsCache[s][t]=Wte(n=>this.extract(n,r,"month"))),this.monthsCache[s][t]})}weekdays(t,i=!1){return Lb(this,t,M7,()=>{const r=i?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},s=i?"format":"standalone";return this.weekdaysCache[s][t]||(this.weekdaysCache[s][t]=Zte(n=>this.extract(n,r,"weekday"))),this.weekdaysCache[s][t]})}meridiems(){return Lb(this,void 0,()=>A7,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Re.utc(2016,11,13,9),Re.utc(2016,11,13,19)].map(i=>this.extract(i,t,"dayperiod"))}return this.meridiemCache})}eras(t){return Lb(this,t,O7,()=>{const i={era:t};return this.eraCache[t]||(this.eraCache[t]=[Re.utc(-40,1,1),Re.utc(2017,1,1)].map(r=>this.extract(r,i,"era"))),this.eraCache[t]})}extract(t,i,r){const s=this.dtFormatter(t,i),n=s.formatToParts(),a=n.find(u=>u.type.toLowerCase()===r);return a?a.value:null}numberFormatter(t={}){return new Jte(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,i={}){return new Xte(t,this.intl,i)}relFormatter(t={}){return new Qte(this.intl,this.isEnglish(),t)}listFormatter(t={}){return Ute(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:w7()?qte(this.locale):Kte}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let ux=null;class er extends wh{static get utcInstance(){return ux===null&&(ux=new er(0)),ux}static instance(t){return t===0?er.utcInstance:new er(t)}static parseSpecifier(t){if(t){const i=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(i)return new er(I2(i[1],i[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${E0(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${E0(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,i){return E0(this.fixed,i)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class eie extends wh{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Pu(e,t){if(Ze(e)||e===null)return t;if(e instanceof wh)return e;if(oie(e)){const i=e.toLowerCase();return i==="default"?t:i==="local"||i==="system"?O2.instance:i==="utc"||i==="gmt"?er.utcInstance:er.parseSpecifier(i)||fs.create(e)}else return Bu(e)?er.instance(e):typeof e=="object"&&"offset"in e&&typeof e.offset=="function"?e:new eie(e)}const kC={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},C4={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},tie=kC.hanidec.replace(/[\[|\]]/g,"").split("");function iie(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let i=0;i<e.length;i++){const r=e.charCodeAt(i);if(e[i].search(kC.hanidec)!==-1)t+=tie.indexOf(e[i]);else for(const s in C4){const[n,a]=C4[s];r>=n&&r<=a&&(t+=r-n)}}return parseInt(t,10)}else return t}let Ip={};function rie(){Ip={}}function Nn({numberingSystem:e},t=""){const i=e||"latn";return Ip[i]||(Ip[i]={}),Ip[i][t]||(Ip[i][t]=new RegExp(`${kC[i]}${t}`)),Ip[i][t]}let I4=()=>Date.now(),N4="system",P4=null,L4=null,D4=null,k4=60,F4,j4=null;class yi{static get now(){return I4}static set now(t){I4=t}static set defaultZone(t){N4=t}static get defaultZone(){return Pu(N4,O2.instance)}static get defaultLocale(){return P4}static set defaultLocale(t){P4=t}static get defaultNumberingSystem(){return L4}static set defaultNumberingSystem(t){L4=t}static get defaultOutputCalendar(){return D4}static set defaultOutputCalendar(t){D4=t}static get defaultWeekSettings(){return j4}static set defaultWeekSettings(t){j4=u3(t)}static get twoDigitCutoffYear(){return k4}static set twoDigitCutoffYear(t){k4=t%100}static get throwOnInvalid(){return F4}static set throwOnInvalid(t){F4=t}static resetCaches(){Et.resetCache(),fs.resetCache(),Re.resetCache(),rie()}}class so{constructor(t,i){this.reason=t,this.explanation=i}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const p7=[0,31,59,90,120,151,181,212,243,273,304,334],f7=[0,31,60,91,121,152,182,213,244,274,305,335];function fn(e,t){return new so("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function FC(e,t,i){const r=new Date(Date.UTC(e,t-1,i));e<100&&e>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const s=r.getUTCDay();return s===0?7:s}function m7(e,t,i){return i+(jv(e)?f7:p7)[t-1]}function y7(e,t){const i=jv(e)?f7:p7,r=i.findIndex(n=>n<t),s=t-i[r];return{month:r+1,day:s}}function jC(e,t){return(e-t+7)%7+1}function vS(e,t=4,i=1){const{year:r,month:s,day:n}=e,a=m7(r,s,n),u=jC(FC(r,s,n),i);let d=Math.floor((a-u+14-t)/7),f;return d<1?(f=r-1,d=tv(f,t,i)):d>tv(r,t,i)?(f=r+1,d=1):f=r,{weekYear:f,weekNumber:d,weekday:u,...N2(e)}}function U4(e,t=4,i=1){const{weekYear:r,weekNumber:s,weekday:n}=e,a=jC(FC(r,1,t),i),u=Cf(r);let d=s*7+n-a-7+t,f;d<1?(f=r-1,d+=Cf(f)):d>u?(f=r+1,d-=Cf(r)):f=r;const{month:g,day:v}=y7(f,d);return{year:f,month:g,day:v,...N2(e)}}function cx(e){const{year:t,month:i,day:r}=e,s=m7(t,i,r);return{year:t,ordinal:s,...N2(e)}}function z4(e){const{year:t,ordinal:i}=e,{month:r,day:s}=y7(t,i);return{year:t,month:r,day:s,...N2(e)}}function V4(e,t){if(!Ze(e.localWeekday)||!Ze(e.localWeekNumber)||!Ze(e.localWeekYear)){if(!Ze(e.weekday)||!Ze(e.weekNumber)||!Ze(e.weekYear))throw new bf("Cannot mix locale-based week fields with ISO-based week fields");return Ze(e.localWeekday)||(e.weekday=e.localWeekday),Ze(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),Ze(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function sie(e,t=4,i=1){const r=R2(e.weekYear),s=mn(e.weekNumber,1,tv(e.weekYear,t,i)),n=mn(e.weekday,1,7);return r?s?n?!1:fn("weekday",e.weekday):fn("week",e.weekNumber):fn("weekYear",e.weekYear)}function nie(e){const t=R2(e.year),i=mn(e.ordinal,1,Cf(e.year));return t?i?!1:fn("ordinal",e.ordinal):fn("year",e.year)}function g7(e){const t=R2(e.year),i=mn(e.month,1,12),r=mn(e.day,1,bS(e.year,e.month));return t?i?r?!1:fn("day",e.day):fn("month",e.month):fn("year",e.year)}function v7(e){const{hour:t,minute:i,second:r,millisecond:s}=e,n=mn(t,0,23)||t===24&&i===0&&r===0&&s===0,a=mn(i,0,59),u=mn(r,0,59),d=mn(s,0,999);return n?a?u?d?!1:fn("millisecond",s):fn("second",r):fn("minute",i):fn("hour",t)}function Ze(e){return typeof e>"u"}function Bu(e){return typeof e=="number"}function R2(e){return typeof e=="number"&&e%1===0}function oie(e){return typeof e=="string"}function aie(e){return Object.prototype.toString.call(e)==="[object Date]"}function b7(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function w7(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function lie(e){return Array.isArray(e)?e:[e]}function G4(e,t,i){if(e.length!==0)return e.reduce((r,s)=>{const n=[t(s),s];return r&&i(r[0],n[0])===r[0]?r:n},null)[1]}function uie(e,t){return t.reduce((i,r)=>(i[r]=e[r],i),{})}function Jf(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u3(e){if(e==null)return null;if(typeof e!="object")throw new Tr("Week settings must be an object");if(!mn(e.firstDay,1,7)||!mn(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some(t=>!mn(t,1,7)))throw new Tr("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function mn(e,t,i){return R2(e)&&e>=t&&e<=i}function cie(e,t){return e-t*Math.floor(e/t)}function Ri(e,t=2){const i=e<0;let r;return i?r="-"+(""+-e).padStart(t,"0"):r=(""+e).padStart(t,"0"),r}function Mu(e){if(!(Ze(e)||e===null||e===""))return parseInt(e,10)}function Vc(e){if(!(Ze(e)||e===null||e===""))return parseFloat(e)}function UC(e){if(!(Ze(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function zC(e,t,i=!1){const r=10**t;return(i?Math.trunc:Math.round)(e*r)/r}function jv(e){return e%4===0&&(e%100!==0||e%400===0)}function Cf(e){return jv(e)?366:365}function bS(e,t){const i=cie(t-1,12)+1,r=e+(t-i)/12;return i===2?jv(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function C2(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function q4(e,t,i){return-jC(FC(e,1,t),i)+t-1}function tv(e,t=4,i=1){const r=q4(e,t,i),s=q4(e+1,t,i);return(Cf(e)-r+s)/7}function c3(e){return e>99?e:e>yi.twoDigitCutoffYear?1900+e:2e3+e}function _7(e,t,i,r=null){const s=new Date(e),n={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(n.timeZone=r);const a={timeZoneName:t,...n},u=new Intl.DateTimeFormat(i,a).formatToParts(s).find(d=>d.type.toLowerCase()==="timezonename");return u?u.value:null}function I2(e,t){let i=parseInt(e,10);Number.isNaN(i)&&(i=0);const r=parseInt(t,10)||0,s=i<0||Object.is(i,-0)?-r:r;return i*60+s}function S7(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new Tr(`Invalid unit value ${e}`);return t}function wS(e,t){const i={};for(const r in e)if(Jf(e,r)){const s=e[r];if(s==null)continue;i[t(r)]=S7(s)}return i}function E0(e,t){const i=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),s=e>=0?"+":"-";switch(t){case"short":return`${s}${Ri(i,2)}:${Ri(r,2)}`;case"narrow":return`${s}${i}${r>0?`:${r}`:""}`;case"techie":return`${s}${Ri(i,2)}${Ri(r,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function N2(e){return uie(e,["hour","minute","second","millisecond"])}const die=["January","February","March","April","May","June","July","August","September","October","November","December"],T7=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],hie=["J","F","M","A","M","J","J","A","S","O","N","D"];function E7(e){switch(e){case"narrow":return[...hie];case"short":return[...T7];case"long":return[...die];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const $7=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],x7=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],pie=["M","T","W","T","F","S","S"];function M7(e){switch(e){case"narrow":return[...pie];case"short":return[...x7];case"long":return[...$7];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const A7=["AM","PM"],fie=["Before Christ","Anno Domini"],mie=["BC","AD"],yie=["B","A"];function O7(e){switch(e){case"narrow":return[...yie];case"short":return[...mie];case"long":return[...fie];default:return null}}function gie(e){return A7[e.hour<12?0:1]}function vie(e,t){return M7(t)[e.weekday-1]}function bie(e,t){return E7(t)[e.month-1]}function wie(e,t){return O7(t)[e.year<0?0:1]}function _ie(e,t,i="always",r=!1){const s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},n=["hours","minutes","seconds"].indexOf(e)===-1;if(i==="auto"&&n){const v=e==="days";switch(t){case 1:return v?"tomorrow":`next ${s[e][0]}`;case-1:return v?"yesterday":`last ${s[e][0]}`;case 0:return v?"today":`this ${s[e][0]}`}}const a=Object.is(t,-0)||t<0,u=Math.abs(t),d=u===1,f=s[e],g=r?d?f[1]:f[2]||f[1]:d?s[e][0]:e;return a?`${u} ${g} ago`:`in ${u} ${g}`}function B4(e,t){let i="";for(const r of e)r.literal?i+=r.val:i+=t(r.val);return i}const Sie={D:gS,DD:Zz,DDD:Yz,DDDD:Jz,t:Xz,tt:Qz,ttt:Kz,tttt:e7,T:t7,TT:i7,TTT:r7,TTTT:s7,f:n7,ff:a7,fff:u7,ffff:d7,F:o7,FF:l7,FFF:c7,FFFF:h7};class $r{static create(t,i={}){return new $r(t,i)}static parseFormat(t){let i=null,r="",s=!1;const n=[];for(let a=0;a<t.length;a++){const u=t.charAt(a);u==="'"?(r.length>0&&n.push({literal:s||/^\s+$/.test(r),val:r}),i=null,r="",s=!s):s||u===i?r+=u:(r.length>0&&n.push({literal:/^\s+$/.test(r),val:r}),r=u,i=u)}return r.length>0&&n.push({literal:s||/^\s+$/.test(r),val:r}),n}static macroTokenToFormatOpts(t){return Sie[t]}constructor(t,i){this.opts=i,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,i){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...i}).format()}dtFormatter(t,i={}){return this.loc.dtFormatter(t,{...this.opts,...i})}formatDateTime(t,i){return this.dtFormatter(t,i).format()}formatDateTimeParts(t,i){return this.dtFormatter(t,i).formatToParts()}formatInterval(t,i){return this.dtFormatter(t.start,i).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,i){return this.dtFormatter(t,i).resolvedOptions()}num(t,i=0){if(this.opts.forceSimple)return Ri(t,i);const r={...this.opts};return i>0&&(r.padTo=i),this.loc.numberFormatter(r).format(t)}formatDateTimeFromString(t,i){const r=this.loc.listingMode()==="en",s=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",n=(S,T)=>this.loc.extract(t,S,T),a=S=>t.isOffsetFixed&&t.offset===0&&S.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,S.format):"",u=()=>r?gie(t):n({hour:"numeric",hourCycle:"h12"},"dayperiod"),d=(S,T)=>r?bie(t,S):n(T?{month:S}:{month:S,day:"numeric"},"month"),f=(S,T)=>r?vie(t,S):n(T?{weekday:S}:{weekday:S,month:"long",day:"numeric"},"weekday"),g=S=>{const T=$r.macroTokenToFormatOpts(S);return T?this.formatWithSystemDefault(t,T):S},v=S=>r?wie(t,S):n({era:S},"era"),w=S=>{switch(S){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return u();case"d":return s?n({day:"numeric"},"day"):this.num(t.day);case"dd":return s?n({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return f("short",!0);case"cccc":return f("long",!0);case"ccccc":return f("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return f("short",!1);case"EEEE":return f("long",!1);case"EEEEE":return f("narrow",!1);case"L":return s?n({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return s?n({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return d("short",!0);case"LLLL":return d("long",!0);case"LLLLL":return d("narrow",!0);case"M":return s?n({month:"numeric"},"month"):this.num(t.month);case"MM":return s?n({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return d("short",!1);case"MMMM":return d("long",!1);case"MMMMM":return d("narrow",!1);case"y":return s?n({year:"numeric"},"year"):this.num(t.year);case"yy":return s?n({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return s?n({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return s?n({year:"numeric"},"year"):this.num(t.year,6);case"G":return v("short");case"GG":return v("long");case"GGGGG":return v("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return g(S)}};return B4($r.parseFormat(i),w)}formatDurationFromString(t,i){const r=d=>{switch(d[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},s=d=>f=>{const g=r(f);return g?this.num(d.get(g),f.length):f},n=$r.parseFormat(i),a=n.reduce((d,{literal:f,val:g})=>f?d:d.concat(g),[]),u=t.shiftTo(...a.map(r).filter(d=>d));return B4(n,s(u))}}const R7=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function gm(...e){const t=e.reduce((i,r)=>i+r.source,"");return RegExp(`^${t}$`)}function vm(...e){return t=>e.reduce(([i,r,s],n)=>{const[a,u,d]=n(t,s);return[{...i,...a},u||r,d]},[{},null,1]).slice(0,2)}function bm(e,...t){if(e==null)return[null,null];for(const[i,r]of t){const s=i.exec(e);if(s)return r(s)}return[null,null]}function C7(...e){return(t,i)=>{const r={};let s;for(s=0;s<e.length;s++)r[e[s]]=Mu(t[i+s]);return[r,null,i+s]}}const I7=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Tie=`(?:${I7.source}?(?:\\[(${R7.source})\\])?)?`,VC=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,N7=RegExp(`${VC.source}${Tie}`),GC=RegExp(`(?:T${N7.source})?`),Eie=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,$ie=/(\d{4})-?W(\d\d)(?:-?(\d))?/,xie=/(\d{4})-?(\d{3})/,Mie=C7("weekYear","weekNumber","weekDay"),Aie=C7("year","ordinal"),Oie=/(\d{4})-(\d\d)-(\d\d)/,P7=RegExp(`${VC.source} ?(?:${I7.source}|(${R7.source}))?`),Rie=RegExp(`(?: ${P7.source})?`);function If(e,t,i){const r=e[t];return Ze(r)?i:Mu(r)}function Cie(e,t){return[{year:If(e,t),month:If(e,t+1,1),day:If(e,t+2,1)},null,t+3]}function wm(e,t){return[{hours:If(e,t,0),minutes:If(e,t+1,0),seconds:If(e,t+2,0),milliseconds:UC(e[t+3])},null,t+4]}function Uv(e,t){const i=!e[t]&&!e[t+1],r=I2(e[t+1],e[t+2]),s=i?null:er.instance(r);return[{},s,t+3]}function zv(e,t){const i=e[t]?fs.create(e[t]):null;return[{},i,t+1]}const Iie=RegExp(`^T?${VC.source}$`),Nie=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Pie(e){const[t,i,r,s,n,a,u,d,f]=e,g=t[0]==="-",v=d&&d[0]==="-",w=(S,T=!1)=>S!==void 0&&(T||S&&g)?-S:S;return[{years:w(Vc(i)),months:w(Vc(r)),weeks:w(Vc(s)),days:w(Vc(n)),hours:w(Vc(a)),minutes:w(Vc(u)),seconds:w(Vc(d),d==="-0"),milliseconds:w(UC(f),v)}]}const Lie={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function qC(e,t,i,r,s,n,a){const u={year:t.length===2?c3(Mu(t)):Mu(t),month:T7.indexOf(i)+1,day:Mu(r),hour:Mu(s),minute:Mu(n)};return a&&(u.second=Mu(a)),e&&(u.weekday=e.length>3?$7.indexOf(e)+1:x7.indexOf(e)+1),u}const Die=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function kie(e){const[,t,i,r,s,n,a,u,d,f,g,v]=e,w=qC(t,s,r,i,n,a,u);let S;return d?S=Lie[d]:f?S=0:S=I2(g,v),[w,new er(S)]}function Fie(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const jie=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Uie=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,zie=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function H4(e){const[,t,i,r,s,n,a,u]=e;return[qC(t,s,r,i,n,a,u),er.utcInstance]}function Vie(e){const[,t,i,r,s,n,a,u]=e;return[qC(t,u,i,r,s,n,a),er.utcInstance]}const Gie=gm(Eie,GC),qie=gm($ie,GC),Bie=gm(xie,GC),Hie=gm(N7),L7=vm(Cie,wm,Uv,zv),Wie=vm(Mie,wm,Uv,zv),Zie=vm(Aie,wm,Uv,zv),Yie=vm(wm,Uv,zv);function Jie(e){return bm(e,[Gie,L7],[qie,Wie],[Bie,Zie],[Hie,Yie])}function Xie(e){return bm(Fie(e),[Die,kie])}function Qie(e){return bm(e,[jie,H4],[Uie,H4],[zie,Vie])}function Kie(e){return bm(e,[Nie,Pie])}const ere=vm(wm);function tre(e){return bm(e,[Iie,ere])}const ire=gm(Oie,Rie),rre=gm(P7),sre=vm(wm,Uv,zv);function nre(e){return bm(e,[ire,L7],[rre,sre])}const W4="Invalid Duration",D7={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},ore={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...D7},Ks=146097/400,fp=146097/4800,are={years:{quarters:4,months:12,weeks:Ks/7,days:Ks,hours:Ks*24,minutes:Ks*24*60,seconds:Ks*24*60*60,milliseconds:Ks*24*60*60*1e3},quarters:{months:3,weeks:Ks/28,days:Ks/4,hours:Ks*24/4,minutes:Ks*24*60/4,seconds:Ks*24*60*60/4,milliseconds:Ks*24*60*60*1e3/4},months:{weeks:fp/7,days:fp,hours:fp*24,minutes:fp*24*60,seconds:fp*24*60*60,milliseconds:fp*24*60*60*1e3},...D7},qd=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],lre=qd.slice(0).reverse();function Wl(e,t,i=!1){const r={values:i?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new mt(r)}function k7(e,t){let i=t.milliseconds??0;for(const r of lre.slice(1))t[r]&&(i+=t[r]*e[r].milliseconds);return i}function Z4(e,t){const i=k7(e,t)<0?-1:1;qd.reduceRight((r,s)=>{if(Ze(t[s]))return r;if(r){const n=t[r]*i,a=e[s][r],u=Math.floor(n/a);t[s]+=u*i,t[r]-=u*a*i}return s},null),qd.reduce((r,s)=>{if(Ze(t[s]))return r;if(r){const n=t[r]%1;t[r]-=n,t[s]+=n*e[r][s]}return s},null)}function ure(e){const t={};for(const[i,r]of Object.entries(e))r!==0&&(t[i]=r);return t}class mt{constructor(t){const i=t.conversionAccuracy==="longterm"||!1;let r=i?are:ore;t.matrix&&(r=t.matrix),this.values=t.values,this.loc=t.loc||Et.create(),this.conversionAccuracy=i?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(t,i){return mt.fromObject({milliseconds:t},i)}static fromObject(t,i={}){if(t==null||typeof t!="object")throw new Tr(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new mt({values:wS(t,mt.normalizeUnit),loc:Et.fromObject(i),conversionAccuracy:i.conversionAccuracy,matrix:i.matrix})}static fromDurationLike(t){if(Bu(t))return mt.fromMillis(t);if(mt.isDuration(t))return t;if(typeof t=="object")return mt.fromObject(t);throw new Tr(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,i){const[r]=Kie(t);return r?mt.fromObject(r,i):mt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,i){const[r]=tre(t);return r?mt.fromObject(r,i):mt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,i=null){if(!t)throw new Tr("need to specify a reason the Duration is invalid");const r=t instanceof so?t:new so(t,i);if(yi.throwOnInvalid)throw new Nte(r);return new mt({invalid:r})}static normalizeUnit(t){const i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!i)throw new Wz(t);return i}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,i={}){const r={...i,floor:i.round!==!1&&i.floor!==!1};return this.isValid?$r.create(this.loc,r).formatDurationFromString(this,t):W4}toHuman(t={}){if(!this.isValid)return W4;const i=qd.map(r=>{const s=this.values[r];return Ze(s)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:r.slice(0,-1)}).format(s)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(i)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=zC(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const i=this.toMillis();return i<0||i>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},Re.fromMillis(i,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?k7(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const i=mt.fromDurationLike(t),r={};for(const s of qd)(Jf(i.values,s)||Jf(this.values,s))&&(r[s]=i.get(s)+this.get(s));return Wl(this,{values:r},!0)}minus(t){if(!this.isValid)return this;const i=mt.fromDurationLike(t);return this.plus(i.negate())}mapUnits(t){if(!this.isValid)return this;const i={};for(const r of Object.keys(this.values))i[r]=S7(t(this.values[r],r));return Wl(this,{values:i},!0)}get(t){return this[mt.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const i={...this.values,...wS(t,mt.normalizeUnit)};return Wl(this,{values:i})}reconfigure({locale:t,numberingSystem:i,conversionAccuracy:r,matrix:s}={}){const a={loc:this.loc.clone({locale:t,numberingSystem:i}),matrix:s,conversionAccuracy:r};return Wl(this,a)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return Z4(this.matrix,t),Wl(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=ure(this.normalize().shiftToAll().toObject());return Wl(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(a=>mt.normalizeUnit(a));const i={},r={},s=this.toObject();let n;for(const a of qd)if(t.indexOf(a)>=0){n=a;let u=0;for(const f in r)u+=this.matrix[f][a]*r[f],r[f]=0;Bu(s[a])&&(u+=s[a]);const d=Math.trunc(u);i[a]=d,r[a]=(u*1e3-d*1e3)/1e3}else Bu(s[a])&&(r[a]=s[a]);for(const a in r)r[a]!==0&&(i[n]+=a===n?r[a]:r[a]/this.matrix[n][a]);return Z4(this.matrix,i),Wl(this,{values:i},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const i of Object.keys(this.values))t[i]=this.values[i]===0?0:-this.values[i];return Wl(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function i(r,s){return r===void 0||r===0?s===void 0||s===0:r===s}for(const r of qd)if(!i(this.values[r],t.values[r]))return!1;return!0}}const mp="Invalid Interval";function cre(e,t){return!e||!e.isValid?pi.invalid("missing or invalid start"):!t||!t.isValid?pi.invalid("missing or invalid end"):t<e?pi.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class pi{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,i=null){if(!t)throw new Tr("need to specify a reason the Interval is invalid");const r=t instanceof so?t:new so(t,i);if(yi.throwOnInvalid)throw new Ite(r);return new pi({invalid:r})}static fromDateTimes(t,i){const r=Uy(t),s=Uy(i),n=cre(r,s);return n??new pi({start:r,end:s})}static after(t,i){const r=mt.fromDurationLike(i),s=Uy(t);return pi.fromDateTimes(s,s.plus(r))}static before(t,i){const r=mt.fromDurationLike(i),s=Uy(t);return pi.fromDateTimes(s.minus(r),s)}static fromISO(t,i){const[r,s]=(t||"").split("/",2);if(r&&s){let n,a;try{n=Re.fromISO(r,i),a=n.isValid}catch{a=!1}let u,d;try{u=Re.fromISO(s,i),d=u.isValid}catch{d=!1}if(a&&d)return pi.fromDateTimes(n,u);if(a){const f=mt.fromISO(s,i);if(f.isValid)return pi.after(n,f)}else if(d){const f=mt.fromISO(r,i);if(f.isValid)return pi.before(u,f)}}return pi.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",i){if(!this.isValid)return NaN;const r=this.start.startOf(t,i);let s;return i!=null&&i.useLocaleWeeks?s=this.end.reconfigure({locale:r.locale}):s=this.end,s=s.startOf(t,i),Math.floor(s.diff(r,t).get(t))+(s.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:i}={}){return this.isValid?pi.fromDateTimes(t||this.s,i||this.e):this}splitAt(...t){if(!this.isValid)return[];const i=t.map(Uy).filter(a=>this.contains(a)).sort((a,u)=>a.toMillis()-u.toMillis()),r=[];let{s}=this,n=0;for(;s<this.e;){const a=i[n]||this.e,u=+a>+this.e?this.e:a;r.push(pi.fromDateTimes(s,u)),s=u,n+=1}return r}splitBy(t){const i=mt.fromDurationLike(t);if(!this.isValid||!i.isValid||i.as("milliseconds")===0)return[];let{s:r}=this,s=1,n;const a=[];for(;r<this.e;){const u=this.start.plus(i.mapUnits(d=>d*s));n=+u>+this.e?this.e:u,a.push(pi.fromDateTimes(r,n)),r=n,s+=1}return a}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const i=this.s>t.s?this.s:t.s,r=this.e<t.e?this.e:t.e;return i>=r?null:pi.fromDateTimes(i,r)}union(t){if(!this.isValid)return this;const i=this.s<t.s?this.s:t.s,r=this.e>t.e?this.e:t.e;return pi.fromDateTimes(i,r)}static merge(t){const[i,r]=t.sort((s,n)=>s.s-n.s).reduce(([s,n],a)=>n?n.overlaps(a)||n.abutsStart(a)?[s,n.union(a)]:[s.concat([n]),a]:[s,a],[[],null]);return r&&i.push(r),i}static xor(t){let i=null,r=0;const s=[],n=t.map(d=>[{time:d.s,type:"s"},{time:d.e,type:"e"}]),a=Array.prototype.concat(...n),u=a.sort((d,f)=>d.time-f.time);for(const d of u)r+=d.type==="s"?1:-1,r===1?i=d.time:(i&&+i!=+d.time&&s.push(pi.fromDateTimes(i,d.time)),i=null);return pi.merge(s)}difference(...t){return pi.xor([this].concat(t)).map(i=>this.intersection(i)).filter(i=>i&&!i.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:mp}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=gS,i={}){return this.isValid?$r.create(this.s.loc.clone(i),t).formatInterval(this):mp}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:mp}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:mp}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:mp}toFormat(t,{separator:i=" – "}={}){return this.isValid?`${this.s.toFormat(t)}${i}${this.e.toFormat(t)}`:mp}toDuration(t,i){return this.isValid?this.e.diff(this.s,t,i):mt.invalid(this.invalidReason)}mapEndpoints(t){return pi.fromDateTimes(t(this.s),t(this.e))}}class Db{static hasDST(t=yi.defaultZone){const i=Re.now().setZone(t).set({month:12});return!t.isUniversal&&i.offset!==i.set({month:6}).offset}static isValidIANAZone(t){return fs.isValidZone(t)}static normalizeZone(t){return Pu(t,yi.defaultZone)}static getStartOfWeek({locale:t=null,locObj:i=null}={}){return(i||Et.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:i=null}={}){return(i||Et.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:i=null}={}){return(i||Et.create(t)).getWeekendDays().slice()}static months(t="long",{locale:i=null,numberingSystem:r=null,locObj:s=null,outputCalendar:n="gregory"}={}){return(s||Et.create(i,r,n)).months(t)}static monthsFormat(t="long",{locale:i=null,numberingSystem:r=null,locObj:s=null,outputCalendar:n="gregory"}={}){return(s||Et.create(i,r,n)).months(t,!0)}static weekdays(t="long",{locale:i=null,numberingSystem:r=null,locObj:s=null}={}){return(s||Et.create(i,r,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:i=null,numberingSystem:r=null,locObj:s=null}={}){return(s||Et.create(i,r,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return Et.create(t).meridiems()}static eras(t="short",{locale:i=null}={}){return Et.create(i,null,"gregory").eras(t)}static features(){return{relative:b7(),localeWeek:w7()}}}function Y4(e,t){const i=s=>s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=i(t)-i(e);return Math.floor(mt.fromMillis(r).as("days"))}function dre(e,t,i){const r=[["years",(d,f)=>f.year-d.year],["quarters",(d,f)=>f.quarter-d.quarter+(f.year-d.year)*4],["months",(d,f)=>f.month-d.month+(f.year-d.year)*12],["weeks",(d,f)=>{const g=Y4(d,f);return(g-g%7)/7}],["days",Y4]],s={},n=e;let a,u;for(const[d,f]of r)i.indexOf(d)>=0&&(a=d,s[d]=f(e,t),u=n.plus(s),u>t?(s[d]--,e=n.plus(s),e>t&&(u=e,s[d]--,e=n.plus(s))):e=u);return[e,s,u,a]}function hre(e,t,i,r){let[s,n,a,u]=dre(e,t,i);const d=t-s,f=i.filter(v=>["hours","minutes","seconds","milliseconds"].indexOf(v)>=0);f.length===0&&(a<t&&(a=s.plus({[u]:1})),a!==s&&(n[u]=(n[u]||0)+d/(a-s)));const g=mt.fromObject(n,r);return f.length>0?mt.fromMillis(d,r).shiftTo(...f).plus(g):g}const pre="missing Intl.DateTimeFormat.formatToParts support";function _t(e,t=i=>i){return{regex:e,deser:([i])=>t(iie(i))}}const fre=" ",F7=`[ ${fre}]`,j7=new RegExp(F7,"g");function mre(e){return e.replace(/\./g,"\\.?").replace(j7,F7)}function J4(e){return e.replace(/\./g,"").replace(j7," ").toLowerCase()}function Pn(e,t){return e===null?null:{regex:RegExp(e.map(mre).join("|")),deser:([i])=>e.findIndex(r=>J4(i)===J4(r))+t}}function X4(e,t){return{regex:e,deser:([,i,r])=>I2(i,r),groups:t}}function kb(e){return{regex:e,deser:([t])=>t}}function yre(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function gre(e,t){const i=Nn(t),r=Nn(t,"{2}"),s=Nn(t,"{3}"),n=Nn(t,"{4}"),a=Nn(t,"{6}"),u=Nn(t,"{1,2}"),d=Nn(t,"{1,3}"),f=Nn(t,"{1,6}"),g=Nn(t,"{1,9}"),v=Nn(t,"{2,4}"),w=Nn(t,"{4,6}"),S=M=>({regex:RegExp(yre(M.val)),deser:([R])=>R,literal:!0}),E=(M=>{if(e.literal)return S(M);switch(M.val){case"G":return Pn(t.eras("short"),0);case"GG":return Pn(t.eras("long"),0);case"y":return _t(f);case"yy":return _t(v,c3);case"yyyy":return _t(n);case"yyyyy":return _t(w);case"yyyyyy":return _t(a);case"M":return _t(u);case"MM":return _t(r);case"MMM":return Pn(t.months("short",!0),1);case"MMMM":return Pn(t.months("long",!0),1);case"L":return _t(u);case"LL":return _t(r);case"LLL":return Pn(t.months("short",!1),1);case"LLLL":return Pn(t.months("long",!1),1);case"d":return _t(u);case"dd":return _t(r);case"o":return _t(d);case"ooo":return _t(s);case"HH":return _t(r);case"H":return _t(u);case"hh":return _t(r);case"h":return _t(u);case"mm":return _t(r);case"m":return _t(u);case"q":return _t(u);case"qq":return _t(r);case"s":return _t(u);case"ss":return _t(r);case"S":return _t(d);case"SSS":return _t(s);case"u":return kb(g);case"uu":return kb(u);case"uuu":return _t(i);case"a":return Pn(t.meridiems(),0);case"kkkk":return _t(n);case"kk":return _t(v,c3);case"W":return _t(u);case"WW":return _t(r);case"E":case"c":return _t(i);case"EEE":return Pn(t.weekdays("short",!1),1);case"EEEE":return Pn(t.weekdays("long",!1),1);case"ccc":return Pn(t.weekdays("short",!0),1);case"cccc":return Pn(t.weekdays("long",!0),1);case"Z":case"ZZ":return X4(new RegExp(`([+-]${u.source})(?::(${r.source}))?`),2);case"ZZZ":return X4(new RegExp(`([+-]${u.source})(${r.source})?`),2);case"z":return kb(/[a-z_+-/]{1,256}?/i);case" ":return kb(/[^\S\n\r]/);default:return S(M)}})(e)||{invalidReason:pre};return E.token=e,E}const vre={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function bre(e,t,i){const{type:r,value:s}=e;if(r==="literal"){const d=/^\s+$/.test(s);return{literal:!d,val:d?" ":s}}const n=t[r];let a=r;r==="hour"&&(t.hour12!=null?a=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?a="hour12":a="hour24":a=i.hour12?"hour12":"hour24");let u=vre[a];if(typeof u=="object"&&(u=u[n]),u)return{literal:!1,val:u}}function wre(e){return[`^${e.map(i=>i.regex).reduce((i,r)=>`${i}(${r.source})`,"")}$`,e]}function _re(e,t,i){const r=e.match(t);if(r){const s={};let n=1;for(const a in i)if(Jf(i,a)){const u=i[a],d=u.groups?u.groups+1:1;!u.literal&&u.token&&(s[u.token.val[0]]=u.deser(r.slice(n,n+d))),n+=d}return[r,s]}else return[r,{}]}function Sre(e){const t=n=>{switch(n){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let i=null,r;return Ze(e.z)||(i=fs.create(e.z)),Ze(e.Z)||(i||(i=new er(e.Z)),r=e.Z),Ze(e.q)||(e.M=(e.q-1)*3+1),Ze(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),Ze(e.u)||(e.S=UC(e.u)),[Object.keys(e).reduce((n,a)=>{const u=t(a);return u&&(n[u]=e[a]),n},{}),i,r]}let dx=null;function Tre(){return dx||(dx=Re.fromMillis(1555555555555)),dx}function Ere(e,t){if(e.literal)return e;const i=$r.macroTokenToFormatOpts(e.val),r=G7(i,t);return r==null||r.includes(void 0)?e:r}function U7(e,t){return Array.prototype.concat(...e.map(i=>Ere(i,t)))}class z7{constructor(t,i){if(this.locale=t,this.format=i,this.tokens=U7($r.parseFormat(i),t),this.units=this.tokens.map(r=>gre(r,t)),this.disqualifyingUnit=this.units.find(r=>r.invalidReason),!this.disqualifyingUnit){const[r,s]=wre(this.units);this.regex=RegExp(r,"i"),this.handlers=s}}explainFromTokens(t){if(this.isValid){const[i,r]=_re(t,this.regex,this.handlers),[s,n,a]=r?Sre(r):[null,null,void 0];if(Jf(r,"a")&&Jf(r,"H"))throw new bf("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:this.tokens,regex:this.regex,rawMatches:i,matches:r,result:s,zone:n,specificOffset:a}}else return{input:t,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function V7(e,t,i){return new z7(e,i).explainFromTokens(t)}function $re(e,t,i){const{result:r,zone:s,specificOffset:n,invalidReason:a}=V7(e,t,i);return[r,s,n,a]}function G7(e,t){if(!e)return null;const r=$r.create(t,e).dtFormatter(Tre()),s=r.formatToParts(),n=r.resolvedOptions();return s.map(a=>bre(a,e,n))}const hx="Invalid DateTime",xre=864e13;function fg(e){return new so("unsupported zone",`the zone "${e.name}" is not supported`)}function px(e){return e.weekData===null&&(e.weekData=vS(e.c)),e.weekData}function fx(e){return e.localWeekData===null&&(e.localWeekData=vS(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function Gc(e,t){const i={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new Re({...i,...t,old:i})}function q7(e,t,i){let r=e-t*60*1e3;const s=i.offset(r);if(t===s)return[r,t];r-=(s-t)*60*1e3;const n=i.offset(r);return s===n?[r,s]:[e-Math.min(s,n)*60*1e3,Math.max(s,n)]}function Fb(e,t){e+=t*60*1e3;const i=new Date(e);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function zw(e,t,i){return q7(C2(e),t,i)}function Q4(e,t){const i=e.o,r=e.c.year+Math.trunc(t.years),s=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,n={...e.c,year:r,month:s,day:Math.min(e.c.day,bS(r,s))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},a=mt.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),u=C2(n);let[d,f]=q7(u,i,e.zone);return a!==0&&(d+=a,f=e.zone.offset(d)),{ts:d,o:f}}function yp(e,t,i,r,s,n){const{setZone:a,zone:u}=i;if(e&&Object.keys(e).length!==0||t){const d=t||u,f=Re.fromObject(e,{...i,zone:d,specificOffset:n});return a?f:f.setZone(u)}else return Re.invalid(new so("unparsable",`the input "${s}" can't be parsed as ${r}`))}function jb(e,t,i=!0){return e.isValid?$r.create(Et.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(e,t):null}function mx(e,t){const i=e.c.year>9999||e.c.year<0;let r="";return i&&e.c.year>=0&&(r+="+"),r+=Ri(e.c.year,i?6:4),t?(r+="-",r+=Ri(e.c.month),r+="-",r+=Ri(e.c.day)):(r+=Ri(e.c.month),r+=Ri(e.c.day)),r}function K4(e,t,i,r,s,n){let a=Ri(e.c.hour);return t?(a+=":",a+=Ri(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!i)&&(a+=":")):a+=Ri(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!i)&&(a+=Ri(e.c.second),(e.c.millisecond!==0||!r)&&(a+=".",a+=Ri(e.c.millisecond,3))),s&&(e.isOffsetFixed&&e.offset===0&&!n?a+="Z":e.o<0?(a+="-",a+=Ri(Math.trunc(-e.o/60)),a+=":",a+=Ri(Math.trunc(-e.o%60))):(a+="+",a+=Ri(Math.trunc(e.o/60)),a+=":",a+=Ri(Math.trunc(e.o%60)))),n&&(a+="["+e.zone.ianaName+"]"),a}const B7={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Mre={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Are={ordinal:1,hour:0,minute:0,second:0,millisecond:0},H7=["year","month","day","hour","minute","second","millisecond"],Ore=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Rre=["year","ordinal","hour","minute","second","millisecond"];function Cre(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new Wz(e);return t}function e5(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return Cre(e)}}function Ire(e){return Gw[e]||(Vw===void 0&&(Vw=yi.now()),Gw[e]=e.offset(Vw)),Gw[e]}function t5(e,t){const i=Pu(t.zone,yi.defaultZone);if(!i.isValid)return Re.invalid(fg(i));const r=Et.fromObject(t);let s,n;if(Ze(e.year))s=yi.now();else{for(const d of H7)Ze(e[d])&&(e[d]=B7[d]);const a=g7(e)||v7(e);if(a)return Re.invalid(a);const u=Ire(i);[s,n]=zw(e,u,i)}return new Re({ts:s,zone:i,loc:r,o:n})}function i5(e,t,i){const r=Ze(i.round)?!0:i.round,s=(a,u)=>(a=zC(a,r||i.calendary?0:2,!0),t.loc.clone(i).relFormatter(i).format(a,u)),n=a=>i.calendary?t.hasSame(e,a)?0:t.startOf(a).diff(e.startOf(a),a).get(a):t.diff(e,a).get(a);if(i.unit)return s(n(i.unit),i.unit);for(const a of i.units){const u=n(a);if(Math.abs(u)>=1)return s(u,a)}return s(e>t?-0:0,i.units[i.units.length-1])}function r5(e){let t={},i;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],i=Array.from(e).slice(0,e.length-1)):i=Array.from(e),[t,i]}let Vw,Gw={};class Re{constructor(t){const i=t.zone||yi.defaultZone;let r=t.invalid||(Number.isNaN(t.ts)?new so("invalid input"):null)||(i.isValid?null:fg(i));this.ts=Ze(t.ts)?yi.now():t.ts;let s=null,n=null;if(!r)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(i))[s,n]=[t.old.c,t.old.o];else{const u=Bu(t.o)&&!t.old?t.o:i.offset(this.ts);s=Fb(this.ts,u),r=Number.isNaN(s.year)?new so("invalid input"):null,s=r?null:s,n=r?null:u}this._zone=i,this.loc=t.loc||Et.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=s,this.o=n,this.isLuxonDateTime=!0}static now(){return new Re({})}static local(){const[t,i]=r5(arguments),[r,s,n,a,u,d,f]=i;return t5({year:r,month:s,day:n,hour:a,minute:u,second:d,millisecond:f},t)}static utc(){const[t,i]=r5(arguments),[r,s,n,a,u,d,f]=i;return t.zone=er.utcInstance,t5({year:r,month:s,day:n,hour:a,minute:u,second:d,millisecond:f},t)}static fromJSDate(t,i={}){const r=aie(t)?t.valueOf():NaN;if(Number.isNaN(r))return Re.invalid("invalid input");const s=Pu(i.zone,yi.defaultZone);return s.isValid?new Re({ts:r,zone:s,loc:Et.fromObject(i)}):Re.invalid(fg(s))}static fromMillis(t,i={}){if(Bu(t))return t<-864e13||t>xre?Re.invalid("Timestamp out of range"):new Re({ts:t,zone:Pu(i.zone,yi.defaultZone),loc:Et.fromObject(i)});throw new Tr(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,i={}){if(Bu(t))return new Re({ts:t*1e3,zone:Pu(i.zone,yi.defaultZone),loc:Et.fromObject(i)});throw new Tr("fromSeconds requires a numerical input")}static fromObject(t,i={}){t=t||{};const r=Pu(i.zone,yi.defaultZone);if(!r.isValid)return Re.invalid(fg(r));const s=Et.fromObject(i),n=wS(t,e5),{minDaysInFirstWeek:a,startOfWeek:u}=V4(n,s),d=yi.now(),f=Ze(i.specificOffset)?r.offset(d):i.specificOffset,g=!Ze(n.ordinal),v=!Ze(n.year),w=!Ze(n.month)||!Ze(n.day),S=v||w,T=n.weekYear||n.weekNumber;if((S||g)&&T)throw new bf("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(w&&g)throw new bf("Can't mix ordinal dates with month/day");const E=T||n.weekday&&!S;let M,R,P=Fb(d,f);E?(M=Ore,R=Mre,P=vS(P,a,u)):g?(M=Rre,R=Are,P=cx(P)):(M=H7,R=B7);let N=!1;for(const me of M){const _e=n[me];Ze(_e)?N?n[me]=R[me]:n[me]=P[me]:N=!0}const k=E?sie(n,a,u):g?nie(n):g7(n),U=k||v7(n);if(U)return Re.invalid(U);const Z=E?U4(n,a,u):g?z4(n):n,[re,oe]=zw(Z,f,r),pe=new Re({ts:re,zone:r,o:oe,loc:s});return n.weekday&&S&&t.weekday!==pe.weekday?Re.invalid("mismatched weekday",`you can't specify both a weekday of ${n.weekday} and a date of ${pe.toISO()}`):pe.isValid?pe:Re.invalid(pe.invalid)}static fromISO(t,i={}){const[r,s]=Jie(t);return yp(r,s,i,"ISO 8601",t)}static fromRFC2822(t,i={}){const[r,s]=Xie(t);return yp(r,s,i,"RFC 2822",t)}static fromHTTP(t,i={}){const[r,s]=Qie(t);return yp(r,s,i,"HTTP",i)}static fromFormat(t,i,r={}){if(Ze(t)||Ze(i))throw new Tr("fromFormat requires an input string and a format");const{locale:s=null,numberingSystem:n=null}=r,a=Et.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0}),[u,d,f,g]=$re(a,t,i);return g?Re.invalid(g):yp(u,d,r,`format ${i}`,t,f)}static fromString(t,i,r={}){return Re.fromFormat(t,i,r)}static fromSQL(t,i={}){const[r,s]=nre(t);return yp(r,s,i,"SQL",t)}static invalid(t,i=null){if(!t)throw new Tr("need to specify a reason the DateTime is invalid");const r=t instanceof so?t:new so(t,i);if(yi.throwOnInvalid)throw new Cte(r);return new Re({invalid:r})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,i={}){const r=G7(t,Et.fromObject(i));return r?r.map(s=>s?s.val:null).join(""):null}static expandFormat(t,i={}){return U7($r.parseFormat(t),Et.fromObject(i)).map(s=>s.val).join("")}static resetCache(){Vw=void 0,Gw={}}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?px(this).weekYear:NaN}get weekNumber(){return this.isValid?px(this).weekNumber:NaN}get weekday(){return this.isValid?px(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?fx(this).weekday:NaN}get localWeekNumber(){return this.isValid?fx(this).weekNumber:NaN}get localWeekYear(){return this.isValid?fx(this).weekYear:NaN}get ordinal(){return this.isValid?cx(this.c).ordinal:NaN}get monthShort(){return this.isValid?Db.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Db.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Db.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Db.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,i=6e4,r=C2(this.c),s=this.zone.offset(r-t),n=this.zone.offset(r+t),a=this.zone.offset(r-s*i),u=this.zone.offset(r-n*i);if(a===u)return[this];const d=r-a*i,f=r-u*i,g=Fb(d,a),v=Fb(f,u);return g.hour===v.hour&&g.minute===v.minute&&g.second===v.second&&g.millisecond===v.millisecond?[Gc(this,{ts:d}),Gc(this,{ts:f})]:[this]}get isInLeapYear(){return jv(this.year)}get daysInMonth(){return bS(this.year,this.month)}get daysInYear(){return this.isValid?Cf(this.year):NaN}get weeksInWeekYear(){return this.isValid?tv(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?tv(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:i,numberingSystem:r,calendar:s}=$r.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:i,numberingSystem:r,outputCalendar:s}}toUTC(t=0,i={}){return this.setZone(er.instance(t),i)}toLocal(){return this.setZone(yi.defaultZone)}setZone(t,{keepLocalTime:i=!1,keepCalendarTime:r=!1}={}){if(t=Pu(t,yi.defaultZone),t.equals(this.zone))return this;if(t.isValid){let s=this.ts;if(i||r){const n=t.offset(this.ts),a=this.toObject();[s]=zw(a,n,t)}return Gc(this,{ts:s,zone:t})}else return Re.invalid(fg(t))}reconfigure({locale:t,numberingSystem:i,outputCalendar:r}={}){const s=this.loc.clone({locale:t,numberingSystem:i,outputCalendar:r});return Gc(this,{loc:s})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const i=wS(t,e5),{minDaysInFirstWeek:r,startOfWeek:s}=V4(i,this.loc),n=!Ze(i.weekYear)||!Ze(i.weekNumber)||!Ze(i.weekday),a=!Ze(i.ordinal),u=!Ze(i.year),d=!Ze(i.month)||!Ze(i.day),f=u||d,g=i.weekYear||i.weekNumber;if((f||a)&&g)throw new bf("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(d&&a)throw new bf("Can't mix ordinal dates with month/day");let v;n?v=U4({...vS(this.c,r,s),...i},r,s):Ze(i.ordinal)?(v={...this.toObject(),...i},Ze(i.day)&&(v.day=Math.min(bS(v.year,v.month),v.day))):v=z4({...cx(this.c),...i});const[w,S]=zw(v,this.o,this.zone);return Gc(this,{ts:w,o:S})}plus(t){if(!this.isValid)return this;const i=mt.fromDurationLike(t);return Gc(this,Q4(this,i))}minus(t){if(!this.isValid)return this;const i=mt.fromDurationLike(t).negate();return Gc(this,Q4(this,i))}startOf(t,{useLocaleWeeks:i=!1}={}){if(!this.isValid)return this;const r={},s=mt.normalizeUnit(t);switch(s){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(s==="weeks")if(i){const n=this.loc.getStartOfWeek(),{weekday:a}=this;a<n&&(r.weekNumber=this.weekNumber-1),r.weekday=n}else r.weekday=1;if(s==="quarters"){const n=Math.ceil(this.month/3);r.month=(n-1)*3+1}return this.set(r)}endOf(t,i){return this.isValid?this.plus({[t]:1}).startOf(t,i).minus(1):this}toFormat(t,i={}){return this.isValid?$r.create(this.loc.redefaultToEN(i)).formatDateTimeFromString(this,t):hx}toLocaleString(t=gS,i={}){return this.isValid?$r.create(this.loc.clone(i),t).formatDateTime(this):hx}toLocaleParts(t={}){return this.isValid?$r.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:i=!1,suppressMilliseconds:r=!1,includeOffset:s=!0,extendedZone:n=!1}={}){if(!this.isValid)return null;const a=t==="extended";let u=mx(this,a);return u+="T",u+=K4(this,a,i,r,s,n),u}toISODate({format:t="extended"}={}){return this.isValid?mx(this,t==="extended"):null}toISOWeekDate(){return jb(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:i=!1,includeOffset:r=!0,includePrefix:s=!1,extendedZone:n=!1,format:a="extended"}={}){return this.isValid?(s?"T":"")+K4(this,a==="extended",i,t,r,n):null}toRFC2822(){return jb(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return jb(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?mx(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:i=!1,includeOffsetSpace:r=!0}={}){let s="HH:mm:ss.SSS";return(i||t)&&(r&&(s+=" "),i?s+="z":t&&(s+="ZZ")),jb(this,s,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():hx}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const i={...this.c};return t.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,i="milliseconds",r={}){if(!this.isValid||!t.isValid)return mt.invalid("created by diffing an invalid DateTime");const s={locale:this.locale,numberingSystem:this.numberingSystem,...r},n=lie(i).map(mt.normalizeUnit),a=t.valueOf()>this.valueOf(),u=a?this:t,d=a?t:this,f=hre(u,d,n,s);return a?f.negate():f}diffNow(t="milliseconds",i={}){return this.diff(Re.now(),t,i)}until(t){return this.isValid?pi.fromDateTimes(this,t):this}hasSame(t,i,r){if(!this.isValid)return!1;const s=t.valueOf(),n=this.setZone(t.zone,{keepLocalTime:!0});return n.startOf(i,r)<=s&&s<=n.endOf(i,r)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const i=t.base||Re.fromObject({},{zone:this.zone}),r=t.padding?this<i?-t.padding:t.padding:0;let s=["years","months","days","hours","minutes","seconds"],n=t.unit;return Array.isArray(t.unit)&&(s=t.unit,n=void 0),i5(i,this.plus(r),{...t,numeric:"always",units:s,unit:n})}toRelativeCalendar(t={}){return this.isValid?i5(t.base||Re.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(Re.isDateTime))throw new Tr("min requires all arguments be DateTimes");return G4(t,i=>i.valueOf(),Math.min)}static max(...t){if(!t.every(Re.isDateTime))throw new Tr("max requires all arguments be DateTimes");return G4(t,i=>i.valueOf(),Math.max)}static fromFormatExplain(t,i,r={}){const{locale:s=null,numberingSystem:n=null}=r,a=Et.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0});return V7(a,t,i)}static fromStringExplain(t,i,r={}){return Re.fromFormatExplain(t,i,r)}static buildFormatParser(t,i={}){const{locale:r=null,numberingSystem:s=null}=i,n=Et.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0});return new z7(n,t)}static fromFormatParser(t,i,r={}){if(Ze(t)||Ze(i))throw new Tr("fromFormatParser requires an input string and a format parser");const{locale:s=null,numberingSystem:n=null}=r,a=Et.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0});if(!a.equals(i.locale))throw new Tr(`fromFormatParser called with a locale of ${a}, but the format parser was created for ${i.locale}`);const{result:u,zone:d,specificOffset:f,invalidReason:g}=i.explainFromTokens(t);return g?Re.invalid(g):yp(u,d,r,`format ${i.format}`,t,f)}static get DATE_SHORT(){return gS}static get DATE_MED(){return Zz}static get DATE_MED_WITH_WEEKDAY(){return Pte}static get DATE_FULL(){return Yz}static get DATE_HUGE(){return Jz}static get TIME_SIMPLE(){return Xz}static get TIME_WITH_SECONDS(){return Qz}static get TIME_WITH_SHORT_OFFSET(){return Kz}static get TIME_WITH_LONG_OFFSET(){return e7}static get TIME_24_SIMPLE(){return t7}static get TIME_24_WITH_SECONDS(){return i7}static get TIME_24_WITH_SHORT_OFFSET(){return r7}static get TIME_24_WITH_LONG_OFFSET(){return s7}static get DATETIME_SHORT(){return n7}static get DATETIME_SHORT_WITH_SECONDS(){return o7}static get DATETIME_MED(){return a7}static get DATETIME_MED_WITH_SECONDS(){return l7}static get DATETIME_MED_WITH_WEEKDAY(){return Lte}static get DATETIME_FULL(){return u7}static get DATETIME_FULL_WITH_SECONDS(){return c7}static get DATETIME_HUGE(){return d7}static get DATETIME_HUGE_WITH_SECONDS(){return h7}}function Uy(e){if(Re.isDateTime(e))return e;if(e&&e.valueOf&&Bu(e.valueOf()))return Re.fromJSDate(e);if(e&&typeof e=="object")return Re.fromObject(e);throw new Tr(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const Nre="HH:mm",Pre="HH:mm:ss",Lre="HH:mm:ss.SSS",Dre=[Lre,Pre,Nre,"TT"],kre="yyyy-MM-dd";function s5(e){if(!e||!Fv(e))return null;const t=Re.fromFormat(e,kre);return t.isValid?t:null}function n5(e){return e&&Fv(e)?bK(Dre,t=>{const i=Re.fromFormat(e,t);return i.isValid?i:null})??null:null}function o5(e){if(!e||!Fv(e))return null;const t=Re.fromISO(e);return t.isValid?t:null}var _S;(function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(_S||(_S={}));const W7=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]);function Fre(e){return e!=null&&W7.has(e.type)}function Z7(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function Y7(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function J7(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}const jre=new Set(["single","double","esriFieldTypeSingle","esriFieldTypeDouble"]);CC(W7,jre);function q3e(e,t){const i=e==null?void 0:e.domain;if(!i||i.type!=="range")return;const r="range"in i?i.range[0]:i.minValue,s="range"in i?i.range[1]:i.maxValue,n=Fre(e);return Z7(e)||J7(e)||Y7(e)?{...Ure(e,s,r),isInteger:n}:{min:r!=null&&typeof r=="number"?r:null,max:s!=null&&typeof s=="number"?s:null,rawMin:r,rawMax:s,isInteger:n}}function Ure(e,t,i){var r,s,n,a,u,d;return Z7(e)?{min:(r=s5(i))==null?void 0:r.toMillis(),max:(s=s5(t))==null?void 0:s.toMillis(),rawMin:i,rawMax:t}:J7(e)?{min:(n=n5(i))==null?void 0:n.toMillis(),max:(a=n5(t))==null?void 0:a.toMillis(),rawMin:i,rawMax:t}:Y7(e)?{min:(u=o5(i))==null?void 0:u.toMillis(),max:(d=o5(t))==null?void 0:d.toMillis(),rawMin:i,rawMax:t}:{max:null,min:null}}function zre(e){if(!e)return;const t=e.match(Vre);return t!=null&&t.groups?t.groups.doubleQuoted??t.groups.singleQuoted??t.groups.dotNotation:void 0}const Vre=/^(\$feature\[(?:"(?<doubleQuoted>[^"]+)"|'(?<singleQuoted>[^']+)')\]|\$feature\.(?<dotNotation>[a-zA-Z_][a-zA-Z0-9_]*))$/i;function Gre(e){var t,i;return((i=(t=e.match(qre))==null?void 0:t[1])==null?void 0:i.replace(/\\'/g,"'"))??null}const qre=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;let io=class{};function Bre(e){return e instanceof wh?e===io.instance:(e==null?void 0:e.toString().toLowerCase())==="unknown"}function H3e(e){return Bre(e)?io.instance:e}io.instance=new fs("Etc/UTC");var SS;(function(e){e.TimeZoneNotRecognized="TimeZoneNotRecognized"})(SS||(SS={}));const Hre={[SS.TimeZoneNotRecognized]:"Timezone identifier has not been recognized."};let Wre=class X7 extends Error{constructor(t,i){super(S2(Hre[t],i)),this.declaredRootClass="esri.arcade.arcadedate.dateerror",Error.captureStackTrace&&Error.captureStackTrace(this,X7)}};function gp(e,t,i){return e<t?e-t:e>i?e-i:0}function vp(e,t,i){return e<t?t:e>i?i:e}let Ub=class _i{constructor(t){this._date=t,this.declaredRootClass="esri.arcade.arcadedate"}static fromParts(t=0,i=1,r=1,s=0,n=0,a=0,u=0,d){if(isNaN(t)||isNaN(i)||isNaN(r)||isNaN(s)||isNaN(n)||isNaN(a)||isNaN(u))return null;const f=Re.local(t,i).daysInMonth;let g=Re.fromObject({day:vp(r,1,f),year:t,month:vp(i,1,12),hour:vp(s,0,23),minute:vp(n,0,59),second:vp(a,0,59),millisecond:vp(u,0,999)},{zone:qc(d)});return g=g.plus({months:gp(i,1,12),days:gp(r,1,f),hours:gp(s,0,23),minutes:gp(n,0,59),seconds:gp(a,0,59),milliseconds:gp(u,0,999)}),new _i(g)}static get systemTimeZoneCanonicalName(){return Intl.DateTimeFormat().resolvedOptions().timeZone??"system"}static arcadeDateAndZoneToArcadeDate(t,i){const r=qc(i);return t.isUnknownTimeZone||r===io.instance?_i.fromParts(t.year,t.monthJS+1,t.day,t.hour,t.minute,t.second,t.millisecond,r):new _i(t._date.setZone(r))}static dateJSToArcadeDate(t){return new _i(Re.fromJSDate(t,{zone:"system"}))}static dateJSAndZoneToArcadeDate(t,i="system"){const r=qc(i);return new _i(Re.fromJSDate(t,{zone:r}))}static unknownEpochToArcadeDate(t){return new _i(Re.fromMillis(t,{zone:io.instance}))}static unknownDateJSToArcadeDate(t){return new _i(Re.fromMillis(t.getTime(),{zone:io.instance}))}static epochToArcadeDate(t,i="system"){const r=qc(i);return new _i(Re.fromMillis(t,{zone:r}))}static dateTimeToArcadeDate(t){return new _i(t)}clone(){return new _i(this._date)}changeTimeZone(t){const i=qc(t);return _i.dateTimeToArcadeDate(this._date.setZone(i))}static dateTimeAndZoneToArcadeDate(t,i){const r=qc(i);return t.zone===io.instance||r===io.instance?_i.fromParts(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond,r):new _i(t.setZone(r))}static nowToArcadeDate(t){const i=qc(t);return new _i(Re.fromJSDate(new Date,{zone:i}))}static nowUTCToArcadeDate(){return new _i(Re.utc())}get isSystem(){return this.timeZone==="system"||this.timeZone===_i.systemTimeZoneCanonicalName}equals(t){return this.isSystem&&t.isSystem?this.toNumber()===t.toNumber():this.isUnknownTimeZone===t.isUnknownTimeZone&&this._date.equals(t._date)}get isUnknownTimeZone(){return this._date.zone===io.instance}get isValid(){return this._date.isValid}get hour(){return this._date.hour}get second(){return this._date.second}get day(){return this._date.day}get dayOfWeekISO(){return this._date.weekday}get dayOfWeekJS(){let t=this._date.weekday;return t>6&&(t=0),t}get millisecond(){return this._date.millisecond}get monthISO(){return this._date.month}get weekISO(){return this._date.weekNumber}get yearISO(){return this._date.weekYear}get monthJS(){return this._date.month-1}get year(){return this._date.year}get minute(){return this._date.minute}get zone(){return this._date.zone}get timeZoneOffset(){return this.isUnknownTimeZone?0:this._date.offset}get timeZone(){if(this.isUnknownTimeZone)return"unknown";if(this._date.zone.type==="system")return"system";const t=this.zone;return t.type==="fixed"?t.fixed===0?"UTC":t.formatOffset(0,"short"):t.name}stringify(){return JSON.stringify(this.toJSDate())}plus(t){return new _i(this._date.plus(t))}diff(t,i="milliseconds"){return this._date.diff(t._date,i)[i]}toISODate(){return this._date.toISODate()}toISOString(t){return t?this._date.toISO({suppressMilliseconds:!0,includeOffset:!this.isUnknownTimeZone}):this._date.toISO({includeOffset:!this.isUnknownTimeZone})}toISOTime(t,i){return this._date.toISOTime({suppressMilliseconds:t,includeOffset:i&&!this.isUnknownTimeZone})}toFormat(t,i){return this.isUnknownTimeZone&&(t=t.replaceAll("Z","")),this._date.toFormat(t,i)}toJSDate(){return this._date.toJSDate()}toSQLValue(){return this._date.toFormat("yyyy-LL-dd HH:mm:ss")}toSQLWithKeyword(){return`timestamp '${this.toSQLValue()}'`}toDateTime(){return this._date}toNumber(){return this._date.toMillis()}getTime(){return this._date.toMillis()}toUTC(){return new _i(this._date.toUTC())}toLocal(){return new _i(this._date.toLocal())}toString(){return this.toISOString(!0)}static fromReaderAsTimeStampOffset(t){if(!t)return null;const i=Re.fromISO(t,{setZone:!0});return new _i(i)}};function qc(e,t=!0){if(e instanceof wh)return e;if(e.toLowerCase()==="system")return"system";if(e.toLowerCase()==="utc")return"UTC";if(e.toLowerCase()==="unknown")return io.instance;if(/^[+-]?[0-9]{1,2}([:][0-9]{2})?$/.test(e)){const r=er.parseSpecifier("UTC"+(e.startsWith("+")||e.startsWith("-")?"":"+")+e);if(r)return r}const i=fs.create(e);if(!i.isValid){if(t)throw new Wre(SS.TimeZoneNotRecognized);return null}return i}let et=class{constructor(t,i={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=i,this.apiValues=[],this.jsonValues=[],this._apiToJSON=Zre(t),this.apiValues=a5(this._apiToJSON),this.jsonValues=a5(this._jsonToAPI),this.read=r=>this.fromJSON(r),this.write=(r,s,n)=>{const a=this.toJSON(r);a!==void 0&&ir(n,a,s)},this.write.isJSONMapWriter=!0}toJSON(t){if(t==null)return null;if(this._apiToJSON.hasOwnProperty(t)){const i=this._apiToJSON[t];return this._options.useNumericKeys?+i:i}return this._options.ignoreUnknown?null:t}fromJSON(t){return t!=null&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}};function Zre(e){const t={};for(const i in e)t[e[i]]=i;return t}function a5(e){const t=[];for(const i in e)t.push(i);return t.sort(),t}function rr(){return function(e,t){return new et(e,{ignoreUnknown:!0,...t})}}let BC=class{constructor(t,i,r,s,n,a){this.semiMajorAxis=t,this.flattening=i,this.outerAtmosphereRimWidth=r,this.atmosphereHeight=s,this.scaleHeight=n;const u=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*u,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=a||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const ni=new BC(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),Wo=new BC(3396190,1/169.8944472236118,23e4,6e4,.111),Xu=new BC(1737400,0,0,0,0),Yre=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,Jre={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function l5(e){const t=e==null?void 0:e.match(Yre);if(!t)return null;const[,i,r,s]=t;if(!i)return null;let n=null,a=null,u=null;const{devext:d,qaext:f,www:g}=Jre;if(r)if(n=i,s)switch(s.toLowerCase()){case"devext":({customBaseUrl:a,portalHostname:u}=d);break;case"qa":({customBaseUrl:a,portalHostname:u}=f);break;default:return null}else({customBaseUrl:a,portalHostname:u}=g);else switch(i.toLowerCase()){case"devext":({customBaseUrl:a,portalHostname:u}=d);break;case"qaext":({customBaseUrl:a,portalHostname:u}=f);break;case"www":({customBaseUrl:a,portalHostname:u}=g);break;default:return null}return{customBaseUrl:a,isPortal:!1,portalHostname:u,urlKey:n}}function Xre(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)}function Q7(e){const t=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,i=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,r=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return t.test(e)?e=e.replace(t,"https://www.arcgis.com"):i.test(e)?e=e.replace(i,"https://devext.arcgis.com"):r.test(e)&&(e=e.replace(r,"https://qaext.arcgis.com")),e}function K7(e){const t=atob(e),i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i.buffer}function Qre(e){const t=new Uint8Array(e);let i="";for(let r=0;r<t.length;r++)i+=String.fromCharCode(t[r]);return btoa(i)}const Kre=()=>ne.getLogger("esri.core.urlUtils"),_m=bt.request,u5="esri/config: esriConfig.request.proxyUrl is not set.",eV=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,tV=/^\s*http:/i,ese=/^\s*https:/i,tse=/^\s*file:/i,ise=/:\d+$/,rse=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,sse=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),nse=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");let Nf=class{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let i=this.uri.match(sse);this.scheme=i[2]||(i[1]?"":null),this.authority=i[4]||(i[3]?"":null),this.path=i[5],this.query=i[7]||(i[6]?"":null),this.fragment=i[9]||(i[8]?"":null),this.authority!=null&&(i=this.authority.match(nse),this.user=i[3]||null,this.password=i[4]||null,this.host=i[6]||i[7],this.port=i[9]||null)}toString(){return this.uri}};const zb={},ose=new Nf(bt.applicationUrl);let xr=ose;const ase=lse();let HC=ase;const WC=()=>xr,J3e=()=>HC;function lse(){const e=xr.path,t=e.slice(0,e.lastIndexOf("/")+1);return`${`${xr.scheme}://${xr.host}${xr.port!=null?`:${xr.port}`:""}`}${t}`}function Or(e){if(!e)return null;const t={path:null,query:null},i=new Nf(e),r=e.indexOf("?");return i.query===null?t.path=e:(t.path=e.slice(0,r),t.query=ZC(i.query)),i.fragment&&(t.hash=i.fragment,i.query===null&&(t.path=t.path.slice(0,t.path.length-(i.fragment.length+1)))),t}function ZC(e){const t=e.split("&"),i={};for(const r of t){if(!r)continue;const s=r.indexOf("=");let n,a;s<0?(n=decodeURIComponent(r),a=""):(n=decodeURIComponent(r.slice(0,s)),a=decodeURIComponent(r.slice(s+1)));let u=i[n];typeof u=="string"&&(u=i[n]=[u]),Array.isArray(u)?u.push(a):i[n]=a}return i}function iv(e,t){return e?Object.keys(e).map(i=>{const r=e[i];if(r==null)return"";const s=encodeURIComponent(i)+"=",n=t==null?void 0:t[i];return n?s+encodeURIComponent(n(r)):Array.isArray(r)?r.map(a=>K.isSerializable(a)?s+encodeURIComponent(JSON.stringify(a)):s+encodeURIComponent(a)).join("&"):K.isSerializable(r)?s+encodeURIComponent(JSON.stringify(r)):s+encodeURIComponent(r)}).filter(i=>i).join("&"):""}function iV(e=!1){let t,i=_m.proxyUrl;if(typeof e=="string"){t=fse(e);const r=P2(e);r&&(i=r.proxyUrl)}else t=!!e;if(!i)throw Kre().warn(u5),new z("urlUtils:proxy-not-set",u5);return t&&h3()&&(i=KC(i)),Or(i)}function X3e(e,t=!1){const i=P2(e);let r,s;if(i){const n=YC(i.proxyUrl);r=n.path,s=n.query?ZC(n.query):null}else if(t){const n=iV(e);r=n.path,s=n.query}if(r){const n=Or(e);e=r+"?"+n.path;const a=iv({...s,...n.query});a&&(e=`${e}?${a}`)}return e}const zy={path:"",query:""};function YC(e){const t=e.indexOf("?");return t!==-1?(zy.path=e.slice(0,t),zy.query=e.slice(t+1)):(zy.path=e,zy.query=null),zy}function rV(e){return e=(e=ES(e=wse(e=YC(e).path),!0)).toLowerCase()}function use(e){const t={proxyUrl:e.proxyUrl,urlPrefix:rV(e.urlPrefix)},i=_m.proxyRules,r=t.urlPrefix;let s=i.length;for(let n=0;n<i.length;n++){const a=i[n].urlPrefix;if(r.indexOf(a)===0){if(r.length===a.length)return-1;s=n;break}a.indexOf(r)===0&&(s=n+1)}return i.splice(s,0,t),s}function P2(e){const t=_m.proxyRules,i=rV(e);for(let r=0;r<t.length;r++)if(i.indexOf(t[r].urlPrefix)===0)return t[r]}function cse(e,t){if(!e||!t)return!1;e=TS(e),t=TS(t);const i=l5(e),r=l5(t);return i!=null&&r!=null?i.portalHostname===r.portalHostname:i==null&&r==null&&Xf(e,t,!0)}function sV(e,t){return e=TS(e),t=TS(t),ES(e)===ES(t)}function TS(e){const t=(e=oo(e)).indexOf("/sharing");return t>0?e.slice(0,t):e.replace(/\/+$/,"")}function d3(e,t=_m.interceptors){const i=r=>r==null||r instanceof RegExp&&r.test(e)||typeof r=="string"&&e.startsWith(r);if(t){for(const r of t)if(Array.isArray(r.urls)){if(r.urls.some(i))return r}else if(i(r.urls))return r}return null}function Xf(e,t,i=!1){if(!e||!t)return!1;const r=f3(e),s=f3(t);return!(!i&&r.scheme!==s.scheme)&&r.host!=null&&s.host!=null&&r.host.toLowerCase()===s.host.toLowerCase()&&r.port===s.port}function JC(e){if(typeof e=="string"){if(!js(e))return!0;e=f3(e)}if(Xf(e,xr))return!0;const t=_m.trustedServers||[];for(let i=0;i<t.length;i++){const r=dse(t[i]);for(let s=0;s<r.length;s++)if(Xf(e,r[s]))return!0}return!1}function dse(e){return zb[e]||(QC(e)||Yo(e)?zb[e]=[new Nf(hn(e))]:zb[e]=[new Nf(`http://${e}`),new Nf(`https://${e}`)]),zb[e]}function hn(e,t=HC,i){return Yo(e)?i!=null&&i.preserveProtocolRelative?e:xr.scheme==="http"&&xr.authority===Fs(e).slice(2)?`http:${e}`:`https:${e}`:QC(e)?e:Qf(e[0]==="/"?vse(t):t,e)}function XC(e,t=HC,i){if(e==null||!js(e))return e;const r=oo(e),s=r.toLowerCase(),n=oo(t).toLowerCase().replace(/\/+$/,""),a=i?oo(i).toLowerCase().replace(/\/+$/,""):null;if(a&&n.indexOf(a)!==0)return e;const u=(v,w,S)=>(S=v.indexOf(w,S))===-1?v.length:S;let d=u(s,"/",s.indexOf("//")+2),f=-1;for(;s.slice(0,d+1)===n.slice(0,d)+"/"&&(f=d+1,d!==s.length);)d=u(s,"/",d+1);if(f===-1||a&&f<a.length)return e;e=r.slice(f);const g=n.slice(f-1).replaceAll(/[^/]+/g,"").length;if(g>0)for(let v=0;v<g;v++)e=`../${e}`;else e=`./${e}`;return e}function oo(e){return e=Tse(e=Sse(e=_se(e=hn(e=e.trim()))))}function Qf(...e){const t=e.filter(Ju);if(!(t!=null&&t.length))return;const i=[];if(js(t[0])){const s=t[0],n=s.indexOf("//");n!==-1&&(i.push(s.slice(0,n+1)),yse(t[0])&&(i[0]+="/"),t[0]=s.slice(n+2))}else t[0][0]==="/"&&i.push("");const r=t.reduce((s,n)=>n?s.concat(n.split("/")):s,[]);for(let s=0;s<r.length;s++){const n=r[s];n===".."&&i.length>0&&i[i.length-1]!==".."?i.pop():(!n&&s===r.length-1||n&&(n!=="."||i.length===0))&&i.push(n)}return i.join("/")}function Fs(e,t=!1){if(e==null||L2(e)||_h(e))return null;let i=e.indexOf("://");if(i===-1&&Yo(e))i=2;else{if(i===-1)return null;i+=3}const r=e.indexOf("/",i);return r!==-1&&(e=e.slice(0,r)),t&&(e=ES(e,!0)),e}function js(e){return Yo(e)||QC(e)}function L2(e){return e!=null&&e.slice(0,5)==="blob:"}function _h(e){return e!=null&&e.slice(0,5)==="data:"}function hse(e){const t=Kf(e);return t!=null&&t.isBase64?K7(t.data):null}function Q3e(e){return Qre(e).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const pse=/^data:(.*?)(;base64)?,(.*)$/;function Kf(e){const t=e.match(pse);if(!t)return null;const[,i,r,s]=t;return{mediaType:i,isBase64:!!r,data:s}}function nV(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}async function K3e(e){return(await fetch(e)).blob()}function eAe(e){const t=hse(e);if(!t)return null;const i=Kf(e);return new Blob([t],{type:i.mediaType})}function Yo(e){return e!=null&&e[0]==="/"&&e[1]==="/"}function QC(e){return e!=null&&eV.test(e)}function fse(e){return e!=null&&ese.test(e)||xr.scheme==="https"&&Yo(e)}function mse(e){return e!=null&&tV.test(e)||xr.scheme==="http"&&Yo(e)}function yse(e){return e!=null&&tse.test(e)}function KC(e){return Yo(e)?`https:${e}`:e.replace(tV,"https:")}function gse(){return xr.scheme==="http"}function h3(){return xr.scheme==="https"}function ES(e,t=!1){return Yo(e)?e.slice(2):(e=e.replace(eV,""),t&&e.length>1&&e[0]==="/"&&e[1]==="/"&&(e=e.slice(2)),e)}function vse(e){const t=e.indexOf("//"),i=e.indexOf("/",t+2);return i===-1?e:e.slice(0,i)}function bse(e){let t=0;if(js(e)){const r=e.indexOf("//");r!==-1&&(t=r+2)}const i=e.lastIndexOf("/");return i<t?e:e.slice(0,i+1)}function tAe(e,t){if(!e)return"";const i=Or(e).path.replace(/\/+$/,""),r=i.slice(i.lastIndexOf("/")+1);if(!(t!=null&&t.length))return r;const s=new RegExp(`\\.(${t.join("|")})$`,"i");return r.replace(s,"")}function wse(e){return e.endsWith("/")?e:`${e}/`}function oV(e){return e.replace(/\/+$/,"")}function _se(e){if(/^https?:\/\//i.test(e)){const t=YC(e);e=(e=t.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function Sse(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function Tse(e){const t=_m.httpsDomains;if(!mse(e))return e;const i=e.indexOf("/",7);let r;if(r=i===-1?e:e.slice(0,i),r=r.toLowerCase().slice(7),ise.test(r)){if(!r.endsWith(":80"))return e;r=r.slice(0,-3),e=e.replace(":80","")}return gse()&&r===xr.authority&&!rse.test(e)||(h3()&&r===xr.authority||t&&t.some(s=>r===s||r.endsWith(`.${s}`))||h3()&&!P2(e))&&(e=KC(e)),e}function p3(e,t,i){if(!(t&&i&&e&&js(e)))return e;const r=e.indexOf("//"),s=e.indexOf("/",r+2),n=e.indexOf(":",r+2),a=Math.min(s<0?e.length:s,n<0?e.length:n);return e.slice(r+2,a).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,r+2)}${i}${e.slice(a)}`}function f3(e){return typeof e=="string"?new Nf(hn(e)):(e.scheme||(e.scheme=xr.scheme),e)}function iAe(e){return $se.test(e)}function aV(e,t){const i=Or(e),r=Object.keys(i.query||{});return r.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${r.join(", ")}.`),i.path}function Ese(e,t,i){const r=Or(e),s=r.query||{};return s[t]=String(i),`${r.path}?${iv(s)}`}function yx(e,t){if(!t)return e;const i=Or(e),r=i.query||{};for(const[n,a]of Object.entries(t))a!=null&&(r[n]=a);const s=iv(r);return s?`${i.path}?${s}`:i.path}function rAe(e){if(e==null)return null;const t=e.match(lV);return t?t[2]:null}function c5(e){if(e==null)return null;const t=e.match(lV);return t?{path:t[1],extension:t[2]}:{path:e,extension:null}}async function sAe(e){return typeof e=="string"?Kf(e)??{data:e}:new Promise((t,i)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(Kf(r.result)),r.onerror=s=>i(s)})}const lV=/([^.]*)\.([^/]*)$/,$se=/(^data:image\/svg|\.svg$)/i,uV="20250407",cV="04d2b42da93678ca718b23aaf7e216985f10fa8e";Symbol.dispose??(Symbol.dispose=Symbol("Symbol.dispose")),Symbol.asyncDispose??(Symbol.asyncDispose=Symbol("Symbol.asyncDispose"));const xse="4.32";let Ge,eI=xse;eI="4.32.10";function nAe(e){Ge=e}function oAe(e){const t=Ge==null?void 0:Ge.findCredential(e);return t!=null&&t.token?Ese(e,"token",t.token):e}B("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),B("host-webworker");function Sm(e,t){var r;const i=(r=t==null?void 0:t.url)==null?void 0:r.path;if(e&&i&&(e=hn(e,i,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const s=XC(e,t.portalItem.itemUrl);s!=null&&Mse.test(s)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(s).path)}return(e=m3(e,t==null?void 0:t.portal))&&D2.test(e)?iI(e):e}function Vv(e,t,i=rv.YES){var s,n;if((e=e&&D2.test(e)?hV(e):e)==null)return e;!js(e)&&(t!=null&&t.blockedRelativeUrls)&&t.blockedRelativeUrls.push(e);let r=hn(e);if(t){const a=((s=t.verifyItemRelativeUrls)==null?void 0:s.rootPath)||((n=t.url)==null?void 0:n.path);if(a){const u=m3(a,t.portal),d=m3(r,t.portal);r=XC(d,u,u),r!=null&&r!==d&&r!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(r)}}return r=dV(r,t==null?void 0:t.portal),js(r)&&(r=oo(r)),t!=null&&t.resources&&(t!=null&&t.portalItem)&&!js(r)&&!_h(r)&&i===rv.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(r),compress:!1}),r}function tI(e,t,i){return Sm(e,i)}function oh(e,t,i,r){const s=Vv(e,r);s!==void 0&&(t[i]=s)}const D2=/\/items\/([^/]+)\/resources\/(.*)/,Mse=/^\.\/resources\//;function Ase(e){const t=(e==null?void 0:e.match(D2))??null;return(t==null?void 0:t[1])??null}function Ose(e){const t=(e==null?void 0:e.match(D2))??null;if(t==null)return null;const i=t[2],r=i.lastIndexOf("/");if(r===-1){const{path:a,extension:u}=c5(i);return{prefix:null,filename:a,extension:u}}const{path:s,extension:n}=c5(i.slice(r+1));return{prefix:i.slice(0,r),filename:s,extension:n}}function dV(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?p3(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function m3(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const i=`${t.urlKey}.${t.customBaseUrl}`,r=WC();return Xf(r,`${r.scheme}://${i}`)?p3(e,t.portalHostname,i):p3(e,i,t.portalHostname)}function iI(e){if(!e)return e||null;let t=e;return t&&Ge&&!Ge.findCredential(t)&&(t=Q7(t),t=t.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),t=t.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),t=t.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),t}function hV(e){if(!e)return e||null;let t=e;return t=t.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),t=t.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),t=t.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),t&&Ge&&!Ge.findCredential(t)&&(t=Q7(t)),t}var rv;(function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"})(rv||(rv={}));const aAe=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return rv},ensureMainOnlineDomain:dV,fromCDNUrl:hV,fromJSON:Sm,itemIdFromResourceUrl:Ase,prefixAndFilenameFromResourceUrl:Ose,read:tI,toCDNUrl:iI,toJSON:Vv,write:oh},Symbol.toStringTag,{value:"Module"})),pV={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},fV=Object.values(pV),mV=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${fV.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),Rse=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${fV.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),Cse=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function lAe(e){return mV.test(e)}function Tm(e){if(e==null)return null;const t=Or(e),i=(t==null?void 0:t.path.match(mV))||(t==null?void 0:t.path.match(Rse));if(!i)return null;const[,r,s,n,a]=i,u=s.indexOf("/");return{title:rI(u!==-1?s.slice(u+1):s),serverType:pV[n.toLowerCase()],sublayer:a!=null&&a!==""?parseInt(a,10):null,url:{path:r}}}function Ise(e){const t=Or(e).path.match(Cse);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function rI(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function Nse(e,t){const i=[];if(e){const r=Tm(e);r!=null&&r.title&&i.push(r.title)}if(t){const r=rI(t);i.push(r)}if(i.length===2){if(i[0].toLowerCase().includes(i[1].toLowerCase()))return i[0];if(i[1].toLowerCase().includes(i[0].toLowerCase()))return i[1]}return i.join(" - ")}function $S(e){let t=Fs(e,!0);return!!t&&(t=t.toLowerCase(),t.endsWith(".arcgis.com")&&(t.startsWith("services")||t.startsWith("tiles")||t.startsWith("features")))}function Pse(e,t){return e&&oV(aV(e,t))}function Lse(e){let{url:t}=e;if(!t)return{url:t};t=aV(t,e.logger);const i=Or(t),r=Tm(i.path);let s;if(r!=null)r.sublayer!=null&&e.layer.layerId==null&&(s=r.sublayer),t=r.url.path;else if(e.nonStandardUrlAllowed){const n=Ise(i.path);n!=null&&(t=n.serviceUrl,s=n.sublayerId)}return{url:oV(t),layerId:s}}function Dse(e,t,i,r,s){oh(t,r,"url",s),r.url&&e.layerId!=null&&(r.url=Qf(r.url,i,e.layerId.toString()))}function uAe(e){if(!e)return!1;const t=e.toLowerCase(),i=t.includes("/services/"),r=t.includes("/mapserver/wmsserver"),s=t.includes("/imageserver/wmsserver"),n=t.includes("/wmsserver");return i&&(r||s||n)}const kse=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function Fse(e){const t=Fs(e,!0);return!!t&&t.endsWith(".arcgis.com")&&!kse.has(t)&&!e.endsWith("/sharing/rest/generateToken")}function yV(e,t){return!(!bt.apiKey||!Fse(e))}function jse(e,t,i=!1,r){return new Promise((s,n)=>{if(Us(r))return void n(d5());let a=()=>{f(),n(new Error(`Unable to load ${t}`))},u=()=>{const g=e;f(),s(g)},d=()=>{if(!e)return;const g=e;f(),g.src="",n(d5())};const f=()=>{B("esri-image-decode")||(e.removeEventListener("error",a),e.removeEventListener("load",u)),a=null,u=null,e=null,r!=null&&r.removeEventListener("abort",d),d=null,i&&URL.revokeObjectURL(t)};r!=null&&r.addEventListener("abort",d),B("esri-image-decode")?e.decode().then(u,a):(e.addEventListener("error",a),e.addEventListener("load",u))})}function d5(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}const gV="Timeout exceeded";function Use(){return new Error(gV)}function cAe(e){return typeof e=="object"&&!!e&&"message"in e&&e.message===gV}function zse(e){bt.request.crossOriginNoCorsDomains||(bt.request.crossOriginNoCorsDomains={});const t=bt.request.crossOriginNoCorsDomains;for(let i of e)i=i.toLowerCase(),/^https?:\/\//.test(i)?t[Fs(i)??""]=0:(t[Fs("http://"+i)??""]=0,t[Fs("https://"+i)??""]=0)}function Vse(e){const t=bt.request.crossOriginNoCorsDomains;if(t){let i=Fs(e);if(i)return i=i.toLowerCase(),!Xf(i,WC())&&t[i]<Date.now()-36e5}return!1}async function Gse(e){var s;const t=Or(e);e=t.path,((s=t.query)==null?void 0:s.f)==="json"&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}const i=bt.request.crossOriginNoCorsDomains,r=Fs(e);i&&r&&(i[r.toLowerCase()]=Date.now())}async function Lt(e,t){var S;e instanceof URL&&(e=e.toString()),(t==null?void 0:t.query)instanceof URLSearchParams&&(t.query=ZC(t.query.toString().replaceAll("+"," ")));const i=_h(e),r=L2(e);r||i||(e=oo(e));const s={url:e,requestOptions:{...t}},n=T=>({data:T,getAllHeaders:em,getHeader:em,httpStatus:200,requestOptions:s.requestOptions,url:s.url}),a=d3(e,dn.internalInterceptors);if(a){const T=await p5(a,s);if(T!=null)return n(T)}let u=d3(e);if(u){const T=await p5(u,s);if(T!=null)return n(T);u.after||u.error||(u=null)}if(e=s.url,(t=s.requestOptions).responseType==="image"&&(B("host-webworker")||B("host-node")))throw ao("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),s);if(t.method==="head"){if(t.body)throw ao("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),s);if(i||r)throw ao("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),s)}if(await Zse(),xS)return xS.execute(e,t);const d=new AbortController,f=yn(t,()=>d.abort()),g={controller:d,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:u,params:s,redoRequest:!1,useIdentity:dn.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},v=t.useRequestQueue?Kse(g):g3(g),w=await v.finally(()=>f==null?void 0:f.remove());return(S=u==null?void 0:u.after)==null||S.call(u,w),w}let xS;const dn=bt.request,vV="FormData"in globalThis,qse=new Set([499,498,403,401]),Bse=new Set(["COM_0056","COM_0057","SB_0008"]),Hse=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],em=()=>null,MS=Symbol();function Wse(e){const t=Fs(e);t&&!Lt._corsServers.includes(t)&&Lt._corsServers.push(t)}function h5(e){const t=Fs(e);return!t||t.endsWith(".arcgis.com")||Lt._corsServers.includes(t)||JC(t)}function ao(e,t,i,r){let s="Error";const n={url:i.url,requestOptions:i.requestOptions,getAllHeaders:em,getHeader:em,ssl:!1};if(t instanceof z)return t.details?(t.details=j(t.details),t.details.url=i.url,t.details.requestOptions=i.requestOptions):t.details=n,t;if(t){const a=r&&(()=>Array.from(r.headers)),u=r&&(g=>r.headers.get(g)),d=r==null?void 0:r.status,f=t.message;f&&(s=f),a&&u&&(n.getAllHeaders=a,n.getHeader=u),n.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||d||0,n.subCode=t.subcode,n.messageCode=t.messageCode,typeof t.details=="string"?n.messages=[t.details]:n.messages=t.details,n.raw=MS in t?t[MS]:t}return Cr(t)?Dt():new z(e,s,n)}async function Zse(){B("host-webworker")&&!xS&&(xS=await ue(()=>import("./request-DO8cbHTF.js"),[],import.meta.url))}async function y3(){Ge||await ue(()=>import("./IdentityManager-B9u-hFru.js"),__vite__mapDeps([3,4]),import.meta.url)}async function Yse(e){var u;const t=e.params.url,i=e.params.requestOptions,r=e.controller.signal,s=i.body;let n=null,a=null;if(vV&&"HTMLFormElement"in globalThis&&(s instanceof FormData?n=s:s instanceof HTMLFormElement&&(n=new FormData(s))),typeof s=="string"&&(a=s),e.fetchOptions={cache:i.cacheBust?"no-cache":"default",credentials:"same-origin",headers:i.headers||{},method:i.method==="head"?"HEAD":"GET",mode:"cors",priority:dn.priority,redirect:"follow",signal:r},(n||a)&&(e.fetchOptions.body=n||a),i.authMode==="anonymous"&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||(u=i.query)!=null&&u.token||n!=null&&n.get("token")),!e.hasToken&&yV(t)&&(i.query||(i.query={}),i.query.token=bt.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!bV(t)&&!Us(r)){let d;i.authMode==="immediate"?(await y3(),d=await Ge.getCredential(t,{signal:r}),e.credential=d):i.authMode==="no-prompt"?(await y3(),d=await Ge.getCredential(t,{prompt:!1,signal:r}).catch(()=>{}),e.credential=d):Ge&&(d=Ge.findCredential(t)),d&&(e.credentialToken=d.token,e.useSSL=!!d.ssl)}}function bV(e){return Hse.some(t=>t.test(e))}async function Jse(e){let t=e.params.url;const i=e.params.requestOptions,r=e.fetchOptions??{},s=L2(t)||_h(t),n=i.responseType||"json",a=s?0:i.timeout!=null?i.timeout:dn.timeout;let u=!1;if(!s){e.useSSL&&(t=KC(t));let w={...i.query};e.credentialToken&&(w.token=e.credentialToken);let S=iv(w);B("esri-url-encodes-apostrophe")&&(S=S.replaceAll("'","%27"));const T=t.length+1+S.length;let E;u=i.method==="delete"||i.method==="post"||i.method==="put"||!!i.body||T>dn.maxUrlLength;const M=i.useProxy||!!P2(t);if(M){const R=iV(t);E=R.path,!u&&E.length+1+T>dn.maxUrlLength&&(u=!0),R.query&&(w={...R.query,...w})}if(r.method==="HEAD"&&(u||M)){if(u)throw T>dn.maxUrlLength?ao("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):ao("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(M)throw ao("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(u?(r.method=i.method==="delete"?"DELETE":i.method==="put"?"PUT":"POST",i.body?t=yx(t,w):(r.body=iv(w),r.headers||(r.headers={}),r.headers["Content-Type"]="application/x-www-form-urlencoded")):t=yx(t,w),M&&(e.useProxy=!0,t=`${E}?${t}`),w.token&&vV&&r.body instanceof FormData&&!Xre(t)&&r.body.set("token",w.token),i.hasOwnProperty("withCredentials"))e.withCredentials=i.withCredentials;else if(!Xf(t,WC())){if(JC(t))e.withCredentials=!0;else if(Ge){const R=Ge.findServerInfo(t);R!=null&&R.webTierAuth&&(e.withCredentials=!0)}}e.withCredentials&&(r.credentials="include",Vse(t)&&await Gse(u?yx(t,w):t))}let d,f,g=0,v=!1;a>0&&(g=setTimeout(()=>{v=!0,e.controller.abort()},a));try{if(i.responseType==="native-request-init")f=r,f.url=t,i.signal?f.signal=i.signal:delete f.signal;else if(i.responseType!=="image"||r.cache!=="default"||r.method!=="GET"||u||Xse(i.headers)||!s&&!e.useProxy&&dn.proxyUrl&&!h5(t)){if(Lt._beforeFetch&&await Lt._beforeFetch(t,r),d=await fetch(t,r),Lt._afterFetch&&await Lt._afterFetch(d),e.useProxy||Wse(t),i.responseType==="native")f=d;else if(r.method!=="HEAD")if(d.ok){switch(n){case"array-buffer":f=await d.arrayBuffer();break;case"blob":case"image":f=await d.blob();break;default:f=await d.text()}if(g&&(clearTimeout(g),g=0),n==="json"||n==="xml"||n==="document")if(f)switch(n){case"json":f=JSON.parse(f);break;case"xml":f=f5(f,"application/xml");break;case"document":f=f5(f,"text/html")}else f=null;if(f){if(n==="array-buffer"||n==="blob"){const w=d.headers.get("Content-Type");if(w&&/application\/json|text\/plain/i.test(w)&&f[n==="blob"?"size":"byteLength"]<=750)try{const S=await new Response(f).json();S.error&&(f=S)}catch{}}n==="image"&&f instanceof Blob&&(f=await m5(URL.createObjectURL(f),e,!0))}}else{f=await d.text();try{f=JSON.parse(f)}catch{}}}else f=await m5(t,e)}catch(w){if(w.name==="AbortError")throw v?Use():Dt("Request canceled");if(!(!d&&w instanceof TypeError&&dn.proxyUrl)||i.body||i.method==="delete"||i.method==="head"||i.method==="post"||i.method==="put"||e.useProxy||h5(t))throw w;e.redoRequest=!0,use({proxyUrl:dn.proxyUrl,urlPrefix:Fs(t)??""})}finally{g&&clearTimeout(g)}return[d,f]}async function p5(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let i,r;try{r=await e.before(t)}catch(s){i=ao("request:interceptor",s,t)}if((r instanceof Error||r instanceof z)&&(i=ao("request:interceptor",r,t)),i)throw e.error&&e.error(i),i;return r}}function Xse(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function f5(e,t){let i;try{i=new DOMParser().parseFromString(e,t)}catch{}if(!i||i.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return i}Lt._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],Lt._beforeFetch=void 0,Lt._afterFetch=void 0;const Qse=new Map;async function Kse(e){const t=tne(e.params.url);if(!t)return g3(e);const{QueueProcessor:i}=await ue(()=>import("./QueueProcessor-CVZb1A4y.js"),[],import.meta.url);return Pv(Qse,t.origin,()=>{const s=t.isHosted?B("request-queue-concurrency-hosted"):B("request-queue-concurrency-non-hosted");return new i({concurrency:s,process:n=>{if(Us(n.params.requestOptions))throw ao("",Dt("Request canceled"),n.params);return g3(n)}})}).push(e)}async function g3(e){var n,a;let t,i;await Yse(e);try{do[t,i]=await Jse(e);while(!await ene(e,t,i))}catch(u){const d=ao("request:server",u,e.params,t);throw d.details.ssl=e.useSSL,(n=e.interceptor)!=null&&n.error&&e.interceptor.error(d),d}const r=e.params.url;if(i&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(r)){if(!e.hasToken&&!e.credentialToken&&((a=i.user)!=null&&a.username)&&!JC(r)){const u=Fs(r,!0);u&&dn.trustedServers.push(u)}Array.isArray(i.authorizedCrossOriginNoCorsDomains)&&zse(i.authorizedCrossOriginNoCorsDomains)}const s=e.credential;if(s&&Ge){const u=Ge.findServerInfo(s.server);let d=u==null?void 0:u.owningSystemUrl;if(d){d=d.replace(/\/?$/,"/sharing");const f=Ge.findCredential(d,s.userId);f&&Ge._getIdenticalSvcIdx(d,f)===-1&&f.resources.unshift(d)}}return{data:i,getAllHeaders:t?()=>Array.from(t.headers):em,getHeader:t?u=>t.headers.get(u):em,httpStatus:(t==null?void 0:t.status)??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function ene(e,t,i){var f;if(e.redoRequest)return e.redoRequest=!1,!1;const r=e.params.requestOptions;if(!t||r.responseType==="native"||r.responseType==="native-request-init")return!0;let s,n;if(i&&(i.error&&typeof i.error=="object"?s=i.error:i.status==="error"&&Array.isArray(i.messages)&&(s={...i},s[MS]=i,s.details=i.messages)),!s&&!t.ok)throw s=new Error(`Unable to load ${t.url} status: ${t.status}`),s[MS]=i,s;let a,u=null;s&&(n=Number(s.code),u=s.hasOwnProperty("subcode")?Number(s.subcode):null,a=s.messageCode,a=a==null?void 0:a.toUpperCase());const d=r.authMode;if(n===403&&(u===4||(f=s.message)!=null&&f.toLowerCase().includes("ssl")&&!s.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(d!=="no-prompt"||n===498)&&n!==void 0&&qse.has(n)&&!bV(e.params.url)&&(n!==403||(!a||!Bse.has(a))&&(u==null||u===2&&e.credentialToken))){await y3();try{const g=await Ge.getCredential(e.params.url,{error:ao("request:server",s,e.params),prompt:d!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=g,e.credentialToken=g.token,e.useSSL=e.useSSL||g.ssl,!1}catch(g){if(d==="no-prompt")return e.credential=void 0,e.credentialToken=void 0,!1;s=g}}if(s)throw s;return!0}function m5(e,t,i=!1){const r=t.controller.signal,s=new Image;return t.withCredentials?s.crossOrigin="use-credentials":s.crossOrigin="anonymous",s.alt="",s.fetchPriority=dn.priority,s.src=e,jse(s,e,i,r)}function tne(e){let t,i;return typeof e=="string"?(t=Fs(e,!0),i=$S(e)):(t=e.origin,i=$S(e.toString())),t==null?null:{origin:t,isHosted:i}}function fi(e){if(!bt.assetsPath)throw ne.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new z("assets:path-not-set","config.assetsPath is not set");return Qf(bt.assetsPath,e)}let gx,D=null;function sI(){return!!D}function ine(){return!!B("esri-wasm")}function wV(){return gx||(gx=ue(()=>import("./pe-wasm-Co3DzcyP.js"),__vite__mapDeps([5,6]),import.meta.url).then(e=>e.p).then(({default:e})=>e({locateFile:t=>fi(`esri/geometry/support/${t}`)})).then(e=>{TV(e)}),gx)}var v3,Wt;(function(e){function t(n,a,u){D.ensureCache.prepare();const d=jd(u),f=u===d,g=D.ensureFloat64(d),v=D._pe_geog_to_proj(D.getPointer(n),a,g);return v&&Lu(u,a,g,f),v}function i(n,a,u,d){switch(d){case Wt.PE_TRANSFORM_P_TO_G:return r(n,a,u);case Wt.PE_TRANSFORM_G_TO_P:return t(n,a,u)}return 0}function r(n,a,u){return s(n,a,u,0)}function s(n,a,u,d){D.ensureCache.prepare();const f=jd(u),g=u===f,v=D.ensureFloat64(f),w=D._pe_proj_to_geog_center(D.getPointer(n),a,v,d);return w&&Lu(u,a,v,g),w}e.geogToProj=t,e.projGeog=i,e.projToGeog=r,e.projToGeogCenter=s})(v3||(v3={})),function(e){function t(){e.PE_BUFFER_MAX=D.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=D.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=D.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=D.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=D.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=D.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=D.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=D.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=D.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=D.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=D.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=D.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=D.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=D.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=D.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=D.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=D.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=D.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=D.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=D.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_STR_FMT_WKT=D.PeDefs.prototype.PE_STR_FMT_WKT,e.PE_STR_FMT_WKT2=D.PeDefs.prototype.PE_STR_FMT_WKT2,e.PE_PARM_X0=D.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=D.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=D.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=D.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=D.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=D.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=D.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=D.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=D.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=D.PeDefs.prototype.PE_HORIZON_DELTA}e.init=t}(Wt||(Wt={}));let _V=null;var b3;(function(e){const t={},i={},r=S=>{const T=S.getType();switch(T){case Wt.PE_TYPE_GEOGCS:S=D.castObject(S,D.PeGeogcs);break;case Wt.PE_TYPE_PROJCS:S=D.castObject(S,D.PeProjcs);break;case Wt.PE_TYPE_GEOGTRAN:S=D.castObject(S,D.PeGeogtran);break;default:T&Wt.PE_TYPE_UNIT&&(S=D.castObject(S,D.PeUnit))}return S};function s(){D.PeFactory.prototype.initialize(null)}function n(S){return a(Wt.PE_TYPE_COORDSYS,S)}function a(S,T){let E=null,M=t[S];if(M||(M={},t[S]=M),M.hasOwnProperty(String(T))&&(E=M[T],D.compare(E,D.NULL)&&(E=null)),!E){const R=D.PeFactory.prototype.factoryByType(S,T);D.compare(R,D.NULL)||(E=r(R),M[T]=E)}return E}function u(S,T){let E=null,M=i[S];if(M||(M={},i[S]=M),M.hasOwnProperty(T)&&(E=M[T],D.compare(E,D.NULL)&&(E=null)),!E){const R=D.PeFactory.prototype.fromString(S,T);D.compare(R,D.NULL)||(E=r(R),M[T]=E)}return E}function d(S){return a(Wt.PE_TYPE_GEOGCS,S)}function f(S){return a(Wt.PE_TYPE_GEOGTRAN,S)}function g(S){return D.PeFactory.prototype.getCode(S)}function v(S){return a(Wt.PE_TYPE_PROJCS,S)}function w(S){return a(Wt.PE_TYPE_UNIT,S)}e.initialize=s,e.coordsys=n,e.factoryByType=a,e.fromString=u,e.geogcs=d,e.geogtran=f,e.getCode=g,e.projcs=v,e.unit=w})(b3||(b3={}));let SV=null;var AS,w3,_3,S3,T3,E3,OS,$3,RS,CS,x3;function TV(e){function t(n,a,u){n[a]=u(n[a])}D=e,Wt.init(),AS.init(),OS.init(),RS.init(),CS.init(),_V=class extends D.PeDouble{constructor(n=NaN){super(n)}destroy(){D.destroy(this)}[Symbol.dispose](){this.destroy()}},SV=class extends D.PeGCSExtent{destroy(){D.destroy(this)}[Symbol.dispose](){this.destroy()}};const i=[D.PeAngunit,D.PeDatum,D.PeGeogcs,D.PeGeogtran,D.PeObject,D.PeParameter,D.PePrimem,D.PeProjcs,D.PeSpheroid,D.PeUnit];for(const n of i)t(n.prototype,"getName",a=>function(){return a.call(this,new Array(Wt.PE_NAME_MAX))});for(const n of[D.PeGeogtran,D.PeProjcs])t(n.prototype,"getParameters",a=>function(){const u=new Array(Wt.PE_PARM_MAX);let d=a.call(this);for(let f=0;f<u.length;f++){const g=D.getValue(d,"*");u[f]=g?D.wrapPointer(g,D.PeParameter):null,d+=Int32Array.BYTES_PER_ELEMENT}return u});t(D.PeHorizon.prototype,"getCoord",n=>function(a=!1){const u=this.getSize();if(!u)return null;const d=[];return Lu(d,u,n.call(this),a),d}),t(D.PeGTlistExtendedEntry.prototype,"getEntries",n=>{const a=D._pe_getPeGTlistExtendedGTsSize();return function(){let u=null;const d=n.call(this);if(!D.compare(d,D.NULL)){u=[d];const f=this.getSteps();if(f>1){const g=D.getPointer(d);for(let v=1;v<f;v++)u.push(D.wrapPointer(g+a*v,D.PeGTlistExtendedGTs))}}return u}});const r=D._pe_getPeHorizonSize(),s=n=>function(){let a=this._cache;if(a||(a=new Map,this._cache=a),a.has(n))return a.get(n);let u=null;const d=n.call(this);if(!D.compare(d,D.NULL)){u=[d];const f=d.getNump();if(f>1){const g=D.getPointer(d);for(let v=1;v<f;v++)u.push(D.wrapPointer(g+r*v,D.PeHorizon))}}return a.set(n,u),u};t(D.PeProjcs.prototype,"horizonGcsGenerate",s),t(D.PeProjcs.prototype,"horizonPcsGenerate",s),D.PeObject.prototype.toString=function(n=Wt.PE_STR_OPTS_NONE){D.ensureCache.prepare();const a=D.getPointer(this),u=D.ensureInt8(new Array(Wt.PE_BUFFER_MAX));return D.UTF8ToString(D._pe_object_to_string_ext(a,n,u))},D.PeGeogcs.prototype.destroy=function(){this.Delete(),Qn(this),this.ptr=0},D.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},D.PeProjcs.prototype.destroy=function(){this.Delete(),Qn(this),this.ptr=0},D.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function Qn(e){if(!e)return;const t=D.getClass(e);if(!t)return;const i=D.getCache(t);if(!i)return;const r=D.getPointer(e);r&&delete i[r]}function Vb(e,t){const i=[],r=new Array(t);for(let s=0;s<e;s++)i.push(D.ensureInt8(r));return i}function jd(e){return ArrayBuffer.isView(e)?e:Array.isArray(e[0])?e.flat():e}function Lu(e,t,i,r=!1){if(r)for(let s=0;s<2*t;s++)e[s]=D.getValue(i+s*Float64Array.BYTES_PER_ELEMENT,"double");else{const s=e.length===0;for(let n=0;n<t;n++)s&&(e[n]=new Array(2)),e[n][0]=D.getValue(i,"double"),e[n][1]=D.getValue(i+Float64Array.BYTES_PER_ELEMENT,"double"),i+=2*Float64Array.BYTES_PER_ELEMENT}}(function(e){let t;function i(){e.PE_GTLIST_OPTS_COMMON=D.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=D._pe_getPeGTlistExtendedEntrySize()}function r(s,n,a,u,d,f){let g=null;const v=new D.PeInteger(f);try{const w=D.PeGTlistExtended.prototype.getGTlist(s,n,a,u,d,v);if((f=v.val)&&(g=[w],f>1)){const S=D.getPointer(w);for(let T=1;T<f;T++)g.push(D.wrapPointer(S+t*T,D.PeGTlistExtendedEntry))}}finally{D.destroy(v)}return g}e.init=i,e.getGTlist=r})(AS||(AS={})),function(e){function t(i){if(i!=null&&i.length){for(const r of i)Qn(r),r.getEntries().forEach(s=>{Qn(s);const n=s.getGeogtran();Qn(n),n.getParameters().forEach(Qn),[n.getGeogcs1(),n.getGeogcs2()].forEach(a=>{Qn(a);const u=a.getDatum();Qn(u),Qn(u.getSpheroid()),Qn(a.getPrimem()),Qn(a.getUnit())})});D.PeGTlistExtendedEntry.prototype.Delete(i[0])}}e.destroy=t}(w3||(w3={})),function(e){function t(i,r,s,n,a){D.ensureCache.prepare();const u=jd(s),d=s===u,f=D.ensureFloat64(u);let g=0;n&&(g=D.ensureFloat64(n));const v=D._pe_geog_to_geog(D.getPointer(i),r,f,g,a);return v&&Lu(s,r,f,d),v}e.geogToGeog=t}(_3||(_3={})),function(e){function t(n,a,u,d,f,g,v,w){D.PeLineType.prototype.geodesic_coordinate(n,a,u,d,f,g,v,w)}function i(n,a,u,d,f,g,v,w,S){D.PeLineType.prototype.geodetic_coordinate(n,a,u,d,f,g,v,w,S)}function r(n,a,u,d,f,g,v,w,S,T){D.PeLineType.prototype.geodetic_distance(n,a,u,d,f,g,v,w,S,T)}function s(n,a,u,d,f,g,v,w,S){D.PeLineType.prototype.great_elliptic_distance(n,a,u,d,f,g,v,w,S)}e.geodesicCoordinate=t,e.geodeticCoordinate=i,e.geodeticDistance=r,e.greatEllipticDistance=s}(S3||(S3={})),function(e){function t(a,u){return D.PeMath.prototype.phi_to_eta(a,u)}function i(a,u){return D.PeMath.prototype.eta_to_phi(a,u)}function r(a,u){return D.PeMath.prototype.phi_to_phig(a,u)}function s(a,u,d){return D.PeMath.prototype.q(a,u,d)}function n(a,u){return D.PeMath.prototype.q90(a,u)}e.phiToEta=t,e.etaToPhi=i,e.phiToPhig=r,e.q=s,e.q90=n}(T3||(T3={})),function(e){const t=(f,g,v,w,S,T)=>{let E,M;switch(D.ensureCache.prepare(),f){case"dd":E=D._pe_geog_to_dd,M=Wt.PE_DD_MAX;break;case"ddm":E=D._pe_geog_to_ddm,M=Wt.PE_DDM_MAX;break;case"dms":E=D._pe_geog_to_dms,M=Wt.PE_DMS_MAX}let R=0;g&&(R=D.getPointer(g));const P=jd(w),N=D.ensureFloat64(P),k=Vb(v,M),U=E(R,v,N,S,D.ensureInt32(k));if(U)for(let Z=0;Z<v;Z++)T[Z]=D.UTF8ToString(k[Z]);return U},i=(f,g,v,w,S)=>{let T;switch(D.ensureCache.prepare(),f){case"dd":T=D._pe_dd_to_geog;break;case"ddm":T=D._pe_ddm_to_geog;break;case"dms":T=D._pe_dms_to_geog}let E=0;g&&(E=D.getPointer(g));const M=w.map(k=>D.ensureString(k)),R=D.ensureInt32(M),P=D.ensureFloat64(new Array(2*v)),N=T(E,v,R,P);return N&&Lu(S,v,P),N};function r(f,g,v,w,S){return t("dms",f,g,v,w,S)}function s(f,g,v,w){return i("dms",f,g,v,w)}function n(f,g,v,w,S){return t("ddm",f,g,v,w,S)}function a(f,g,v,w){return i("ddm",f,g,v,w)}function u(f,g,v,w,S){return t("dd",f,g,v,w,S)}function d(f,g,v,w){return i("dd",f,g,v,w)}e.geogToDms=r,e.dmsToGeog=s,e.geogToDdm=n,e.ddmToGeog=a,e.geogToDd=u,e.ddToGeog=d}(E3||(E3={})),function(e){function t(){e.PE_MGRS_STYLE_NEW=D.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=D.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=D.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=D.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=D.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function i(s,n,a,u,d,f,g){D.ensureCache.prepare();let v=0;s&&(v=D.getPointer(s));const w=jd(a),S=D.ensureFloat64(w),T=Vb(n,Wt.PE_MGRS_MAX),E=D.ensureInt32(T),M=D._pe_geog_to_mgrs_extended(v,n,S,u,d,f,E);if(M)for(let R=0;R<n;R++)g[R]=D.UTF8ToString(T[R]);return M}function r(s,n,a,u,d){D.ensureCache.prepare();let f=0;s&&(f=D.getPointer(s));const g=a.map(T=>D.ensureString(T)),v=D.ensureInt32(g),w=D.ensureFloat64(new Array(2*n)),S=D._pe_mgrs_to_geog_extended(f,n,v,u,w);return S&&Lu(d,n,w),S}e.init=t,e.geogToMgrsExtended=i,e.mgrsToGeogExtended=r}(OS||(OS={})),function(e){function t(r,s,n,a,u,d,f){D.ensureCache.prepare();let g=0;r&&(g=D.getPointer(r));const v=jd(n),w=D.ensureFloat64(v),S=Vb(s,Wt.PE_MGRS_MAX),T=D.ensureInt32(S),E=D._pe_geog_to_usng(g,s,w,a,u,d,T);if(E)for(let M=0;M<s;M++)f[M]=D.UTF8ToString(S[M]);return E}function i(r,s,n,a){D.ensureCache.prepare();let u=0;r&&(u=D.getPointer(r));const d=n.map(w=>D.ensureString(w)),f=D.ensureInt32(d),g=D.ensureFloat64(new Array(2*s)),v=D._pe_usng_to_geog(u,s,f,g);return v&&Lu(a,s,g),v}e.geogToUsng=t,e.usngToGeog=i}($3||($3={})),function(e){function t(){e.PE_UTM_OPTS_NONE=D.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=D.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=D.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function i(s,n,a,u,d){D.ensureCache.prepare();let f=0;s&&(f=D.getPointer(s));const g=jd(a),v=D.ensureFloat64(g),w=Vb(n,Wt.PE_UTM_MAX),S=D.ensureInt32(w),T=D._pe_geog_to_utm(f,n,v,u,S);if(T)for(let E=0;E<n;E++)d[E]=D.UTF8ToString(w[E]);return T}function r(s,n,a,u,d){D.ensureCache.prepare();let f=0;s&&(f=D.getPointer(s));const g=a.map(T=>D.ensureString(T)),v=D.ensureInt32(g),w=D.ensureFloat64(new Array(2*n)),S=D._pe_utm_to_geog(f,n,v,u,w);return S&&Lu(d,n,w),S}e.init=t,e.geogToUtm=i,e.utmToGeog=r}(RS||(RS={})),function(e){const t=new Map;function i(){e.PE_PCSINFO_OPTION_NONE=D.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=D.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=D.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=D.PePCSInfo.prototype.PE_POLE_POINT}function r(s,n=e.PE_PCSINFO_OPTION_DOMAIN){let a=null,u=null;return t.has(s)&&(u=t.get(s),u[n]&&(a=u[n])),a||(a=D.PePCSInfo.prototype.generate(s,n),u||(u=[],t.set(s,u)),u[n]=a),a}e.init=i,e.generate=r}(CS||(CS={})),function(e){function t(){return D.PeVersion.prototype.version_string()}e.versionString=t}(x3||(x3={}));const rne=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return v3},get PeDefs(){return Wt},get PeDouble(){return _V},get PeFactory(){return b3},get PeGCSExtent(){return SV},get PeGTTransformations(){return _3},get PeGTlistExtended(){return AS},get PeGTlistExtendedEntry(){return w3},get PeLineType(){return S3},get PeMath(){return T3},get PeNotationDms(){return E3},get PeNotationMgrs(){return OS},get PeNotationUsng(){return $3},get PeNotationUtm(){return RS},get PePCSInfo(){return CS},get PeVersion(){return x3},_init:TV,get _pe(){return D},isLoaded:sI,isSupported:ine,load:wV},Symbol.toStringTag,{value:"Module"}));var ah;(function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"})(ah||(ah={}));let m;const x={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,10592:0,10594:0,10596:0,10598:0,10601:0,10603:0,10626:0,10632:0,10665:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1,103978:2,103979:0,103980:2,103981:0};for(m=2e3;m<=2045;m++)x[m]=0;for(m=2056;m<=2065;m++)x[m]=0;for(m=2067;m<=2135;m++)x[m]=0;for(m=2137;m<=2154;m++)x[m]=0;for(m=2161;m<=2170;m++)x[m]=0;for(m=2172;m<=2193;m++)x[m]=0;for(m=2195;m<=2198;m++)x[m]=0;for(m=2200;m<=2203;m++)x[m]=0;for(m=2205;m<=2217;m++)x[m]=0;for(m=2222;m<=2224;m++)x[m]=1;for(m=2225;m<=2250;m++)x[m]=2;for(m=2251;m<=2253;m++)x[m]=1;for(m=2257;m<=2264;m++)x[m]=2;for(m=2274;m<=2279;m++)x[m]=2;for(m=2280;m<=2282;m++)x[m]=1;for(m=2283;m<=2289;m++)x[m]=2;for(m=2290;m<=2292;m++)x[m]=0;for(m=2308;m<=2313;m++)x[m]=0;for(m=2315;m<=2491;m++)x[m]=0;for(m=2494;m<=2866;m++)x[m]=0;for(m=2867;m<=2869;m++)x[m]=1;for(m=2870;m<=2888;m++)x[m]=2;for(m=2891;m<=2895;m++)x[m]=2;for(m=2896;m<=2898;m++)x[m]=1;for(m=2902;m<=2908;m++)x[m]=2;for(m=2915;m<=2920;m++)x[m]=2;for(m=2921;m<=2923;m++)x[m]=1;for(m=2924;m<=2930;m++)x[m]=2;for(m=2931;m<=2962;m++)x[m]=0;for(m=2964;m<=2968;m++)x[m]=2;for(m=2969;m<=2973;m++)x[m]=0;for(m=2975;m<=2991;m++)x[m]=0;for(m=2995;m<=3051;m++)x[m]=0;for(m=3054;m<=3079;m++)x[m]=0;for(m=3081;m<=3088;m++)x[m]=0;for(m=3092;m<=3101;m++)x[m]=0;for(m=3106;m<=3138;m++)x[m]=0;for(m=3146;m<=3151;m++)x[m]=0;for(m=3153;m<=3166;m++)x[m]=0;for(m=3168;m<=3172;m++)x[m]=0;for(m=3174;m<=3203;m++)x[m]=0;for(m=3294;m<=3358;m++)x[m]=0;for(m=3367;m<=3403;m++)x[m]=0;for(m=3408;m<=3416;m++)x[m]=0;for(m=3417;m<=3438;m++)x[m]=2;for(m=3441;m<=3446;m++)x[m]=2;for(m=3447;m<=3450;m++)x[m]=0;for(m=3451;m<=3459;m++)x[m]=2;for(m=3460;m<=3478;m++)x[m]=0;for(m=3554;m<=3559;m++)x[m]=0;for(m=3560;m<=3570;m++)x[m]=2;for(m=3571;m<=3581;m++)x[m]=0;for(m=3594;m<=3597;m++)x[m]=0;for(m=3601;m<=3604;m++)x[m]=0;for(m=3637;m<=3639;m++)x[m]=0;for(m=3665;m<=3667;m++)x[m]=0;for(m=3693;m<=3695;m++)x[m]=0;for(m=3701;m<=3727;m++)x[m]=0;for(m=3728;m<=3739;m++)x[m]=2;for(m=3740;m<=3751;m++)x[m]=0;for(m=3753;m<=3760;m++)x[m]=2;for(m=3761;m<=3773;m++)x[m]=0;for(m=3775;m<=3777;m++)x[m]=0;for(m=3779;m<=3781;m++)x[m]=0;for(m=3783;m<=3785;m++)x[m]=0;for(m=3788;m<=3791;m++)x[m]=0;for(m=3797;m<=3802;m++)x[m]=0;for(m=3814;m<=3816;m++)x[m]=0;for(m=3825;m<=3829;m++)x[m]=0;for(m=3832;m<=3841;m++)x[m]=0;for(m=3844;m<=3852;m++)x[m]=0;for(m=3873;m<=3885;m++)x[m]=0;for(m=3890;m<=3893;m++)x[m]=0;for(m=3907;m<=3912;m++)x[m]=0;for(m=3942;m<=3950;m++)x[m]=0;for(m=3968;m<=3970;m++)x[m]=0;for(m=3973;m<=3976;m++)x[m]=0;for(m=3986;m<=3989;m++)x[m]=0;for(m=3994;m<=3997;m++)x[m]=0;for(m=4048;m<=4051;m++)x[m]=0;for(m=4056;m<=4063;m++)x[m]=0;for(m=4093;m<=4096;m++)x[m]=0;for(m=4390;m<=4398;m++)x[m]=0;for(m=4399;m<=4413;m++)x[m]=2;for(m=4418;m<=4433;m++)x[m]=2;for(m=4455;m<=4457;m++)x[m]=2;for(m=4484;m<=4489;m++)x[m]=0;for(m=4491;m<=4554;m++)x[m]=0;for(m=4568;m<=4589;m++)x[m]=0;for(m=4652;m<=4656;m++)x[m]=0;for(m=4766;m<=4800;m++)x[m]=0;for(m=5014;m<=5016;m++)x[m]=0;for(m=5069;m<=5072;m++)x[m]=0;for(m=5105;m<=5130;m++)x[m]=0;for(m=5167;m<=5188;m++)x[m]=0;for(m=5253;m<=5259;m++)x[m]=0;for(m=5269;m<=5275;m++)x[m]=0;for(m=5292;m<=5311;m++)x[m]=0;for(m=5329;m<=5331;m++)x[m]=0;for(m=5343;m<=5349;m++)x[m]=0;for(m=5355;m<=5357;m++)x[m]=0;for(m=5387;m<=5389;m++)x[m]=0;for(m=5459;m<=5463;m++)x[m]=0;for(m=5479;m<=5482;m++)x[m]=0;for(m=5518;m<=5520;m++)x[m]=0;for(m=5530;m<=5539;m++)x[m]=0;for(m=5550;m<=5552;m++)x[m]=0;for(m=5562;m<=5583;m++)x[m]=0;for(m=5623;m<=5625;m++)x[m]=2;for(m=5631;m<=5639;m++)x[m]=0;for(m=5649;m<=5653;m++)x[m]=0;for(m=5663;m<=5680;m++)x[m]=0;for(m=5682;m<=5685;m++)x[m]=0;for(m=5875;m<=5877;m++)x[m]=0;for(m=5896;m<=5899;m++)x[m]=0;for(m=5921;m<=5940;m++)x[m]=0;for(m=6050;m<=6125;m++)x[m]=0;for(m=6244;m<=6275;m++)x[m]=0;for(m=6328;m<=6348;m++)x[m]=0;for(m=6350;m<=6356;m++)x[m]=0;for(m=6366;m<=6372;m++)x[m]=0;for(m=6381;m<=6387;m++)x[m]=0;for(m=6393;m<=6404;m++)x[m]=0;for(m=6480;m<=6483;m++)x[m]=0;for(m=6511;m<=6514;m++)x[m]=0;for(m=6579;m<=6581;m++)x[m]=0;for(m=6619;m<=6624;m++)x[m]=0;for(m=6625;m<=6627;m++)x[m]=2;for(m=6628;m<=6632;m++)x[m]=0;for(m=6634;m<=6637;m++)x[m]=0;for(m=6669;m<=6692;m++)x[m]=0;for(m=6707;m<=6709;m++)x[m]=0;for(m=6720;m<=6723;m++)x[m]=0;for(m=6732;m<=6738;m++)x[m]=0;for(m=6931;m<=6933;m++)x[m]=0;for(m=6956;m<=6959;m++)x[m]=0;for(m=7005;m<=7007;m++)x[m]=0;for(m=7057;m<=7070;m++)x[m]=2;for(m=7074;m<=7082;m++)x[m]=0;for(m=7109;m<=7118;m++)x[m]=0;for(m=7119;m<=7127;m++)x[m]=1;for(m=7374;m<=7376;m++)x[m]=0;for(m=7528;m<=7586;m++)x[m]=0;for(m=7587;m<=7645;m++)x[m]=2;for(m=7692;m<=7696;m++)x[m]=0;for(m=7755;m<=7787;m++)x[m]=0;for(m=7791;m<=7795;m++)x[m]=0;for(m=7799;m<=7801;m++)x[m]=0;for(m=7803;m<=7805;m++)x[m]=0;for(m=7825;m<=7831;m++)x[m]=0;for(m=7845;m<=7859;m++)x[m]=0;for(m=8013;m<=8032;m++)x[m]=0;for(m=8065;m<=8068;m++)x[m]=1;for(m=8518;m<=8529;m++)x[m]=2;for(m=8533;m<=8536;m++)x[m]=2;for(m=8538;m<=8540;m++)x[m]=2;for(m=8677;m<=8679;m++)x[m]=0;for(m=8836;m<=8840;m++)x[m]=0;for(m=8857;m<=8859;m++)x[m]=0;for(m=8908;m<=8910;m++)x[m]=0;for(m=9154;m<=9159;m++)x[m]=0;for(m=9205;m<=9218;m++)x[m]=0;for(m=9271;m<=9273;m++)x[m]=0;for(m=9295;m<=9297;m++)x[m]=0;for(m=9356;m<=9360;m++)x[m]=0;for(m=9404;m<=9407;m++)x[m]=0;for(m=9476;m<=9482;m++)x[m]=0;for(m=9487;m<=9494;m++)x[m]=0;for(m=9697;m<=9699;m++)x[m]=0;for(m=9821;m<=9865;m++)x[m]=0;for(m=10285;m<=10291;m++)x[m]=0;for(m=10314;m<=10317;m++)x[m]=0;for(m=10448;m<=10465;m++)x[m]=0;for(m=10731;m<=10733;m++)x[m]=0;for(m=11114;m<=11118;m++)x[m]=0;for(m=20004;m<=20032;m++)x[m]=0;for(m=20047;m<=20049;m++)x[m]=0;for(m=20062;m<=20092;m++)x[m]=0;for(m=20135;m<=20138;m++)x[m]=0;for(m=20248;m<=20258;m++)x[m]=0;for(m=20348;m<=20358;m++)x[m]=0;for(m=20436;m<=20440;m++)x[m]=0;for(m=20822;m<=20824;m++)x[m]=0;for(m=20904;m<=20932;m++)x[m]=0;for(m=20934;m<=20936;m++)x[m]=0;for(m=21004;m<=21032;m++)x[m]=0;for(m=21035;m<=21037;m++)x[m]=0;for(m=21095;m<=21097;m++)x[m]=0;for(m=21148;m<=21150;m++)x[m]=0;for(m=21207;m<=21264;m++)x[m]=0;for(m=21307;m<=21364;m++)x[m]=0;for(m=21413;m<=21423;m++)x[m]=0;for(m=21453;m<=21463;m++)x[m]=0;for(m=21473;m<=21483;m++)x[m]=0;for(m=21780;m<=21782;m++)x[m]=0;for(m=21891;m<=21894;m++)x[m]=0;for(m=21896;m<=21899;m++)x[m]=0;for(m=22171;m<=22177;m++)x[m]=0;for(m=22181;m<=22187;m++)x[m]=0;for(m=22191;m<=22197;m++)x[m]=0;for(m=22207;m<=22222;m++)x[m]=0;for(m=22229;m<=22232;m++)x[m]=0;for(m=22234;m<=22236;m++)x[m]=0;for(m=22243;m<=22250;m++)x[m]=0;for(m=22262;m<=22265;m++)x[m]=0;for(m=22307;m<=22322;m++)x[m]=0;for(m=22348;m<=22357;m++)x[m]=0;for(m=22407;m<=22422;m++)x[m]=0;for(m=22462;m<=22465;m++)x[m]=0;for(m=22521;m<=22525;m++)x[m]=0;for(m=22607;m<=22622;m++)x[m]=0;for(m=22641;m<=22646;m++)x[m]=0;for(m=22648;m<=22657;m++)x[m]=0;for(m=22707;m<=22722;m++)x[m]=0;for(m=22762;m<=22765;m++)x[m]=0;for(m=22807;m<=22822;m++)x[m]=0;for(m=22991;m<=22994;m++)x[m]=0;for(m=23028;m<=23038;m++)x[m]=0;for(m=23301;m<=23333;m++)x[m]=2;for(m=23830;m<=23853;m++)x[m]=0;for(m=23866;m<=23872;m++)x[m]=0;for(m=23877;m<=23884;m++)x[m]=0;for(m=23886;m<=23894;m++)x[m]=0;for(m=23946;m<=23948;m++)x[m]=0;for(m=24311;m<=24313;m++)x[m]=0;for(m=24342;m<=24347;m++)x[m]=0;for(m=24370;m<=24374;m++)x[m]=10;for(m=24375;m<=24381;m++)x[m]=0;for(m=24718;m<=24721;m++)x[m]=0;for(m=24817;m<=24821;m++)x[m]=0;for(m=24877;m<=24882;m++)x[m]=0;for(m=24891;m<=24893;m++)x[m]=0;for(m=25391;m<=25395;m++)x[m]=0;for(m=25828;m<=25838;m++)x[m]=0;for(m=26191;m<=26195;m++)x[m]=0;for(m=26391;m<=26393;m++)x[m]=0;for(m=26701;m<=26722;m++)x[m]=0;for(m=26729;m<=26799;m++)x[m]=2;for(m=26801;m<=26803;m++)x[m]=2;for(m=26811;m<=26813;m++)x[m]=2;for(m=26847;m<=26870;m++)x[m]=2;for(m=26891;m<=26899;m++)x[m]=0;for(m=26901;m<=26923;m++)x[m]=0;for(m=26929;m<=26946;m++)x[m]=0;for(m=26948;m<=26998;m++)x[m]=0;for(m=27037;m<=27040;m++)x[m]=0;for(m=27205;m<=27232;m++)x[m]=0;for(m=27258;m<=27260;m++)x[m]=0;for(m=27391;m<=27398;m++)x[m]=0;for(m=27561;m<=27564;m++)x[m]=0;for(m=27571;m<=27574;m++)x[m]=0;for(m=27581;m<=27584;m++)x[m]=0;for(m=27591;m<=27594;m++)x[m]=0;for(m=27700;m<=27707;m++)x[m]=0;for(m=28191;m<=28193;m++)x[m]=0;for(m=28348;m<=28358;m++)x[m]=0;for(m=28402;m<=28432;m++)x[m]=0;for(m=28462;m<=28492;m++)x[m]=0;for(m=29118;m<=29122;m++)x[m]=0;for(m=29168;m<=29172;m++)x[m]=0;for(m=29177;m<=29185;m++)x[m]=0;for(m=29187;m<=29195;m++)x[m]=0;for(m=29900;m<=29903;m++)x[m]=0;for(m=30161;m<=30179;m++)x[m]=0;for(m=30491;m<=30494;m++)x[m]=0;for(m=30729;m<=30732;m++)x[m]=0;for(m=31251;m<=31259;m++)x[m]=0;for(m=31265;m<=31268;m++)x[m]=0;for(m=31275;m<=31279;m++)x[m]=0;for(m=31281;m<=31297;m++)x[m]=0;for(m=31461;m<=31469;m++)x[m]=0;for(m=31491;m<=31495;m++)x[m]=0;for(m=31917;m<=31922;m++)x[m]=0;for(m=31965;m<=32e3;m++)x[m]=0;for(m=32001;m<=32003;m++)x[m]=2;for(m=32005;m<=32031;m++)x[m]=2;for(m=32033;m<=32060;m++)x[m]=2;for(m=32064;m<=32067;m++)x[m]=2;for(m=32074;m<=32077;m++)x[m]=2;for(m=32081;m<=32086;m++)x[m]=0;for(m=32107;m<=32130;m++)x[m]=0;for(m=32133;m<=32159;m++)x[m]=0;for(m=32164;m<=32167;m++)x[m]=2;for(m=32180;m<=32199;m++)x[m]=0;for(m=32201;m<=32260;m++)x[m]=0;for(m=32301;m<=32360;m++)x[m]=0;for(m=32401;m<=32460;m++)x[m]=0;for(m=32501;m<=32560;m++)x[m]=0;for(m=32601;m<=32662;m++)x[m]=0;for(m=32664;m<=32667;m++)x[m]=2;for(m=32701;m<=32761;m++)x[m]=0;for(m=53001;m<=53004;m++)x[m]=0;for(m=53008;m<=53019;m++)x[m]=0;for(m=53021;m<=53032;m++)x[m]=0;for(m=53034;m<=53037;m++)x[m]=0;for(m=53042;m<=53046;m++)x[m]=0;for(m=53074;m<=53080;m++)x[m]=0;for(m=54001;m<=54004;m++)x[m]=0;for(m=54008;m<=54019;m++)x[m]=0;for(m=54021;m<=54032;m++)x[m]=0;for(m=54034;m<=54037;m++)x[m]=0;for(m=54042;m<=54046;m++)x[m]=0;for(m=54048;m<=54053;m++)x[m]=0;for(m=54074;m<=54080;m++)x[m]=0;for(m=54098;m<=54101;m++)x[m]=0;for(m=102001;m<=102040;m++)x[m]=0;for(m=102042;m<=102063;m++)x[m]=0;for(m=102065;m<=102067;m++)x[m]=0;for(m=102070;m<=102117;m++)x[m]=0;for(m=102122;m<=102216;m++)x[m]=0;for(m=102221;m<=102377;m++)x[m]=0;for(m=102382;m<=102388;m++)x[m]=0;for(m=102389;m<=102398;m++)x[m]=2;for(m=102399;m<=102444;m++)x[m]=0;for(m=102445;m<=102447;m++)x[m]=2;for(m=102448;m<=102458;m++)x[m]=0;for(m=102459;m<=102468;m++)x[m]=2;for(m=102469;m<=102499;m++)x[m]=0;for(m=102500;m<=102519;m++)x[m]=1;for(m=102520;m<=102524;m++)x[m]=0;for(m=102525;m<=102529;m++)x[m]=2;for(m=102530;m<=102588;m++)x[m]=0;for(m=102590;m<=102598;m++)x[m]=0;for(m=102601;m<=102603;m++)x[m]=0;for(m=102605;m<=102628;m++)x[m]=0;for(m=102629;m<=102646;m++)x[m]=2;for(m=102648;m<=102700;m++)x[m]=2;for(m=102701;m<=102703;m++)x[m]=0;for(m=102707;m<=102730;m++)x[m]=2;for(m=102733;m<=102758;m++)x[m]=2;for(m=102767;m<=102900;m++)x[m]=0;for(m=102901;m<=102933;m++)x[m]=2;for(m=102934;m<=102950;m++)x[m]=13;for(m=102951;m<=102963;m++)x[m]=0;for(m=102965;m<=102969;m++)x[m]=0;for(m=102971;m<=102973;m++)x[m]=0;for(m=102975;m<=102989;m++)x[m]=0;for(m=102990;m<=102992;m++)x[m]=1;for(m=102997;m<=103002;m++)x[m]=0;for(m=103003;m<=103008;m++)x[m]=2;for(m=103009;m<=103011;m++)x[m]=0;for(m=103012;m<=103014;m++)x[m]=2;for(m=103019;m<=103021;m++)x[m]=0;for(m=103022;m<=103024;m++)x[m]=2;for(m=103029;m<=103031;m++)x[m]=0;for(m=103032;m<=103034;m++)x[m]=2;for(m=103065;m<=103068;m++)x[m]=0;for(m=103074;m<=103076;m++)x[m]=0;for(m=103077;m<=103079;m++)x[m]=1;for(m=103080;m<=103082;m++)x[m]=0;for(m=103083;m<=103085;m++)x[m]=2;for(m=103090;m<=103093;m++)x[m]=0;for(m=103097;m<=103099;m++)x[m]=0;for(m=103100;m<=103102;m++)x[m]=2;for(m=103107;m<=103109;m++)x[m]=0;for(m=103110;m<=103112;m++)x[m]=2;for(m=103113;m<=103116;m++)x[m]=0;for(m=103117;m<=103120;m++)x[m]=2;for(m=103153;m<=103157;m++)x[m]=0;for(m=103158;m<=103162;m++)x[m]=2;for(m=103163;m<=103165;m++)x[m]=0;for(m=103166;m<=103168;m++)x[m]=1;for(m=103169;m<=103171;m++)x[m]=2;for(m=103186;m<=103188;m++)x[m]=0;for(m=103189;m<=103191;m++)x[m]=2;for(m=103192;m<=103195;m++)x[m]=0;for(m=103196;m<=103199;m++)x[m]=2;for(m=103200;m<=103224;m++)x[m]=0;for(m=103225;m<=103227;m++)x[m]=1;for(m=103232;m<=103237;m++)x[m]=0;for(m=103238;m<=103243;m++)x[m]=2;for(m=103244;m<=103246;m++)x[m]=0;for(m=103247;m<=103249;m++)x[m]=2;for(m=103254;m<=103256;m++)x[m]=0;for(m=103257;m<=103259;m++)x[m]=2;for(m=103264;m<=103266;m++)x[m]=0;for(m=103267;m<=103269;m++)x[m]=2;for(m=103300;m<=103375;m++)x[m]=0;for(m=103381;m<=103383;m++)x[m]=0;for(m=103384;m<=103386;m++)x[m]=1;for(m=103387;m<=103389;m++)x[m]=0;for(m=103390;m<=103392;m++)x[m]=2;for(m=103397;m<=103399;m++)x[m]=0;for(m=103400;m<=103471;m++)x[m]=2;for(m=103476;m<=103478;m++)x[m]=0;for(m=103479;m<=103481;m++)x[m]=2;for(m=103486;m<=103488;m++)x[m]=0;for(m=103489;m<=103491;m++)x[m]=2;for(m=103492;m<=103495;m++)x[m]=0;for(m=103496;m<=103499;m++)x[m]=2;for(m=103528;m<=103543;m++)x[m]=0;for(m=103544;m<=103548;m++)x[m]=2;for(m=103549;m<=103551;m++)x[m]=0;for(m=103552;m<=103554;m++)x[m]=1;for(m=103555;m<=103557;m++)x[m]=2;for(m=103558;m<=103560;m++)x[m]=0;for(m=103571;m<=103573;m++)x[m]=0;for(m=103574;m<=103576;m++)x[m]=2;for(m=103577;m<=103580;m++)x[m]=0;for(m=103581;m<=103583;m++)x[m]=2;for(m=103595;m<=103694;m++)x[m]=0;for(m=103696;m<=103699;m++)x[m]=0;for(m=103700;m<=103793;m++)x[m]=2;for(m=103794;m<=103890;m++)x[m]=0;for(m=103891;m<=103896;m++)x[m]=2;for(m=103900;m<=103971;m++)x[m]=2;for(m=103972;m<=103977;m++)x[m]=0;for(m=112e3;m<=112101;m++)x[m]=0;const EV=[102100,102113,3857,3785,900913],sne=[104905,104971],nne=[4326,...EV,...sne],sv=[-20037508342788905e-9,20037508342788905e-9],M3=[-20037508342787e-6,20037508342787e-6],vx={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:sv,origin:M3,dx:1e-5},$V={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:sv,origin:M3,dx:1e-5},102100:vx,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:sv,origin:M3,dx:1e-5},3857:vx,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:vx};function Vi(e,t){if(e===t)return!0;if(e==null||t==null)return!1;const i=e.wkid,r=t.wkid;if(i!=null||r!=null){if(i===r||Jo(e)&&Jo(t))return!0;const a=e.latestWkid;if(a!=null&&r===a)return!0;const u=t.latestWkid;return u!=null&&i===u}let s,n;return e.wkt2&&t.wkt2?(s=e.wkt2,n=t.wkt2):e.wkt&&t.wkt&&(s=e.wkt,n=t.wkt),!(!s||!n)&&s.toUpperCase()===n.toUpperCase()}function Br(e){const t=e==null?void 0:e.wkid;return t!=null&&t>=2e3&&$V[t]||null}function xV(e){if(!e)return;const{wkid:t,vcsWkid:i}=e;if(t)return i?JSON.stringify({wkid:t,vcsWkid:i}):String(t);const r=e.wkt||e.wkt2;return JSON.stringify(r?i?{wkt:r,vcsWkid:i}:{wkt:r}:{})}function Em(e){if(!Ls(e))return!1;const{wkid:t}=e;if(t)return x[t]==null;const i=e.wkt2||e.wkt;return!!i&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(i)}function one(e){return!(MV(e)||AV(e))}function lh(e){return(e==null?void 0:e.wkid)===4326}function dAe(e){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(e)}function y5(e){return(e==null?void 0:e.wkid)===ah.CGCS2000}function Jo(e){const t=e==null?void 0:e.wkid;return t!=null&&t>=2e3&&EV.includes(t)}function ane(e){return(e==null?void 0:e.wkid)===32662}function k2(e){return e===ah.GCSMARS2000||e===ah.GCSMARS2000_SPHERE}function MV(e){return k2(e==null?void 0:e.wkid)}function F2(e){return e===ah.GCSMOON2000}function AV(e){return F2(e==null?void 0:e.wkid)}function lne(e){const t=e==null?void 0:e.wkid;return t!=null&&t>=2e3&&nne.includes(t)}function Ls(e){if(e==null)return!1;const t=e.wkid;return t!=null&&t>=2e3||e.wkt2!=null||e.wkt!=null}const OV={wkid:4326,wkt:S2($V[4326].wkTemplate,{Central_Meridian:"0.0"})},RV={wkid:102100,latestWkid:3857},une={wkid:32662};function nI(e){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${e.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const cne=nI(ni),oI=nI(Wo),aI=nI(Xu),dne={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${ni.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},hne=oI.wkt.toUpperCase(),pne=aI.wkt.toUpperCase();function fne(e){if(e!=null&&Ls(e)){const t=e.wkid,i=e.wkt2??e.wkt;if(k2(t))return Wo;const r=i==null?void 0:i.toUpperCase();if(i&&r===hne)return Wo;if(F2(t)||r&&r===pne)return Xu}return ni}function hAe(e){return k2(e)?Wo:F2(e)?Xu:ni}function IS(e){return Vi(e,cne)}function Qu(e){return IS(e)||Vi(e,oI)||Vi(e,aI)}const CV=39.37,mne=ni.radius*Math.PI/200,IV=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,tm=x,NV=/UNIT\[([^\]]+)]/i,yne=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),gne=rr()({millimeter:"millimeters",centimeter:"centimeters",meter:"meters",meter_german:"german-meters",kilometer:"kilometers",decimeter:"decimeters",micrometer:"micrometers",nanometer:"nanometers","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",fathom:"fathoms",nautical_mile:"nautical-miles",chain_us:"us-chains",link_us:"us-links",mile_us:"us-miles",yard_clarke:"clarke-yards",chain_clarke:"clarke-chains",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",link_sears:"sears-links",yard_benoit_1895_a:"benoit-1895-a-yards",foot_benoit_1895_a:"benoit-1895-a-feet",chain_benoit_1895_a:"benoit-1895-a-chains",link_benoit_1895_a:"benoit-1895-a-links",yard_benoit_1895_b:"benoit-1895-b-yards",foot_benoit_1895_b:"benoit-1895-b-feet",chain_benoit_1895_b:"benoit-1895-b-chains",link_benoit_1895_b:"benoit-1895-b-links",foot_1865:"1865-feet",foot_indian:"indian-feet",foot_indian_1937:"indian-1937-feet",foot_indian_1962:"indian-1962-feet",foot_indian_1975:"indian-1975-feet",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",yard_indian_1962:"indian-1962-yards",yard_indian_1975:"indian-1975-yards",statute_mile:"statute-miles",foot_gold_coast:"gold-coast-feet",foot_british_1936:"british-1936-feet",yard:"yards",chain:"chains",link:"links",yard_sears_1922_truncated:"sears-1922-truncated-yards",foot_sears_1922_truncated:"sears-1922-truncated-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",link_sears_1922_truncated:"sears-1922-truncated-links",yard_us:"us-yards",inch:"inches",inch_us:"us-inches",rod:"rods",rod_us:"us-rods",nautical_mile_us:"us-nautical-miles",nautical_mile_uk:"uk-nautical-miles",smoot:"smoots",vara_tx:"tx-vara",point:"points"}),Ln=e=>e*e,Zl=e=>e*e*e,nv={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},meters:{inBaseUnits:1},feet:{inBaseUnits:.3048},"us-feet":{inBaseUnits:.3048006096012192},"clarke-feet":{inBaseUnits:.3047972654},fathoms:{inBaseUnits:1.8288},"nautical-miles":{inBaseUnits:1852},"german-meters":{inBaseUnits:1.0000135965},"us-chains":{inBaseUnits:20.11684023368047},"us-links":{inBaseUnits:.2011684023368047},"us-miles":{inBaseUnits:1609.347218694438},kilometers:{inBaseUnits:1e3},"clarke-yards":{inBaseUnits:.9143917962},"clarke-chains":{inBaseUnits:20.1166195164},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"sears-links":{inBaseUnits:.2011676512155263},"benoit-1895-a-yards":{inBaseUnits:.9143992},"benoit-1895-a-feet":{inBaseUnits:.3047997333333333},"benoit-1895-a-chains":{inBaseUnits:20.1167824},"benoit-1895-a-links":{inBaseUnits:.201167824},"benoit-1895-b-yards":{inBaseUnits:.9143992042898124},"benoit-1895-b-feet":{inBaseUnits:.3047997347632708},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"benoit-1895-b-links":{inBaseUnits:.2011678249437587},"1865-feet":{inBaseUnits:.3048008333333334},"indian-feet":{inBaseUnits:.3047995102481469},"indian-1937-feet":{inBaseUnits:.30479841},"indian-1962-feet":{inBaseUnits:.3047996},"indian-1975-feet":{inBaseUnits:.3047995},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"indian-1962-yards":{inBaseUnits:.9143988},"indian-1975-yards":{inBaseUnits:.9143985},miles:{inBaseUnits:1609.344},"statute-miles":{inBaseUnits:1609.344},"gold-coast-feet":{inBaseUnits:.3047997101815088},"british-1936-feet":{inBaseUnits:.3048007491},yards:{inBaseUnits:.9144},chains:{inBaseUnits:20.1168},links:{inBaseUnits:.201168},"sears-1922-truncated-yards":{inBaseUnits:.914398},"sears-1922-truncated-feet":{inBaseUnits:.3047993333333334},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"sears-1922-truncated-links":{inBaseUnits:.20116756},"us-yards":{inBaseUnits:.9144018288036576},decimeters:{inBaseUnits:.1},inches:{inBaseUnits:.0254},"us-inches":{inBaseUnits:.0254000508001016},rods:{inBaseUnits:5.0292},"us-rods":{inBaseUnits:5.029210058420118},"us-nautical-miles":{inBaseUnits:1853.248},"uk-nautical-miles":{inBaseUnits:1853.184},smoots:{inBaseUnits:1.7018},"tx-vara":{inBaseUnits:.8466683600033867},points:{inBaseUnits:.0003527777777777778},micrometers:{inBaseUnits:1e-6},nanometers:{inBaseUnits:1e-9},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:Ln(.001)},"square-centimeters":{inBaseUnits:Ln(.01)},"square-decimeters":{inBaseUnits:Ln(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:Ln(1e3)},"square-inches":{inBaseUnits:Ln(.0254)},"square-feet":{inBaseUnits:Ln(.3048)},"square-yards":{inBaseUnits:Ln(.9144)},"square-miles":{inBaseUnits:Ln(1609.344)},"square-nautical-miles":{inBaseUnits:Ln(1852)},"square-us-feet":{inBaseUnits:Ln(1200/3937)},acres:{inBaseUnits:.0015625*Ln(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*Zl(.001)},"cubic-centimeters":{inBaseUnits:1e3*Zl(.01)},"cubic-decimeters":{inBaseUnits:1e3*Zl(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*Zl(1e3)},"cubic-inches":{inBaseUnits:1e3*Zl(.0254)},"cubic-feet":{inBaseUnits:1e3*Zl(.3048)},"cubic-yards":{inBaseUnits:1e3*Zl(.9144)},"cubic-miles":{inBaseUnits:1e3*Zl(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},vne=(()=>{const e={};for(const t in nv)for(const i in nv[t].units)e[i]=t;return e})();function bne(e,t,i){return e*nv[i].units[t].inBaseUnits}function wne(e,t,i){return e/nv[i].units[t].inBaseUnits}const PV=["metric","imperial","inches","feet","yards","miles","nautical-miles","us-feet","meters","kilometers"],_ne=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function A3(e){const t=vne[e];if(!t)throw new Error("unknown type");return t}function g5(e,t=null){return t=t||A3(e),nv[t].baseUnit===e}function mi(e,t,i){if(t===i)return e;const r=A3(t);if(r!==A3(i))throw new Error("incompatible units");const s=g5(t,r)?e:bne(e,t,r);return g5(i,r)?s:wne(s,i,r)}function pAe(e,t,i,r=!1){if(!r&&Em(t))throw new Error("Unable to convert from an angular unit to a linear unit.");const s=Sh(t);return s!==i&&(e=s?mi(e,s,i):mi(e*=Sn(t),"meters",i)),e}function fAe(e,t,i,r=!1){if(!r&&Em(i))throw new Error("Unable to convert from a linear unit to an angular unit.");const s=Sh(i);return t!==s&&(e=s?mi(e,t,s):mi(e,t,"meters")/Sn(i)),e}function Sne(e){switch(e){case"metric":return"meters";case"imperial":return"feet";default:return e}}function mAe(e){return Sne(e)}function yAe(e){switch(e){case"metric":return"square-meters";case"imperial":return"square-feet";default:return e}}function gAe(e,t){const i=mi(e,t,"meters");return Math.abs(i)<3e3?"meters":"kilometers"}function vAe(e,t){const i=mi(e,t,"meters");return Math.abs(i)<1e5?"meters":"kilometers"}function bAe(e,t){const i=mi(e,t,"feet");return Math.abs(i)<1e3?"feet":"miles"}function wAe(e,t){const i=mi(e,t,"feet");return Math.abs(i)<1e5?"feet":"miles"}function _Ae(e,t){const i=mi(e,t,"square-meters");return Math.abs(i)<3e6?"square-meters":"square-kilometers"}function SAe(e,t){const i=mi(e,t,"square-feet");return Math.abs(i)<1e6?"square-feet":"square-miles"}function Tne(e,t,i){return mi(e,t,"meters")/(i*Math.PI/180)}function lI(e){return gne.fromJSON(e.toLowerCase())||null}function NS(e){if(e!=null&&!one(e))return 1;const t=Sn(e);return t>1e5?1:t}function LV(e){return Sn(e)>=fne(e).metersPerDegree?"meters":Sh(e)}function Sn(e,t=ni.metersPerDegree){return Ene(e,!0)??t}function Ene(e,t=!1){const i=(e==null?void 0:e.wkid)??null,r=(e==null?void 0:e.wkt2)??(e==null?void 0:e.wkt)??null;let s=null;if(i){if(k2(i))return Wo.metersPerDegree;if(F2(i))return Xu.metersPerDegree;s=tm.values[tm[i]],!s&&t&&yne.has(i)&&(s=mne)}else r&&(FV(r)?s=v5(IV.exec(r),s):kV(r)&&(s=v5(NV.exec(r),s)));return s}function TAe(e){return Em(e)?1:Sn(e)}function v5(e,t){return e!=null&&e[1]?DV(e[1]):t}function DV(e){return parseFloat(e.split(",")[1])}function Sh(e){const t=(e==null?void 0:e.wkid)??null,i=(e==null?void 0:e.wkt2)??(e==null?void 0:e.wkt)??null;let r=null;if(t)r=tm.units[tm[t]];else if(i){const s=FV(i)?IV:kV(i)?NV:null;if(s){const n=s.exec(i);n!=null&&n[1]&&(r=xne(n[1]))}}return r!=null?lI(r):null}function EAe(e){const t=Sh(e);return t!=null&&PV.includes(t)?t:null}function $Ae(e){const t=LV(e);return t!=null&&PV.includes(t)?t:null}function xAe(e){const t=Sh(e);return t==null?null:_ne.get(t)}function kV(e){return/^GEOCCS/i.test(e)}function FV(e){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(e)}const $ne=1e-7;function xne(e){const t=/[\\"']{1}([^\\"']+)/.exec(e);let i=t==null?void 0:t[1];if(!i||!lI(i)){const r=DV(e);i=null;const s=tm.values;for(let n=0;n<s.length;++n)if(Math.abs(r-s[n])<$ne){i=tm.units[n];break}}return i}function MAe(e){const t=Sh(e);if(t==null)return null;switch(t){case"feet":case"us-feet":case"clarke-feet":case"fathoms":case"nautical-miles":case"us-chains":case"us-links":case"us-miles":case"clarke-yards":case"clarke-chains":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"sears-links":case"benoit-1895-a-yards":case"benoit-1895-a-feet":case"benoit-1895-a-chains":case"benoit-1895-a-links":case"benoit-1895-b-yards":case"benoit-1895-b-feet":case"benoit-1895-b-chains":case"benoit-1895-b-links":case"1865-feet":case"indian-feet":case"indian-1937-feet":case"indian-1962-feet":case"indian-1975-feet":case"indian-yards":case"indian-1937-yards":case"indian-1962-yards":case"indian-1975-yards":case"statute-miles":case"gold-coast-feet":case"british-1936-feet":case"yards":case"chains":case"links":case"sears-1922-truncated-yards":case"sears-1922-truncated-feet":case"sears-1922-truncated-chains":case"sears-1922-truncated-links":case"us-yards":case"inches":case"us-inches":case"rods":case"us-rods":case"us-nautical-miles":case"uk-nautical-miles":case"smoots":case"tx-vara":case"points":return"imperial";case"millimeters":case"centimeters":case"meters":case"german-meters":case"kilometers":case"decimeters":case"micrometers":case"nanometers":case"50-kilometers":case"150-kilometers":return"metric"}return null}const Mne={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},Ane={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},One={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},Rne=rr()(Mne),Cne=rr()(Ane),AAe=rr()(One);var Eo;let Tt=Eo=class extends K{static fromJSON(e){if(!e)return null;if((e==null?void 0:e.wkid)===102100)return Eo.WebMercator;if((e==null?void 0:e.wkid)===4326)return Eo.WGS84;const t=new Eo;return t.read(e),t}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return lh(this)}get isWebMercator(){return Jo(this)}get isGeographic(){return Em(this)}get isWrappable(){return lne(this)}get metersPerUnit(){return Sn(this)}get unit(){return Sh(this)||(this.isGeographic?"degrees":null)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===Eo.WGS84)return new Eo(OV);if(this===Eo.WebMercator)return new Eo(RV);const e=new Eo;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(e.wkt=this.wkt),this.wkt2!=null&&(e.wkt2=this.wkt2)),this.imageCoordinateSystem&&(e.imageCoordinateSystem=j(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:t,referenceServiceName:i}=e.imageCoordinateSystem,{geodataXform:r}=e.imageCoordinateSystem,s=this.imageCoordinateSystem;return t==null||r?JSON.stringify(s)===JSON.stringify(e.imageCoordinateSystem):i?s.id===t&&s.referenceServiceName===i:s.id===t}return Vi(this,e)}toJSON(e){return this.write(void 0,e)}};Tt.GCS_NAD_1927=null,Tt.WGS84=null,Tt.WebMercator=null,Tt.PlateCarree=null,c([p({readOnly:!0})],Tt.prototype,"isWGS84",null),c([p({readOnly:!0})],Tt.prototype,"isWebMercator",null),c([p({readOnly:!0})],Tt.prototype,"isGeographic",null),c([p({readOnly:!0})],Tt.prototype,"isWrappable",null),c([p({type:ht,json:{write:!0}})],Tt.prototype,"latestWkid",void 0),c([p({readOnly:!0})],Tt.prototype,"metersPerUnit",null),c([p({readOnly:!0})],Tt.prototype,"unit",null),c([p({type:ht,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],Tt.prototype,"wkid",void 0),c([p({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],Tt.prototype,"wkt",void 0),c([de("wkt"),de("web-scene","wkt")],Tt.prototype,"writeWkt",null),c([p({type:String,json:{write:!1}})],Tt.prototype,"wkt2",void 0),c([p({type:ht,json:{write:!0}})],Tt.prototype,"vcsWkid",void 0),c([p({type:ht,json:{write:!0}})],Tt.prototype,"latestVcsWkid",void 0),c([p()],Tt.prototype,"imageCoordinateSystem",void 0),Tt=Eo=c([O("esri.geometry.SpatialReference")],Tt),Tt.prototype.toJSON.isDefaultToJSON=!0,Tt.GCS_NAD_1927=$e.freeze(new Tt({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),Tt.WGS84=$e.freeze(new Tt(OV)),Tt.WebMercator=$e.freeze(new Tt(RV)),Tt.PlateCarree=$e.freeze(new Tt(une));const He=Tt,Ine=()=>ne.getLogger("esri.support.arcadeOnDemand"),Nne=["geometry","scale","timeProperties"];function OAe(e,t){if(t!=null)for(const i of Nne)t.hasArcadeDependency(i)&&e.add(i);return e}let bx;function Ku(){return bx||(bx=(async()=>{const e=await ue(()=>import("./arcadeUtils-5zOpB7qi.js"),__vite__mapDeps([7,8,9,10,11,2,12,13,14,15,16,1]),import.meta.url);return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature,Voxel:e.Voxel}})()),bx}const RAe=(e,t,i)=>jV.create(e,t,i,null,["$feature","$view"],[]),Pne=(e,t,i,r)=>jV.create(e,t,i,r,["$feature","$view"],[]);let jV=class UV{constructor(t,i,r,s,n,a,u){this._dependencies=new Map,this.services=null,this.script=t,this.evaluate=s;const d=Array.isArray(a)?a:a==null?void 0:a.fields;this.fields=d??[],this._syntaxTree=r,this._arcade=i,this._arcadeFeature=n,this._spatialReference=u,this._dependencies.set("geometry",i.scriptTouchesGeometry(this._syntaxTree)),this._dependencies.set("scale",this._arcade.referencesMember(this._syntaxTree,"scale")),this._dependencies.set("timeProperties",this._arcade.scriptUsesViewProperties(this._syntaxTree,["timeProperties"]))}static async create(t,i,r,s,n,a){const{arcade:u,Feature:d,Dictionary:f}=await Ku(),g=i instanceof He?i:He.fromJSON(i);let v;try{v=u.parseScript(t,a)}catch(oe){return Ine().error(new z("arcade-bad-expression","Failed to parse arcade script",{script:t,error:oe})),null}const w=n.reduce((oe,pe)=>({...oe,[pe]:null}),{});let S=null;s!=null&&(S=new f(s),S.immutable=!0,w.$config=null);const T=u.scriptUsesGeometryEngine(v),E=T&&u.enableGeometrySupport(),M=u.scriptUsesFeatureSet(v)&&u.enableFeatureSetSupport(),R=u.scriptIsAsync(v),P=R&&u.enableAsyncSupport(),N={vars:w,spatialReference:g,useAsync:!!P};await Promise.all([E,M,P]);const k=new Set;await u.loadDependentModules(k,v,null,R,T);const U=new f;U.immutable=!1,U.setField("scale",0);const Z=u.compileScript(v,N),re=(oe,pe)=>{var _e;const me=(_e=oe.$view)==null?void 0:_e.timeZone;if("$view"in oe&&oe.$view){let we;if(U.setField("scale",typeof oe.$view=="object"&&"scale"in oe.$view?oe.$view.scale:void 0),typeof oe.$view=="object"&&"timeProperties"in oe.$view&&oe.$view.timeProperties!=null){const{currentStart:Ye,currentEnd:Ce}=oe.$view.timeProperties;we=new f({currentStart:Ye!=null?me!=null?Ub.epochToArcadeDate(Ye,me):Ub.unknownEpochToArcadeDate(Ye):void 0,currentEnd:Ce!=null?me!=null?Ub.epochToArcadeDate(Ce,me):Ub.unknownEpochToArcadeDate(Ce):void 0,startIncluded:!0,endIncluded:!0})}U.setField("timeProperties",we),oe.$view=U}return S&&(oe.$config=S),Z({vars:oe,spatialReference:g,services:pe,timeZone:me})};return new UV(t,u,v,re,new d,r,g)}repurposeFeature(t){return t.geometry&&!t.geometry.spatialReference&&(t.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(t.geometry,t.attributes,{fields:this.fields}),this._arcadeFeature}references(t){return this._dependencies.get(t)??!1}};const Lne=/^([0-9_])/,Dne=/[^a-z0-9_\u0080-\uffff]+/gi;function kne(e){return e==null?null:e.trim().replaceAll(Dne,"_").replace(Lne,"F$1")||null}const Fne=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],jne=["field","normalizationField"];function b5(e,t){if(e!=null&&t!=null){for(const i of Array.isArray(e)?e:[e])if(w5(Fne,i,t),"visualVariables"in i&&i.visualVariables)for(const r of i.visualVariables)w5(jne,r,t)}}function w5(e,t,i){if(e)for(const r of e){const s=_2(r,t),n=s&&typeof s!="function"&&i.get(s);n&&ir(r,n.name,t)}}function zV(e,t){var i;if(e!=null&&((i=t==null?void 0:t.fields)!=null&&i.length))if("startField"in e){const r=t.get(e.startField),s=t.get(e.endField);e.startField=(r==null?void 0:r.name)??null,e.endField=(s==null?void 0:s.name)??null}else{const r=t.get(e.startTimeField),s=t.get(e.endTimeField);e.startTimeField=(r==null?void 0:r.name)??null,e.endTimeField=(s==null?void 0:s.name)??null}}const wx=new Set;function j2(e,t){return e&&t?(wx.clear(),uh(wx,e,t),Array.from(wx).sort()):[]}function uh(e,t,i){var r;if(i)if((r=t==null?void 0:t.fields)!=null&&r.length)if(i.includes("*"))for(const{name:s}of t.fields)e.add(s);else for(const s of i)Hr(e,t,s);else{if(i.includes("*"))return e.clear(),void e.add("*");for(const s of i)s!=null&&e.add(s)}}function Hr(e,t,i){if(typeof i=="string")if(t){const r=t.get(i);r&&e.add(r.name)}else e.add(i)}function CAe(e,t){return t==null||e==null?[]:t.includes("*")?(e.fields??[]).map(i=>i.name):t}function IAe(e,t,i=1){if(!t||!e)return[];if(t.includes("*"))return["*"];const r=j2(e,t);return r.length/e.fields.length>=i?["*"]:r}async function Rr(e,t,i){var n;if(!i)return;let r;const s=zre(i);if(s)r=[s];else{const{arcadeUtils:a}=await Ku();r=a.extractFieldNames(i,(n=t==null?void 0:t.fields)==null?void 0:n.map(u=>u.name))}for(const a of r)Hr(e,t,a)}async function uI(e,t,i){if(i&&i!=="1=1"){const r=await Hz(i,t);if(!r.isStandardized)throw new z("fieldUtils:collectFilterFields","Where clause is not standardized",{where:i});uh(e,t,r.fieldNames)}}function Une({displayField:e,fields:t}){return e||(t!=null&&t.length?_x(t,"name-or-title")||_x(t,"unique-identifier")||_x(t,"type-or-category")||zne(t):null)}function zne(e){for(const t of e){if(!(t!=null&&t.name))continue;const i=t.name.toLowerCase();if(i.includes("name")||i.includes("title"))return t.name}return null}function _x(e,t){for(const i of e)if(i!=null&&i.valueType&&i.valueType===t)return i.name;return null}async function NAe(e,t){var r;if(!t)return;const i=(r=t.elevationInfo)==null?void 0:r.featureExpressionInfo;return i?i.collectRequiredFields(e,t.fieldsIndex):void 0}function Vne(e,t,i){i.onStatisticExpression?Rr(e,t,i.onStatisticExpression.expression):e.add(i.onStatisticField)}async function PAe(e,t,i){if(!t||!i||!("fields"in i))return;const r=[],s=i.popupTemplate;r.push(VV(e,t,s)),i.fields&&r.push(...i.fields.map(async n=>Vne(e,t.fieldsIndex,n))),await Promise.all(r)}async function LAe(e,t){var n,a,u;const{fieldsIndex:i,trackInfo:r}=t;if(!t||!r||!i)return;const s=[(n=r.latestObservations.renderer)==null?void 0:n.collectRequiredFields(e,i),(a=r.previousObservations.renderer)==null?void 0:a.collectRequiredFields(e,i),(u=r.trackLines.renderer)==null?void 0:u.collectRequiredFields(e,i)];r.popupTemplate&&s.push(VV(e,t,r.popupTemplate));for(const d of[r.latestObservations.labelingInfo,r.previousObservations.labelingInfo,r.trackLines.labelingInfo])if(d)for(const f of d)s.push(BV(e,i,f));await Promise.all(s)}async function VV(e,t,i){const r=[];i!=null&&i.expressionInfos&&r.push(...i.expressionInfos.map(n=>Rr(e,t.fieldsIndex,n.expression)));const s=i==null?void 0:i.content;if(Array.isArray(s))for(const n of s)n.type==="expression"&&n.expressionInfo&&r.push(Rr(e,t.fieldsIndex,n.expressionInfo.expression));await Promise.all(r)}async function DAe(e,t,i){t&&(t.timeInfo&&(i!=null&&i.timeExtent)&&uh(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&uh(e,t.fieldsIndex,[t.floorInfo.floorField]),(i==null?void 0:i.where)!=null&&await uI(e,t.fieldsIndex,i.where))}async function kAe(e,t,i){t&&i&&await Promise.all(i.map(r=>Gne(e,t,r)))}async function Gne(e,t,i){t&&i&&(i.valueExpression?await Rr(e,t.fieldsIndex,i.valueExpression):i.field&&Hr(e,t.fieldsIndex,i.field))}function FAe(e){return e?j2(e.fieldsIndex,GV(e)):[]}function qne(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?j2(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}async function jAe(e,t,i){if(!t||!i)return;const r=t.fieldsIndex;await Promise.all(i.filters.map(s=>uI(e,r,s.where)))}const Bne=new Set(["oid","global-id","guid"]),Hne=new Set(["oid","global-id"]),Wne=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/perimeter/i,/objectid/i,/_i$/i];function Zne(e){const t=new Set;qV(e).forEach(r=>t.add(r)),qne(e).forEach(r=>t.add(r.toLowerCase()));const i=e&&"infoFor3D"in e?e.infoFor3D:void 0;return i&&(Object.values(i.assetMapFieldRoles).forEach(r=>t.add(r.toLowerCase())),Object.values(i.transformFieldRoles).forEach(r=>t.add(r.toLowerCase()))),Array.from(t)}function GV(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;if(!t)return[];const{creationDateField:i,creatorField:r,editDateField:s,editorField:n}=t;return[i,r,s,n].filter(Boolean)}function qV(e){return GV(e).map(t=>t.toLowerCase())}function Yne(e,t){var i;return e.editable&&!Bne.has(e.type)&&!qV(t).includes(((i=e.name)==null?void 0:i.toLowerCase())??"")}function Jne(e,t){var r;const i=((r=e.name)==null?void 0:r.toLowerCase())??"";return!((t==null?void 0:t.objectIdField)!=null&&i===t.objectIdField.toLowerCase()||(t==null?void 0:t.globalIdField)!=null&&i===t.globalIdField.toLowerCase()||Zne(t).includes(i)||Hne.has(e.type)||Wne.some(s=>s.test(i)))}async function UAe(e,t){const{labelingInfo:i,fieldsIndex:r}=t;i!=null&&i.length&&await Promise.all(i.map(s=>BV(e,r,s)))}async function BV(e,t,i){if(!i)return;const r=i.getLabelExpression(),s=i.where;if(r.type==="arcade")await Rr(e,t,r.expression);else{const n=r.expression.match(/{[^}]*}/g);n&&n.forEach(a=>{Hr(e,t,a.slice(1,-1))})}await uI(e,t,s)}function Xne(e){const t=e.defaultValue;return t!==void 0&&WV(e,t)?t:e.nullable?null:void 0}function zAe(e){const t=typeof e=="string"?{type:e}:e;return JV(t)?255:t.type==="esriFieldTypeDate"||t.type==="date"?8:void 0}function HV(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function Qne(e){return e===null||HV(e)}function Kne(e){return e===null||Number.isInteger(e)}function eoe(){return!0}function WV(e,t){let i;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":i=e.nullable?Kne:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":i=e.nullable?Qne:HV;break;case"string":case"esriFieldTypeString":i=e.nullable?Ote:Fv;break;default:i=eoe}return arguments.length===1?i:i(t)}const toe=["integer","small-integer","big-integer"],ioe=["single","double"],roe=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"],soe=["esriFieldTypeSingle","esriFieldTypeDouble"],ZV=new Set([...toe,...roe]),noe=new Set([...ioe,...soe]),ooe=CC(ZV,noe);function aoe(e){return e!=null&&ZV.has(e.type)}function YV(e){return e!=null&&ooe.has(e.type)}function JV(e){return e!=null&&(e.type==="string"||e.type==="esriFieldTypeString")}function loe(e){return e!=null&&(e.type==="date"||e.type==="esriFieldTypeDate")}function VAe(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function GAe(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function uoe(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function _5(e){return e!=null&&(e.type==="oid"||e.type==="esriFieldTypeOID")}function S5(e){return e!=null&&(e.type==="global-id"||e.type==="esriFieldTypeGlobalID")}function qAe(e,t){return coe(e,t)===null}var PS,LS;function BAe(e){return e==null||typeof e=="number"&&isNaN(e)?null:e}function coe(e,t){return e==null||e.nullable&&t===null?null:WV(e,t)?YV(e)&&!doe(e.type,Number(t))?PS.OUT_OF_RANGE:null:LS.INVALID_TYPE}function doe(e,t){const i=typeof e=="string"?XV(e):e;if(!i)return!1;const r=i.min,s=i.max;return i.isInteger?Number.isInteger(t)&&t>=r&&t<=s:t>=r&&t<=s}function XV(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return hoe;case"esriFieldTypeInteger":case"integer":return poe;case"esriFieldTypeBigInteger":case"big-integer":return foe;case"esriFieldTypeSingle":case"single":return moe;case"esriFieldTypeDouble":case"double":return yoe}}(function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(PS||(PS={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(LS||(LS={}));const hoe={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},poe={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},foe={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},moe={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},yoe={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function HAe(e,t,i){switch(e){case _S.INVALID_CODED_VALUE:return`Value ${i} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case _S.VALUE_OUT_OF_RANGE:return`Value ${i} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case LS.INVALID_TYPE:return`Value ${i} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case PS.OUT_OF_RANGE:{const{min:r,max:s}=XV(t.type);return`Value ${i} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${r} to ${s}`}}}function goe(e,t){return!voe(e,t,null)}function voe(e,t,i){if(!(t!=null&&t.attributes)||!e)return!0;const r=new Set(Object.keys(t.attributes));let s=!1;for(const n of e)if(!r.has(n)&&(s=!0,i==null))break;return s}function boe(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some(t=>e.toLowerCase().startsWith(t))}function cI(e){const t=e==null?void 0:e.match(/{[^}]+}/g);return t?t.map(i=>i.slice(1,-1).split(":")[0].trim()):[]}let qw=class extends K{constructor(t){super(t),this.type=null}};c([p({type:["attachments","custom","fields","media","text","expression","relationship","utility-network-associations"],readOnly:!0,json:{read:!1,write:!0}})],qw.prototype,"type",void 0),qw=c([O("esri.popup.content.Content")],qw);const fl=qw,Gb=new et({asc:"ascending",desc:"descending"});let mg=class extends rt.ClonableMixin(K){constructor(t){super(t),this.field=null,this.order="ascending"}};c([p({type:String,json:{write:!0}})],mg.prototype,"field",void 0),c([p({type:Gb.apiValues,json:{type:Gb.jsonValues,read:Gb.read,write:Gb.write}})],mg.prototype,"order",void 0),mg=c([O("esri.popup.support.AttachmentsOrderByInfo")],mg);const woe=mg;let eu=class extends rt.ClonableMixin(fl){constructor(t){super(t),this.description=null,this.displayType="auto",this.orderByFields=null,this.title=null,this.type="attachments"}};c([p({type:String,json:{write:!0}})],eu.prototype,"description",void 0),c([p({type:["auto","preview","list"],json:{write:!0}})],eu.prototype,"displayType",void 0),c([p({type:[woe],json:{write:!0}})],eu.prototype,"orderByFields",void 0),c([p({type:String,json:{write:!0}})],eu.prototype,"title",void 0),c([p({type:["attachments"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],eu.prototype,"type",void 0),eu=c([O("esri.popup.content.AttachmentsContent")],eu);const im=eu;var O3;let ed=O3=class extends fl{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new O3({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?j(this.outFields):null})}};c([p()],ed.prototype,"creator",void 0),c([p()],ed.prototype,"destroyer",void 0),c([p()],ed.prototype,"outFields",void 0),c([p({type:["custom"],readOnly:!0})],ed.prototype,"type",void 0),ed=O3=c([O("esri.popup.content.CustomContent")],ed);const _oe=ed;var R3;let Np=R3=class extends K{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new R3({title:this.title,expression:this.expression})}};c([p({type:String,json:{write:!0}})],Np.prototype,"title",void 0),c([p({type:String,json:{write:!0}})],Np.prototype,"expression",void 0),c([p({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],Np.prototype,"returnType",void 0),Np=R3=c([O("esri.popup.ElementExpressionInfo")],Np);const Soe=Np;var C3;let yg=C3=class extends fl{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){var e;return new C3({expressionInfo:(e=this.expressionInfo)==null?void 0:e.clone()})}};c([p({type:Soe,json:{write:!0}})],yg.prototype,"expressionInfo",void 0),c([p({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],yg.prototype,"type",void 0),yg=C3=c([O("esri.popup.content.ExpressionContent")],yg);const U2=yg;function Oe(e,t={}){const i=e instanceof et?e:new et(e,t),{alwaysWriteDefaults:r,default:s,ignoreUnknown:n=!0,name:a,nonNullable:u,readOnly:d=!1}=t;return p({type:n?i.apiValues:String,json:{type:i.jsonValues,default:s,name:a,read:!d&&{reader:i.read},write:{writer:i.write,alwaysWriteDefaults:r}},nonNullable:u,readOnly:d})}let $0;var TU,EU;const Toe=((TU=globalThis.esriConfig)==null?void 0:TU.locale)??((EU=globalThis.dojoConfig)==null?void 0:EU.locale);var $U;const x0=($U=globalThis.document)==null?void 0:$U.documentElement;function QV(){var i;const e=x0==null?void 0:x0.getAttribute("lang"),t=(i=globalThis.navigator)==null?void 0:i.language;return Toe??e??t??"en"}function ds(){return $0===void 0&&($0=QV()),$0}function JAe(e=ds()){const t=/^([a-zA-Z]{2,3})(?:[_-][a-zA-Z0-9]+)*$/.exec(e);return t==null?void 0:t[1].toLowerCase()}const Bw=[];function KV(e){return Bw.push(e),pt(()=>Bw.splice(Bw.indexOf(e),1))}const Hw=[];function dI(e){return Hw.push(e),pt(()=>Hw.splice(Hw.indexOf(e),1))}function T5(){const e=QV();$0!==e&&([...Hw].forEach(t=>t(e)),$0=e,[...Bw].forEach(t=>t(e)))}var xU;(xU=globalThis.addEventListener)==null||xU.call(globalThis,"languagechange",T5),x0&&new MutationObserver(()=>{T5()}).observe(x0,{attributeFilter:["lang"]});const Xo="system",ch="unknown",ec="UTC",Eoe=Intl.DateTimeFormat().resolvedOptions().timeZone,E5=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Bishkek"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]),$oe="shortOffset";function xoe(e){return"timeZoneIANA"in e}function Moe(e){return e.startsWith("UTC")}function DS(e,t=!1){return{json:{read:{source:e,reader:(i,r)=>r[e]?Ww(r[e]):null},write:!!t&&{allowNull:!0,writer(i,r){r[e]=i?Aoe(i):null}}}}}function Ww(e,t=Xo){return e?xoe(e)?e.timeZoneIANA:Ooe(e,t):t}function Aoe(e){return{timeZoneIANA:e}}function Ooe(e,t=Xo){if(!e||!E5.has(e.timeZone))return t;const i=E5.get(e.timeZone);return Moe(e.timeZone)||e.respectsDaylightSaving?i:Roe(i)}function Roe(e){const t=Re.local().setZone(e),i=Math.min(t.set({month:1,day:1}).offset,t.set({month:5}).offset);return i===0?"Etc/UTC":`Etc/GMT${er.instance(-i).formatOffset(0,"narrow")}`}function XAe(e,t,i,r,s){if(t&&s==="date")return{timeZone:ec,timeZoneName:void 0};const n=r.timeStyle||r.hour,a=i===ch;return{timeZone:a?s==="timestamp-offset"?void 0:e??ec:i,timeZoneName:a&&n?$oe:void 0}}function Coe(e){const t=new Set(["etc/utc","etc/gmt","gmt"]),i=new Set(Intl.supportedValuesOf("timeZone").map(r=>r.toLowerCase()));return e===Xo||e===ch||t.has(e.toLowerCase())||i.has(e.toLowerCase())}const Ioe={year:void 0,month:void 0,day:void 0,weekday:void 0},Noe={hour:void 0,minute:void 0,second:void 0},eG={timeZone:ec},So={year:"numeric",month:"numeric",day:"numeric"},Vy={year:"numeric",month:"long",day:"numeric"},Gy={year:"numeric",month:"short",day:"numeric"},qy={year:"numeric",month:"long",weekday:"long",day:"numeric"},Au={hour:"numeric",minute:"numeric"},td={...Au,second:"numeric"},tG={hourCycle:"h23"},By={...Au,...tG},Hy={...td,...tG},iG={"short-date":So,"short-date-short-time":{...So,...Au},"short-date-short-time-24":{...So,...By},"short-date-long-time":{...So,...td},"short-date-long-time-24":{...So,...Hy},"short-date-le":So,"short-date-le-short-time":{...So,...Au},"short-date-le-short-time-24":{...So,...By},"short-date-le-long-time":{...So,...td},"short-date-le-long-time-24":{...So,...Hy},"long-month-day-year":Vy,"long-month-day-year-short-time":{...Vy,...Au},"long-month-day-year-short-time-24":{...Vy,...By},"long-month-day-year-long-time":{...Vy,...td},"long-month-day-year-long-time-24":{...Vy,...Hy},"day-short-month-year":Gy,"day-short-month-year-short-time":{...Gy,...Au},"day-short-month-year-short-time-24":{...Gy,...By},"day-short-month-year-long-time":{...Gy,...td},"day-short-month-year-long-time-24":{...Gy,...Hy},"long-date":qy,"long-date-short-time":{...qy,...Au},"long-date-short-time-24":{...qy,...By},"long-date-long-time":{...qy,...td},"long-date-long-time-24":{...qy,...Hy},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":Au,"long-time":td},Poe=rr()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),rG={ar:"ar-u-nu-latn-ca-gregory"};let I3=new WeakMap;const z2=iG["short-date-short-time"];function Loe(e){let t=I3.get(e);if(!t){const i=ds(),r=rG[i]||i,s=pI(e.timeZone??Xo),n={...e,timeZone:s};t=new Intl.DateTimeFormat(r,n),I3.set(e,t)}return t}function QAe(e){return iG[e]}function hI(e,t=z2){return Loe(t).format(e)}function KAe(e,t=z2){return hI(new Date(e),{...t,...eG,...Noe})}function eOe(e,t=z2){return hI(new Date(`1970-01-01T${e}Z`),{...t,...eG,...Ioe})}function tOe(e,t=z2){if(t.timeZone)return hI(new Date(e),t);const i=Re.fromISO(e,{setZone:!0}),r=ds(),s=rG[r]??r,n=i.offset===0?ec:t.timeZone,a={...t,timeZone:n};return i.toLocaleString(a,{locale:s})}function pI(e){switch(e){case Xo:return Eoe;case ch:return ec;default:return e}}dI(()=>{I3=new WeakMap});let Pp=class extends rt.ClonableMixin(K){constructor(t){super(t),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};c([Oe(Poe)],Pp.prototype,"dateFormat",void 0),c([p({type:Boolean,json:{write:!0}})],Pp.prototype,"digitSeparator",void 0),c([p({type:ht,json:{write:!0}})],Pp.prototype,"places",void 0),Pp=c([O("esri.popup.support.FieldInfoFormat")],Pp);const Zw=Pp;var N3;let jn=N3=class extends K{constructor(e){super(e),this.fieldName=null,this.format=void 0,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){var e;return new N3({fieldName:this.fieldName,format:(e=this.format)==null?void 0:e.clone(),isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};c([p({type:String,json:{write:!0}})],jn.prototype,"fieldName",void 0),c([p({type:Zw,json:{write:!0}})],jn.prototype,"format",void 0),c([p({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],jn.prototype,"isEditable",void 0),c([p({type:String,json:{write:!0}})],jn.prototype,"label",void 0),c([Oe(new et({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],jn.prototype,"stringFieldOption",void 0),c([p({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],jn.prototype,"statisticType",void 0),c([p({type:String,json:{write:!0}})],jn.prototype,"tooltip",void 0),c([p({type:Boolean,json:{write:!0}})],jn.prototype,"visible",void 0),jn=N3=c([O("esri.popup.FieldInfo")],jn);const fI=jn;var P3;let Ma=P3=class extends fl{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map(i=>i.toJSON())}clone(){return new P3(j({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};c([p({type:Object,json:{write:!0}})],Ma.prototype,"attributes",void 0),c([p({type:String,json:{write:!0}})],Ma.prototype,"description",void 0),c([p({type:[fI]})],Ma.prototype,"fieldInfos",void 0),c([de("fieldInfos")],Ma.prototype,"writeFieldInfos",null),c([p({type:String,json:{write:!0}})],Ma.prototype,"title",void 0),c([p({type:["fields"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Ma.prototype,"type",void 0),Ma=P3=c([O("esri.popup.content.FieldsContent")],Ma);const rm=Ma;let id=class extends K{constructor(t){super(t),this.altText=null,this.caption="",this.title="",this.type=null}};c([p({type:String,json:{write:!0}})],id.prototype,"altText",void 0),c([p({type:String,json:{write:!0}})],id.prototype,"caption",void 0),c([p({type:String,json:{write:!0}})],id.prototype,"title",void 0),c([p({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],id.prototype,"type",void 0),id=c([O("esri.popup.content.mixins.MediaInfo")],id);const mI=id,kS={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function sG(e){return!!kS[e]||!!kS[e.toLowerCase()]}function yI(e){return kS[e]??kS[e.toLowerCase()]}function Doe(e){return[...yI(e)]}function Sx(e,t,i){i<0&&++i,i>1&&--i;const r=6*i;return r<1?e+(t-e)*r:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}function nG(e,t,i,r=1){const s=(e%360+360)%360/360,n=i<=.5?i*(t+1):i+t-i*t,a=2*i-n;return[Math.round(255*Sx(a,n,s+1/3)),Math.round(255*Sx(a,n,s)),Math.round(255*Sx(a,n,s-1/3)),r]}function koe(e){const t=e.length>5,i=t?8:4,r=(1<<i)-1,s=t?1:17,n=t?e.length===9:e.length===5;let a=+("0x"+e.slice(1));if(isNaN(a))return null;const u=[0,0,0,1];let d;return n&&(d=a&r,a>>=i,u[3]=s*d/255),d=a&r,a>>=i,u[2]=s*d,d=a&r,a>>=i,u[1]=s*d,d=a&r,a>>=i,u[0]=s*d,u}const sOe=2.2,$5=new Float32Array(1);function nOe(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function bn(e,t,i){return Math.min(Math.max(e,t),i)}function oOe(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function gg(e,t,i){return e+(t-e)*i}function aOe(e,t,i,r,s){return gg(r,s,(e-t)/(i-t))}function V2(e){return e*Math.PI/180}function oG(e){return 180*e/Math.PI}function lOe(e,t=1e-6){return(e<0?-1:1)/Math.max(Math.abs(e),t)}function uOe(e){return Math.acos(bn(e,-1,1))}function Foe(e){return Math.asin(bn(e,-1,1))}function lo(e,t,i=1e-6){return e===t?!0:!Number.isFinite(e)||!Number.isFinite(t)?!1:(e>t?e-t:t-e)<=i}function aG(e,t,i=1e-6){return!lo(e,t,i)&&e>t}function L3(e,t,i=1e-6){return!lo(e,t,i)&&e<t}function joe(e,t,i=1e-6){return lo(e,t,i)||e>t}const FS=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function D3(e){return FS.setFloat64(0,e),FS.getBigInt64(0)}function Uoe(e){return FS.setBigInt64(0,e),FS.getFloat64(0)}const Yw=BigInt("1000000"),zoe=lG(1);function lG(e){const t=D3(e=Math.abs(e)),i=Uoe(t<=Yw?Yw:t-Yw);return Math.abs(e-i)}function cOe(e,t,i=zoe){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;if(i!=null&&lG(Math.min(Math.abs(e),Math.abs(t)))<i)return Math.abs(e-t)<=i;const r=D3(e),s=D3(t);return r<0!=s<0?!1:!((r<s?s-r:r-s)>Yw)}function dOe(e){return uG(Math.max(-x5,Math.min(e,x5)))}function uG(e){return $5[0]=e,$5[0]}function hOe(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],r=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(lo(t,1)&&lo(i,1)&&lo(r,1))}const x5=uG(34028234663852886e22);function pOe(e,t,i){if(i===void 0||+i==0)return Math[e](t);if(t=+t,i=+i,isNaN(t)||typeof i!="number"||i%1!=0)return NaN;let r=t.toString().split("e");return r=(t=Math[e](+(r[0]+"e"+(r[1]?+r[1]-i:-i)))).toString().split("e"),+(r[0]+"e"+(r[1]?+r[1]+i:i))}function qb(e){return bn(IC(e),0,255)}function Bb(e,t,i){return e=Number(e),isNaN(e)?i:e<t?t:e>i?i:e}function Hb(e,t){const i=e.toString(16).padStart(2,"0");return t?i.slice(0,1):i}let Ie=class Di{static blendColors(t,i,r,s=new Di){return s.r=Math.round(t.r+(i.r-t.r)*r),s.g=Math.round(t.g+(i.g-t.g)*r),s.b=Math.round(t.b+(i.b-t.b)*r),s.a=t.a+(i.a-t.a)*r,s._sanitize()}static fromRgb(t,i){const r=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(r){const s=r[2].split(/\s*,\s*/),n=r[1];if(n==="rgb"&&s.length===3||n==="rgba"&&s.length===4){const a=s[0];if(a.charAt(a.length-1)==="%"){const u=s.map(d=>2.56*parseFloat(d));return s.length===4&&(u[3]=parseFloat(s[3])),Di.fromArray(u,i)}return Di.fromArray(s.map(u=>parseFloat(u)),i)}if(n==="hsl"&&s.length===3||n==="hsla"&&s.length===4)return Di.fromArray(nG(parseFloat(s[0]),parseFloat(s[1])/100,parseFloat(s[2])/100,parseFloat(s[3])),i)}return null}static fromHex(t,i=new Di){if(t[0]!=="#"||isNaN(+`0x${t.slice(1)}`))return null;switch(t.length){case 4:case 5:{const r=parseInt(t.slice(1,2),16),s=parseInt(t.slice(2,3),16),n=parseInt(t.slice(3,4),16),a=t.length===5?15:parseInt(t.slice(4),16);return Di.fromArray([r+16*r,s+16*s,n+16*n,(a+16*a)/255],i)}case 7:case 9:{const r=parseInt(t.slice(1,3),16),s=parseInt(t.slice(3,5),16),n=parseInt(t.slice(5,7),16),a=t.length===7?255:parseInt(t.slice(7),16);return Di.fromArray([r,s,n,a/255],i)}default:return null}}static fromArray(t,i=new Di){return i._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(i.a)&&(i.a=1),i._sanitize()}static fromString(t,i){const r=sG(t)?yI(t):null;return r&&Di.fromArray(r,i)||Di.fromRgb(t,i)||Di.fromHex(t,i)}static fromJSON(t){return t!=null?new Di([t[0],t[1],t[2],(t[3]??255)/255]):void 0}static toUnitRGB(t){return t!=null?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return t!=null?[t.r/255,t.g/255,t.b/255,t.a!=null?t.a:1]:null}constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(t){return typeof t=="string"?Di.fromString(t,this):Array.isArray(t)?Di.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof Di||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(t){const i=(t==null?void 0:t.capitalize)??!1,r=(t==null?void 0:t.digits)??6,s=r===3||r===4,n=r===4||r===8,a=`#${Hb(this.r,s)}${Hb(this.g,s)}${Hb(this.b,s)}${n?Hb(Math.round(255*this.a),s):""}`;return i?a.toUpperCase():a}toCss(t=!1){const i=this.r+", "+this.g+", "+this.b;return t?`rgba(${i}, ${this.a})`:`rgb(${i})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=Di.AlphaMode.ALWAYS){const i=qb(this.r),r=qb(this.g),s=qb(this.b);return t===Di.AlphaMode.ALWAYS||this.a!==1?[i,r,s,qb(255*this.a)]:[i,r,s]}clone(){return new Di(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return t!=null&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Math.round(Bb(this.r,0,255)),this.g=Math.round(Bb(this.g,0,255)),this.b=Math.round(Bb(this.b,0,255)),this.a=Bb(this.a,0,1),this}_set(t,i,r,s){this.r=t,this.g=i,this.b=r,this.a=s}};Ie.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(Ie);var k3;let rd=k3=class extends $e{constructor(e){super(e),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){var e;return new k3({color:(e=this.color)==null?void 0:e.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};c([p()],rd.prototype,"color",void 0),c([p()],rd.prototype,"fieldName",void 0),c([p()],rd.prototype,"tooltip",void 0),c([p()],rd.prototype,"value",void 0),rd=k3=c([O("esri.popup.content.support.ChartMediaInfoValueSeries")],rd);const Voe=rd;var F3;let tu=F3=class extends K{constructor(e){super(e),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new F3({colors:j(this.colors),fields:j(this.fields),normalizeField:this.normalizeField,series:j(this.series),tooltipField:this.tooltipField})}};c([p({type:[Ie],json:{type:[[ht]],write:!0}})],tu.prototype,"colors",void 0),c([p({type:[String],json:{write:{isRequired:!0}}})],tu.prototype,"fields",void 0),c([p({type:String,json:{write:!0}})],tu.prototype,"normalizeField",void 0),c([p({type:[Voe],json:{read:!1}})],tu.prototype,"series",void 0),c([p({type:String,json:{write:!0}})],tu.prototype,"tooltipField",void 0),tu=F3=c([O("esri.popup.content.support.ChartMediaInfoValue")],tu);const Goe=tu;let vg=class extends mI{constructor(t){super(t),this.type=null,this.value=void 0}};c([p({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],vg.prototype,"type",void 0),c([p({type:Goe,json:{write:{isRequired:!0}}})],vg.prototype,"value",void 0),vg=c([O("esri.popup.content.mixins.ChartMediaInfo")],vg);const G2=vg,q2=rr()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var j3;let Jw=j3=class extends G2{constructor(e){super(e),this.type="bar-chart"}clone(){var e;return new j3({altText:this.altText,title:this.title,caption:this.caption,value:(e=this.value)==null?void 0:e.clone()})}};c([p({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:{writer:q2.write,isRequired:!0}}})],Jw.prototype,"type",void 0),Jw=j3=c([O("esri.popup.content.BarChartMediaInfo")],Jw);const cG=Jw;var U3;let Xw=U3=class extends G2{constructor(e){super(e),this.type="column-chart"}clone(){var e;return new U3({altText:this.altText,title:this.title,caption:this.caption,value:(e=this.value)==null?void 0:e.clone()})}};c([p({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:{writer:q2.write,isRequired:!0}}})],Xw.prototype,"type",void 0),Xw=U3=c([O("esri.popup.content.ColumnChartMediaInfo")],Xw);const dG=Xw;var z3;let bg=z3=class extends K{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new z3({linkURL:this.linkURL,sourceURL:this.sourceURL})}};c([p({type:String,json:{write:!0}})],bg.prototype,"linkURL",void 0),c([p({type:String,json:{write:{isRequired:!0}}})],bg.prototype,"sourceURL",void 0),bg=z3=c([O("esri.popup.content.support.ImageMediaInfoValue")],bg);const qoe=bg;var V3;let Lp=V3=class extends mI{constructor(e){super(e),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){var e;return new V3({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:(e=this.value)==null?void 0:e.clone()})}};c([p({type:Number,json:{write:!0}})],Lp.prototype,"refreshInterval",void 0),c([p({type:["image"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Lp.prototype,"type",void 0),c([p({type:qoe,json:{write:{isRequired:!0}}})],Lp.prototype,"value",void 0),Lp=V3=c([O("esri.popup.content.ImageMediaInfo")],Lp);const hG=Lp;var G3;let Qw=G3=class extends G2{constructor(e){super(e),this.type="line-chart"}clone(){var e;return new G3({altText:this.altText,title:this.title,caption:this.caption,value:(e=this.value)==null?void 0:e.clone()})}};c([p({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:{writer:q2.write,isRequired:!0}}})],Qw.prototype,"type",void 0),Qw=G3=c([O("esri.popup.content.LineChartMediaInfo")],Qw);const pG=Qw;var q3;let Kw=q3=class extends G2{constructor(e){super(e),this.type="pie-chart"}clone(){var e;return new q3({altText:this.altText,title:this.title,caption:this.caption,value:(e=this.value)==null?void 0:e.clone()})}};c([p({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:{writer:q2.write,isRequired:!0}}})],Kw.prototype,"type",void 0),Kw=q3=c([O("esri.popup.content.PieChartMediaInfo")],Kw);const fG=Kw,B3={base:mI,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":cG,"column-chart":dG,"line-chart":pG,"pie-chart":fG,image:hG}};var H3;let Un=H3=class extends fl{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map(t=>t.type==="image"?hG.fromJSON(t):t.type==="barchart"?cG.fromJSON(t):t.type==="columnchart"?dG.fromJSON(t):t.type==="linechart"?pG.fromJSON(t):t.type==="piechart"?fG.fromJSON(t):void 0).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map(i=>i.toJSON())}clone(){return new H3(j({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};c([p()],Un.prototype,"activeMediaInfoIndex",void 0),c([p({type:Object,json:{write:!0}})],Un.prototype,"attributes",void 0),c([p({type:String,json:{write:!0}})],Un.prototype,"description",void 0),c([p({types:[B3]})],Un.prototype,"mediaInfos",void 0),c([le("mediaInfos")],Un.prototype,"readMediaInfos",null),c([de("mediaInfos")],Un.prototype,"writeMediaInfos",null),c([p({type:String,json:{write:!0}})],Un.prototype,"title",void 0),c([p({type:["media"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Un.prototype,"type",void 0),Un=H3=c([O("esri.popup.content.MediaContent")],Un);const ov=Un;var W3;let wg=W3=class extends K{constructor(e){super(e),this.field=null,this.order=null}clone(){return new W3({field:this.field,order:this.order})}};c([p({type:String,json:{write:!0}})],wg.prototype,"field",void 0),c([p({type:["asc","desc"],json:{write:!0}})],wg.prototype,"order",void 0),wg=W3=c([O("esri.popup.support.RelatedRecordsInfoFieldOrder")],wg);const gI=wg;let $o=class extends rt.ClonableMixin(fl){constructor(t){super(t),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};c([p({type:String,json:{write:!0}})],$o.prototype,"description",void 0),c([p({type:Number,json:{type:ht,write:!0}})],$o.prototype,"displayCount",void 0),c([p({type:["list"],json:{write:{isRequired:!0}}})],$o.prototype,"displayType",void 0),c([p({type:[gI],json:{write:!0}})],$o.prototype,"orderByFields",void 0),c([p({type:Number,json:{type:ht,write:{isRequired:!0}}})],$o.prototype,"relationshipId",void 0),c([p({type:String,json:{write:!0}})],$o.prototype,"title",void 0),c([p({type:["relationship"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],$o.prototype,"type",void 0),$o=c([O("esri.popup.content.RelationshipContent")],$o);const av=$o;var Z3;let _g=Z3=class extends fl{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new Z3({text:this.text})}};c([p({type:String,json:{write:!0}})],_g.prototype,"text",void 0),c([p({type:["text"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],_g.prototype,"type",void 0),_g=Z3=c([O("esri.popup.content.TextContent")],_g);const lv=_g;let Aa=class extends rt.ClonableMixin(K){constructor(t){super(t),this.title=null,this.description=null,this.type=null,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};c([p({type:String,json:{write:!0}})],Aa.prototype,"title",void 0),c([p({type:String,json:{write:!0}})],Aa.prototype,"description",void 0),c([p({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],Aa.prototype,"type",void 0),c([p({type:Number,json:{type:ht,write:!0}})],Aa.prototype,"associatedNetworkSourceId",void 0),c([p({type:Number,json:{type:ht,write:!0}})],Aa.prototype,"associatedAssetGroup",void 0),c([p({type:Number,json:{type:ht,write:!0}})],Aa.prototype,"associatedAssetType",void 0),Aa=c([O("esri.popup.support.UtilityNetworkAssociationType")],Aa);const mG=Aa;let iu=class extends rt.ClonableMixin(fl){constructor(t){super(t),this.description=null,this.displayCount=null,this.title=null,this.associationTypes=[],this.type="utility-network-associations"}};c([p({type:String,json:{write:!0}})],iu.prototype,"description",void 0),c([p({type:Number,json:{type:ht,write:!0}})],iu.prototype,"displayCount",void 0),c([p({type:String,json:{write:!0}})],iu.prototype,"title",void 0),c([p({type:[mG],json:{write:!0}})],iu.prototype,"associationTypes",void 0),c([Oe({utilityNetworkAssociations:"utility-network-associations"})],iu.prototype,"type",void 0),iu=c([O("esri.popup.content.UtilityNetworkAssociationsContent")],iu);const vI=iu,Boe={base:null,key:"type",typeMap:{attachment:im,media:ov,text:lv,expression:U2,field:rm,relationship:av,utilityNetworkAssociations:vI}},Hoe={base:null,key:"type",typeMap:{attachment:im,media:ov,text:lv,expression:U2,field:rm,relationship:av}};var Y3;let sd=Y3=class extends K{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new Y3({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};c([p({type:String,json:{write:!0}})],sd.prototype,"name",void 0),c([p({type:String,json:{write:!0}})],sd.prototype,"title",void 0),c([p({type:String,json:{write:!0}})],sd.prototype,"expression",void 0),c([p({type:["string","number"],json:{write:!0}})],sd.prototype,"returnType",void 0),sd=Y3=c([O("esri.popup.ExpressionInfo")],sd);const Woe=sd;var J3;let Sg=J3=class extends K{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new J3({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};c([p({type:Boolean,json:{write:!0}})],Sg.prototype,"returnTopmostRaster",void 0),c([p({type:Boolean,json:{write:!0}})],Sg.prototype,"showNoDataRecords",void 0),Sg=J3=c([O("esri.popup.LayerOptions")],Sg);const Zoe=Sg;var X3;let Tg=X3=class extends K{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new X3({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?j(this.orderByFields):null})}};c([p({type:Boolean,json:{write:!0}})],Tg.prototype,"showRelatedRecords",void 0),c([p({type:[gI],json:{write:!0}})],Tg.prototype,"orderByFields",void 0),Tg=X3=c([O("esri.popup.RelatedRecordsInfo")],Tg);const M5=Tg;let yG=0;const gG=e=>{let t=class extends e{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+yG++})}};return t=c([O("esri.core.Identifiable")],t),t},Yoe=e=>{let t=class extends e{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:yG++})}};return t=c([O("esri.core.Identifiable.NumericIdentifiable")],t),t};let Eg=class extends gG(class{}){};Eg=c([O("esri.core.Identifiable")],Eg),function(e){e.IdentifiableMixin=gG,e.NumericIdentifiableMixin=Yoe}(Eg||(Eg={}));const Gv=Eg;var Q3;let en=Q3=class extends Gv.IdentifiableMixin($e){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new Q3({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};c([p()],en.prototype,"active",void 0),c([p()],en.prototype,"className",void 0),c([p()],en.prototype,"disabled",void 0),c([p()],en.prototype,"icon",void 0),c([p()],en.prototype,"id",void 0),c([p()],en.prototype,"indicator",void 0),c([p()],en.prototype,"title",void 0),c([p()],en.prototype,"type",void 0),c([p()],en.prototype,"visible",void 0),en=Q3=c([O("esri.support.actions.ActionBase")],en);const bI=en;var K3;let e_=K3=class extends bI{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new K3({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};c([p()],e_.prototype,"image",void 0),e_=K3=c([O("esri.support.actions.ActionButton")],e_);const Joe=e_;var eA;let $g=eA=class extends bI{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new eA({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};c([p()],$g.prototype,"image",void 0),c([p()],$g.prototype,"value",void 0),$g=eA=c([O("esri.support.actions.ActionToggle")],$g);const Xoe=$g,Wy="relationships/",A5="expression/",Qoe=ye.ofType({key:"type",defaultKeyValue:"button",base:bI,typeMap:{button:Joe,toggle:Xoe}}),Koe={base:fl,key:"type",typeMap:{media:ov,custom:_oe,text:lv,attachments:im,fields:rm,expression:U2,relationship:av,utilityNetworkAssociations:vI}},vG=new Set(["attachments","fields","media","text","expression","relationship"]),eae=new Set([...vG,"utility-network-associations"]);let $i=class extends rt.ClonableMixin(K){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(t){return Array.isArray(t)?t.map(i=>co(Koe,i)):typeof t=="string"||typeof t=="function"||t instanceof HTMLElement||ta(t)?t:(ne.getLogger(this).error("content error","unsupported content value",{value:t}),null)}readContent(t,i){const{popupElements:r}=i;return Array.isArray(r)&&r.length>0?this._readPopupInfoElements(i.description,i.mediaInfos,r):this._readPopupInfo(i)}writeWebSceneContent(t,i,r,s){this._writePopupTemplateContent(t,i,s)}writeWebMapContent(t,i,r,s){this._writePopupTemplateContent(t,i,s)}writeFieldInfos(t,i,r,s){const{content:n}=this,a=Array.isArray(n)?n:null;if(t){const u=a?a.filter(f=>f.type==="fields"):[],d=u.length&&u.every(f=>{var g;return(g=f.fieldInfos)==null?void 0:g.length});i.fieldInfos=t.filter(Boolean).map(f=>{const g=f.toJSON(s);return d&&(g.visible=!1),g})}if(a)for(const u of a)u.type==="fields"&&this._writeFieldsContent(u,i)}writeLayerOptions(t,i,r,s){i[r]=!t||t.showNoDataRecords===null&&t.returnTopmostRaster===null?null:t.toJSON(s)}writeTitle(t,i){i.title=t||""}async collectRequiredFields(t,i){const r=this.expressionInfos||[];await this._collectExpressionInfoFields(t,i,[...r,...this._getContentExpressionInfos(this.content,r)]),uh(t,i,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(t){const i=new Set;return await this.collectRequiredFields(i,t),[...i].sort()}_writePopupTemplateContent(t,i,r){typeof t!="string"?Array.isArray(t)&&(i.popupElements=t.filter(s=>(r==null?void 0:r.origin)==="web-scene"?vG.has(s.type):eae.has(s.type)).map(s=>s==null?void 0:s.toJSON(r)),i.popupElements.forEach(s=>{s.type==="attachments"?this._writeAttachmentContent(i):s.type==="media"?this._writeMediaContent(s,i):s.type==="text"?this._writeTextContent(s,i):s.type==="relationship"&&this._writeRelationshipContent(s,i)})):i.description=t}_writeFieldsContent(t,i){if(!Array.isArray(t.fieldInfos)||!t.fieldInfos.length)return;const r=j(t.fieldInfos);Array.isArray(i.fieldInfos)?r.forEach(s=>{const n=i.fieldInfos.find(a=>{var u,d;return((u=a.fieldName)==null?void 0:u.toLowerCase())===((d=s.fieldName)==null?void 0:d.toLowerCase())});n?n.visible=!0:i.fieldInfos.push(s)}):i.fieldInfos=r}_writeAttachmentContent(t){t.showAttachments||(t.showAttachments=!0)}_writeRelationshipContent(t,i){var n,a;const r=((n=t.orderByFields)==null?void 0:n.map(u=>this._toFieldOrderJSON(u,t.relationshipId)))||[],s=[...((a=i.relatedRecordsInfo)==null?void 0:a.orderByFields)||[],...r];i.relatedRecordsInfo={showRelatedRecords:!0,...(s==null?void 0:s.length)&&{orderByFields:s}}}_writeTextContent(t,i){!i.description&&t.text&&(i.description=t.text)}_writeMediaContent(t,i){if(!Array.isArray(t.mediaInfos)||!t.mediaInfos.length)return;const r=j(t.mediaInfos);Array.isArray(i.mediaInfos)?i.mediaInfos=[...i.mediaInfos,...r]:i.mediaInfos=r}_readPopupInfoElements(t,i,r){const s={description:!1,mediaInfos:!1};return r.map(n=>n.type==="media"?(n.mediaInfos||!i||s.mediaInfos||(n.mediaInfos=i,s.mediaInfos=!0),ov.fromJSON(n)):n.type==="text"?(n.text||!t||s.description||(n.text=t,s.description=!0),lv.fromJSON(n)):n.type==="attachments"?im.fromJSON(n):n.type==="fields"?rm.fromJSON(n):n.type==="expression"?U2.fromJSON(n):n.type==="relationship"?av.fromJSON(n):n.type==="utilityNetworkAssociations"?vI.fromJSON(n):void 0).filter(Boolean)}_toRelationshipContent(t){const{field:i,order:r}=t;if(!(i!=null&&i.startsWith(Wy)))return null;const s=i.replace(Wy,"").split("/");if(s.length!==2)return null;const n=parseInt(s[0],10),a=s[1];return!Number.isNaN(n)&&a?av.fromJSON({relationshipId:n,orderByFields:[{field:a,order:r}]}):null}_toFieldOrderJSON(t,i){const{order:r,field:s}=t;return{field:`${Wy}${i}/${s}`,order:r}}_readPopupInfo({description:t,mediaInfos:i,showAttachments:r,relatedRecordsInfo:s={showRelatedRecords:!1}}){const n=[];t?n.push(new lv({text:t})):n.push(new rm),Array.isArray(i)&&i.length&&n.push(ov.fromJSON({mediaInfos:i})),r&&n.push(im.fromJSON({displayType:"auto"}));const{showRelatedRecords:a,orderByFields:u}=s;return a&&(u!=null&&u.length)&&u.forEach(d=>{const f=this._toRelationshipContent(d);f&&n.push(f)}),n.length?n:t}_getContentElementFields(t){const i=t==null?void 0:t.type;if(i==="attachments")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)];if(i==="custom")return t.outFields||[];if(i==="fields")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...this._getFieldInfoFields(t.fieldInfos??this.fieldInfos)];if(i==="media"){const r=t.mediaInfos||[];return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...r.reduce((s,n)=>[...s,...this._getMediaInfoFields(n)],[])]}return i==="text"?this._extractFieldNames(t.text):i==="relationship"||i==="utility-network-associations"?[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)]:[]}_getMediaInfoFields(t){const{caption:i,title:r,value:s}=t,n=s||{},{fields:a,normalizeField:u,tooltipField:d,sourceURL:f,linkURL:g}=n,v=[...this._extractFieldNames(r),...this._extractFieldNames(i),...this._extractFieldNames(f),...this._extractFieldNames(g),...a??[]];return u&&v.push(u),d&&v.push(d),v}_getContentExpressionInfos(t,i){return Array.isArray(t)?t.reduce((r,s)=>[...r,...s.type==="expression"&&s.expressionInfo?[s.expressionInfo]:[]],i):[]}_getContentFields(t){return typeof t=="string"?this._extractFieldNames(t):Array.isArray(t)?t.reduce((i,r)=>[...i,...this._getContentElementFields(r)],[]):[]}async _collectExpressionInfoFields(t,i,r){r&&await Promise.all(r.map(s=>Rr(t,i,s.expression)))}_getFieldInfoFields(t){return t?t.filter(({fieldName:i,visible:r})=>!(r!==void 0&&!r||!i||i.startsWith(Wy)||i.startsWith(A5))).map(i=>i.fieldName):[]}_getActionsFields(t){return t?t.toArray().reduce((i,r)=>[...i,...this._getActionFields(r)],[]):[]}_getActionFields(t){const{className:i,title:r,type:s}=t,n=s==="button"||s==="toggle"?t.image:"";return[...this._extractFieldNames(r),...this._extractFieldNames(i),...this._extractFieldNames(n)]}_getTitleFields(t){return typeof t=="string"?this._extractFieldNames(t):[]}_extractFieldNames(t){return cI(t).filter(i=>!(i.indexOf(Wy)===0||i.indexOf(A5)===0))}};c([p({type:Qoe})],$i.prototype,"actions",void 0),c([p()],$i.prototype,"content",void 0),c([lt("content")],$i.prototype,"castContent",null),c([le("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],$i.prototype,"readContent",null),c([de("web-scene","content",{popupElements:{type:ye.ofType(Hoe)},showAttachments:{type:Boolean},mediaInfos:{type:ye.ofType(B3)},description:{type:String},relatedRecordsInfo:{type:M5}})],$i.prototype,"writeWebSceneContent",null),c([de("content",{popupElements:{type:ye.ofType(Boe)},showAttachments:{type:Boolean},mediaInfos:{type:ye.ofType(B3)},description:{type:String},relatedRecordsInfo:{type:M5}})],$i.prototype,"writeWebMapContent",null),c([p({type:[Woe],json:{write:!0}})],$i.prototype,"expressionInfos",void 0),c([p({type:[fI]})],$i.prototype,"fieldInfos",void 0),c([de("fieldInfos")],$i.prototype,"writeFieldInfos",null),c([p({type:Zoe})],$i.prototype,"layerOptions",void 0),c([de("layerOptions")],$i.prototype,"writeLayerOptions",null),c([p({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],$i.prototype,"lastEditInfoEnabled",void 0),c([p()],$i.prototype,"outFields",void 0),c([p()],$i.prototype,"overwriteActions",void 0),c([p()],$i.prototype,"returnGeometry",void 0),c([p({json:{type:String}})],$i.prototype,"title",void 0),c([de("title")],$i.prototype,"writeTitle",null),$i=c([O("esri.PopupTemplate")],$i);const Th=$i;let tae=class bG{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(qM),this._values=new Map,this.multipleOriginsSupported=!0}clone(t){const i=new bG,r=this._originStores[Qe.DEFAULTS];r&&r.forEach((s,n)=>{i.set(n,j(s),Qe.DEFAULTS)});for(let s=Qe.SERVICE;s<qM;s++){const n=this._originStores[s];n&&n.forEach((a,u)=>{t&&t.has(u)||i.set(u,j(a),s)})}return i}get(t,i){const r=i===void 0?this._values:this._originStores[i];return r?r.get(t):void 0}keys(t){const i=t==null?this._values:this._originStores[t];return i?[...i.keys()]:[]}set(t,i,r=Qe.USER){let s=this._originStores[r];if(s||(s=new Map,this._originStores[r]=s),s.set(t,i),!this._values.has(t)||this._propertyOriginMap.get(t)<=r){const n=this._values.get(t);return this._values.set(t,i),this._propertyOriginMap.set(t,r),n!==i}return!1}delete(t,i=Qe.USER){const r=this._originStores[i];if(!r)return;const s=r.get(t);if(r.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===i){this._values.delete(t);for(let n=i-1;n>=0;n--){const a=this._originStores[n];if(a&&a.has(t)){this._values.set(t,a.get(t)),this._propertyOriginMap.set(t,n);break}}}return s}has(t,i){const r=i===void 0?this._values:this._originStores[i];return!!r&&r.has(t)}revert(t,i){for(;i>0&&!this.has(t,i);)--i;const r=this._originStores[i],s=r==null?void 0:r.get(t),n=this._values.get(t);return this._values.set(t,s),this._propertyOriginMap.set(t,i),n!==s}originOf(t){return this._propertyOriginMap.get(t)||Qe.DEFAULTS}forEach(t){this._values.forEach(t)}};const wG=e=>{let t=class extends e{constructor(...i){super(...i);const r=ps(this),s=r.store,n=new tae;r.store=n,Uz(r,s,n)}read(i,r){Vz(this,i,r)}getAtOrigin(i,r){const s=Tx(this),n=Fu(r);if(typeof i=="string")return s.get(i,n);const a={};return i.forEach(u=>{a[u]=s.get(u,n)}),a}originOf(i){return sS(this.originIdOf(i))}originIdOf(i){return Tx(this).originOf(i)}revert(i,r){const s=Tx(this),n=Fu(r),a=ps(this);let u;u=typeof i=="string"?i==="*"?s.keys(n):[i]:i,u.forEach(d=>{a.invalidate(d),s.revert(d,n),a.commit(d)})}};return t=c([O("esri.core.ReadOnlyMultiOriginJSONSupport")],t),t};function Tx(e){return ps(e).store}let O5=class extends wG($e){};O5=c([O("esri.core.ReadOnlyMultiOriginJSONSupport")],O5);const iae=e=>{let t=class extends e{constructor(...i){super(...i)}clear(i,r="user"){return Ex(this).delete(i,Fu(r))}write(i,r){return qz(this,i=i||{},r),i}setAtOrigin(i,r,s){ps(this).setAtOrigin(i,r,Fu(s))}removeOrigin(i){const r=Ex(this),s=Fu(i),n=r.keys(s);for(const a of n)r.originOf(a)===s&&r.set(a,r.get(a,s),Qe.USER)}updateOrigin(i,r){const s=Ex(this),n=Fu(r),a=Ho(this,i);for(let u=n+1;u<qM;++u)s.delete(i,u);s.set(i,a,n)}toJSON(i){return this.write({},i)}};return t=c([O("esri.core.MultiOriginJSONSupport.WriteableMultiOriginJSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function Ex(e){return ps(e).store}const _G=e=>{let t=class extends iae(wG(e)){constructor(...i){super(...i)}};return t=c([O("esri.core.MultiOriginJSONSupport")],t),t};let R5=class extends _G($e){};R5=c([O("esri.core.MultiOriginJSONSupport")],R5);const Jt=(e=>e)(["operational-layers","basemap","ground"]);var tA;let nd=tA=class extends K{constructor(e){super(e),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new tA({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};c([p({type:String,json:{write:!0}})],nd.prototype,"expression",void 0),c([p({type:String,json:{write:!0}})],nd.prototype,"name",void 0),c([p({type:["boolean","date","number","string"],json:{write:!0}})],nd.prototype,"returnType",void 0),c([p({type:String,json:{write:!0}})],nd.prototype,"title",void 0),nd=tA=c([O("esri.form.ExpressionInfo")],nd);const rae=nd;let od=class extends K{constructor(t){super(t),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};c([p({type:String,json:{write:!0}})],od.prototype,"description",void 0),c([p({type:String,json:{write:!0}})],od.prototype,"label",void 0),c([p()],od.prototype,"type",void 0),c([p({type:String,json:{write:!0}})],od.prototype,"visibilityExpression",void 0),od=c([O("esri.form.elements.Element")],od);const tc=od;let t_=class extends rt.ClonableMixin(K){constructor(t){super(t),this.type=null}};c([p()],t_.prototype,"type",void 0),t_=c([O("esri.form.elements.inputs.attachments.Input")],t_);const ic=t_,B2=["any","capture","upload"];let Dp=class extends ic{constructor(t){super(t),this.type="audio",this.inputMethod="any",this.maxDuration=null}};c([p({type:["audio"],readOnly:!0,json:{write:!0}})],Dp.prototype,"type",void 0),c([p({type:B2,json:{write:!0}})],Dp.prototype,"inputMethod",void 0),c([p({type:Number,json:{write:!0}})],Dp.prototype,"maxDuration",void 0),Dp=c([O("esri.form.elements.inputs.attachments.AudioInput")],Dp);const C5=Dp;let xg=class extends ic{constructor(t){super(t),this.type="document",this.maxFileSize=null}};c([p({type:["document"],readOnly:!0,json:{write:!0}})],xg.prototype,"type",void 0),c([p({type:Number,json:{write:!0}})],xg.prototype,"maxFileSize",void 0),xg=c([O("esri.form.elements.inputs.attachments.DocumentInput")],xg);const I5=xg;let kp=class extends ic{constructor(t){super(t),this.type="image",this.inputMethod="any",this.maxImageSize=null}};c([p({type:["image"],readOnly:!0,json:{write:!0}})],kp.prototype,"type",void 0),c([p({type:B2,json:{write:!0}})],kp.prototype,"inputMethod",void 0),c([p({type:Number,json:{write:!0}})],kp.prototype,"maxImageSize",void 0),kp=c([O("esri.form.elements.inputs.attachments.ImageInput")],kp);const N5=kp;let Mg=class extends ic{constructor(t){super(t),this.type="signature",this.inputMethod="any"}};c([p({type:["signature"],readOnly:!0,json:{write:!0}})],Mg.prototype,"type",void 0),c([p({type:B2,json:{write:!0}})],Mg.prototype,"inputMethod",void 0),Mg=c([O("esri.form.elements.inputs.attachments.SignatureInput")],Mg);const P5=Mg;let Fp=class extends ic{constructor(t){super(t),this.type="video",this.inputMethod="any",this.maxDuration=null}};c([p({type:["video"],readOnly:!0,json:{write:!0}})],Fp.prototype,"type",void 0),c([p({type:B2,json:{write:!0}})],Fp.prototype,"inputMethod",void 0),c([p({type:Number,json:{write:!0}})],Fp.prototype,"maxDuration",void 0),Fp=c([O("esri.form.elements.inputs.attachments.VideoInput")],Fp);const L5=Fp;function SG(e){return{nestableTypes:{base:ic,key:"type",typeMap:{audio:C5,document:I5,image:N5,signature:P5,video:L5}},allTypes:{base:ic,key:"type",typeMap:{attachment:e,audio:C5,document:I5,image:N5,signature:P5,video:L5}}}}function sae(e,t,i){return e?e.map(r=>co(t.nestableTypes,r)):null}function nae(e,t,i){if(!e)return null;const r=t.nestableTypes.typeMap;return e.filter(s=>r[s.type]).map(s=>r[s.type].fromJSON(s))}function oae(e,t,i){if(!e)return null;const r=t.nestableTypes.typeMap;return e.filter(s=>r[s.type]).map(s=>s.toJSON())}let jo=class extends ic{constructor(t){super(t),this.type="attachment",this.attachmentAssociationType="exact",this.inputTypes=null}castInputs(t){return sae(t,$x)}readInputs(t,i){return nae(i.inputTypes,$x)}writeInputs(t,i){i.inputTypes=oae(t,$x)}};c([p({type:["attachment"],readOnly:!0,json:{write:!0}})],jo.prototype,"type",void 0),c([p({type:["any","exact","exactOrNone"],json:{write:!0}})],jo.prototype,"attachmentAssociationType",void 0),c([p({json:{write:{isRequired:!0}}})],jo.prototype,"inputTypes",void 0),c([lt("inputTypes")],jo.prototype,"castInputs",null),c([le("inputTypes")],jo.prototype,"readInputs",null),c([de("inputTypes")],jo.prototype,"writeInputs",null),jo=c([O("esri.form.elements.inputs.attachments.AttachmentInput")],jo);const $x=SG(jo),aae=jo;var iA;const lae=SG(aae);let xs=iA=class extends tc{constructor(e){super(e),this.allowUserRename=!0,this.attachmentKeyword=null,this.displayFilename=!1,this.editableExpression=null,this.filenameExpression="{attachmentKeyword}_{now}",this.input=null,this.maxAttachmentCount=null,this.minAttachmentCount=null,this.type="attachment",this.useOriginalFilename=!0}clone(){var e;return new iA({allowUserRename:this.allowUserRename,attachmentKeyword:this.attachmentKeyword,description:this.description,displayFilename:this.displayFilename,editableExpression:this.editableExpression,filenameExpression:this.filenameExpression,input:(e=this.input)==null?void 0:e.clone(),label:this.label,maxAttachmentCount:this.maxAttachmentCount,minAttachmentCount:this.minAttachmentCount,useOriginalFilename:this.useOriginalFilename,visibilityExpression:this.visibilityExpression})}};c([p({type:Boolean,json:{write:!0}})],xs.prototype,"allowUserRename",void 0),c([p({type:String,json:{write:{isRequired:!0}}})],xs.prototype,"attachmentKeyword",void 0),c([p({type:Boolean,json:{write:!0}})],xs.prototype,"displayFilename",void 0),c([p({type:String,json:{write:!0}})],xs.prototype,"editableExpression",void 0),c([p({type:String,json:{write:!0}})],xs.prototype,"filenameExpression",void 0),c([p({types:lae.allTypes,json:{read:{source:"inputType"},write:{target:"inputType",isRequired:!0}}})],xs.prototype,"input",void 0),c([p({type:Number,json:{write:!0}})],xs.prototype,"maxAttachmentCount",void 0),c([p({type:Number,json:{write:!0}})],xs.prototype,"minAttachmentCount",void 0),c([p({type:["attachment"],readOnly:!0,json:{read:!1,write:!0}})],xs.prototype,"type",void 0),c([p({type:Boolean,json:{write:!0}})],xs.prototype,"useOriginalFilename",void 0),xs=iA=c([O("esri.form.elements.AttachmentElement")],xs);const D5=xs;let i_=class extends K{constructor(t){super(t),this.type=null}};c([p()],i_.prototype,"type",void 0),i_=c([O("esri.form.elements.inputs.Input")],i_);const ml=i_;let Ag=class extends ml{constructor(t){super(t),this.maxLength=null,this.minLength=0}};c([p({type:Number,json:{write:!0}})],Ag.prototype,"maxLength",void 0),c([p({type:Number,json:{write:!0}})],Ag.prototype,"minLength",void 0),Ag=c([O("esri.form.elements.inputs.TextInput")],Ag);const wI=Ag;var rA;let r_=rA=class extends wI{constructor(e){super(e),this.type="barcode-scanner"}clone(){return new rA({maxLength:this.maxLength,minLength:this.minLength})}};c([p({type:["barcode-scanner"],json:{read:!1,write:!0}})],r_.prototype,"type",void 0),r_=rA=c([O("esri.form.elements.inputs.BarcodeScannerInput")],r_);const uae=r_;var sA;let jp=sA=class extends ml{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="combo-box"}clone(){return new sA({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};c([p({type:String,json:{write:!0}})],jp.prototype,"noValueOptionLabel",void 0),c([p({type:Boolean,json:{write:!0}})],jp.prototype,"showNoValueOption",void 0),c([p({type:["combo-box"],json:{read:!1,write:!0}})],jp.prototype,"type",void 0),jp=sA=c([O("esri.form.elements.inputs.ComboBoxInput")],jp);const cae=jp;var nA;function k5(e){return e??null}function F5(e){return e??null}let xo=nA=class extends ml{constructor(e){super(e),this.max=null,this.min=null,this.type="date-picker"}readMax(e,t){return k5(t.max)}writeMax(e,t){t.max=F5(e)}readMin(e,t){return k5(t.min)}writeMin(e,t){t.min=F5(e)}clone(){return new nA({max:this.max,min:this.min})}};c([p({type:String,json:{type:String,write:!0}})],xo.prototype,"max",void 0),c([le("max")],xo.prototype,"readMax",null),c([de("max")],xo.prototype,"writeMax",null),c([p({type:String,json:{type:String,write:!0}})],xo.prototype,"min",void 0),c([le("min")],xo.prototype,"readMin",null),c([de("min")],xo.prototype,"writeMin",null),c([p({type:["date-picker"],json:{read:!1,write:!0}})],xo.prototype,"type",void 0),xo=nA=c([O("esri.form.elements.inputs.DatePickerInput")],xo);const dae=xo;var oA;function xx(e){return e??null}function Mx(e){return e??null}let Kr=oA=class extends ml{constructor(e){super(e),this.includeTimeOffset=!0,this.max=null,this.min=null,this.timeResolution="minutes",this.type="datetimeoffset-picker"}readMax(e,t){return xx(t.max)}writeMax(e,t){t.max=Mx(e)}readMin(e,t){return xx(t.min)}writeMin(e,t){t.min=Mx(e)}readTimeResolution(e,t){return xx(t.timeResolution)}writeTimeResolution(e,t){t.timeResolution=Mx(e)}clone(){return new oA({includeTimeOffset:this.includeTimeOffset,max:this.max,min:this.min,timeResolution:this.timeResolution})}};c([p({type:Boolean,json:{write:!0}})],Kr.prototype,"includeTimeOffset",void 0),c([p({type:String,json:{type:String,write:!0}})],Kr.prototype,"max",void 0),c([le("max")],Kr.prototype,"readMax",null),c([de("max")],Kr.prototype,"writeMax",null),c([p({type:String,json:{type:String,write:!0}})],Kr.prototype,"min",void 0),c([le("min")],Kr.prototype,"readMin",null),c([de("min")],Kr.prototype,"writeMin",null),c([p({type:String,json:{type:String,write:!0}})],Kr.prototype,"timeResolution",void 0),c([le("timeResolution")],Kr.prototype,"readTimeResolution",null),c([de("timeResolution")],Kr.prototype,"writeTimeResolution",null),c([p({type:["datetimeoffset-picker"],json:{read:!1,write:!0}})],Kr.prototype,"type",void 0),Kr=oA=c([O("esri.form.elements.inputs.DateTimeOffsetPickerInput")],Kr);const hae=Kr;var aA;function j5(e){return e!=null?new Date(e):null}function U5(e){return e?e.getTime():null}let zn=aA=class extends ml{constructor(e){super(e),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(e,t){return j5(t.max)}writeMax(e,t){t.max=U5(e)}readMin(e,t){return j5(t.min)}writeMin(e,t){t.min=U5(e)}clone(){return new aA({includeTime:this.includeTime,max:this.max,min:this.min})}};c([p({type:Boolean,json:{write:!0}})],zn.prototype,"includeTime",void 0),c([p({type:Date,json:{type:Number,write:!0}})],zn.prototype,"max",void 0),c([le("max")],zn.prototype,"readMax",null),c([de("max")],zn.prototype,"writeMax",null),c([p({type:Date,json:{type:Number,write:!0}})],zn.prototype,"min",void 0),c([le("min")],zn.prototype,"readMin",null),c([de("min")],zn.prototype,"writeMin",null),c([p({type:["datetime-picker"],json:{read:!1,write:!0}})],zn.prototype,"type",void 0),zn=aA=c([O("esri.form.elements.inputs.DateTimePickerInput")],zn);const pae=zn;var lA;let Up=lA=class extends ml{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="radio-buttons"}clone(){return new lA({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};c([p({type:String,json:{write:!0}})],Up.prototype,"noValueOptionLabel",void 0),c([p({type:Boolean,json:{write:!0}})],Up.prototype,"showNoValueOption",void 0),c([p({type:["radio-buttons"],json:{read:!1,write:!0}})],Up.prototype,"type",void 0),Up=lA=c([O("esri.form.elements.inputs.RadioButtonsInput")],Up);const fae=Up;var uA;let zp=uA=class extends ml{constructor(e){super(e),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new uA({offValue:this.offValue,onValue:this.onValue})}};c([p({type:[String,Number],json:{write:!0}})],zp.prototype,"offValue",void 0),c([p({type:[String,Number],json:{write:!0}})],zp.prototype,"onValue",void 0),c([p({type:["switch"],json:{read:!1,write:!0}})],zp.prototype,"type",void 0),zp=uA=c([O("esri.form.elements.inputs.SwitchInput")],zp);const mae=zp;var cA;let s_=cA=class extends wI{constructor(e){super(e),this.type="text-area"}clone(){return new cA({maxLength:this.maxLength,minLength:this.minLength})}};c([p({type:["text-area"],json:{read:!1,write:!0}})],s_.prototype,"type",void 0),s_=cA=c([O("esri.form.elements.inputs.TextAreaInput")],s_);const yae=s_;var dA;let n_=dA=class extends wI{constructor(e){super(e),this.type="text-box"}clone(){return new dA({maxLength:this.maxLength,minLength:this.minLength})}};c([p({type:["text-box"],json:{read:!1,write:!0}})],n_.prototype,"type",void 0),n_=dA=c([O("esri.form.elements.inputs.TextBoxInput")],n_);const gae=n_;var hA;function Ax(e){return e??null}function Ox(e){return e??null}let Ms=hA=class extends ml{constructor(e){super(e),this.max=null,this.min=null,this.timeResolution="minutes",this.type="time-picker"}readMax(e,t){return Ax(t.max)}writeMax(e,t){t.max=Ox(e)}readMin(e,t){return Ax(t.min)}writeMin(e,t){t.min=Ox(e)}readTimeResolution(e,t){return Ax(t.timeResolution)}writeTimeResolution(e,t){t.timeResolution=Ox(e)}clone(){return new hA({max:this.max,min:this.min,timeResolution:this.timeResolution})}};c([p({type:String,json:{type:String,write:!0}})],Ms.prototype,"max",void 0),c([le("max")],Ms.prototype,"readMax",null),c([de("max")],Ms.prototype,"writeMax",null),c([p({type:String,json:{type:String,write:!0}})],Ms.prototype,"min",void 0),c([le("min")],Ms.prototype,"readMin",null),c([de("min")],Ms.prototype,"writeMin",null),c([p({type:String,json:{type:String,write:!0}})],Ms.prototype,"timeResolution",void 0),c([le("timeResolution")],Ms.prototype,"readTimeResolution",null),c([de("timeResolution")],Ms.prototype,"writeTimeResolution",null),c([p({type:["time-picker"],json:{read:!1,write:!0}})],Ms.prototype,"type",void 0),Ms=hA=c([O("esri.form.elements.inputs.TimePickerInput")],Ms);const vae=Ms,bae={base:ml,key:"type",typeMap:{"barcode-scanner":uae,"combo-box":cae,"date-picker":dae,"datetime-picker":pae,"datetimeoffset-picker":hae,"radio-buttons":fae,switch:mae,"text-area":yae,"text-box":gae,"time-picker":vae}};var pA;let Bd=pA=class extends K{constructor(e){super(e),this.name=null,this.code=null}clone(){return new pA({name:this.name,code:this.code})}};c([p({type:String,json:{write:{isRequired:!0}}})],Bd.prototype,"name",void 0),c([p({type:[String,Number],json:{write:{isRequired:!0}}})],Bd.prototype,"code",void 0),Bd=pA=c([O("esri.layers.support.CodedValue")],Bd);const wae=new et({inherited:"inherited",codedValue:"coded-value",range:"range"});let Og=class extends K{constructor(t){super(t),this.name=null,this.type=null}};c([p({type:String,json:{write:!0}})],Og.prototype,"name",void 0),c([Oe(wae),p({json:{write:{isRequired:!0}}})],Og.prototype,"type",void 0),Og=c([O("esri.layers.support.Domain")],Og);const H2=Og;var fA;let Rg=fA=class extends H2{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const i=String(e);this.codedValues.some(r=>(String(r.code)===i&&(t=r.name),!!t))}return t}clone(){return new fA({codedValues:j(this.codedValues),name:this.name})}};c([p({type:[Bd],json:{write:{isRequired:!0}}})],Rg.prototype,"codedValues",void 0),c([Oe({codedValue:"coded-value"})],Rg.prototype,"type",void 0),Rg=fA=c([O("esri.layers.support.CodedValueDomain")],Rg);const W2=Rg;var mA;let o_=mA=class extends H2{constructor(e){super(e),this.type="inherited"}clone(){return new mA}};c([Oe({inherited:"inherited"})],o_.prototype,"type",void 0),o_=mA=c([O("esri.layers.support.InheritedDomain")],o_);const TG=o_;var yA;let Vp=yA=class extends H2{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new yA({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};c([p({json:{type:[Number],read:{source:"range",reader:(e,t)=>{var i;return(i=t.range)==null?void 0:i[1]}},write:{enabled:!1,overridePolicy(){return{enabled:this.maxValue!=null&&this.minValue==null}},target:"range",writer(e,t,i){t[i]=[this.minValue||0,e]},isRequired:!0}}})],Vp.prototype,"maxValue",void 0),c([p({json:{type:[Number],read:{source:"range",reader:(e,t)=>{var i;return(i=t.range)==null?void 0:i[0]}},write:{target:"range",writer(e,t,i){t[i]=[e,this.maxValue||0]},isRequired:!0}}})],Vp.prototype,"minValue",void 0),c([Oe({range:"range"})],Vp.prototype,"type",void 0),Vp=yA=c([O("esri.layers.support.RangeDomain")],Vp);const EG=Vp,$G={key:"type",base:H2,typeMap:{range:EG,"coded-value":W2,inherited:TG}};function Z2(e){if(!(e!=null&&e.type))return null;switch(e.type){case"range":return EG.fromJSON(e);case"codedValue":return W2.fromJSON(e);case"inherited":return TG.fromJSON(e)}return null}var gA;let tn=gA=class extends tc{constructor(e){super(e),this.domain=null,this.editable=null,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}clone(){return new gA({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};c([p({types:$G,json:{read:{reader:Z2},write:!0}})],tn.prototype,"domain",void 0),c([p({type:Boolean,json:{write:!0}})],tn.prototype,"editable",void 0),c([p({type:String,json:{write:!0}})],tn.prototype,"editableExpression",void 0),c([p({type:String,json:{write:!0}})],tn.prototype,"fieldName",void 0),c([p({type:String,json:{write:!0}})],tn.prototype,"hint",void 0),c([p({types:bae,json:{read:{source:"inputType"},write:{target:"inputType"}}})],tn.prototype,"input",void 0),c([p({type:String,json:{write:!0}})],tn.prototype,"requiredExpression",void 0),c([p({type:String,json:{read:!1,write:!0}})],tn.prototype,"type",void 0),c([p({type:String,json:{write:!0}})],tn.prototype,"valueExpression",void 0),tn=gA=c([O("esri.form.elements.FieldElement")],tn);const z5=tn;var vA;let Oa=vA=class extends tc{constructor(e){super(e),this.displayCount=null,this.displayType="list",this.editableExpression=null,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new vA({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editableExpression:this.editableExpression,label:this.label,orderByFields:j(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};c([p({type:Number,json:{write:!0}})],Oa.prototype,"displayCount",void 0),c([p({type:["list"],json:{write:!0}})],Oa.prototype,"displayType",void 0),c([p({type:String,json:{write:!0}})],Oa.prototype,"editableExpression",void 0),c([p({type:[gI],json:{write:!0}})],Oa.prototype,"orderByFields",void 0),c([p({type:Number,json:{write:!0}})],Oa.prototype,"relationshipId",void 0),c([p({type:["relationship"],json:{read:!1,write:!0}})],Oa.prototype,"type",void 0),Oa=vA=c([O("esri.form.elements.RelationshipElement")],Oa);const V5=Oa;var bA;let Gp=bA=class extends tc{constructor(e){super(e),this.text=null,this.textFormat="plain-text",this.type="text"}clone(){return new bA({text:this.text,textFormat:this.textFormat,visibilityExpression:this.visibilityExpression})}};c([p({type:String,json:{write:!0}})],Gp.prototype,"text",void 0),c([p({type:String,json:{write:!0}})],Gp.prototype,"textFormat",void 0),c([p({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],Gp.prototype,"type",void 0),Gp=bA=c([O("esri.form.elements.TextElement")],Gp);const G5=Gp;let qp=class extends rt.ClonableMixin(tc){constructor(t){super(t),this.associationTypes=null,this.editableExpression=null,this.type="utilityNetworkAssociations"}};c([p({type:[mG],json:{write:{isRequired:!0}}})],qp.prototype,"associationTypes",void 0),c([p({type:String,json:{write:!0}})],qp.prototype,"editableExpression",void 0),c([p({type:["utilityNetworkAssociations"],json:{read:!1,write:!0}})],qp.prototype,"type",void 0),qp=c([O("esri.form.elements.UtilityNetworkAssociationsElement")],qp);const q5=qp,_ae=e=>e.type==="field",Sae=e=>e.type==="group",Tae=e=>e.type==="text";function xG(e){return{typesWithGroup:{base:tc,key:"type",typeMap:{attachment:D5,field:z5,group:e,relationship:V5,text:G5,utilityNetworkAssociations:q5}},typesWithoutGroup:{base:tc,key:"type",typeMap:{attachment:D5,field:z5,relationship:V5,text:G5,utilityNetworkAssociations:q5}}}}function MG(e,t,i=!0){if(!e)return null;const r=i?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(s=>r[s.type]).map(s=>r[s.type].fromJSON(s))}function AG(e,t,i=!0){if(!e)return null;const r=i?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(s=>r[s.type]).map(s=>s.toJSON())}function OG(e,t,i=!0){return e?e.map(r=>co(i?t.typesWithGroup:t.typesWithoutGroup,r)):null}var wA;let Uo=wA=class extends tc{constructor(e){super(e),this.elements=null,this.initialState="expanded",this.type="group"}castElements(e){return OG(e,Rx,!1)}readElements(e,t){return MG(t.formElements,Rx,!1)}writeElements(e,t){t.formElements=AG(e,Rx,!1)}clone(){return new wA({description:this.description,elements:j(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};c([p({json:{write:!0}})],Uo.prototype,"elements",void 0),c([lt("elements")],Uo.prototype,"castElements",null),c([le("elements",["formElements"])],Uo.prototype,"readElements",null),c([de("elements")],Uo.prototype,"writeElements",null),c([p({type:["collapsed","expanded"],json:{write:!0}})],Uo.prototype,"initialState",void 0),c([p({type:String,json:{read:!1,write:!0}})],Uo.prototype,"type",void 0),Uo=wA=c([O("esri.form.elements.GroupElement")],Uo);const Rx=xG(Uo),Eae=Uo;var _A;const Cx=xG(Eae);let Vn=_A=class extends K{constructor(e){super(e),this.description=null,this.elements=null,this.expressionInfos=null,this.preserveFieldValuesWhenHidden=!1,this.title=null}castElements(e){return OG(e,Cx)}readElements(e,t){return MG(t.formElements,Cx)}writeElements(e,t){t.formElements=AG(e,Cx)}clone(){return new _A({description:this.description,expressionInfos:j(this.expressionInfos),elements:j(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}async getFieldsUsed(e,t){const i=new Set,{description:r,elements:s,expressionInfos:n,title:a}=this;if(M0(i,e,r),M0(i,e,a),!s)return[];const u=$ae(s,n).map(d=>Rr(i,e,d));await Promise.all(u);for(const d of s)RG(i,{fieldsIndex:e,relationships:t},d);return Array.from(i).sort()}};function RG(e,t,i){var s;const{fieldsIndex:r}=t;if(!r||r.fields.length!==e.size)switch(M0(e,r,i.label),M0(e,r,i.description),i.type){case"field":Hr(e,r,i.fieldName);break;case"group":i.elements.forEach(n=>RG(e,t,n));break;case"relationship":if(t.relationships){const n=t.relationships.find(a=>a.id===i.relationshipId);n&&Hr(e,r,n.keyField)}uh(e,r,(s=i.orderByFields)==null?void 0:s.map(n=>n.field));break;case"text":M0(e,r,i.text)}}function $ae(e,t){if(!t||t.length===0)return[];const i=CG(e),r=[];for(const s of t)i.has(s.name)&&r.push(s.expression);return r}function CG(e){const t=new Set;for(const i of e)if(y4(t,i.visibilityExpression),!Tae(i)){if(Sae(i))uS(t,CG(i.elements));else if(y4(t,i.editableExpression),_ae(i)){const{requiredExpression:r,valueExpression:s}=i;uS(t,[r,s])}}return t}function M0(e,t,i){uh(e,t,cI(i))}c([p({type:String,json:{write:!0}})],Vn.prototype,"description",void 0),c([p({json:{write:!0}})],Vn.prototype,"elements",void 0),c([lt("elements")],Vn.prototype,"castElements",null),c([le("elements",["formElements"])],Vn.prototype,"readElements",null),c([de("elements")],Vn.prototype,"writeElements",null),c([p({type:[rae],json:{write:!0}})],Vn.prototype,"expressionInfos",void 0),c([p({type:Boolean,json:{default:!1,write:!0}})],Vn.prototype,"preserveFieldValuesWhenHidden",void 0),c([p({type:String,json:{write:!0}})],Vn.prototype,"title",void 0),Vn=_A=c([O("esri.form.FormTemplate")],Vn);const xae=Vn;var Ou;(function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"})(Ou||(Ou={}));let Mae=class{constructor(){this._resolver=zs(),this._status=Ou.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=Ou.RESOLVED,this._cleanUp()},()=>{this._status=Ou.REJECTED,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===Ou.RESOLVED}isRejected(){return this._status===Ou.REJECTED}isFulfilled(){return this._status!==Ou.PENDING}abort(){this._resolver.reject(Dt())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const t=zs(),i=[...this._resolvingPromises,t.promise],r=this._allPromise=Promise.all(i);r.then(()=>{this.isFulfilled()||this._allPromise!==r||this._resolver.resolve()},s=>{this.isFulfilled()||this._allPromise!==r||Cr(s)||this._resolver.reject(s)}),t.resolve()}};const IG=e=>{let t=class extends e{constructor(...i){super(...i),this._promiseProps=new Mae,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(i,r){return this._promiseProps.promise.then(()=>this).then(i,r)}catch(i){return this.when(null,i)}addResolvingPromise(i){i&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in i?i.when():i)}};return t=c([O("esri.core.Promise")],t),t};let Cg=class extends IG($e){};Cg=c([O("esri.core.Promise")],Cg),function(e){e.EsriPromiseMixin=IG}(Cg||(Cg={}));const qv=Cg,Aae="not-loaded",Oae="loading",Rae="failed",B5="loaded",NG=e=>{let t=class extends e{constructor(...i){super(...i),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(r=>{const s=this.load.bind(this);this.load=n=>{const a=new Promise((u,d)=>{const f=MC(n,d);this.destroyed&&d(new z("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(u,d).finally(()=>{f&&f.remove()})});if(this.loadStatus===Aae){this._set("loadStatus",Oae);const u=this._loadController=new AbortController;s({signal:u.signal})}return r(),a}})),this.when(()=>{this._set("loadStatus",B5),this._loadController=null},r=>{this._set("loadStatus",Rae),this._set("loadError",r),this._loadController=null})}destroy(){this._loadController&&(this._loadController=Zf(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===B5}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var i;return this.isFulfilled()||(this._set("loadError",new z("load:cancelled","Cancelled")),(i=this._loadController)==null||i.abort(),this._promiseProps.abort()),this}};return c([p({readOnly:!0})],t.prototype,"loaded",null),c([p({readOnly:!0})],t.prototype,"loadError",void 0),c([p({clonable:!1})],t.prototype,"loadStatus",void 0),c([p({type:[vn],readOnly:!0})],t.prototype,"loadWarnings",null),t=c([O("esri.core.Loadable")],t),t};let Ig=class extends NG(qv){};Ig=c([O("esri.core.Loadable")],Ig),function(e){function t(i){return!(!i||!i.load)}e.LoadableMixin=NG,e.isLoadable=t}(Ig||(Ig={}));const cl=Ig;let Mo=class extends K{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=He.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,i){if(t instanceof He)return t;if(t!=null){const r=new He;return r.read(t,i),r}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,i){this.cache[t]=i}};c([p()],Mo.prototype,"type",void 0),c([p({readOnly:!0})],Mo.prototype,"cache",null),c([p({readOnly:!0})],Mo.prototype,"extent",null),c([p({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Mo.prototype,"hasM",void 0),c([p({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Mo.prototype,"hasZ",void 0),c([p({type:He,json:{write:!0},value:He.WGS84})],Mo.prototype,"spatialReference",void 0),c([le("spatialReference")],Mo.prototype,"readSpatialReference",null),Mo=c([O("esri.geometry.Geometry")],Mo);const yl=Mo;function sm(e){if(e&&typeof e=="object"&&"type"in e&&e.type==="mesh")throw new z("Mesh geometries are not supported for this operation")}function Cae(e){e.forEach(sm)}const Iae=57.29577951308232,Nae=.017453292519943;function H5(e){return e*Iae}function W5(e){return e*Nae}function FOe(e){return Math.PI/2-2*Math.atan(Math.exp(-e/ni.radius))}function SA(e){return e.wkid!=null||e.wkt!=null}const Ix=[0,0];function jS(e,t,i,r,s){const n=e,a=s;if(a.spatialReference=i,"x"in n&&"x"in a)[a.x,a.y]=t(n.x,n.y,Ix,r);else if("xmin"in n&&"xmin"in a)[a.xmin,a.ymin]=t(n.xmin,n.ymin,Ix,r),[a.xmax,a.ymax]=t(n.xmax,n.ymax,Ix,r);else if("paths"in n&&"paths"in a||"rings"in n&&"rings"in a){const u="paths"in n?n.paths:n.rings,d=[];let f;for(let g=0;g<u.length;g++){const v=u[g];f=[],d.push(f);for(let w=0;w<v.length;w++)f.push(t(v[w][0],v[w][1],[0,0],r)),v[w].length>2&&f[w].push(v[w][2]),v[w].length>3&&f[w].push(v[w][3])}"paths"in a?a.paths=d:a.rings=d}else if("points"in n&&"points"in a){const u=n.points,d=[];for(let f=0;f<u.length;f++)d[f]=t(u[f][0],u[f][1],[0,0],r),u[f].length>2&&d[f].push(u[f][2]),u[f].length>3&&d[f].push(u[f][3]);a.points=d}return s}function a_(e,t){const i=e&&(SA(e)?e:e.spatialReference),r=t&&(SA(t)?t:t.spatialReference);return!(e&&"type"in e&&e.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!i||!r)&&(!!Vi(r,i)||Jo(r)&&lh(i)||Jo(i)&&lh(r))}function Y2(e,t){if(e==null)return null;const i=e.spatialReference,r=t&&(SA(t)?t:t.spatialReference);return a_(i,r)?Vi(i,r)?j(e):Jo(r)?jS(e,wf,He.WebMercator,!1,j(e)):lh(r)?jS(e,J2,He.WGS84,!1,j(e)):null:null}function wf(e,t,i=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const r=W5(t);return i[0]=W5(e)*ni.radius,i[1]=ni.halfSemiMajorAxis*Math.log((1+Math.sin(r))/(1-Math.sin(r))),i}function J2(e,t,i=[0,0],r=!1){if(e===sv[0])i[0]=-180;else if(e===sv[1])i[0]=180;else{const s=H5(e/ni.radius);i[0]=r?s:s-360*Math.floor((s+180)/360)}return i[1]=H5(Math.PI/2-2*Math.atan(Math.exp(-t/ni.radius))),i}function Qd(e,t=!1,i=j(e)){return sm(e),sm(i),jS(e,wf,He.WebMercator,t,i)}function _f(e,t=!1,i=j(e)){return sm(e),sm(i),jS(e,J2,He.WGS84,t,i)}function PG(e,t){const i=e.x-t.x,r=e.y-t.y,s=e.z!=null&&t.z!=null?e.z-t.z:0;return Math.sqrt(i*i+r*r+s*s)}function Pae(e){var t;return((t=LG(e,DG))==null?void 0:t[0])??null}function Lae(e){var t;return((t=LG(e,DG))==null?void 0:t[1])??null}function LG({x:e,y:t,spatialReference:i},r=[0,0]){if(i){if(Jo(i))return J2(e,t,r);if(Em(i))return r[0]=e,r[1]=t,r}return null}const DG=[0,0];var l_;const Nx=[0,0];function Z5(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let Dr=l_=class extends yl{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const i=e._get("spatialReference");t._set("spatialReference",$e.isFrozen(i)?i:i.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,i,r,s){let n;if(Array.isArray(e))n=e,s=t,e=n[0],t=n[1],i=n[2],r=n[3];else if(e&&typeof e=="object"){if(n=e,e=n.x!=null?n.x:n.longitude,t=n.y!=null?n.y:n.latitude,i=n.z,r=n.m,(s=n.spatialReference)&&s.declaredClass!=="esri.geometry.SpatialReference"&&(s=new He(s)),n.longitude!=null||n.latitude!=null){if(n.longitude==null)ne.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(n.latitude==null)ne.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!n.declaredClass&&(s!=null&&s.isWebMercator)){const u=wf(n.longitude,n.latitude,Nx);e=u[0],t=u[1]}}}else Z5(i)?(s=i,i=null):Z5(r)&&(s=r,r=null);const a={x:e,y:t};return a.x==null&&a.y!=null?ne.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):a.y==null&&a.x!=null&&ne.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),s!=null&&(a.spatialReference=s),i!=null&&(a.z=i),r!=null&&(a.m=r),a}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get("m")!==void 0)&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get("z")!==void 0)&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){return Lae(this)}set latitude(e){const{spatialReference:t,x:i}=this;e!=null&&t&&(t.isWebMercator?this._set("y",wf(i,e,Nx)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){return Pae(this)}set longitude(e){const{y:t,spatialReference:i}=this;e!=null&&i&&(i.isWebMercator?this._set("x",wf(e,t,Nx)[0]):i.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,i){t[i]=isNaN(e)?"NaN":e}readX(e){return typeof e=="string"?NaN:e}clone(){const e=new l_;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return l_.copy(e,this),this}equals(e){if(e==null)return!1;const{x:t,y:i,z:r,m:s,spatialReference:n}=this,{z:a,m:u}=e;let{x:d,y:f,spatialReference:g}=e;if(!n.equals(g))if(n.isWebMercator&&g.isWGS84)[d,f]=wf(d,f),g=n;else{if(!n.isWGS84||!g.isWebMercator)return!1;[d,f]=J2(d,f),g=n}return t===d&&i===f&&r===a&&s===u&&n.wkid===g.wkid}offset(e,t,i){return this.x+=e,this.y+=t,i!=null&&(this.z=(this.z??0)+i),this}normalize(){if(!this.spatialReference)return this;const e=Br(this.spatialReference);if(!e)return this;let t=this.x;const[i,r]=e.valid,s=2*r;let n;return t>r?(n=Math.ceil(Math.abs(t-r)/s),t-=n*s):t<i&&(n=Math.ceil(Math.abs(t-i)/s),t+=n*s),this._set("x",t),this}distance(e){return PG(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};c([p({readOnly:!0})],Dr.prototype,"cache",null),c([p({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Dr.prototype,"hasM",null),c([p({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Dr.prototype,"hasZ",null),c([p({type:Number})],Dr.prototype,"latitude",null),c([p({type:Number})],Dr.prototype,"longitude",null),c([p({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),lt(e=>isNaN(e)?e:Gr(e))],Dr.prototype,"x",void 0),c([de("x")],Dr.prototype,"writeX",null),c([le("x")],Dr.prototype,"readX",null),c([p({type:Number,json:{write:!0}})],Dr.prototype,"y",void 0),c([p({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Dr.prototype,"z",void 0),c([p({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],Dr.prototype,"m",void 0),Dr=l_=c([O("esri.geometry.Point")],Dr),Dr.prototype.toJSON.isDefaultToJSON=!0;const Be=Dr,Px=[0,0];function Bv(e,t){return t!=null&&zr(e,t.x,t.y,t.z)}function jOe(e,t){var i;if(!((i=t.points)!=null&&i.length))return!1;for(const r of t.points)if(!nm(e,r))return!1;return!0}function Dae(e,t){const{xmin:i,ymin:r,zmin:s,xmax:n,ymax:a,zmax:u}=t;return e.hasZ&&t.hasZ?zr(e,i,r,s)&&zr(e,i,a,s)&&zr(e,n,a,s)&&zr(e,n,r,s)&&zr(e,i,r,u)&&zr(e,i,a,u)&&zr(e,n,a,u)&&zr(e,n,r,u):zr(e,i,r)&&zr(e,i,a)&&zr(e,n,a)&&zr(e,n,r)}function nm(e,t){return zr(e,t[0],t[1])}function kae(e,t){return zr(e,t[0],t[1],t[2])}function zr(e,t,i,r){return t>=e.xmin&&t<=e.xmax&&i>=e.ymin&&i<=e.ymax&&(r==null||!e.hasZ||r>=e.zmin&&r<=e.zmax)}function _I(e,t){return Px[1]=t.y,Px[0]=t.x,Fae(e,Px)}function Fae(e,t){return SI(e.rings,t)}function SI(e,t){if(!e)return!1;if(jae(e))return Y5(!1,e,t);let i=!1;for(let r=0,s=e.length;r<s;r++)i=Y5(i,e[r],t);return i}function jae(e){return!Array.isArray(e[0][0])}function Y5(e,t,i){const[r,s]=i;let n=e,a=0;for(let u=0,d=t.length;u<d;u++){a++,a===d&&(a=0);const[f,g]=t[u],[v,w]=t[a];(g<s&&w>=s||w<s&&g>=s)&&f+(s-g)/(w-g)*(v-f)<r&&(n=!n)}return n}function Uae(e,t){return Bv(e,t)}function zae(e,t){const i=e.hasZ&&t.hasZ;let r,s,n;if(e.xmin<=t.xmin){if(r=t.xmin,e.xmax<r)return!1}else if(r=e.xmin,t.xmax<r)return!1;if(e.ymin<=t.ymin){if(s=t.ymin,e.ymax<s)return!1}else if(s=e.ymin,t.ymax<s)return!1;if(i&&t.hasZ){if(e.zmin<=t.zmin){if(n=t.zmin,e.zmax<n)return!1}else if(n=e.zmin,t.zmax<n)return!1}return!0}function Vae(e,t){const{points:i,hasZ:r}=t,s=r?kae:nm;for(const n of i)if(s(e,n))return!0;return!1}const dh=[0,0],hh=[0,0],ph=[0,0],fh=[0,0],Gae=[dh,hh,ph,fh],kG=[[ph,dh],[dh,hh],[hh,fh],[fh,ph]];function qae(e,t){return Bae(e,t.rings)}function Bae(e,t){dh[0]=e.xmin,dh[1]=e.ymax,hh[0]=e.xmax,hh[1]=e.ymax,ph[0]=e.xmin,ph[1]=e.ymin,fh[0]=e.xmax,fh[1]=e.ymin;for(const i of Gae)if(SI(t,i))return!0;for(const i of t){if(!i.length)continue;let r=i[0];if(nm(e,r))return!0;for(let s=1;s<i.length;s++){const n=i[s];if(nm(e,n)||FG(r,n,kG))return!0;r=n}}return!1}function Hae(e,t){dh[0]=e.xmin,dh[1]=e.ymax,hh[0]=e.xmax,hh[1]=e.ymax,ph[0]=e.xmin,ph[1]=e.ymin,fh[0]=e.xmax,fh[1]=e.ymin;const i=t.paths;for(const r of i){if(!i.length)continue;let s=r[0];if(nm(e,s))return!0;for(let n=1;n<r.length;n++){const a=r[n];if(nm(e,a)||FG(s,a,kG))return!0;s=a}}return!1}const Wi=[0,0];function Wae(e){for(let t=0;t<e.length;t++){const i=e[t];for(let s=0;s<i.length-1;s++){const n=i[s],a=i[s+1];for(let u=t+1;u<e.length;u++)for(let d=0;d<e[u].length-1;d++){const f=e[u][d],g=e[u][d+1];if(TA(n,a,f,g,Wi)&&!(Wi[0]===n[0]&&Wi[1]===n[1]||Wi[0]===f[0]&&Wi[1]===f[1]||Wi[0]===a[0]&&Wi[1]===a[1]||Wi[0]===g[0]&&Wi[1]===g[1]))return!0}}const r=i.length;if(!(r<=4))for(let s=0;s<r-3;s++){let n=r-1;s===0&&(n=r-2);const a=i[s],u=i[s+1];for(let d=s+2;d<n;d++){const f=i[d],g=i[d+1];if(TA(a,u,f,g,Wi)&&!(Wi[0]===a[0]&&Wi[1]===a[1]||Wi[0]===f[0]&&Wi[1]===f[1]||Wi[0]===u[0]&&Wi[1]===u[1]||Wi[0]===g[0]&&Wi[1]===g[1]))return!0}}}return!1}function FG(e,t,i){for(let r=0;r<i.length;r++)if(TA(e,t,i[r][0],i[r][1]))return!0;return!1}function TA(e,t,i,r,s){const[n,a]=e,[u,d]=t,[f,g]=i,[v,w]=r,S=v-f,T=n-f,E=u-n,M=w-g,R=a-g,P=d-a,N=M*E-S*P;if(N===0)return!1;const k=(S*R-M*T)/N,U=(E*R-P*T)/N;return k>=0&&k<=1&&U>=0&&U<=1&&(s&&(s[0]=n+k*(u-n),s[1]=a+k*(d-a)),!0)}function Zae(e){switch(e){case"esriGeometryEnvelope":case"extent":return zae;case"esriGeometryMultipoint":case"multipoint":return Vae;case"esriGeometryPoint":case"point":return Uae;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return qae;case"esriGeometryPolyline":case"polyline":return Hae}}var Gn;function Yae(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}function Yl(e,t,i){return t==null?i:i==null?t:e(t,i)}let ki=Gn=class extends yl{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,i,r,s){return Yae(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e=="object"?(e.spatialReference=e.spatialReference==null?He.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:i,ymax:r,spatialReference:s??He.WGS84}}static fromPoint(e){return new Gn({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new Be({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new Gn;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,i=e.spatialReference;return t&&i&&!t.equals(i)&&a_(t,i)&&(e=t.isWebMercator?Qd(e):_f(e,!0)),e.type==="point"?Bv(this,e):e.type==="extent"&&Dae(this,e)}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,i=e.spatialReference;return t&&i&&!t.equals(i)&&a_(t,i)&&(e=t.isWebMercator?Qd(e):_f(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),i=this.width*t,r=this.height*t;if(this.xmin+=i,this.ymin+=r,this.xmax-=i,this.ymax-=r,this.hasZ){const s=(this.zmax-this.zmin)*t;this.zmin+=s,this.zmax-=s}if(this.hasM){const s=(this.mmax-this.mmin)*t;this.mmin+=s,this.mmax-=s}return this}intersects(e){if(e==null)return!1;e.type==="mesh"&&(e=e.extent);const t=this.spatialReference,i=e.spatialReference;return t&&i&&!Vi(t,i)&&a_(t,i)&&(e=t.isWebMercator?Qd(e):_f(e,!0)),Zae(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,i){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,i!=null&&(this.zmin+=i,this.zmax+=i),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Yl(Math.min,this.zmin,e.zmin),this.zmax=Yl(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Yl(Math.min,this.mmin,e.mmin),this.mmax=Yl(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:e!=null&&this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Yl(Math.max,this.zmin,e.zmin),this.zmax=Yl(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Yl(Math.max,this.mmin,e.mmin),this.mmax=Yl(Math.min,this.mmax,e.mmax)),this):null}toJSON(e){return this.write({},e)}_shiftCM(e=Br(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,i=this._getCM(e);if(i){const r=t.isWebMercator?_f(i):i;this.xmin-=i.x,this.xmax-=i.x,t.isWebMercator||(r.x=Lx(r.x,e).x),this.spatialReference=new He(S2((t.isWGS84?e.altTemplate:null)??e.wkTemplate,{Central_Meridian:r.x}))}return this}_getCM(e){let t=null;const[i,r]=e.valid,s=this.xmin,n=this.xmax;return s>=i&&s<=r&&n>=i&&n<=r||(t=this.center),t}_normalize(e,t,i){const r=this.spatialReference;if(!r)return this;const s=i??Br(r);if(s==null)return this;const n=this._getParts(s).map(d=>d.extent);if(n.length<2)return n[0]||this;if(n.length>2)return e?this._shiftCM(s):this.set({xmin:s.valid[0],xmax:s.valid[1]});if(e)return this._shiftCM(s);if(t)return n;let a=!0,u=!0;return n.forEach(d=>{d.hasZ||(a=!1),d.hasM||(u=!1)}),{rings:n.map(d=>{const f=[[d.xmin,d.ymin],[d.xmin,d.ymax],[d.xmax,d.ymax],[d.xmax,d.ymin],[d.xmin,d.ymin]];if(a){const g=(d.zmax-d.zmin)/2;for(let v=0;v<f.length;v++)f[v].push(g)}if(u){const g=(d.mmax-d.mmin)/2;for(let v=0;v<f.length;v++)f[v].push(g)}return f}),hasZ:a,hasM:u,spatialReference:r}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:s,ymax:n,spatialReference:a}=this,u=this.width,d=this.xmin,f=this.xmax;let g;e=e||Br(a);const[v,w]=e.valid;g=Lx(this.xmin,e);const S=g.x,T=g.frameId;g=Lx(this.xmax,e);const E=g.x,M=g.frameId,R=S===E&&u>0;if(u>2*w){const P=new Gn(d<f?S:E,s,w,n,a),N=new Gn(v,s,d<f?E:S,n,a),k=new Gn(0,s,w,n,a),U=new Gn(v,s,0,n,a),Z=[],re=[];P.contains(k)&&Z.push(T),P.contains(U)&&re.push(T),N.contains(k)&&Z.push(M),N.contains(U)&&re.push(M);for(let oe=T+1;oe<M;oe++)Z.push(oe),re.push(oe);t.push({extent:P,frameIds:[T]},{extent:N,frameIds:[M]},{extent:k,frameIds:Z},{extent:U,frameIds:re})}else S>E||R?t.push({extent:new Gn(S,s,w,n,a),frameIds:[T]},{extent:new Gn(v,s,E,n,a),frameIds:[M]}):t.push({extent:new Gn(S,s,E,n,a),frameIds:[T]});this.cache._parts=t}const i=this.hasZ,r=this.hasM;if(i||r){const s={};i&&(s.zmin=this.zmin,s.zmax=this.zmax),r&&(s.mmin=this.mmin,s.mmax=this.mmax);for(let n=0;n<t.length;n++)t[n].extent.set(s)}return t}};function Lx(e,t){const[i,r]=t.valid,s=2*r;let n,a=0;return e>r?(n=Math.ceil(Math.abs(e-r)/s),e-=n*s,a=n):e<i&&(n=Math.ceil(Math.abs(e-i)/s),e+=n*s,a=-n),{x:e,frameId:a}}c([p({readOnly:!0})],ki.prototype,"cache",null),c([p({readOnly:!0})],ki.prototype,"center",null),c([p({readOnly:!0})],ki.prototype,"extent",null),c([p({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],ki.prototype,"hasM",null),c([p({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],ki.prototype,"hasZ",null),c([p({readOnly:!0})],ki.prototype,"height",null),c([p({readOnly:!0})],ki.prototype,"width",null),c([p({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],ki.prototype,"xmin",void 0),c([p({type:Number,json:{write:!0}})],ki.prototype,"ymin",void 0),c([p({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],ki.prototype,"mmin",void 0),c([p({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],ki.prototype,"zmin",void 0),c([p({type:Number,json:{write:!0}})],ki.prototype,"xmax",void 0),c([p({type:Number,json:{write:!0}})],ki.prototype,"ymax",void 0),c([p({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],ki.prototype,"mmax",void 0),c([p({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],ki.prototype,"zmax",void 0),ki=Gn=c([O("esri.geometry.Extent")],ki),ki.prototype.toJSON.isDefaultToJSON=!0;const kt=ki;async function Jae(e){var r;const t="portalItem"in e?e:{portalItem:e},{fromItem:i}=await ue(async()=>{const{fromItem:s}=await import("./portalLayers-DhWIL-LA.js");return{fromItem:s}},__vite__mapDeps([17,18,19,20,21]),import.meta.url);try{return await i(t)}catch(s){const n=t==null?void 0:t.portalItem,a=(n==null?void 0:n.id)||"unset",u=((r=n==null?void 0:n.portal)==null?void 0:r.url)||bt.portalUrl;throw ne.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+u+"', id: '"+a+"')",s),s}}const J5={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function Dx(e,t,i,r=Xo){const s=new fs(pI(r)),n=Re.fromJSDate(e,{zone:s}),a=i==="decades"||i==="centuries"?"year":UG(i);return i==="decades"&&(t*=10),i==="centuries"&&(t*=100),n.plus({[a]:t}).toJSDate()}function UOe(e,t,i="milliseconds"){const r=e.getTime(),s=jG(t,i,"milliseconds");return new Date(r+s)}function X5(e,t,i=Xo){const r=new fs(pI(i)),s=Re.fromJSDate(e,{zone:r});if(t==="decades"||t==="centuries"){const a=s.startOf("year"),{year:u}=a,d=u-u%(t==="decades"?10:100);return a.set({year:d}).toJSDate()}const n=UG(t);return s.startOf(n).toJSDate()}function jG(e,t,i){return e===0?0:e*J5[t]/J5[i]}function zOe(e,t){return e&&t?e.intersection(t):e||t}function UG(e){switch(e){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var rn;let Ps=rn=class extends K{static get allTime(){return Q5}static get empty(){return Xae}static fromArray(e){return new rn({start:e[0]!=null?new Date(e[0]):e[0],end:e[1]!=null?new Date(e[1]):e[1]})}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,t){return t.end!=null?new Date(t.end):null}writeEnd(e,t){t.end=(e==null?void 0:e.getTime())??null}get isAllTime(){return this.equals(rn.allTime)}get isEmpty(){return this.equals(rn.empty)}readStart(e,t){return t.start!=null?new Date(t.start):null}writeStart(e,t){t.start=(e==null?void 0:e.getTime())??null}clone(){return new rn({end:this.end,start:this.start})}equals(e){var n,a,u,d;if(!e)return!1;const t=((n=this.start)==null?void 0:n.getTime())??this.start,i=((a=this.end)==null?void 0:a.getTime())??this.end,r=((u=e.start)==null?void 0:u.getTime())??e.start,s=((d=e.end)==null?void 0:d.getTime())??e.end;return t===r&&i===s}expandTo(e,t=Xo){if(this.isEmpty||this.isAllTime)return this.clone();let i=this.start;i&&(i=X5(i,e,t));let r=this.end;if(r){const s=X5(r,e,t);r=r.getTime()===s.getTime()?s:Dx(s,1,e,t)}return new rn({start:i,end:r})}intersection(e){var u,d,f,g;if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return rn.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=((u=this.start)==null?void 0:u.getTime())??-1/0,i=((d=this.end)==null?void 0:d.getTime())??1/0,r=((f=e.start)==null?void 0:f.getTime())??-1/0,s=((g=e.end)==null?void 0:g.getTime())??1/0;let n,a;return r>=t&&r<=i?n=r:t>=r&&t<=s&&(n=t),i>=r&&i<=s?a=i:s>=t&&s<=i&&(a=s),n==null||a==null||isNaN(n)||isNaN(a)?rn.empty:new rn({start:n===-1/0?null:new Date(n),end:a===1/0?null:new Date(a)})}offset(e,t,i=Xo){if(this.isEmpty||this.isAllTime)return this.clone();const r=new rn,{start:s,end:n}=this;return s!=null&&(r.start=Dx(s,e,t,i)),n!=null&&(r.end=Dx(n,e,t,i)),r}toArray(){var e,t;return this.isEmpty?[void 0,void 0]:[((e=this.start)==null?void 0:e.getTime())??null,((t=this.end)==null?void 0:t.getTime())??null]}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return Q5.clone();const t=this.start!=null&&e.start!=null?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,i=this.end!=null&&e.end!=null?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new rn({start:t,end:i})}};c([p({type:Date,json:{write:{allowNull:!0}}})],Ps.prototype,"end",void 0),c([le("end")],Ps.prototype,"readEnd",null),c([de("end")],Ps.prototype,"writeEnd",null),c([p({readOnly:!0,json:{read:!1}})],Ps.prototype,"isAllTime",null),c([p({readOnly:!0,json:{read:!1}})],Ps.prototype,"isEmpty",null),c([p({type:Date,json:{write:{allowNull:!0}}})],Ps.prototype,"start",void 0),c([le("start")],Ps.prototype,"readStart",null),c([de("start")],Ps.prototype,"writeStart",null),Ps=rn=c([O("esri.time.TimeExtent")],Ps);const dl=Ps,Q5=new Ps,Xae=new Ps({start:void 0,end:void 0});let Qae=0,ci=class extends ho.EventedMixin(Gv.IdentifiableMixin(cl)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new kt(-180,-90,180,90,He.WGS84),this.id=Date.now().toString(16)+"-layer-"+Qae++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=He.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(t){const i=typeof t=="string"?{url:t}:t;return(await ue(async()=>{const{fromUrl:r}=await import("./arcgisLayers-C9VzhxGx.js");return{fromUrl:r}},__vite__mapDeps([22,18,19,21]),import.meta.url)).fromUrl(i)}static fromPortalItem(t){return Jae(t)}initialize(){this.when().catch(t=>{Cr(t)||ne.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:t})})}destroy(){const t=this.parent;if(t){const i=this;"layers"in t&&t.layers.includes(i)?t.layers.remove(i):"tables"in t&&t.tables.includes(i)?t.tables.remove(i):"baseLayers"in t&&t.baseLayers.includes(i)?t.baseLayers.remove(i):"referenceLayers"in t&&t.referenceLayers.includes(i)&&t.referenceLayers.remove(i),this._set("parent",null)}}get effectiveVisible(){let t=this.visible;const i=this.parent;return t&&i&&"effectiveVisible"in i&&t&&(t=i.effectiveVisible),t}get hasAttributionData(){return this.attributionDataUrl!=null}get parsedUrl(){return Or(this.url)}createLayerView(t,i){return Promise.reject(new z("layer:create-layer-view","Layer does not support creating a layer view"))}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t)return(await Lt(t,{query:{f:"json"},responseType:"json"})).data;throw new z("layer:no-attribution-data","Layer does not have attribution data")}};c([p({type:String})],ci.prototype,"attributionDataUrl",void 0),c([p({readOnly:!0})],ci.prototype,"effectiveVisible",null),c([p({type:kt})],ci.prototype,"fullExtent",void 0),c([p({readOnly:!0})],ci.prototype,"hasAttributionData",null),c([p({type:String,clonable:!1})],ci.prototype,"id",void 0),c([p({type:Boolean,nonNullable:!0})],ci.prototype,"legendEnabled",void 0),c([p({type:["show","hide","hide-children"]})],ci.prototype,"listMode",void 0),c([p({type:Number,range:{min:0,max:1},nonNullable:!0})],ci.prototype,"opacity",void 0),c([p({clonable:!1})],ci.prototype,"parent",void 0),c([p({readOnly:!0})],ci.prototype,"parsedUrl",null),c([p({type:Boolean,readOnly:!0})],ci.prototype,"persistenceEnabled",void 0),c([p({type:Boolean})],ci.prototype,"popupEnabled",void 0),c([p({type:Boolean})],ci.prototype,"attributionVisible",void 0),c([p({type:He})],ci.prototype,"spatialReference",void 0),c([p({type:String})],ci.prototype,"title",void 0),c([p({readOnly:!0,json:{read:!1}})],ci.prototype,"type",void 0),c([p()],ci.prototype,"url",void 0),c([p({type:dl})],ci.prototype,"visibilityTimeExtent",void 0),c([p({type:Boolean,nonNullable:!0})],ci.prototype,"visible",void 0),ci=c([O("esri.layers.Layer")],ci);const TI=ci;function GOe(e,t,i){return AC(e.map((r,s)=>t.apply(i,[r,s])))}async function Kae(e,t,i){return(await AC(e.map((r,s)=>t.apply(i,[r,s])))).map(r=>r.value)}function EI(e){return{ok:!0,value:e}}function $I(e){return{ok:!1,error:e}}function ele(e){return e!=null&&e.ok===!0?e.value:null}function tle(e){return e!=null&&e.ok===!1?e.error:null}async function X2(e){if(e==null)return{ok:!1,error:new Error("no promise provided")};try{return EI(await e)}catch(t){return $I(t)}}async function ile(e){try{return EI(await e)}catch(t){return qo(t),$I(t)}}function Hv(e,t){return new ru(e,t)}let ru=class extends $e{get value(){return ele(this._result)}get error(){return tle(this._result)}get finished(){return this._result!=null}constructor(t,i){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=Zf(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:r}=this._abortController;this.promise=t(r),this.promise.then(s=>{this._result=EI(s),this._cleanup()},s=>{this._result=$I(s),this._cleanup()}),this._abortHandle=yn(i,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=Yt(this._abortHandle),this._abortController=null}};c([p()],ru.prototype,"value",null),c([p()],ru.prototype,"error",null),c([p()],ru.prototype,"finished",null),c([p()],ru.prototype,"promise",void 0),c([p()],ru.prototype,"_result",void 0),ru=c([O("esri.core.asyncUtils.ReactiveTask")],ru);function ke(e,t,i={}){return xI(e,t,i,zG)}function wn(e,t,i={}){return xI(e,t,i,VG)}function xI(e,t,i={},r){let s=null;const n=i.once?(a,u)=>{r(a)&&(Yt(s),t(a,u))}:(a,u)=>{r(a)&&t(a,u)};if(s=$ee(e,n,i.sync,i.equals),i.initial){const a=e();n(a,a)}return s}function rc(e,t,i,r={}){let s=null,n=null,a=null;function u(){var g;s&&n&&(n.remove(),(g=r.onListenerRemove)==null||g.call(r,s),s=null,n=null)}function d(g){r.once&&r.once&&Yt(a),i(g)}const f=ke(e,(g,v)=>{var w;u(),$2(g)&&(s=g,n=Cv(g,t,d),(w=r.onListenerAdd)==null||w.call(r,g))},{sync:r.sync,initial:!0});return a=pt(()=>{f.remove(),u()}),a}function MI(e,t){return rle(e,VG,t)}function rle(e,t,i){if(Us(i))return Promise.reject(Dt());const r=e();if(t!=null&&t(r))return Promise.resolve(r);let s=null;function n(){s=Yt(s)}return new Promise((a,u)=>{s=Av([yn(i,()=>{n(),u(Dt())}),xI(e,d=>{n(),a(d)},{sync:!1,once:!0},t??zG)])})}function zG(e){return!0}function VG(e){return!!e}function BOe(e,t,i={}){let r=!1;const s=ke(e,(n,a)=>{r||t(n,a)},i);return{remove(){s.remove()},pause(){r=!0},resume(){r=!1}}}function sle(e,t){const i=new ye,r=rc(e,"after-splice",({added:s,start:n,deleteCount:a})=>{const u=i.splice(n,a);for(const d of u)d.remove();if(s!=null&&s.length){const d=s.map(t);i.addMany(d,n)}},{sync:!0,onListenerRemove:()=>i.drain(s=>s.remove()),onListenerAdd:s=>i.addMany(s.items.map(t))});return i.addHandles(r),i}function HOe(e,t){const i=new ye,r=sle(e,u=>Hv(async d=>{const f=await t(u,d);if(Us(d))throw f.remove(),Dt();return f})),s=()=>null,n=async u=>{const d=await u.promise,f=r.indexOf(u);f<0||i.splice(f,1,d)};i.addMany(r.items.map(s));for(const u of r)X0(n(u));const a=r.on("after-splice",({added:u,start:d,deleteCount:f})=>{const g=i.splice(d,f);for(const v of g)v==null||v.remove();if(u!=null&&u.length){i.addMany(u.map(s),d);for(const v of u)X0(n(v))}});return i.addHandles([_K(r),a]),i}const Qo={sync:!0},Ar={initial:!0},as={sync:!0,initial:!0};function om(e,t,i=!1){let{hasM:r,hasZ:s}=e;Array.isArray(t)?t.length!==4||r||s?t.length===3&&i&&!r?(s=!0,r=!1):t.length===3&&r&&s&&(r=!1,s=!1):(r=!0,s=!0):(s=!s&&t.hasZ&&(!r||t.hasM),r=!r&&t.hasM&&(!s||t.hasZ)),e.hasZ=s,e.hasM=r}var EA;function K5(e){return(t,i)=>t==null?i:i==null?t:e(t,i)}function nle(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let su=EA=class extends yl{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){var s;if(!e&&!t)return{};const i={};Array.isArray(e)?(i.points=e,i.spatialReference=t):nle(e)?i.spatialReference=e:(e.points&&(i.points=e.points),e.spatialReference&&(i.spatialReference=e.spatialReference),e.hasZ&&(i.hasZ=e.hasZ),e.hasM&&(i.hasM=e.hasM));const r=(s=i.points)==null?void 0:s[0];return r&&(i.hasZ===void 0&&i.hasM===void 0?(i.hasZ=r.length>2,i.hasM=!1):i.hasZ===void 0?i.hasZ=r.length>3:i.hasM===void 0&&(i.hasM=r.length>3)),i}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new kt,i=this.hasZ,r=this.hasM,s=i?3:2,n=e[0],a=K5(Math.min),u=K5(Math.max);let d,f,g,v,[w,S]=n,[T,E]=n;for(let M=0,R=e.length;M<R;M++){const P=e[M],[N,k]=P;if(w=a(w,N),S=a(S,k),T=u(T,N),E=u(E,k),i&&P.length>2){const U=P[2];d=a(d,U),g=u(g,U)}if(r&&P.length>s){const U=P[s];f=a(f,U),v=u(v,U)}}return t.xmin=w,t.ymin=S,t.xmax=T,t.ymax=E,t.spatialReference=this.spatialReference,i?(t.zmin=d,t.zmax=g):(t.zmin=void 0,t.zmax=void 0),r?(t.mmin=f,t.mmax=v):(t.mmin=void 0,t.mmax=void 0),t}writePoints(e,t){t.points=j(this.points)}addPoint(e){return om(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:j(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new EA(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],i={x:t[0],y:t[1],spatialReference:this.spatialReference};let r=2;return this.hasZ&&(i.z=t[2],r=3),this.hasM&&(i.m=t[r]),new Be(i)}removePoint(e){if(!this._validateInputs(e))return null;const t=new Be(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(om(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return e!=null&&e>=0&&e<this.points.length}};c([p({readOnly:!0})],su.prototype,"cache",null),c([p()],su.prototype,"extent",null),c([p({type:[[Number]],json:{write:{isRequired:!0}}})],su.prototype,"points",void 0),c([de("points")],su.prototype,"writePoints",null),su=EA=c([O("esri.geometry.Multipoint")],su),su.prototype.toJSON.isDefaultToJSON=!0;const Q2=su;function WOe(e){const t=[];for(e.reset();e.nextPath();){const i=[];for(;e.nextPoint();)i.push([e.x,e.y]);t.push(i)}return e.reset(),t}function ole(e){const t=[];for(;e.nextPoint();)t.push([e.x,e.y]);return e.seekPathStart(),t}var US;(function(e){e[e.X=0]="X",e[e.Y=1]="Y",e[e.Z=2]="Z"})(US||(US={}));function ZOe(e){if(!e)return null;if(Array.isArray(e))return e;const t=e.hasZ,i=e.hasM;if(e.type==="point")return i&&t?[e.x,e.y,e.z,e.m]:t?[e.x,e.y,e.z]:i?[e.x,e.y,e.m]:[e.x,e.y];if(e.type==="polygon")return e.rings.slice();if(e.type==="polyline")return e.paths.slice();if(e.type==="multipoint")return e.points.slice();if(e.type==="extent"){const r=e.clone().normalize();if(!r)return null;let s=!1,n=!1;return r.forEach(a=>{a.hasZ&&(s=!0),a.hasM&&(n=!0)}),r.map(a=>{const u=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(s&&a.hasZ){const d=.5*(a.zmax-a.zmin);for(let f=0;f<u.length;f++)u[f].push(d)}if(n&&a.hasM){const d=.5*(a.mmax-a.mmin);for(let f=0;f<u.length;f++)u[f].push(d)}return u})}return null}function K2(e,t){const i=t[0]-e[0],r=t[1]-e[1];if(e.length>2&&t.length>2){const s=e[2]-t[2];return Math.sqrt(i*i+r*r+s*s)}return Math.sqrt(i*i+r*r)}function GG(e,t,i){const r=e[0]+i*(t[0]-e[0]),s=e[1]+i*(t[1]-e[1]);return e.length>2&&t.length>2?[r,s,e[2]+i*(t[2]-e[2])]:[r,s]}function ale(e,t,i,r){return lle(e,t,i[r],i[r+1])}function lle(e,t,i,r){const[s,n]=t,[a,u]=i,[d,f]=r,g=d-a,v=f-u,w=g*g+v*v,S=(s-a)*g+(n-u)*v,T=Math.min(1,Math.max(0,S/w));return e[0]=a+g*T,e[1]=u+v*T,e}function YOe(e,t,i,r,s,n){let a=i,u=r,d=s-a,f=n-u;if(d!==0||f!==0){const g=((e-a)*d+(t-u)*f)/(d*d+f*f);g>1?(a=s,u=n):g>0&&(a+=d*g,u+=f*g)}return d=e-a,f=t-u,d*d+f*f}function qG(e,t){return GG(e,t,.5)}function JOe(e){const t=e.length;let i=0;for(let r=0;r<t-1;++r)i+=K2(e[r],e[r+1]);return i}function XOe(e,t){if(t<=0)return e[0];const i=e.length;let r=0;for(let s=0;s<i-1;++s){const n=K2(e[s],e[s+1]);if(t-r<n){const a=(t-r)/n;return GG(e[s],e[s+1],a)}r+=n}return e[i-1]}function BG(e,t=US.X,i=US.Y){let r=0;const s=e.length;let n=e[0];for(let a=1;a<s;a++){const u=e[a];r+=(u[t]-n[t])*(u[i]+n[i]),n=u}if(!HG(e)){const a=e[0];r+=(a[t]-n[t])*(a[i]+n[i])}return r>=0}function HG(e){const t=e.length;return t<3||v2(e[0],e[t-1])}function QOe(e){"rings"in e&&(ule(e),cle(e))}function ule(e){if(!("rings"in e))return!1;let t=!1;for(const i of e.rings)HG(i)||(i.push(i[0].slice()),t=!0);return t}function cle(e){if(!("rings"in e)||e.rings.length===0||BG(e.rings[0]))return!1;for(const t of e.rings)t.reverse();return!0}function KOe(e){return e.type!=="polygon"&&e.type!=="polyline"||dle(e.type==="polygon"?e.rings:e.paths,e.spatialReference),e}function dle(e,t){const i=Br(t);if(!i)return;const r=i.valid[0],s=i.valid[1],n=s-r;for(const a of e){let u=1/0,d=-1/0;for(const g of a){const v=hle(g[0],r,s);u=Math.min(u,v),d=Math.max(d,v),g[0]=v}const f=d-u;n-f<f&&a.forEach(g=>{g[0]<0&&(g[0]+=n)})}}function hle(e,t,i){const r=i-t;return e<t?i-(t-e)%r:e>i?t+(e-t)%r:e}function eRe(e,t){if(e===t)return!0;if(e.type!==t.type)return!1;if(e.type==="point"||e.type==="mesh"||e.type==="extent")return!0;if(e.type==="multipoint")return e.points.length===t.points.length;const[i,r]=e.type==="polyline"?[e.paths,t.paths]:[e.rings,t.rings];return i.length===r.length&&i.every((s,n)=>s.length===r[n].length)}function tRe(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function ple(e){return e?fle(e.rings,e.hasZ??!1):null}function fle(e,t){if(!(e!=null&&e.length))return null;const i=[],r=[],s=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let n=0,a=e.length;n<a;n++){const u=WG(e[n],t,s);u&&r.push(u)}if(r.sort((n,a)=>{let u=n[2]-a[2];return u===0&&t&&(u=n[4]-a[4]),u}),r.length&&(i[0]=r[0][0],i[1]=r[0][1],t&&(i[2]=r[0][3]),(i[0]<s[0]||i[0]>s[1]||i[1]<s[2]||i[1]>s[3]||t&&(i[2]<s[4]||i[2]>s[5]))&&(i.length=0)),!i.length){const n=e[0]&&e[0].length?mle(e[0],t):null;if(!n)return null;i[0]=n[0],i[1]=n[1],t&&n.length>2&&(i[2]=n[2])}return i}function WG(e,t,i){let r=0,s=0,n=0,a=0,u=0;const d=e.length?e[0][0]:0,f=e.length?e[0][1]:0,g=e.length&&t?e[0][2]:0;for(let w=0;w<e.length;w++){const S=e[w],T=e[(w+1)%e.length],[E,M,R]=S,P=E-d,N=M-f,[k,U,Z]=T,re=k-d,oe=U-f,pe=P*oe-re*N;if(a+=pe,r+=(P+re)*pe,s+=(N+oe)*pe,t&&S.length>2&&T.length>2){const me=R-g,_e=Z-g,we=P*_e-re*me;n+=(me+_e)*we,u+=we}E<i[0]&&(i[0]=E),E>i[1]&&(i[1]=E),M<i[2]&&(i[2]=M),M>i[3]&&(i[3]=M),t&&(R<i[4]&&(i[4]=R),R>i[5]&&(i[5]=R))}if(a>0&&(a*=-1),u>0&&(u*=-1),!a)return null;a*=.5,u*=.5;const v=[r/(6*a)+d,s/(6*a)+f,a];return t&&(i[4]===i[5]||u===0?(v[3]=(i[4]+i[5])/2,v[4]=0):(v[3]=n/(6*u)+g,v[4]=u)),v}function iRe(e,t){let i=0,r=0,s=0;e.nextPoint();const n=e.pathSize?e.x:0,a=e.pathSize?e.y:0;for(let u=0;u<e.pathSize;u++){e.seekInPath(u);const d=[e.x,e.y];e.seekInPath((u+1)%e.pathSize);const f=[e.x,e.y],[g,v]=d,w=g-n,S=v-a,[T,E]=f,M=T-n,R=E-a,P=w*R-M*S;s+=P,i+=(w+M)*P,r+=(S+R)*P,g<t[0]&&(t[0]=g),g>t[1]&&(t[1]=g),v<t[2]&&(t[2]=v),v>t[3]&&(t[3]=v)}return s>0&&(s*=-1),s?(s*=.5,[i/(6*s)+n,r/(6*s)+a,s]):null}function mle(e,t){const i=t?[0,0,0]:[0,0],r=t?[0,0,0]:[0,0];let s=0,n=0,a=0,u=0;for(let d=0,f=e.length;d<f-1;d++){const g=e[d],v=e[d+1];if(g&&v){i[0]=g[0],i[1]=g[1],r[0]=v[0],r[1]=v[1],t&&g.length>2&&v.length>2&&(i[2]=g[2],r[2]=v[2]);const w=K2(i,r);if(w){s+=w;const S=qG(g,v);n+=w*S[0],a+=w*S[1],t&&S.length>2&&(u+=w*S[2])}}}return s>0?t?[n/s,a/s,u/s]:[n/s,a/s]:e.length?e[0]:null}function yle(e){const{hasZ:t,totalSize:i}=e;if(i===0)return null;const r=[],s=[],n=t?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(e.reset();e.nextPath();){const a=WG(ole(e),e.hasZ,n);a&&s.push(a)}if(s.sort((a,u)=>{let d=a[2]-u[2];return d===0&&t&&(d=a[4]-u[4]),d}),s.length&&(r[0]=s[0][0],r[1]=s[0][1],t&&(r[2]=s[0][3]),(r[0]<n[0]||r[0]>n[1]||r[1]<n[2]||r[1]>n[3]||t&&(r[2]<n[4]||r[2]>n[5]))&&(r.length=0)),!r.length){e.reset(),e.nextPath();const a=e.pathSize?gle(e):null;if(!a)return null;r[0]=a[0],r[1]=a[1],t&&a.length>2&&(r[2]=a[2])}return r}function gle(e){const{hasZ:t}=e,i=t?[0,0,0]:[0,0],r=t?[0,0,0]:[0,0];let s=0,n=0,a=0,u=0;if(e.nextPoint()){let d=e.x,f=e.y,g=e.z;for(;e.nextPoint();){const v=e.x,w=e.y,S=e.z;i[0]=d,i[1]=f,r[0]=v,r[1]=w,t&&(i[2]=g,r[2]=S);const T=K2(i,r);if(T){s+=T;const E=qG(i,r);n+=T*E[0],a+=T*E[1],t&&E.length>2&&(u+=T*E[2])}d=v,f=w,g=S}}return s>0?t?[n/s,a/s,u/s]:[n/s,a/s]:e.pathSize?(e.seekPathStart(),e.nextPoint(),[e.x,e.y]):null}const vle=1e-6;function rRe(e){let t=0;for(e.reset();e.nextPath();)t+=e.getCurrentRingArea();if(t<vle){const s=yle(e);return s?[s[0],s[1]]:null}const i=[0,0];if(e.reset(),!e.nextPath()||!e.nextPoint())return null;const r=[e.x,e.y];for(e.reset();e.nextPath();)wle(i,r,e);return i[0]*=1/t,i[1]*=1/t,i[0]+=r[0],i[1]+=r[1],i}const ble=1/3;function wle(e,t,i){if(!i||i.pathSize<3)return null;i.nextPoint();const r=i.x,s=i.y;i.nextPoint();let n,a=i.x-r,u=i.y-s,d=0,f=0;for(;i.nextPoint();)d=i.x-r,f=i.y-s,n=.5*ble*(d*u-f*a),e[0]+=n*(a+d),e[1]+=n*(u+f),a=d,u=f;const g=i.getCurrentRingArea(),v=[r,s];return v[0]-=t[0],v[1]-=t[1],v[0]*=g,v[1]*=g,e[0]+=v[0],e[1]+=v[1],e}function qr(e=Ele){return[e[0],e[1],e[2],e[3]]}function ZG(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function sRe(e,t,i,r,s=qr()){return s[0]=e,s[1]=t,s[2]=i,s[3]=r,s}function nRe(e,t=qr()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function _le(e,t,i=new kt){return i.xmin=e[0],i.ymin=e[1],i.xmax=e[2],i.ymax=e[3],i.spatialReference=t,i}function oRe(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function aRe(e,t,i){if(t!=null)if("length"in t)$A(t)?(i[0]=Math.min(e[0],t[0]),i[1]=Math.min(e[1],t[1]),i[2]=Math.max(e[2],t[2]),i[3]=Math.max(e[3],t[3])):t.length!==2&&t.length!==3||(i[0]=Math.min(e[0],t[0]),i[1]=Math.min(e[1],t[1]),i[2]=Math.max(e[2],t[0]),i[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":i[0]=Math.min(e[0],t.xmin),i[1]=Math.min(e[1],t.ymin),i[2]=Math.max(e[2],t.xmax),i[3]=Math.max(e[3],t.ymax);break;case"point":i[0]=Math.min(e[0],t.x),i[1]=Math.min(e[1],t.y),i[2]=Math.max(e[2],t.x),i[3]=Math.max(e[3],t.y)}else ZG(i,e)}function lRe(e,t,i=e){const r=t.length;let s=e[0],n=e[1],a=e[2],u=e[3];for(let d=0;d<r;d++){const f=t[d];s=Math.min(s,f[0]),n=Math.min(n,f[1]),a=Math.max(a,f[0]),u=Math.max(u,f[1])}return i[0]=s,i[1]=n,i[2]=a,i[3]=u,i}function uRe(e){for(let t=0;t<4;t++)if(!isFinite(e[t]))return!1;return!0}function AI(e){return e==null||e[0]>=e[2]?0:e[2]-e[0]}function OI(e){return e==null||e[1]>=e[3]?0:e[3]-e[1]}function cRe(e){return AI(e)*OI(e)}function dRe(e,t=[0,0]){return t[0]=(e[0]+e[2])/2,t[1]=(e[1]+e[3])/2,t}function hRe(e){const t=AI(e),i=OI(e);return Math.sqrt(t*t+i*i)}function pRe(e,t){return Sle(e,t.x,t.y)}function Sle(e,t,i){return t>=e[0]&&i>=e[1]&&t<=e[2]&&i<=e[3]}function fRe(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function mRe(e,t,i){return Math.max(t[0],e[0])-i<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])-i<=Math.min(t[3],e[3])}function Tle(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function yRe(e,t,i,r=e){return r[0]=e[0]+t,r[1]=e[1]+i,r[2]=e[2]+t,r[3]=e[3]+i,r}function gRe(e){return e?ZG(e,e6):qr(e6)}function $A(e){return e!=null&&e.length===4}function vRe(e,t){return $A(e)&&$A(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}const e6=[1/0,1/0,-1/0,-1/0],Ele=[0,0,0,0];function YG(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function JG(e){return e.points!==void 0}function XG(e){return e.x!==void 0&&e.y!==void 0}function QG(e){return e.paths!==void 0}function KG(e){return e.rings!==void 0}function eq(e){function t(i,r){return i==null?r:r==null?i:e(i,r)}return t}const ju=eq(Math.min),Uu=eq(Math.max);function bRe(e,t){return QG(t)?am(e,t.paths,!1,!1):KG(t)?am(e,t.rings,!1,!1):JG(t)?RI(e,t.points,!1,!1,!1,!1):YG(t)?tq(e,t):(XG(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function wRe(e){let t,i,r,s;for(e.reset(),t=r=1/0,i=s=-1/0;e.nextPath();){const n=$le(e);t=Math.min(n[0],t),r=Math.min(n[1],r),i=Math.max(n[2],i),s=Math.max(n[3],s)}return qr([t,r,i,s])}function $le(e){let t,i,r,s;for(t=r=1/0,i=s=-1/0;e.nextPoint();)t=Math.min(e.x,t),r=Math.min(e.y,r),i=Math.max(e.x,i),s=Math.max(e.y,s);return qr([t,r,i,s])}function _Re(e,t){return QG(t)?am(e,t.paths,!0,!1):KG(t)?am(e,t.rings,!0,!1):JG(t)?RI(e,t.points,!0,!1,!0,!1):YG(t)?tq(e,t,!0,!1,!0,!1):(XG(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function am(e,t,i,r){const s=i?3:2;if(!t.length||!t[0].length)return null;let n,a,u,d,[f,g]=t[0][0],[v,w]=t[0][0];for(let S=0;S<t.length;S++){const T=t[S];for(let E=0;E<T.length;E++){const M=T[E],[R,P]=M;if(f=ju(f,R),g=ju(g,P),v=Uu(v,R),w=Uu(w,P),i&&M.length>2){const N=M[2];n=ju(n,N),a=Uu(a,N)}if(r&&M.length>s){const N=M[s];u=ju(n,N),d=Uu(a,N)}}}return i?r?(e[0]=f,e[1]=g,e[2]=n,e[3]=u,e[4]=v,e[5]=w,e[6]=a,e[7]=d,e.length=8,e):(e[0]=f,e[1]=g,e[2]=n,e[3]=v,e[4]=w,e[5]=a,e.length=6,e):r?(e[0]=f,e[1]=g,e[2]=u,e[3]=v,e[4]=w,e[5]=d,e.length=6,e):(e[0]=f,e[1]=g,e[2]=v,e[3]=w,e.length=4,e)}function tq(e,t,i,r,s,n){const a=t.xmin,u=t.xmax,d=t.ymin,f=t.ymax;let g=t.zmin,v=t.zmax,w=t.mmin,S=t.mmax;return s?(g=g||0,v=v||0,n?(w=w||0,S=S||0,e[0]=a,e[1]=d,e[2]=g,e[3]=w,e[4]=u,e[5]=f,e[6]=v,e[7]=S,e):(e[0]=a,e[1]=d,e[2]=g,e[3]=u,e[4]=f,e[5]=v,e)):n?(w=w||0,S=S||0,e[0]=a,e[1]=d,e[2]=w,e[3]=u,e[4]=f,e[5]=S,e):(e[0]=a,e[1]=d,e[2]=u,e[3]=f,e)}function RI(e,t,i,r,s,n){const a=i?3:2,u=r&&n,d=i&&s;if(!t.length||!t[0].length)return null;let f,g,v,w,[S,T]=t[0],[E,M]=t[0];for(let R=0;R<t.length;R++){const P=t[R],[N,k]=P;if(S=ju(S,N),T=ju(T,k),E=Uu(E,N),M=Uu(M,k),d&&P.length>2){const U=P[2];f=ju(f,U),g=Uu(g,U)}if(u&&P.length>a){const U=P[a];v=ju(f,U),w=Uu(g,U)}}return s?(f=f||0,g=g||0,n?(v=v||0,w=w||0,e[0]=S,e[1]=T,e[2]=f,e[3]=v,e[4]=E,e[5]=M,e[6]=g,e[7]=w,e):(e[0]=S,e[1]=T,e[2]=f,e[3]=E,e[4]=M,e[5]=g,e)):n?(v=v||0,w=w||0,e[0]=S,e[1]=T,e[2]=v,e[3]=E,e[4]=M,e[5]=w,e):(e[0]=S,e[1]=T,e[2]=E,e[3]=M,e)}function xle(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function Mle(e){return e.points!==void 0}function Ale(e){return e.x!==void 0&&e.y!==void 0}function Ole(e){return e.paths!==void 0}function Rle(e){return e.rings!==void 0}const CI=[];function iq(e,t,i,r){return{xmin:e,ymin:t,xmax:i,ymax:r}}function rq(e,t,i,r,s,n){return{xmin:e,ymin:t,zmin:i,xmax:r,ymax:s,zmax:n}}function sq(e,t,i,r,s,n){return{xmin:e,ymin:t,mmin:i,xmax:r,ymax:s,mmax:n}}function nq(e,t,i,r,s,n,a,u){return{xmin:e,ymin:t,zmin:i,mmin:r,xmax:s,ymax:n,zmax:a,mmax:u}}function II(e,t=!1,i=!1){return t?i?nq(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):rq(e[0],e[1],e[2],e[3],e[4],e[5]):i?sq(e[0],e[1],e[2],e[3],e[4],e[5]):iq(e[0],e[1],e[2],e[3])}function SRe(e){return e?xle(e)?e:Ale(e)?Ile(e):Rle(e)?oq(e):Ole(e)?aq(e):Mle(e)?Cle(e):null:null}function Cle(e){const{hasZ:t,hasM:i,points:r}=e;return II(RI(CI,r,t??!1,i??!1),t,i)}function Ile(e){const{x:t,y:i,z:r,m:s}=e,n=s!=null;return r!=null?n?nq(t,i,r,s,t,i,r,s):rq(t,i,r,t,i,r):n?sq(t,i,s,t,i,s):iq(t,i,t,i)}function oq(e){const{hasZ:t,hasM:i,rings:r}=e,s=am(CI,r,t??!1,i??!1);return s?II(s,t,i):null}function aq(e){const{hasZ:t,hasM:i,paths:r}=e,s=am(CI,r,t??!1,i??!1);return s?II(s,t,i):null}var u_;function t6(e){return!Array.isArray(e[0])}function Nle(e){var t;return typeof((t=e[0])==null?void 0:t[0])=="number"}function Ple(e){var n,a;if(!e)return;let{rings:t,hasM:i,hasZ:r,spatialReference:s}=e;switch(t??(t=[]),Nle(t)&&(t=[t]),(a=(n=t[0])==null?void 0:n[0])==null?void 0:a.length){case 4:r??(r=!0),i??(i=!0);break;case 3:r??(r=i!==!0),i??(i=!r);break;default:r??(r=!1),i??(i=!1)}return s??(s=He.WGS84),{...e,hasM:i,hasZ:r,rings:t,spatialReference:s}}let ln=u_=class extends yl{static fromExtent(e){const t=e.clone().normalize(),{spatialReference:i}=e;let r=!1,s=!1;for(const a of t)a.hasZ&&(r=!0),a.hasM&&(s=!0);const n={rings:t.map(a=>{const u=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(r&&a.hasZ){const d=a.zmin+.5*(a.zmax-a.zmin);for(let f=0;f<u.length;f++)u[f].push(d)}if(s&&a.hasM){const d=a.mmin+.5*(a.mmax-a.mmin);for(let f=0;f<u.length;f++)u[f].push(d)}return u}),spatialReference:i};return r&&(n.hasZ=!0),s&&(n.hasM=!0),new u_(n)}constructor(e){super(Ple(e)),this.curveRings=void 0,this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("curveRings"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("rings"),this.commitProperty("spatialReference"),{}}get centroid(){const e=ple(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new Be;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}writeCurveRings(e,t){t.curveRings=j(e)}get extent(){const e=oq(this),{spatialReference:t}=this;return e?new kt({...e,spatialReference:t}):null}get isSelfIntersecting(){return Wae(this.rings)}writeRings(e,t){t.rings=j(this.rings)}addRing(e){if(!e)return;const t=this.rings,i=t.length;if(t6(e)){const r=[];for(let s=0,n=e.length;s<n;s++)r[s]=e[s].toArray();t[i]=r}else t[i]=e.slice();return this.notifyChange("rings"),this}clone(){const e=new u_;return e.spatialReference=this.spatialReference,e.rings=j(this.rings),e.curveRings=j(this.curveRings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,i=e.spatialReference;if(t!=null!=(i!=null)||t!=null&&i!=null&&!t.equals(i)||this.rings.length!==e.rings.length)return!1;const r=([s,n,a,u],[d,f,g,v])=>s===d&&n===f&&(a==null&&g==null||a===g)&&(u==null&&v==null||u===v);for(let s=0;s<this.rings.length;s++){const n=this.rings[s],a=e.rings[s];if(!v2(n,a,r))return!1}return!0}contains(e){if(!e)return!1;const t=Y2(e,this.spatialReference);return _I(this,t??e)}isClockwise(e){const t=t6(e)?e.map(i=>this.hasZ?this.hasM?[i.x,i.y,i.z,i.m]:[i.x,i.y,i.z]:[i.x,i.y]):e;return BG(t)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const i=this.rings[e][t],r=this.hasZ,s=this.hasM;return r&&!s?new Be(i[0],i[1],i[2],void 0,this.spatialReference):s&&!r?new Be(i[0],i[1],void 0,i[2],this.spatialReference):r&&s?new Be(i[0],i[1],i[2],i[3],this.spatialReference):new Be(i[0],i[1],this.spatialReference)}insertPoint(e,t,i){return this._validateInputs(e,t,!0)?(om(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[e].splice(t,0,i),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const i=new Be(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),i}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],i=this.spatialReference,r=t.map(s=>new Be(s,i));return this.notifyChange("rings"),r}setPoint(e,t,i){return this._validateInputs(e,t)?(om(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[e][t]=i,this.notifyChange("rings"),this):this}_validateInputs(e,t,i=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(t!=null){const r=this.rings[e];if(i&&(t<0||t>r.length)||!i&&(t<0||t>=r.length))return!1}return!0}toJSON(e){return this.write({},e)}};c([p({readOnly:!0})],ln.prototype,"cache",null),c([p({readOnly:!0})],ln.prototype,"centroid",null),c([p({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],ln.prototype,"curveRings",void 0),c([de("curveRings")],ln.prototype,"writeCurveRings",null),c([p({readOnly:!0})],ln.prototype,"extent",null),c([p({readOnly:!0})],ln.prototype,"isSelfIntersecting",null),c([p({type:[[[Number]]],json:{write:{isRequired:!0}}})],ln.prototype,"rings",void 0),c([de("rings")],ln.prototype,"writeRings",null),ln=u_=c([O("esri.geometry.Polygon")],ln);const fo=ln;ln.prototype.toJSON.isDefaultToJSON=!0;var xA;function Lle(e){return!Array.isArray(e[0])}function Dle(e){var t;return typeof((t=e[0])==null?void 0:t[0])=="number"}function kle(e){var n,a;if(!e)return;let{paths:t,hasM:i,hasZ:r,spatialReference:s}=e;switch(t??(t=[]),Dle(t)&&(t=[t]),(a=(n=t[0])==null?void 0:n[0])==null?void 0:a.length){case 4:r??(r=!0),i??(i=!0);break;case 3:r??(r=i!==!0),i??(i=!r);break;default:r??(r=!1),i??(i=!1)}return s??(s=He.WGS84),{...e,hasM:i,hasZ:r,paths:t,spatialReference:s}}let zo=xA=class extends yl{constructor(e){super(kle(e)),this.curvePaths=void 0,this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("curvePaths"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("paths"),this.commitProperty("spatialReference"),{}}writeCurvePaths(e,t){t.curvePaths=j(e)}get extent(){const e=aq(this),{spatialReference:t}=this;return e?new kt({...e,spatialReference:t}):null}writePaths(e,t){t.paths=j(this.paths)}addPath(e){if(!e)return;const t=this.paths,i=t.length;if(Lle(e)){const r=[];for(let s=0,n=e.length;s<n;s++)r[s]=e[s].toArray();t[i]=r}else t[i]=e.slice();return this.notifyChange("paths"),this}clone(){const e=new xA;return e.spatialReference=this.spatialReference,e.paths=j(this.paths),e.curvePaths=j(this.curvePaths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const i=this.paths[e][t],r=this.hasZ,s=this.hasM;return r&&!s?new Be(i[0],i[1],i[2],void 0,this.spatialReference):s&&!r?new Be(i[0],i[1],void 0,i[2],this.spatialReference):r&&s?new Be(i[0],i[1],i[2],i[3],this.spatialReference):new Be(i[0],i[1],this.spatialReference)}insertPoint(e,t,i){return this._validateInputs(e,t,!0)?(om(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[e].splice(t,0,i),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],i=this.spatialReference,r=t.map(s=>new Be(s,i));return this.notifyChange("paths"),r}removePoint(e,t){if(!this._validateInputs(e,t))return null;const i=new Be(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),i}setPoint(e,t,i){return this._validateInputs(e,t)?(om(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[e][t]=i,this.notifyChange("paths"),this):this}_validateInputs(e,t,i=!1){if(e==null||e<0||e>=this.paths.length)return!1;if(t!=null){const r=this.paths[e];if(i&&(t<0||t>r.length)||!i&&(t<0||t>=r.length))return!1}return!0}toJSON(e){return this.write({},e)}};c([p({readOnly:!0})],zo.prototype,"cache",null),c([p({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],zo.prototype,"curvePaths",void 0),c([de("curvePaths")],zo.prototype,"writeCurvePaths",null),c([p({readOnly:!0})],zo.prototype,"extent",null),c([p({type:[[[Number]]],json:{write:{isRequired:!0}}})],zo.prototype,"paths",void 0),c([de("paths")],zo.prototype,"writePaths",null),zo=xA=c([O("esri.geometry.Polyline")],zo);const no=zo;zo.prototype.toJSON.isDefaultToJSON=!0;function lq(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function uq(e){return e.points!==void 0}function cq(e){return e.x!==void 0&&e.y!==void 0}function NI(e){return e.paths!==void 0||e.curvePaths!==void 0}function Kd(e){return e.rings!==void 0||e.curveRings!==void 0}function mh(e){return e==null?null:e instanceof yl?e:cq(e)?Be.fromJSON(e):NI(e)?no.fromJSON(e):Kd(e)?fo.fromJSON(e):uq(e)?Q2.fromJSON(e):lq(e)?kt.fromJSON(e):null}function PI(e){return e?cq(e)?"esriGeometryPoint":NI(e)?"esriGeometryPolyline":Kd(e)?"esriGeometryPolygon":lq(e)?"esriGeometryEnvelope":uq(e)?"esriGeometryMultipoint":null:null}const Fle={esriGeometryPoint:Be,esriGeometryPolyline:no,esriGeometryPolygon:fo,esriGeometryEnvelope:kt,esriGeometryMultipoint:Q2,esriGeometryMultiPatch:fo};function jle(e){return e&&Fle[e]||null}const Ule=rr()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),i6=rr()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),Wv={base:yl,key:"type",typeMap:{extent:kt,multipoint:Q2,point:Be,polyline:no,polygon:fo}},r6=new et({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let zle=0,Bp=class extends K{constructor(t){super(t),this.id="sym"+zle++,this.type=null,this.color=new Ie([0,0,0,1])}readColor(t){return(t==null?void 0:t[0])!=null?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,i){}hash(){return JSON.stringify(this.toJSON())}clone(){}};c([p({type:r6.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:r6.write,isRequired:!0}}})],Bp.prototype,"type",void 0),c([p({type:Ie,json:{write:{allowNull:!0}}})],Bp.prototype,"color",void 0),c([le("color")],Bp.prototype,"readColor",null),Bp=c([O("esri.symbols.Symbol")],Bp);const hr=Bp;var MA;let nu=MA=class extends hr{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){Object.assign(t,e)}async collectRequiredFields(e,t){var i;if(((i=this.data)==null?void 0:i.type)==="CIMSymbolReference"){const r=this.data.primitiveOverrides;if(r){const s=r.map(n=>{const a=n.valueExpressionInfo;return a?Rr(e,t,a.expression):null});await Promise.all(s)}}}clone(){return new MA({data:j(this.data)})}hash(){return qU(JSON.stringify(this.data)).toString()}};c([p({json:{write:!1}})],nu.prototype,"color",void 0),c([p({json:{write:!0}})],nu.prototype,"data",void 0),c([le("data",["symbol"])],nu.prototype,"readData",null),c([de("data",{})],nu.prototype,"writeData",null),c([Oe({CIMSymbolReference:"cim"},{readOnly:!0})],nu.prototype,"type",void 0),nu=MA=c([O("esri.symbols.CIMSymbol")],nu);const hc=nu;function hl(e,t,i=ye){return t||(t=new i),t===e||(t.removeAll(),Vle(e)?t.addMany(e):e&&t.add(e)),t}function dq(e){return e}function Vle(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}let Wb;function Gle(e){return Wb&&!Wb.destroyed||(Wb=e()),Wb}var AA;const qle=new et({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let sn=AA=class extends $e{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){e!=="asc"&&e!=="desc"||this._set("sortOrder",e)}clone(){return new AA({categories:this.categories?j(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let i=[];this.categories&&(i=this.categories.map(a=>Array.isArray(a)?JSON.stringify(a):a));let r="";if(this.extent){const a=Y2(this.extent,He.WGS84);a!=null&&(r=`${a.xmin},${a.ymin},${a.xmax},${a.ymax}`)}let s=this.query;!this.disableExtraQuery&&e.extraQuery&&(s="("+s+")"+e.extraQuery);const n={categories:i,bbox:r,q:s,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(n.sortField=this.sortField.split(",").map(a=>qle.toJSON(a.trim())).join(","),n.sortOrder=this.sortOrder),{query:{...t,...n}}}};c([p()],sn.prototype,"categories",void 0),c([p()],sn.prototype,"disableExtraQuery",void 0),c([p({type:kt})],sn.prototype,"extent",void 0),c([p()],sn.prototype,"filter",void 0),c([p()],sn.prototype,"num",void 0),c([p()],sn.prototype,"query",void 0),c([p()],sn.prototype,"sortField",void 0),c([p()],sn.prototype,"sortOrder",null),c([p()],sn.prototype,"start",void 0),sn=AA=c([O("esri.portal.PortalQueryParams")],sn);const ro=sn;var OA;let xi=OA=class extends K{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){var i;const e=this.url,t=this.thumbnail;return e&&t&&this.portal?(i=this.portal)==null?void 0:i.normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal.request(this.url+"/categorySchema",e).then(t=>{const i=t.categorySchema||[];return i.some(r=>r.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",e):i})}fetchMembers(e){return this.portal.request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new z("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new OA({sourceJSON:e});return t.read(e),t}queryItems(e,t){let i=Ci(ro,e);const r=this.portal;return parseFloat(r.currentVersion)>5?(i=i||new ro,r.queryPortal(`/content/groups/${this.id}/search`,i,"PortalItem",t)):(i=i?i.clone():new ro,i.query="group:"+this.id+(i.query?" "+i.query:""),r.queryItems(i,t))}_fetchCategorySchemaSet(e,t){const i=this.portal;return i.fetchSelf(i.authMode,!0,t).then(r=>{const s=r.contentCategorySetsGroupQuery;if(s){const n=new ro({disableExtraQuery:!0,num:1,query:s});return i.queryGroups(n,t)}throw new z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(r=>{if(r.total){const s=r.results[0],n=new ro({num:1,query:`typekeywords:"${e}"`});return s.queryItems(n,t)}throw new z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(r=>r.total?r.results[0].fetchData("json",t).then(s=>{const n=s==null?void 0:s.categorySchema;return n!=null&&n.length?n:[]}):[])}};c([p()],xi.prototype,"access",void 0),c([p({type:Date})],xi.prototype,"created",void 0),c([p()],xi.prototype,"description",void 0),c([p()],xi.prototype,"id",void 0),c([p()],xi.prototype,"isInvitationOnly",void 0),c([p({type:Date})],xi.prototype,"modified",void 0),c([p()],xi.prototype,"owner",void 0),c([p()],xi.prototype,"portal",void 0),c([p()],xi.prototype,"snippet",void 0),c([p()],xi.prototype,"sortField",void 0),c([p()],xi.prototype,"sortOrder",void 0),c([p()],xi.prototype,"sourceJSON",void 0),c([p()],xi.prototype,"tags",void 0),c([p()],xi.prototype,"thumbnail",void 0),c([p({readOnly:!0})],xi.prototype,"thumbnailUrl",null),c([p()],xi.prototype,"title",void 0),c([p({readOnly:!0})],xi.prototype,"url",null),xi=OA=c([O("esri.portal.PortalGroup")],xi);const RA=xi;let ad=class extends $e{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};c([p()],ad.prototype,"nextQueryParams",void 0),c([p()],ad.prototype,"queryParams",void 0),c([p()],ad.prototype,"results",void 0),c([p()],ad.prototype,"total",void 0),ad=c([O("esri.portal.PortalQueryResult")],ad);const Ble=ad;let Ra=class extends K{constructor(t){super(t),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){var i;const t=(i=this.portal)==null?void 0:i.restUrl;return t?`${t}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new z("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};c([p({type:Date})],Ra.prototype,"created",void 0),c([p()],Ra.prototype,"id",void 0),c([p()],Ra.prototype,"portal",void 0),c([p()],Ra.prototype,"title",void 0),c([p({readOnly:!0})],Ra.prototype,"url",null),c([p()],Ra.prototype,"username",void 0),Ra=c([O("esri.portal.PortalFolder")],Ra);const Hle=Ra;var CA;let Pt=CA=class extends K{constructor(e){super(e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal.normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e?`${e}/content/users/${this.username}`:null}get url(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,i=e==null?void 0:e.data,r=e==null?void 0:e.folder,s={method:"post"};t&&(s.query=t.createPostQuery(),i!=null&&(typeof i=="string"?s.query.text=i:typeof i=="object"&&(s.query.text=JSON.stringify(i))));let n=this.userContentUrl;return r&&(n+="/"+(typeof r=="string"?r:r.id)),this.portal.request(n+"/addItem",s).then(a=>(t.id=a.id,t.portal=this.portal,t.loaded?t.reload():t.load()))}async deleteItem(e,t=!1){let i=this.userContentUrl;e.ownerFolder&&(i+="/"+e.ownerFolder);const r=t?{permanentDelete:!0}:{};await this.portal.request(i+`/items/${e.id}/delete`,{method:"post",query:r}),e.id=null,e.portal=null}async deleteItems(e,t=!1){e=e.slice();const i=this.userContentUrl+"/deleteItems",r=[],s=e.map(n=>n.id);if(s.length){const n={method:"post",query:{items:s.join(","),permanentDelete:t}},a=await this.portal.request(i,n);for(const u of a.results){const d=e.find(v=>u.itemId===v.id),f=u.success;let g=null;f?(d.id=null,d.portal=null):u.error&&(g=new z("portal:delete-item-failed",u.error.message,u.error)),r.push({item:d,success:f,error:g})}}return r}fetchFolders(){const e={query:{num:1}};return this.portal.request(this.userContentUrl??"",e).then(t=>{let i;return i=t&&t.folders?t.folders.map(r=>{const s=Hle.fromJSON(r);return s.portal=this.portal,s}):[],i})}fetchGroups(){return this.portal.request(this.url??"").then(e=>{let t;return t=e&&e.groups?e.groups.map(i=>{const r=RA.fromJSON(i);return r.portal=this.portal,r}):[],t})}async fetchItems(e){e??(e={});let t=this.userContentUrl??"";e.folder&&(t+="/"+e.folder.id);const{default:i}=await ue(()=>Promise.resolve().then(()=>KH),void 0,import.meta.url),r={folders:!1,inRecycleBin:!!e.inRecycleBin||null,foldersContent:!(e.folder||!e.includeSubfolderItems)||null,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"},s=await this.portal.request(t,{query:r});let n;return s!=null&&s.items?(n=s.items.map(a=>{const u=i.fromJSON(a);return u.portal=this.portal,u}),await Promise.all(n.map(a=>a.load())),{items:n,nextStart:s.nextStart,total:s.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(e=>e.tags)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new RA({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new z("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(e,t){const i=this.userContentUrl,r=t?{folderID:typeof t=="string"?t:t.id}:null;await this.portal.request(i+`/items/${e.id}/restore`,{method:"post",query:r})}toJSON(){throw new z("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new CA({sourceJSON:e});return t.read(e),t}};c([p()],Pt.prototype,"access",void 0),c([p({type:Date})],Pt.prototype,"created",void 0),c([p()],Pt.prototype,"culture",void 0),c([p()],Pt.prototype,"description",void 0),c([p()],Pt.prototype,"email",void 0),c([p()],Pt.prototype,"favGroupId",void 0),c([p()],Pt.prototype,"fullName",void 0),c([p({type:Date})],Pt.prototype,"modified",void 0),c([p()],Pt.prototype,"orgId",void 0),c([p()],Pt.prototype,"portal",void 0),c([p()],Pt.prototype,"preferredView",void 0),c([p()],Pt.prototype,"privileges",void 0),c([p()],Pt.prototype,"region",void 0),c([p()],Pt.prototype,"role",void 0),c([p()],Pt.prototype,"roleId",void 0),c([p()],Pt.prototype,"sourceJSON",void 0),c([p()],Pt.prototype,"thumbnail",void 0),c([p({readOnly:!0})],Pt.prototype,"thumbnailUrl",null),c([p()],Pt.prototype,"units",void 0),c([p({readOnly:!0})],Pt.prototype,"userContentUrl",null),c([p({readOnly:!0})],Pt.prototype,"url",null),c([p()],Pt.prototype,"username",void 0),c([p()],Pt.prototype,"userLicenseTypeId",void 0),c([p()],Pt.prototype,"userType",void 0),Pt=CA=c([O("esri.portal.PortalUser")],Pt);const LI=Pt;var As;let Zy;const s6={PortalGroup:()=>Promise.resolve({default:RA}),PortalItem:()=>ue(()=>Promise.resolve().then(()=>KH),void 0,import.meta.url),PortalUser:()=>Promise.resolve({default:LI})};let ce=As=class extends K.JSONSupportMixin(cl){constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=bt.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){n6.unregister(this),this.defaultBasemap=Zt(this.defaultBasemap),this.defaultDevBasemap=Zt(this.defaultDevBasemap),this.defaultVectorBasemap=Zt(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=Yt(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)bt.request.trustedServers.includes(t)||bt.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){var i;const e=(i=this.user)==null?void 0:i.orgId,t=!e||this.canSearchPublic;return this.id&&!t?` AND orgid:${this.id}`:null}get hasAPIKey(){return yV(this.url)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.slice(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let t=null;return e&&(t=LI.fromJSON(e),t.portal=this),t}load(e){const t=ue(()=>Promise.resolve().then(()=>X0e),void 0,import.meta.url).then(({default:i})=>{ei(e),Zy=i}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e)).then(i=>{var r;if(!this.hasAPIKey&&Ge){const s=Ge;this.credential=s.findCredential(this.restUrl),this.credential||this.authMode!==As.AUTH_MODE_AUTO&&this.authMode!==As.AUTH_MODE_NO_PROMPT||((r=this._esriIdCredentialCreateHandle)==null||r.remove(),this._esriIdCredentialCreateHandle=s.on("credential-create",Wle(new WeakRef(this))),n6.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=i,this.read(i)});return this.addResolvingPromise(t),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await ue(async()=>{const{default:i}=await import("./ElevationLayer-li1_T34H.js");return{default:i}},__vite__mapDeps([23,24,25,26,27,15,28]),import.meta.url)).default;return e?e.map(i=>new t({id:i.id,url:i.url})):[]}async fetchBasemaps(e,t){const i=await this._fetchBasemaps(e,t);if((t==null?void 0:t.include3d)===!0&&this.use3dBasemaps!==!1){const r=await this._fetchBasemaps3D(e,t);i.unshift(...r)}return i}async fetchDefault3DBasemap(e){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||this.default3DBasemapQuery==="none")return null;const t=new ro;t.query=this.default3DBasemapQuery,t.disableExtraQuery=!0;const i=(await this.queryItems(t,e)).results.find(r=>r.type==="Web Scene");return i?new Zy({portalItem:i}):null}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then(t=>t.categorySchema):Us(e)?Promise.reject(Dt()):Promise.resolve([])}async fetchClassificationSchema(e){return this.hasClassificationSchema?this.request(this.restUrl+"/portals/self/classification/classificationSchema",e).then(t=>t.classificationSchema):null}fetchFeaturedGroups(e){const t=this.featuredGroups,i=new ro({num:100,sortField:"title"});if(t!=null&&t.length){const r=[];for(const s of t)r.push(`(title:"${s.title}" AND owner:${s.owner})`);return i.query=r.join(" OR "),this.queryGroups(i,e).then(s=>s.results)}return Us(e)?Promise.reject(Dt()):Promise.resolve([])}fetchRegions(e){var i;const t=((i=this.user)==null?void 0:i.culture)||this.culture||ds();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:t}})}fetchSettings(e){var i;const t=((i=this.user)==null?void 0:i.culture)||this.culture||ds();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:t}})}static getDefault(){return Gle(()=>new As)}queryGroups(e,t){return this.queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this.queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",t)}fetchSelf(e=this.authMode,t=!1,i){const r=this.restUrl+"/portals/self",s={authMode:e,query:{culture:ds().toLowerCase()},withCredentials:!0,...i};return s.authMode==="auto"&&(s.authMode="no-prompt"),t&&(s.query.default=!0),this.request(r,s)}queryPortal(e,t,i,r){const s=Ci(ro,t),n=a=>this.request(this.restUrl+e,{...s.toRequestOptions(this),...r}).then(u=>{const d=s.clone();return d.start=u.nextStart,new Ble({nextQueryParams:d,queryParams:s,total:u.total,results:As._resultsToTypedArray(a,{portal:this},u,r)})}).then(u=>Promise.all(u.results.map(d=>typeof d.when=="function"?d.when():u)).then(()=>u,d=>(qo(d),u)));return i&&s6[i]?s6[i]().then(({default:a})=>(ei(r),n(a))):n()}signIn(){if(this.hasAPIKey)return this.load().then(()=>{if(!this.user)throw new z("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")});if(this.authMode===As.AUTH_MODE_ANONYMOUS||this.authMode===As.AUTH_MODE_NO_PROMPT&&!Ge)return Promise.reject(new z("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=t=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(t||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=t,this.fetchSelf("immediate"))):this.user&&this.credential===t?null:(this.credential=t,this.fetchSelf("immediate"))).then(i=>{i&&(this.sourceJSON=i,this.read(i))});return Ge?Ge.getCredential(this.restUrl,{prompt:this.authMode!==As.AUTH_MODE_NO_PROMPT}).then(t=>e(t)):e(this.credential)}normalizeUrl(e){var i;const t=(i=this.credential)==null?void 0:i.token;return this._normalizeSSL(t?e+(e.includes("?")?"&":"?")+"token="+t:e)}requestToTypedArray(e,t,i){return this.request(e,t).then(r=>{const s=As._resultsToTypedArray(i,{portal:this},r);return Promise.all(s.map(n=>typeof n.when=="function"?n.when():r)).then(()=>s,()=>s)})}request(e,t={}){const i={f:"json",...t.query},{authMode:r=this.authMode===As.AUTH_MODE_ANONYMOUS||this.authMode===As.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:s=null,cacheBust:n=!1,method:a="auto",responseType:u="json",signal:d}=t,f={authMode:r,body:s,cacheBust:n,method:a,query:i,responseType:u,timeout:0,signal:d};return t.withCredentials&&(f.withCredentials=!0),Lt(this._normalizeSSL(e),f).then(g=>g.data)}toJSON(){throw new z("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new As({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new z("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}async _fetchBasemaps(e,t){const i=new ro;i.query=e||(this.hasAPIKey?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),i.disableExtraQuery=!0;const r=await this.queryGroups(i,t);if(!r.total)return[];const s=r.results[0];i.num=100,i.query='type:"Web Map" -type:"Web Application"',i.sortField=s.sortField||"name",i.sortOrder=s.sortOrder||"desc";const n=await s.queryItems(i,t);return n.total?n.results.filter(a=>a.type==="Web Map").map(a=>new Zy({portalItem:a})):[]}async _fetchBasemaps3D(e,t){const i=e||this.basemapGalleryGroupQuery3D;if(!i)return[];if(this.hasAPIKey)return[];const r=new ro({query:i,disableExtraQuery:!0}),s=await this.queryGroups(r,t);if(!s.total)return[];const n=s.results[0];r.num=100,r.query='type:"Web Scene"',r.sortField=n.sortField||"name",r.sortOrder=n.sortOrder||"desc";const a=await n.queryItems(r,t);return a.total?a.results.filter(u=>u.type==="Web Scene").map(u=>new Zy({portalItem:u})):[]}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const t=Zy.fromJSON(e);return t.portalItem={portal:this},t}return null}static _resultsToTypedArray(e,t,i,r){let s;if(i){const n=r!=null?r.signal:null;s=i.listings||i.notifications||i.userInvitations||i.tags||i.items||i.groups||i.comments||i.provisions||i.results||i.relatedItems||i,(e||t)&&(s=s.map(a=>{const u=Object.assign(e?e.fromJSON(a):a,t);return typeof u.load=="function"&&u.load(n),u}))}else s=[];return s}};ce.AUTH_MODE_ANONYMOUS="anonymous",ce.AUTH_MODE_AUTO="auto",ce.AUTH_MODE_IMMEDIATE="immediate",ce.AUTH_MODE_NO_PROMPT="no-prompt",c([p()],ce.prototype,"access",void 0),c([p()],ce.prototype,"allSSL",void 0),c([p()],ce.prototype,"authMode",void 0),c([p()],ce.prototype,"authorizedCrossOriginDomains",void 0),c([le("authorizedCrossOriginDomains")],ce.prototype,"readAuthorizedCrossOriginDomains",null),c([p()],ce.prototype,"basemapGalleryGroupQuery",void 0),c([p({json:{name:"3DBasemapGalleryGroupQuery"}})],ce.prototype,"basemapGalleryGroupQuery3D",void 0),c([p()],ce.prototype,"bingKey",void 0),c([p()],ce.prototype,"canListApps",void 0),c([p()],ce.prototype,"canListData",void 0),c([p()],ce.prototype,"canListPreProvisionedItems",void 0),c([p()],ce.prototype,"canProvisionDirectPurchase",void 0),c([p()],ce.prototype,"canSearchPublic",void 0),c([p()],ce.prototype,"canShareBingPublic",void 0),c([p()],ce.prototype,"canSharePublic",void 0),c([p()],ce.prototype,"canSignInArcGIS",void 0),c([p()],ce.prototype,"canSignInIDP",void 0),c([p()],ce.prototype,"colorSetsGroupQuery",void 0),c([p()],ce.prototype,"commentsEnabled",void 0),c([p({type:Date})],ce.prototype,"created",void 0),c([p()],ce.prototype,"credential",void 0),c([p()],ce.prototype,"culture",void 0),c([p()],ce.prototype,"currentVersion",void 0),c([p()],ce.prototype,"customBaseUrl",void 0),c([p()],ce.prototype,"default3DBasemapQuery",void 0),c([p()],ce.prototype,"defaultBasemap",void 0),c([le("defaultBasemap")],ce.prototype,"readDefaultBasemap",null),c([p()],ce.prototype,"defaultDevBasemap",void 0),c([le("defaultDevBasemap")],ce.prototype,"readDefaultDevBasemap",null),c([p({type:kt})],ce.prototype,"defaultExtent",void 0),c([p()],ce.prototype,"defaultVectorBasemap",void 0),c([le("defaultVectorBasemap")],ce.prototype,"readDefaultVectorBasemap",null),c([p()],ce.prototype,"description",void 0),c([p()],ce.prototype,"devBasemapGalleryGroupQuery",void 0),c([p()],ce.prototype,"eueiEnabled",void 0),c([p({readOnly:!0})],ce.prototype,"extraQuery",null),c([p()],ce.prototype,"featuredGroups",void 0),c([p()],ce.prototype,"featuredItemsGroupQuery",void 0),c([p()],ce.prototype,"galleryTemplatesGroupQuery",void 0),c([p()],ce.prototype,"layoutGroupQuery",void 0),c([p()],ce.prototype,"livingAtlasGroupQuery",void 0),c([p({readOnly:!0})],ce.prototype,"hasAPIKey",null),c([p()],ce.prototype,"hasCategorySchema",void 0),c([p()],ce.prototype,"hasClassificationSchema",void 0),c([p()],ce.prototype,"helpBase",void 0),c([p()],ce.prototype,"helperServices",void 0),c([p()],ce.prototype,"helpMap",void 0),c([p()],ce.prototype,"homePageFeaturedContent",void 0),c([p()],ce.prototype,"homePageFeaturedContentCount",void 0),c([p()],ce.prototype,"httpPort",void 0),c([p()],ce.prototype,"httpsPort",void 0),c([p()],ce.prototype,"id",void 0),c([p()],ce.prototype,"ipCntryCode",void 0),c([p({readOnly:!0})],ce.prototype,"isOrganization",null),c([p()],ce.prototype,"isPortal",void 0),c([p()],ce.prototype,"isReadOnly",void 0),c([p({readOnly:!0})],ce.prototype,"itemPageUrl",null),c([p()],ce.prototype,"layerTemplatesGroupQuery",void 0),c([p()],ce.prototype,"maxTokenExpirationMinutes",void 0),c([p({type:Date})],ce.prototype,"modified",void 0),c([p()],ce.prototype,"name",void 0),c([p()],ce.prototype,"portalHostname",void 0),c([p()],ce.prototype,"portalMode",void 0),c([p()],ce.prototype,"portalProperties",void 0),c([p()],ce.prototype,"region",void 0),c([p()],ce.prototype,"recycleBinEnabled",void 0),c([p({readOnly:!0})],ce.prototype,"restUrl",null),c([p()],ce.prototype,"rotatorPanels",void 0),c([p()],ce.prototype,"showHomePageDescription",void 0),c([p()],ce.prototype,"sourceJSON",void 0),c([p()],ce.prototype,"staticImagesUrl",void 0),c([p({json:{name:"2DStylesGroupQuery"}})],ce.prototype,"stylesGroupQuery2d",void 0),c([p({json:{name:"stylesGroupQuery"}})],ce.prototype,"stylesGroupQuery3d",void 0),c([p()],ce.prototype,"supportsHostedServices",void 0),c([p()],ce.prototype,"symbolSetsGroupQuery",void 0),c([p()],ce.prototype,"templatesGroupQuery",void 0),c([p()],ce.prototype,"thumbnail",void 0),c([p({readOnly:!0})],ce.prototype,"thumbnailUrl",null),c([p()],ce.prototype,"units",void 0),c([p()],ce.prototype,"url",void 0),c([p()],ce.prototype,"urlKey",void 0),c([le("urlKey")],ce.prototype,"readUrlKey",null),c([p()],ce.prototype,"user",void 0),c([le("user")],ce.prototype,"readUser",null),c([p()],ce.prototype,"use3dBasemaps",void 0),c([p()],ce.prototype,"useDefault3dBasemap",void 0),c([p()],ce.prototype,"useStandardizedQuery",void 0),c([p()],ce.prototype,"useVectorBasemaps",void 0),c([p()],ce.prototype,"vectorBasemapGalleryGroupQuery",void 0),ce=As=c([O("esri.portal.Portal")],ce);const ms=ce,n6=new FinalizationRegistry(e=>{e.remove()});function Wle(e){const t=Ge;return()=>{const i=e.deref();i&&t.findCredential(i.restUrl)&&i.signIn().catch(()=>{})}}let Hp=class extends K{constructor(t){super(t),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(t,i,r){t||(i[r]=t)}};c([p({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],Hp.prototype,"enabled",void 0),c([de("enabled")],Hp.prototype,"writeEnabled",null),c([p({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0,json:{write:{isRequired:!0}}})],Hp.prototype,"type",void 0),Hp=c([O("esri.symbols.Symbol3DLayer")],Hp);const ia=Hp,Zle=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,Yle="screenUtils.toPt: input not recognized!",hq=96;function Jle(e){return e?e/72*hq:0}function _n(e){return e?72*e/hq:0}function at(e){if(typeof e=="string"){const t=e.match(Zle);if(t){const i=Number(t[1]),r=t[3]&&t[3].toLowerCase(),s=e.charAt(0)==="-",n=r==="px"?_n(i):i;return s?-n:n}return console.warn(Yle),null}return e}function tr(e=0,t=0){return{x:e,y:t}}function MRe(e){return e?tr(e.x,e.y):null}function ARe(e=0,t=0){return[e,t]}function ORe(e=0,t=0,i=0){return[e,t,i]}function RRe(e){return e}function CRe(e){return e}function IRe(e){return e}function NRe(e,t){return t?(t[0]=e.x,t[1]=e.y,t.length>2&&(t[2]=0),t):[e.x,e.y]}function eT(e){const t=IC(100*(1-e));return Math.max(0,Math.min(t,100))}function uv(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}function Xle(e,t){const i=t.transparency!=null?uv(t.transparency):1,r=t.color;return r&&Array.isArray(r)?new Ie([r[0]||0,r[1]||0,r[2]||0,i]):null}function Qle(e,t){t.color=e.toJSON().slice(0,3);const i=eT(e.a);i!==0&&(t.transparency=i)}function pc(e){return{type:Ie,nonNullable:e==null?void 0:e.nonNullable,json:{type:[ht],default:null,read:{source:["color","transparency"],reader:Xle},write:{target:{color:{type:[ht],isRequired:e==null?void 0:e.colorRequiredOnWrite},transparency:{type:ht}},writer:Qle}}}}const Ko={type:Number,cast:at,json:{write:!0}};let ld=class extends K{constructor(t){super(t),this.color=new Ie([0,0,0,1]),this.extensionLength=0,this.size=_n(1)}clone(){}cloneProperties(){return{color:j(this.color),size:this.size,extensionLength:this.extensionLength}}};c([p({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],ld.prototype,"type",void 0),c([p(pc({colorRequiredOnWrite:!0}))],ld.prototype,"color",void 0),c([p({...Ko,json:{write:{overridePolicy:e=>({enabled:!!e})}}})],ld.prototype,"extensionLength",void 0),c([p(Ko)],ld.prototype,"size",void 0),ld=c([O("esri.symbols.edges.Edges3D")],ld);const DI=ld;var IA;let c_=IA=class extends DI{constructor(e){super(e),this.type="sketch"}clone(){return new IA(this.cloneProperties())}};c([Oe({sketch:"sketch"},{readOnly:!0})],c_.prototype,"type",void 0),c_=IA=c([O("esri.symbols.edges.SketchEdges3D")],c_);const Kle=c_;var NA;let d_=NA=class extends DI{constructor(e){super(e),this.type="solid"}clone(){return new NA(this.cloneProperties())}};c([Oe({solid:"solid"},{readOnly:!0})],d_.prototype,"type",void 0),d_=NA=c([O("esri.symbols.edges.SolidEdges3D")],d_);const pq=d_,fq={types:{key:"type",base:DI,typeMap:{solid:pq,sketch:Kle}},json:{write:!0}};function fc(){return[0,0,0]}function kI(e){return[e[0],e[1],e[2]]}function $m(e,t,i){return[e,t,i]}function eue(e,t,i){return[e,t,i]}function tue(e,t=fc()){const i=Math.min(3,e.length);for(let r=0;r<i;++r)t[r]=e[r];return t}function iue(e,t){return new Float64Array(e,t,3)}function mq(){return fc()}function yq(){return $m(1,1,1)}function gq(){return $m(1,0,0)}function vq(){return $m(0,1,0)}function bq(){return $m(0,0,1)}const rue=mq(),sue=yq(),nue=gq(),oue=vq(),aue=bq();Object.freeze(Object.defineProperty({__proto__:null,ONES:sue,UNIT_X:nue,UNIT_Y:oue,UNIT_Z:aue,ZEROS:rue,clone:kI,create:fc,createView:iue,freeze:eue,fromArray:tue,fromValues:$m,ones:yq,unitX:gq,unitY:vq,unitZ:bq,zeros:mq},Symbol.toStringTag,{value:"Module"}));var PA;let Ds=PA=class extends K{constructor(e){super(e),this.color=null,this.emissiveFactor=null}clone(){var t;const e={color:((t=this.color)==null?void 0:t.clone())??null,emissiveFactor:this.emissiveFactor?kI(this.emissiveFactor):null};return new PA(e)}};c([p(pc())],Ds.prototype,"color",void 0),c([p({type:[Number],json:{write:!1}})],Ds.prototype,"emissiveFactor",void 0),Ds=PA=c([O("esri.symbols.support.Symbol3DMaterial")],Ds);var LA;let ou=LA=class extends ia{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){var e,t;return new LA({edges:(e=this.edges)==null?void 0:e.clone(),enabled:this.enabled,material:(t=this.material)==null?void 0:t.clone(),castShadows:this.castShadows,size:this.size})}};c([Oe({Extrude:"extrude"},{readOnly:!0})],ou.prototype,"type",void 0),c([p({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],ou.prototype,"size",void 0),c([p({type:Ds,json:{write:!0}})],ou.prototype,"material",void 0),c([p({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],ou.prototype,"castShadows",void 0),c([p(fq)],ou.prototype,"edges",void 0),ou=LA=c([O("esri.symbols.ExtrudeSymbol3DLayer")],ou);const wq=ou;let h_=class extends K{constructor(t){super(t)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};c([p({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],h_.prototype,"type",void 0),h_=c([O("esri.symbols.patterns.LinePattern3D")],h_);const _q=h_,lue=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var DA;const uue=rr()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let Ng=DA=class extends _q{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new DA(e)}};c([p({type:["style"],json:{write:{isRequired:!0}}})],Ng.prototype,"type",void 0),c([Oe(uue),p({type:lue,json:{write:{isRequired:!0}}})],Ng.prototype,"style",void 0),Ng=DA=c([O("esri.symbols.patterns.LineStylePattern3D")],Ng);const FI=Ng;let p_=class extends K{constructor(t){super(t),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};c([p({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],p_.prototype,"type",void 0),p_=c([O("esri.symbols.patterns.Pattern3D")],p_);const Sq=p_,cue=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var kA;let Pg=kA=class extends Sq{constructor(e){super(e),this.type="style",this.style="solid"}clone(){return new kA({style:this.style})}};c([p({type:["style"],json:{write:{isRequired:!0}}})],Pg.prototype,"type",void 0),c([p({type:cue,json:{read:!0,write:{isRequired:!0}}})],Pg.prototype,"style",void 0),Pg=kA=c([O("esri.symbols.patterns.StylePattern3D")],Pg);const Tq=Pg,due={types:{key:"type",base:Sq,typeMap:{style:Tq}},json:{write:!0}},Eq={types:{key:"type",base:_q,typeMap:{style:FI}},json:{write:!0}},A0=new Ie("white"),hue=new Ie([255,255,255,0]);function pue(e){return e.r===0&&e.g===0&&e.b===0}var FA;let O0=FA=class extends Ds{constructor(e){super(e),this.colorMixMode=null}clone(){var t;const e={color:((t=this.color)==null?void 0:t.clone())??null,emissiveFactor:this.emissiveFactor?kI(this.emissiveFactor):null,colorMixMode:this.colorMixMode};return new FA(e)}};c([Oe({multiply:"multiply",replace:"replace",tint:"tint"})],O0.prototype,"colorMixMode",void 0),O0=FA=c([O("esri.symbols.support.Symbol3DFillMaterial")],O0);function fue(e,t=!1){return e<=kU?t?new Array(e).fill(0):new Array(e):new Float64Array(e)}function kRe(e){return(cK(e)?e.byteLength/8:e.length)<=kU?Array.from(e):new Float64Array(e)}function FRe(e,t,i){return Array.isArray(e)?e.slice(t,t+i):e.subarray(t,t+i)}function Zv(e=vue){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function jI(e,t,i,r,s,n,a=Zv()){return a[0]=e,a[1]=t,a[2]=i,a[3]=r,a[4]=s,a[5]=n,a}function jRe(e,t=Zv()){return mue(e,0,e.length/3,t)}function mue(e,t,i,r=Zv()){return $q(r,jA),yue(r,e,t,i),r}function URe(e,t=fue(24)){const[i,r,s,n,a,u]=e;return t[0]=i,t[1]=r,t[2]=s,t[3]=i,t[4]=r,t[5]=u,t[6]=i,t[7]=a,t[8]=s,t[9]=i,t[10]=a,t[11]=u,t[12]=n,t[13]=r,t[14]=s,t[15]=n,t[16]=r,t[17]=u,t[18]=n,t[19]=a,t[20]=s,t[21]=n,t[22]=a,t[23]=u,t}function zRe(e,t){const i=isFinite(e[2])||isFinite(e[5]);return new kt(i?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function VRe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function GRe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[3]=Math.max(e[3],t[2]),e[4]=Math.max(e[4],t[3])}function qRe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function yue(e,t,i=0,r=t.length/3){let s=e[0],n=e[1],a=e[2],u=e[3],d=e[4],f=e[5];for(let g=0;g<r;g++)s=Math.min(s,t[i+3*g]),n=Math.min(n,t[i+3*g+1]),a=Math.min(a,t[i+3*g+2]),u=Math.max(u,t[i+3*g]),d=Math.max(d,t[i+3*g+1]),f=Math.max(f,t[i+3*g+2]);e[0]=s,e[1]=n,e[2]=a,e[3]=u,e[4]=d,e[5]=f}function BRe(e,t,i){const r=t.length;let s=e[0],n=e[1],a=e[2],u=e[3],d=e[4],f=e[5];if(i)for(let g=0;g<r;g++){const v=t[g];s=Math.min(s,v[0]),n=Math.min(n,v[1]),a=Math.min(a,v[2]),u=Math.max(u,v[0]),d=Math.max(d,v[1]),f=Math.max(f,v[2])}else for(let g=0;g<r;g++){const v=t[g];s=Math.min(s,v[0]),n=Math.min(n,v[1]),u=Math.max(u,v[0]),d=Math.max(d,v[1])}e[0]=s,e[1]=n,e[2]=a,e[3]=u,e[4]=d,e[5]=f}function HRe(e){for(let t=0;t<6;t++)if(!isFinite(e[t]))return!1;return!0}function Yv(e){return e[0]>=e[3]?0:e[3]-e[0]}function Jv(e){return e[1]>=e[4]?0:e[4]-e[1]}function Xv(e){return e[2]>=e[5]?0:e[5]-e[2]}function WRe(e){const t=Yv(e),i=Xv(e),r=Jv(e);return Math.sqrt(t*t+i*i+r*r)}function ZRe(e,t=[0,0,0]){return t[0]=e[0]+Yv(e)/2,t[1]=e[1]+Jv(e)/2,t[2]=e[2]+Xv(e)/2,t}function YRe(e,t=[0,0,0]){return t[0]=Yv(e),t[1]=Jv(e),t[2]=Xv(e),t}function JRe(e,t){return t[0]>=e[0]&&t[1]>=e[1]&&t[2]>=e[2]&&t[0]<=e[3]&&t[1]<=e[4]&&t[2]<=e[5]}function gue(e,t){return Math.max(t[0],e[0])<=Math.min(t[3],e[3])&&Math.max(t[1],e[1])<=Math.min(t[4],e[4])&&Math.max(t[2],e[2])<=Math.min(t[5],e[5])}function XRe(e,t){return t==null||gue(e,t)}function QRe(e,t,i,r,s=e){return s[0]=e[0]+t,s[1]=e[1]+i,s[2]=e[2]+r,s[3]=e[3]+t,s[4]=e[4]+i,s[5]=e[5]+r,s}function KRe(e,t,i=e){const r=e[0]+Yv(e)/2,s=e[1]+Jv(e)/2,n=e[2]+Xv(e)/2;return i[0]=r+(e[0]-r)*t,i[1]=s+(e[1]-s)*t,i[2]=n+(e[2]-n)*t,i[3]=r+(e[3]-r)*t,i[4]=s+(e[4]-s)*t,i[5]=n+(e[5]-n)*t,i}function eCe(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function tCe(e,t,i=e){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i!==e&&(i[3]=e[3],i[4]=e[4],i[5]=e[5]),i}function iCe(e,t,i=e){return i[3]=t[0],i[4]=t[1],i[5]=t[2],i!==e&&(i[0]=e[0],i[1]=e[1],i[2]=e[2]),e}function $q(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function rCe(e){return e?$q(e,jA):Zv(jA)}function sCe(e,t){return t||(t=qr()),t[0]=e[0],t[1]=e[1],t[2]=e[3],t[3]=e[4],t}function nCe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function oCe(e,t,i,r,s){return e[0]=t,e[1]=i,e[2]=Number.NEGATIVE_INFINITY,e[3]=r,e[4]=s,e[5]=Number.POSITIVE_INFINITY,e}function o6(e){return e.length===6}function aCe(e){return Yv(e)===0&&Jv(e)===0&&Xv(e)===0}function lCe(e,t,i){if(e==null||t==null)return e===t;if(!o6(e)||!o6(t))return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}const jA=[1/0,1/0,1/0,-1/0,-1/0,-1/0],vue=[0,0,0,0,0,0];Zv();function uCe(e,{isPrimitive:t,width:i,depth:r,height:s}){const n=t?10:1;if(i==null&&s==null&&r==null)return[n*e[0],n*e[1],n*e[2]];const a=$m(i,r,s);let u;for(let d=0;d<3;d++){const f=a[d];if(f!=null){u=f/e[d];break}}for(let d=0;d<3;d++)a[d]==null&&(a[d]=e[d]*u);return a}const bue=jI(-.5,-.5,-.5,.5,.5,.5),wue=jI(-.5,-.5,0,.5,.5,1),_ue=jI(-.5,-.5,0,.5,.5,.5);function cCe(e){switch(e){case"sphere":case"cube":case"diamond":return bue;case"cylinder":case"cone":case"inverted-cone":return wue;case"tetrahedron":return _ue;default:return}}const UI=["butt","square","round"],Sue=[...UI,"none"],xq=["miter","bevel","round"];var UA;let ud=UA=class extends K{constructor(e){super(e),this.color=new Ie([0,0,0,1]),this.size=_n(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new UA(e)}};c([p(pc({colorRequiredOnWrite:!0}))],ud.prototype,"color",void 0),c([p({...Ko,json:{write:{isRequired:!0}}})],ud.prototype,"size",void 0),c([p(Eq)],ud.prototype,"pattern",void 0),c([p({type:UI,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],ud.prototype,"patternCap",void 0),ud=UA=c([O("esri.symbols.support.Symbol3DOutline")],ud);var f_;let Ca=f_=class extends ia{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new f_(e)}static fromSimpleFillSymbol(e){var r,s,n;const t=e.outline&&e.outline.style&&e.outline.style!=="solid"?new FI({style:e.outline.style}):null,i={size:((r=e.outline)==null?void 0:r.width)??0,color:(((s=e.outline)==null?void 0:s.color)??A0).clone(),pattern:t};return t&&((n=e.outline)!=null&&n.cap)&&(i.patternCap=e.outline.cap),new f_({material:new O0({color:(e.color??hue).clone()}),pattern:e.style&&e.style!=="solid"?new Tq({style:e.style}):null,outline:i})}};c([Oe({Fill:"fill"},{readOnly:!0})],Ca.prototype,"type",void 0),c([p({type:O0,json:{write:!0}})],Ca.prototype,"material",void 0),c([p(due)],Ca.prototype,"pattern",void 0),c([p({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Ca.prototype,"castShadows",void 0),c([p({type:ud,json:{write:!0}})],Ca.prototype,"outline",void 0),c([p(fq)],Ca.prototype,"edges",void 0),Ca=f_=c([O("esri.symbols.FillSymbol3DLayer")],Ca);const Eh=Ca;var zA;const Tue=rr()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let cd=zA=class extends K{constructor(e){super(e)}readHref(e,t,i){return e?Sm(e,i):t.dataURI}writeHref(e,t,i,r){e&&(_h(e)?t.dataURI=e:(t.href=Vv(e,r),js(t.href)&&(t.href=oo(t.href))))}clone(){return new zA({href:this.href,primitive:this.primitive})}};c([p({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],cd.prototype,"href",void 0),c([le("href")],cd.prototype,"readHref",null),c([de("href",{href:{type:String},dataURI:{type:String}})],cd.prototype,"writeHref",null),c([Oe(Tue)],cd.prototype,"primitive",void 0),cd=zA=c([O("esri.symbols.support.IconSymbol3DLayerResource")],cd);const dCe="circle";var VA;let Sf=VA=class extends $e{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new VA({x:this.x,y:this.y})}};c([p({type:Number})],Sf.prototype,"x",void 0),c([p({type:Number})],Sf.prototype,"y",void 0),Sf=VA=c([O("esri.symbols.support.Symbol3DAnchorPosition2D")],Sf);var GA;let Lg=GA=class extends K{constructor(e){super(e),this.color=new Ie([0,0,0,1]),this.size=_n(1)}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size};return new GA(e)}};c([p(pc({colorRequiredOnWrite:!0}))],Lg.prototype,"color",void 0),c([p({...Ko,json:{write:{isRequired:!0}}})],Lg.prototype,"size",void 0),Lg=GA=c([O("esri.symbols.support.Symbol3DIconOutline")],Lg);var Wp;const Mq="esri.symbols.IconSymbol3DLayer";let qn=Wp=class extends ia{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0}clone(){return new Wp({anchor:this.anchor,anchorPosition:j(this.anchorPosition),enabled:this.enabled,material:j(this.material),outline:j(this.outline),resource:j(this.resource),angle:this.angle,size:this.size})}static fromSimpleMarkerSymbol(e){const t=e.color||A0,i=a6(e),r=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||A0).clone()}:null;return new Wp({size:e.size,angle:e.angle,resource:{primitive:$ue(e.style)},material:{color:t},outline:r,anchor:i?"relative":void 0,anchorPosition:i})}static fromPictureMarkerSymbol(e){const t=!e.color||pue(e.color)?A0:e.color,i=a6(e);return new Wp({size:e.width<=e.height?e.height:e.width,angle:e.angle,resource:{href:e.url},material:{color:t.clone()},anchor:i?"relative":void 0,anchorPosition:i})}static fromCIMSymbol(e){return new Wp({resource:{href:nV({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};c([p({type:Ds,json:{write:!0}})],qn.prototype,"material",void 0),c([p({type:cd,json:{write:!0}})],qn.prototype,"resource",void 0),c([Oe({Icon:"icon"},{readOnly:!0})],qn.prototype,"type",void 0),c([p({...Ko,json:{write:{isRequired:!0}}})],qn.prototype,"size",void 0),c([Oe({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],qn.prototype,"anchor",void 0),c([p({type:Sf,json:{type:[Number],read:{reader:e=>new Sf({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],qn.prototype,"anchorPosition",void 0),c([p({type:Lg,json:{write:!0}})],qn.prototype,"outline",void 0),c([p({type:Number,json:{write:!0,default:0}})],qn.prototype,"angle",void 0),qn=Wp=c([O(Mq)],qn);const Hd=qn;function a6(e){const t="width"in e?e.width:e.size,i="height"in e?e.height:e.size,r=l6(e.xoffset),s=l6(e.yoffset);return(r||s)&&t&&i?{x:-r/t,y:s/i}:null}function l6(e){return isFinite(e)?e:0}const Eue={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function $ue(e){return Eue[e]||(ne.getLogger(Mq).warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const xue=["begin","end","begin-end"],Aq=["arrow","circle","square","diamond","cross","x"];let dd=class extends rt.ClonableMixin(K){constructor(t){super(t),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(t){return t!=null&&t.placement===this.placement&&t.style===this.style&&(this.color==null&&t.color==null||this.color!=null&&t.color!=null&&this.color.toJSON()===t.color.toJSON())}};c([p({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],dd.prototype,"type",void 0),c([p({type:xue,json:{default:"begin-end",write:!0}})],dd.prototype,"placement",void 0),c([p({type:Aq,json:{default:"arrow",write:!0}})],dd.prototype,"style",void 0),c([p({type:Ie,json:{type:[ht],default:null,write:!0}})],dd.prototype,"color",void 0),dd=c([O("esri.symbols.LineStyleMarker3D")],dd);const qA=dd;var m_;let Ao=m_=class extends ia{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=_n(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new m_(e)}static fromSimpleLineSymbol(e){var i;const t={enabled:!0,size:e.width??_n(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style?new FI({style:e.style}):null,material:new Ds({color:(e.color||A0).clone()}),marker:e.marker?new qA({placement:e.marker.placement,style:e.marker.style,color:((i=e.marker.color)==null?void 0:i.clone())??null}):null};return new m_(t)}};c([p({type:Ds,json:{write:!0}})],Ao.prototype,"material",void 0),c([Oe({Line:"line"},{readOnly:!0})],Ao.prototype,"type",void 0),c([p({type:xq,json:{write:!0,default:"miter"}})],Ao.prototype,"join",void 0),c([p({type:UI,json:{write:!0,default:"butt"}})],Ao.prototype,"cap",void 0),c([p({...Ko,json:{write:{isRequired:!0}}})],Ao.prototype,"size",void 0),c([p(Eq)],Ao.prototype,"pattern",void 0),c([p({types:{key:"type",base:qA,typeMap:{style:qA}},json:{write:!0}})],Ao.prototype,"marker",void 0),Ao=m_=c([O("esri.symbols.LineSymbol3DLayer")],Ao);const xm=Ao;var BA;const Mue=rr()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let Dg=BA=class extends K{clone(){return new BA({href:this.href,primitive:this.primitive})}};c([p({type:String,json:{read:tI,write:oh}})],Dg.prototype,"href",void 0),c([Oe(Mue)],Dg.prototype,"primitive",void 0),Dg=BA=c([O("esri.symbols.support.ObjectSymbol3DLayerResource")],Dg);const pCe="sphere";var HA;let Ud=HA=class extends $e{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new HA({x:this.x,y:this.y,z:this.z})}};c([p({type:Number})],Ud.prototype,"x",void 0),c([p({type:Number})],Ud.prototype,"y",void 0),c([p({type:Number})],Ud.prototype,"z",void 0),Ud=HA=c([O("esri.symbols.support.Symbol3DAnchorPosition3D")],Ud);var WA;let br=WA=class extends ia{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){var e,t,i;return new WA({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:(e=this.anchorPosition)==null?void 0:e.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:((t=this.material)==null?void 0:t.clone())??null,castShadows:this.castShadows,resource:(i=this.resource)==null?void 0:i.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};c([p({type:Ds,json:{write:!0}})],br.prototype,"material",void 0),c([p({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],br.prototype,"castShadows",void 0),c([p({type:Dg,json:{write:!0}})],br.prototype,"resource",void 0),c([Oe({Object:"object"},{readOnly:!0})],br.prototype,"type",void 0),c([p({type:Number,json:{write:!0}})],br.prototype,"width",void 0),c([p({type:Number,json:{write:!0}})],br.prototype,"height",void 0),c([p({type:Number,json:{write:!0}})],br.prototype,"depth",void 0),c([Oe({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],br.prototype,"anchor",void 0),c([p({type:Ud,json:{type:[Number],read:{reader:e=>new Ud({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],br.prototype,"anchorPosition",void 0),c([p({type:Number,json:{write:!0}})],br.prototype,"heading",void 0),c([p({type:Number,json:{write:!0}})],br.prototype,"tilt",void 0),c([p({type:Number,json:{write:!0}})],br.prototype,"roll",void 0),c([p({readOnly:!0})],br.prototype,"isPrimitive",null),br=WA=c([O("esri.symbols.ObjectSymbol3DLayer")],br);const zI=br;var ZA;let kr=ZA=class extends ia{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,t){return e??(t.height==null&&t.size!=null?t.size:void 0)}readHeight(e,t){return e??(t.width==null&&t.size!=null?t.size:void 0)}clone(){return new ZA({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};c([p({type:Ds,json:{write:!0}})],kr.prototype,"material",void 0),c([p({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],kr.prototype,"castShadows",void 0),c([Oe({Path:"path"},{readOnly:!0})],kr.prototype,"type",void 0),c([p({type:["circle","quad"],json:{write:!0,default:"circle"}})],kr.prototype,"profile",void 0),c([p({type:xq,json:{write:!0,default:"miter"}})],kr.prototype,"join",void 0),c([p({type:Sue,json:{write:!0,default:"butt"}})],kr.prototype,"cap",void 0),c([p({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],kr.prototype,"width",void 0),c([le("width",["width","size","height"])],kr.prototype,"readWidth",null),c([p({type:Number,json:{write:!0}})],kr.prototype,"height",void 0),c([le("height",["height","size","width"])],kr.prototype,"readHeight",null),c([p({type:["center","bottom","top"],json:{write:!0,default:"center"}})],kr.prototype,"anchor",void 0),c([p({type:["heading","all"],json:{write:!0,default:"all"}})],kr.prototype,"profileRotation",void 0),kr=ZA=c([O("esri.symbols.PathSymbol3DLayer")],kr);const VI=kr,Aue=["none","underline","line-through"],Oue=["normal","italic","oblique"],Rue=["normal","lighter","bold","bolder"],Oq={type:Number,cast:e=>{const t=Gr(e);return t===0?1:bn(t,.1,4)},nonNullable:!0},Cue=["left","right","center"],Iue=["baseline","top","middle","bottom"],Rq={type:Cue,nonNullable:!0},Cq={type:Iue,nonNullable:!0},fCe=8;var YA;let Ia=YA=class extends K{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return at(e)}clone(){return new YA({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};c([p({type:Aue,json:{default:"none",write:!0}})],Ia.prototype,"decoration",void 0),c([p({type:String,json:{write:!0}})],Ia.prototype,"family",void 0),c([p({type:Number,json:{write:{overridePolicy:(e,t,i)=>({enabled:!i||!i.textSymbol3D})}}})],Ia.prototype,"size",void 0),c([lt("size")],Ia.prototype,"castSize",null),c([p({type:Oue,json:{default:"normal",write:!0}})],Ia.prototype,"style",void 0),c([p({type:Rue,json:{default:"normal",write:!0}})],Ia.prototype,"weight",void 0),Ia=YA=c([O("esri.symbols.Font")],Ia);const tT=Ia;var JA;let Tf=JA=class extends K{constructor(){super(...arguments),this.color=new Ie([0,0,0,1]),this.size=0}clone(){const e={color:j(this.color),size:this.size};return new JA(e)}};c([p(pc())],Tf.prototype,"color",void 0),c([p(Ko)],Tf.prototype,"size",void 0),Tf=JA=c([O("esri.symbols.support.Symbol3DHalo")],Tf);let R0=class extends rt.ClonableMixin(K){constructor(t){super(t),this.color=null}};c([p(pc())],R0.prototype,"color",void 0),R0=c([O("esri.symbols.support.Symbol3DTextBackground")],R0);var y_;let es=y_=class extends ia{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){e!=null&&this._userSize!=null&&(e.size=this._userSize),this._set("font",e)}writeFont(e,t,i,r){const s={...r,textSymbol3D:!0};t.font=e.write({},s),delete t.font.size}get size(){var e;return this._userSize!=null?this._userSize:((e=this.font)==null?void 0:e.size)!=null?this.font.size:9}set size(e){this._userSize=e,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new y_({enabled:this.enabled,font:this.font&&j(this.font),halo:this.halo&&j(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:j(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new y_({font:e.font!=null?e.font.clone():new tT,halo:Nue(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new Ds({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new R0({color:e.backgroundColor.clone()}):null})}};function Nue(e,t){return e&&t!=null&&t>0?new Tf({color:j(e),size:t}):null}c([p({type:tT,json:{write:!0}})],es.prototype,"font",null),c([de("font")],es.prototype,"writeFont",null),c([p({type:Tf,json:{write:!0}})],es.prototype,"halo",void 0),c([p({...Rq,json:{default:"center",write:!0}})],es.prototype,"horizontalAlignment",void 0),c([p({...Oq,json:{default:1,write:!0}})],es.prototype,"lineHeight",void 0),c([p({type:Ds,json:{write:!0}})],es.prototype,"material",void 0),c([p({type:R0,json:{write:!0}})],es.prototype,"background",void 0),c([p(Ko)],es.prototype,"size",null),c([p({type:String,json:{write:!0}})],es.prototype,"text",void 0),c([Oe({Text:"text"},{readOnly:!0})],es.prototype,"type",void 0),c([p({...Cq,json:{default:"baseline",write:!0}})],es.prototype,"verticalAlignment",void 0),es=y_=c([O("esri.symbols.TextSymbol3DLayer")],es);const Mm=es;var XA;let au=XA=class extends ia{constructor(e){super(e),this.color=QA.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new XA({color:j(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};c([p({type:Ie,nonNullable:!0,json:{type:[ht],write:(e,t,i)=>t[i]=e.toArray(Ie.AlphaMode.UNLESS_OPAQUE),default:()=>QA.clone(),defaultEquals:e=>e.toCss(!0)===QA.toCss(!0)}})],au.prototype,"color",void 0),c([Oe({Water:"water"},{readOnly:!0})],au.prototype,"type",void 0),c([p({type:["small","medium","large"],json:{write:!0,default:"medium"}})],au.prototype,"waterbodySize",void 0),c([p({type:Number,json:{write:!0,default:null}})],au.prototype,"waveDirection",void 0),c([p({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],au.prototype,"waveStrength",void 0),au=XA=c([O("esri.symbols.WaterSymbol3DLayer")],au);const Iq=au,QA=new Ie([0,119,190]);var KA;let hd=KA=class extends $e{constructor(e){super(e),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new KA({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};c([p({type:String})],hd.prototype,"name",void 0),c([p({type:String})],hd.prototype,"styleUrl",void 0),c([p({type:String})],hd.prototype,"styleName",void 0),c([p({type:ms})],hd.prototype,"portal",void 0),hd=KA=c([O("esri.symbols.support.StyleOrigin")],hd);const eO=hd;var tO;let C0=tO=class extends $e{constructor(){super(...arguments),this.url=""}clone(){return new tO({url:this.url})}};c([p({type:String})],C0.prototype,"url",void 0),C0=tO=c([O("esri.symbols.support.Thumbnail")],C0);const Nq={icon:Hd,object:zI,line:xm,path:VI,fill:Eh,extrude:wq,text:Mm,water:Iq},Pue=ye.ofType({base:ia,key:"type",typeMap:Nq,errorContext:"symbol-layer"});let Oo=class extends hr{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;const i=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,r=i==null?void 0:i.type,s=r||ye;this._set("symbolLayers",new s)}get color(){return null}set color(t){this.constructed&&ne.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){hl(t,this._get("symbolLayers"))}readStyleOrigin(t,i,r){if(t.styleUrl&&t.name){const s=Sm(t.styleUrl,r);return new eO({styleUrl:s,name:t.name})}if(t.styleName&&t.name)return new eO({portal:(r==null?void 0:r.portal)||ms.getDefault(),styleName:t.styleName,name:t.name});r!=null&&r.messages&&r.messages.push(new vn("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:r,definition:t}))}writeStyleOrigin(t,i,r,s){if(t.styleUrl&&t.name){let n=Vv(t.styleUrl,s);js(n)&&(n=oo(n)),i.styleOrigin={styleUrl:n,name:t.name}}else t.styleName&&t.name&&(t.portal&&(s!=null&&s.portal)&&!sV(t.portal.restUrl,s.portal.restUrl)?s!=null&&s.messages&&s.messages.push(new vn("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):i.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof ia||t&&Nq[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};c([p({json:{read:!1,write:!1}})],Oo.prototype,"color",null),c([p({type:Pue,nonNullable:!0,json:{write:!0}}),lt(dq)],Oo.prototype,"symbolLayers",null),c([p({type:eO})],Oo.prototype,"styleOrigin",void 0),c([le("styleOrigin")],Oo.prototype,"readStyleOrigin",null),c([de("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],Oo.prototype,"writeStyleOrigin",null),c([p({type:C0,json:{read:!1}})],Oo.prototype,"thumbnail",void 0),c([p({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],Oo.prototype,"type",void 0),Oo=c([O("esri.symbols.Symbol3D")],Oo);const Qv=Oo;let kg=class extends K{constructor(t){super(t),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};c([p({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,isRequired:!0}}})],kg.prototype,"type",void 0),c([p({readOnly:!0})],kg.prototype,"visible",void 0),kg=c([O("esri.symbols.callouts.Callout3D")],kg);const Pq=kg;var iO;let g_=iO=class extends K{constructor(e){super(e),this.color=new Ie("white")}clone(){return new iO({color:j(this.color)})}};c([p(pc({colorRequiredOnWrite:!0}))],g_.prototype,"color",void 0),g_=iO=c([O("esri.symbols.callouts.LineCallout3DBorder")],g_);const Lue=g_;var rO;let lu=rO=class extends Pq{constructor(e){super(e),this.type="line",this.color=new Ie([0,0,0,1]),this.size=_n(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new rO({color:j(this.color),size:this.size,border:j(this.border)})}};c([Oe({line:"line"})],lu.prototype,"type",void 0),c([p(pc({colorRequiredOnWrite:!0}))],lu.prototype,"color",void 0),c([p({...Ko,json:{write:{isRequired:!0}}})],lu.prototype,"size",void 0),c([p({type:Lue,json:{write:!0}})],lu.prototype,"border",void 0),c([p({readOnly:!0})],lu.prototype,"visible",null),lu=rO=c([O("esri.symbols.callouts.LineCallout3D")],lu);const Lq=lu;function GI(e){if(!e)return!1;const t=e.verticalOffset;return!(!t||t.screenLength<=0||t.maxWorldLength!=null&&t.maxWorldLength<=0)}function Dq(e){if(!e||!e.supportsCallout||!e.supportsCallout())return!1;const t=e.callout;return!!(t!=null&&t.visible)&&!!GI(e)}function vCe(e){return e.type==="point-3d"||e.type==="label-3d"}function bCe(e){return e.horizontalAlignment==="center"}const kq={types:{key:"type",base:Pq,typeMap:{line:Lq}},json:{write:!0}};var sO;let Zp=sO=class extends K{constructor(e){super(e),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new sO({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};c([p({...Ko,json:{write:{isRequired:!0}}})],Zp.prototype,"screenLength",void 0),c([p({type:Number,nonNullable:!0,json:{write:!0,default:0}})],Zp.prototype,"minWorldLength",void 0),c([p({type:Number,json:{write:!0}})],Zp.prototype,"maxWorldLength",void 0),Zp=sO=c([O("esri.symbols.support.Symbol3DVerticalOffset")],Zp);const qI=Zp;var v_;const Fq=ye.ofType({base:null,key:"type",typeMap:{text:Mm}});let uu=v_=class extends Qv{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new Fq,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return Dq(this)}hasVisibleVerticalOffset(){return GI(this)}clone(){return new v_({styleOrigin:j(this.styleOrigin),symbolLayers:j(this.symbolLayers),thumbnail:j(this.thumbnail),callout:j(this.callout),verticalOffset:j(this.verticalOffset)})}static fromTextSymbol(e){return new v_({symbolLayers:new ye([Mm.fromTextSymbol(e)])})}};c([p({type:qI,json:{write:!0}})],uu.prototype,"verticalOffset",void 0),c([p(kq)],uu.prototype,"callout",void 0),c([p({json:{read:!1,write:!1}})],uu.prototype,"styleOrigin",void 0),c([p({type:Fq})],uu.prototype,"symbolLayers",void 0),c([Oe({LabelSymbol3D:"label-3d"},{readOnly:!0})],uu.prototype,"type",void 0),uu=v_=c([O("esri.symbols.LabelSymbol3D")],uu);const iT=uu;var b_;const jq=ye.ofType({base:null,key:"type",typeMap:{line:xm,path:VI}}),Due=ye.ofType({base:null,key:"type",typeMap:{line:xm,path:VI}});let Fg=b_=class extends Qv{constructor(e){super(e),this.symbolLayers=new jq,this.type="line-3d"}clone(){return new b_({styleOrigin:j(this.styleOrigin),symbolLayers:j(this.symbolLayers),thumbnail:j(this.thumbnail)})}static fromSimpleLineSymbol(e){return new b_({symbolLayers:new ye([xm.fromSimpleLineSymbol(e)])})}};c([p({type:jq,json:{type:Due}})],Fg.prototype,"symbolLayers",void 0),c([Oe({LineSymbol3D:"line-3d"},{readOnly:!0})],Fg.prototype,"type",void 0),Fg=b_=c([O("esri.symbols.LineSymbol3D")],Fg);const $h=Fg;var w_;const Uq=ye.ofType({base:null,key:"type",typeMap:{fill:Eh}});let jg=w_=class extends Qv{constructor(e){super(e),this.symbolLayers=new Uq,this.type="mesh-3d"}clone(){return new w_({styleOrigin:j(this.styleOrigin),symbolLayers:j(this.symbolLayers),thumbnail:j(this.thumbnail)})}static fromSimpleFillSymbol(e){return new w_({symbolLayers:new ye([Eh.fromSimpleFillSymbol(e)])})}};c([p({type:Uq})],jg.prototype,"symbolLayers",void 0),c([Oe({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],jg.prototype,"type",void 0),jg=w_=c([O("esri.symbols.MeshSymbol3D")],jg);const Kv=jg;let Ug=class extends hr{constructor(t){super(t),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};c([Oe({esriSLS:"simple-line"},{readOnly:!0})],Ug.prototype,"type",void 0),c([p({type:Number,cast:at,json:{write:!0}})],Ug.prototype,"width",void 0),Ug=c([O("esri.symbols.LineSymbol")],Ug);const kue=Ug;var nO;let Ro=nO=class extends K{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,i,r){t[i]=(r==null?void 0:r.origin)==="web-map"?"arrow":e}set color(e){this._set("color",e)}readColor(e){return(e==null?void 0:e[0])!=null?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,i,r){(r==null?void 0:r.origin)==="web-map"||(t[i]=e)}clone(){return new nO({color:j(this.color),placement:this.placement,style:this.style})}hash(){var e;return`${this.placement}.${(e=this.color)==null?void 0:e.hash()}.${this.style}`}};c([p({type:["begin","end","begin-end"],json:{write:!0}})],Ro.prototype,"placement",void 0),c([Oe({"line-marker":"line-marker"},{readOnly:!0}),p({json:{origins:{"web-map":{write:!1}}}})],Ro.prototype,"type",void 0),c([p({type:Aq})],Ro.prototype,"style",void 0),c([de("style")],Ro.prototype,"writeStyle",null),c([p({type:Ie,value:null,json:{write:{allowNull:!0}}})],Ro.prototype,"color",null),c([le("color")],Ro.prototype,"readColor",null),c([de("color")],Ro.prototype,"writeColor",null),Ro=nO=c([O("esri.symbols.LineSymbolMarker")],Ro);const Fue=Ro;var oO;const kx=new et({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let Na=oO=class extends kue{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,i,r,s,n){if(e&&typeof e!="string")return e;const a={};return e!=null&&(a.style=e),t!=null&&(a.color=t),i!=null&&(a.width=at(i)),r!=null&&(a.cap=r),s!=null&&(a.join=s),n!=null&&(a.miterLimit=at(n)),a}clone(){var e;return new oO({color:j(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:(e=this.marker)==null?void 0:e.clone()})}hash(){var e,t;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${(t=this.marker)==null?void 0:t.hash()}`}};c([Oe({esriSLS:"simple-line"},{readOnly:!0})],Na.prototype,"type",void 0),c([p({type:kx.apiValues,json:{read:kx.read,write:kx.write}})],Na.prototype,"style",void 0),c([p({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,i)=>({enabled:e!=="round"&&(i==null?void 0:i.origin)==null})}}})],Na.prototype,"cap",void 0),c([p({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,i)=>({enabled:e!=="round"&&(i==null?void 0:i.origin)==null})}}})],Na.prototype,"join",void 0),c([p({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":Fue}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],Na.prototype,"marker",void 0),c([p({type:Number,json:{read:!1,write:!1}})],Na.prototype,"miterLimit",void 0),Na=oO=c([O("esri.symbols.SimpleLineSymbol")],Na);const Vs=Na;let zg=class extends hr{constructor(t){super(t),this.outline=null,this.type=null}hash(){var t;return`${this.type}.${(t=this.outline)==null?void 0:t.hash()}`}};c([p({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Vs}},json:{default:null,write:!0}})],zg.prototype,"outline",void 0),c([p({type:["simple-fill","picture-fill"],readOnly:!0})],zg.prototype,"type",void 0),zg=c([O("esri.symbols.FillSymbol")],zg);const zq=zg;function jue(e,t,i){return t.imageData?nV({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):Vq(t.url,i)}function Vq(e,t){if(!js(e)){const i=zue(t);if(i)return Qf(i,"images",e)}return Sm(e,t)}function Uue(e,t,i,r){if(_h(e)){const s=Kf(e);if(!s)return;t.contentType=s.mediaType,t.imageData=s.data,i&&i.imageData===t.imageData&&i.url&&oh(i.url,t,"url",r)}else oh(e,t,"url",r)}const Gq={json:{read:{source:["imageData","url"],reader:jue},write:{writer(e,t,i,r){Uue(e,t,this.source,r)}}}},qq={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,i){const r={};return t.imageData&&(r.imageData=t.imageData),t.contentType&&(r.contentType=t.contentType),t.url&&(r.url=Vq(t.url,i)),r}}}};function zue(e){var s,n;if(!e)return null;const{origin:t,layer:i}=e;if(t!=="service"&&t!=="portal-item")return null;const r=i==null?void 0:i.type;return r==="feature"||r==="stream"?(s=i.parsedUrl)==null?void 0:s.path:r==="map-image"||r==="tile"?(n=e.url)==null?void 0:n.path:null}var aO;let nn=aO=class extends zq{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,i,r){if(e&&typeof e!="string"&&e.imageData==null)return e;const s={};return e&&(s.url=e),t&&(s.outline=t),i!=null&&(s.width=at(i)),r!=null&&(s.height=at(r)),s}clone(){const e=new aO({color:j(this.color),height:this.height,outline:j(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",j(this.source)),e}hash(){var e;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};c([Oe({esriPFS:"picture-fill"},{readOnly:!0})],nn.prototype,"type",void 0),c([p(Gq)],nn.prototype,"url",void 0),c([p({type:Number,json:{write:!0}})],nn.prototype,"xscale",void 0),c([p({type:Number,json:{write:!0}})],nn.prototype,"yscale",void 0),c([p({type:Number,cast:at,json:{write:!0}})],nn.prototype,"width",void 0),c([p({type:Number,cast:at,json:{write:!0}})],nn.prototype,"height",void 0),c([p({type:Number,cast:at,json:{write:!0}})],nn.prototype,"xoffset",void 0),c([p({type:Number,cast:at,json:{write:!0}})],nn.prototype,"yoffset",void 0),c([p(qq)],nn.prototype,"source",void 0),nn=aO=c([O("esri.symbols.PictureFillSymbol")],nn);const BI=nn;let cu=class extends hr{constructor(t){super(t),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};c([p({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],cu.prototype,"angle",void 0),c([p({type:["simple-marker","picture-marker"],readOnly:!0})],cu.prototype,"type",void 0),c([p({type:Number,cast:at,json:{write:!0}})],cu.prototype,"xoffset",void 0),c([p({type:Number,cast:at,json:{write:!0}})],cu.prototype,"yoffset",void 0),c([p({cast:e=>e==="auto"?e:Gr(at(e)),json:{write:!0}})],cu.prototype,"size",void 0),cu=c([O("esri.symbols.MarkerSymbol")],cu);const Bq=cu;var lO;let Bn=lO=class extends Bq{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string"&&e.imageData==null)return e;const r={};return e&&(r.url=e),t!=null&&(r.width=at(t)),i!=null&&(r.height=at(i)),r}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new lO({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",j(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};c([p({json:{write:!1}})],Bn.prototype,"color",void 0),c([Oe({esriPMS:"picture-marker"},{readOnly:!0})],Bn.prototype,"type",void 0),c([p(Gq)],Bn.prototype,"url",void 0),c([p(qq)],Bn.prototype,"source",void 0),c([p({type:Number,cast:at,json:{write:!0}})],Bn.prototype,"height",void 0),c([le("height",["height","size"])],Bn.prototype,"readHeight",null),c([p({type:Number,cast:at,json:{write:!0}})],Bn.prototype,"width",void 0),c([p({json:{write:!1}})],Bn.prototype,"size",void 0),Bn=lO=c([O("esri.symbols.PictureMarkerSymbol")],Bn);const e1=Bn;var pd;const Hq=ye.ofType({base:null,key:"type",typeMap:{icon:Hd,object:zI,text:Mm}});let fd=pd=class extends Qv{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new Hq,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return Dq(this)}hasVisibleVerticalOffset(){return GI(this)}clone(){return new pd({verticalOffset:j(this.verticalOffset),callout:j(this.callout),styleOrigin:j(this.styleOrigin),symbolLayers:j(this.symbolLayers),thumbnail:j(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new pd({symbolLayers:new ye([Hd.fromSimpleMarkerSymbol(e)])})}static fromPictureMarkerSymbol(e){return new pd({symbolLayers:new ye([Hd.fromPictureMarkerSymbol(e)])})}static fromCIMSymbol(e){var r,s;if(((s=(r=e.data)==null?void 0:r.symbol)==null?void 0:s.type)!=="CIMPointSymbol")return null;const i=e.data.symbol;return new pd(i!=null&&i.callout?{symbolLayers:new ye([Hd.fromCIMSymbol(e)]),callout:new Lq({size:.5,color:new Ie([0,0,0])}),verticalOffset:new qI({screenLength:40})}:{symbolLayers:new ye([Hd.fromCIMSymbol(e)])})}static fromTextSymbol(e){return new pd({symbolLayers:new ye([Mm.fromTextSymbol(e)])})}};c([p({type:qI,json:{write:!0}})],fd.prototype,"verticalOffset",void 0),c([p(kq)],fd.prototype,"callout",void 0),c([p({type:Hq,json:{origins:{"web-scene":{write:!0}}}})],fd.prototype,"symbolLayers",void 0),c([Oe({PointSymbol3D:"point-3d"},{readOnly:!0})],fd.prototype,"type",void 0),fd=pd=c([O("esri.symbols.PointSymbol3D")],fd);const rl=fd;var Vg;const Wq=ye.ofType({base:null,key:"type",typeMap:{extrude:wq,fill:Eh,icon:Hd,line:xm,object:zI,text:Mm,water:Iq}});let Gg=Vg=class extends Qv{constructor(e){super(e),this.symbolLayers=new Wq,this.type="polygon-3d"}initialize(){const e=t=>{t.type==="line"&&J0(ne.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),t.type==="text"&&J0(ne.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const t of this.symbolLayers)e(t);this.addHandles(rc(()=>this.symbolLayers,"after-add",({item:t})=>e(t),Qo))}clone(){return new Vg({styleOrigin:j(this.styleOrigin),symbolLayers:j(this.symbolLayers),thumbnail:j(this.thumbnail)})}static fromJSON(e){var i;const t=new Vg;if(t.read(e),t.symbolLayers.length===2&&t.symbolLayers.at(0).type==="fill"&&t.symbolLayers.at(1).type==="line"){const r=t.symbolLayers.at(0),s=t.symbolLayers.at(1);!s.enabled||(i=e.symbolLayers)!=null&&i[1]&&e.symbolLayers[1].enable===!1||(r.outline={size:s.size,color:s.material!=null?s.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new Vg({symbolLayers:new ye([Eh.fromSimpleFillSymbol(e)])})}};c([p({type:Wq,json:{write:!0}})],Gg.prototype,"symbolLayers",void 0),c([Oe({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],Gg.prototype,"type",void 0),Gg=Vg=c([O("esri.symbols.PolygonSymbol3D")],Gg);const mc=Gg;var uO;const Fx=new et({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let md=uO=class extends zq{constructor(...e){super(...e),this.color=new Ie([0,0,0,.25]),this.outline=new Vs,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string")return e;const r={};return e&&(r.style=e),t&&(r.outline=t),i&&(r.color=i),r}clone(){return new uO({color:j(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};c([p()],md.prototype,"color",void 0),c([p()],md.prototype,"outline",void 0),c([Oe({esriSFS:"simple-fill"},{readOnly:!0})],md.prototype,"type",void 0),c([p({type:Fx.apiValues,json:{read:Fx.read,write:Fx.write}})],md.prototype,"style",void 0),md=uO=c([O("esri.symbols.SimpleFillSymbol")],md);const xh=md;var cO;const jx=new et({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let Co=cO=class extends Bq{constructor(...e){super(...e),this.color=new Ie([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new Vs}normalizeCtorArgs(e,t,i,r){if(e&&typeof e!="string")return e;const s={};return e&&(s.style=e),t!=null&&(s.size=at(t)),i&&(s.outline=i),r&&(s.color=r),s}writeColor(e,t){e&&this.style!=="x"&&this.style!=="cross"&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new cO({angle:this.angle,color:j(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var e;return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${(e=this.outline)==null?void 0:e.hash()}`}};c([p()],Co.prototype,"color",void 0),c([de("color")],Co.prototype,"writeColor",null),c([Oe({esriSMS:"simple-marker"},{readOnly:!0})],Co.prototype,"type",void 0),c([p()],Co.prototype,"size",void 0),c([p({type:jx.apiValues,json:{read:jx.read,write:jx.write}})],Co.prototype,"style",void 0),c([p({type:String,json:{write:!0}})],Co.prototype,"path",null),c([p({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Vs}},json:{default:null,write:!0}})],Co.prototype,"outline",void 0),Co=cO=c([O("esri.symbols.SimpleMarkerSymbol")],Co);const ra=Co;var dO;let qt=dO=class extends hr{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new tT,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string")return e;const r={};return e&&(r.text=e),t&&(r.font=t),i&&(r.color=i),r}writeLineWidth(e,t,i,r){r&&typeof r!="string"?r.origin:t[i]=e}castLineWidth(e){return at(e)}writeLineHeight(e,t,i,r){r&&typeof r!="string"?r.origin:t[i]=e}clone(){return new dO({angle:this.angle,backgroundColor:j(this.backgroundColor),borderLineColor:j(this.borderLineColor),borderLineSize:this.borderLineSize,color:j(this.color),font:this.font&&this.font.clone(),haloColor:j(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var e,t,i;return`${(e=this.backgroundColor)==null?void 0:e.hash()}.${this.borderLineColor}.${this.borderLineSize}.${(t=this.color)==null?void 0:t.hash()}.${this.font&&this.font.hash()}.${(i=this.haloColor)==null?void 0:i.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};c([p({type:Ie,json:{write:!0}})],qt.prototype,"backgroundColor",void 0),c([p({type:Ie,json:{write:!0}})],qt.prototype,"borderLineColor",void 0),c([p({type:Number,json:{write:!0},cast:at})],qt.prototype,"borderLineSize",void 0),c([p({type:tT,json:{write:!0}})],qt.prototype,"font",void 0),c([p({...Rq,json:{write:!0}})],qt.prototype,"horizontalAlignment",void 0),c([p({type:Boolean,json:{write:!0}})],qt.prototype,"kerning",void 0),c([p({type:Ie,json:{write:!0}})],qt.prototype,"haloColor",void 0),c([p({type:Number,cast:at,json:{write:!0}})],qt.prototype,"haloSize",void 0),c([p({type:Boolean,json:{write:!0}})],qt.prototype,"rightToLeft",void 0),c([p({type:Boolean,json:{write:!0}})],qt.prototype,"rotated",void 0),c([p({type:String,json:{write:!0}})],qt.prototype,"text",void 0),c([Oe({esriTS:"text"},{readOnly:!0})],qt.prototype,"type",void 0),c([p({...Cq,json:{write:!0}})],qt.prototype,"verticalAlignment",void 0),c([p({type:Number,cast:at,json:{write:!0}})],qt.prototype,"xoffset",void 0),c([p({type:Number,cast:at,json:{write:!0}})],qt.prototype,"yoffset",void 0),c([p({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],qt.prototype,"angle",void 0),c([p({type:Number,json:{write:!0}})],qt.prototype,"width",void 0),c([p({type:Number})],qt.prototype,"lineWidth",void 0),c([de("lineWidth")],qt.prototype,"writeLineWidth",null),c([lt("lineWidth")],qt.prototype,"castLineWidth",null),c([p(Oq)],qt.prototype,"lineHeight",void 0),c([de("lineHeight")],qt.prototype,"writeLineHeight",null),qt=dO=c([O("esri.symbols.TextSymbol")],qt);const Am=qt;var hO;let Hn=hO=class extends hr{constructor(e){super(e),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const e=this.portal!=null?this.portal:ms.getDefault(),t=e.user?e.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${t}:${e.url}`}read(e,t){this.portal=t==null?void 0:t.portal,super.read(e,t)}clone(){return new hO({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){const t=e&&"acceptedFormats"in e?e.acceptedFormats:["web"];return this._fetchSymbol({...e,acceptedFormats:t})}async fetchCIMSymbol(e){const t=await this.fetchSymbol({...e,acceptedFormats:["cim"]});if((t==null?void 0:t.type)!=="cim")throw new z("webstylesymbol:fetchCIMSymbol","Resolved web style symbol is not of type 'cim'");return t}async _fetchSymbol(e){const t=e!=null?e.cache:null,i=t?this._fetchCacheKey:null;if(t!=null){const a=i&&t.get(i);if(a)return a.clone()}const{resolveWebStyleSymbol:r}=await ue(()=>import("./webStyleSymbolUtils-An8wE-GD.js"),__vite__mapDeps([29,30,31]),import.meta.url);ei(e);const s=r(this,{portal:this.portal},e);s.catch(a=>{ne.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",a)});const n=await s;return t!=null&&t.set(i,n.clone()),n}};c([p({json:{write:!1}})],Hn.prototype,"color",void 0),c([p({type:String,json:{write:!0}})],Hn.prototype,"styleName",void 0),c([p({type:ms,json:{write:!1}})],Hn.prototype,"portal",void 0),c([p({type:String,json:{read:tI,write:oh}})],Hn.prototype,"styleUrl",void 0),c([p({type:C0,json:{read:!1}})],Hn.prototype,"thumbnail",void 0),c([p({type:String,json:{write:!0}})],Hn.prototype,"name",void 0),c([Oe({styleSymbolReference:"web-style"},{readOnly:!0})],Hn.prototype,"type",void 0),c([p()],Hn.prototype,"_fetchCacheKey",null),Hn=hO=c([O("esri.symbols.WebStyleSymbol")],Hn);const sc=Hn;function TCe(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function Zq(e){switch(e==null?void 0:e.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const zu={base:hr,key:"type",typeMap:{"simple-fill":xh,"picture-fill":BI,"picture-marker":e1,"simple-line":Vs,"simple-marker":ra,text:Am,"label-3d":iT,"line-3d":$h,"mesh-3d":Kv,"point-3d":rl,"polygon-3d":mc,"web-style":sc,cim:hc},errorContext:"symbol"},ECe={base:hr,key:"type",typeMap:{"picture-marker":e1,"simple-marker":ra,"point-3d":rl,cim:hc},errorContext:"symbol"},$Ce={base:hr,key:"type",typeMap:{"simple-line":Vs,"line-3d":$h,cim:hc},errorContext:"symbol"},xCe={base:hr,key:"type",typeMap:{"simple-fill":xh,"picture-fill":BI,"polygon-3d":mc,cim:hc},errorContext:"symbol"},Vue={base:hr,key:"type",typeMap:{"picture-marker":e1,"simple-marker":ra,text:Am,"web-style":sc,cim:hc},errorContext:"symbol"},Gue=ym({types:zu}),Yq={base:hr,key:"type",typeMap:{"simple-fill":xh,"picture-fill":BI,"picture-marker":e1,"simple-line":Vs,"simple-marker":ra,text:Am,"line-3d":$h,"mesh-3d":Kv,"point-3d":rl,"polygon-3d":mc,"web-style":sc,cim:hc},errorContext:"symbol"},que={base:hr,key:"type",typeMap:{text:Am,"label-3d":iT},errorContext:"symbol"},u6={base:hr,key:"type",typeMap:{"line-3d":$h,"mesh-3d":Kv,"point-3d":rl,"polygon-3d":mc,"web-style":sc,cim:hc},errorContext:"symbol"},Bue={base:hr,key:"type",typeMap:{"label-3d":iT},errorContext:"symbol"},Jq=co(zu);var pO;function Hue(e){if(!e)return null;const t={};for(const i in e){const r=mh(e[i]);r&&(t[i]=r)}return Object.keys(t).length!==0?t:null}function Wue(e){if(e==null)return null;const t={};for(const i in e){const r=e[i];r&&(t[i]=r.toJSON())}return Object.keys(t).length!==0?t:null}let ts=pO=class extends rt.ClonableMixin(K){constructor(e){super(e),this.isAggregate=!1,this.layer=null,this.origin=null,this.popupTemplate=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:kw(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&sK(ne.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(e){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),(e==null?void 0:e.type)!=="mesh"&&this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}get version(){return this._version}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}cloneShallow(){return new pO({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;const t=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const i of[t,this.sourceLayer,this.layer])if(i){if("popupTemplate"in i&&i.popupTemplate)return i.popupTemplate;if(e&&"defaultPopupTemplate"in i&&i.defaultPopupTemplate!=null)return i.defaultPopupTemplate}return null}getAttribute(e){var t;return(t=this.attributes)==null?void 0:t[e]}setAttribute(e,t){if(this.attributes){const i=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",i,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){var e;return{aggregateGeometries:Wue(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:K.isSerializable(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:((e=this.popupTemplate)==null?void 0:e.toJSON())??null}}notifyMeshTransformChanged(e={}){const{geometry:t}=this;if((t==null?void 0:t.type)==="mesh"){const i={origin:t.origin,transform:t.transform};this._notifyLayer("origin-transform",i,i,e.action)}}_notifyLayer(e,t,i,r){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const s={graphic:this,property:e,oldValue:t,newValue:i};e==="origin-transform"&&(s.action=r),e==="attributes"&&(s.attributeName=r),this.layer.graphicChanged(s)}_watchMeshGeometryChanges(){this.addHandles([wn(()=>{var e,t;return((e=this.geometry)==null?void 0:e.type)==="mesh"&&this.geometry.vertexSpace.origin?{localMatrix:(t=this.geometry.transform)==null?void 0:t.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0},({localMatrix:e,origin:t})=>{this._lastMeshTransform.localMatrix===e&&this._lastMeshTransform.origin===t||(this._lastMeshTransform.localMatrix=e,this._lastMeshTransform.origin=t,this.notifyMeshTransformChanged())}),wn(()=>{var e;return((e=this.geometry)==null?void 0:e.type)==="mesh"?{vertexAttributes:this.geometry.vertexAttributes}:void 0},()=>{var t;const e=this.geometry;(e==null?void 0:e.type)==="mesh"&&e.vertexSpace.origin?(this._lastMeshTransform.localMatrix=(t=e.transform)==null?void 0:t.localMatrix,this._lastMeshTransform.origin=e.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(e,t)=>e===t,sync:!0})])}};c([p({value:null,json:{read:Hue}})],ts.prototype,"aggregateGeometries",null),c([p({value:null})],ts.prototype,"attributes",null),c([p({value:null,types:Wv,json:{read:mh}})],ts.prototype,"geometry",null),c([p({type:Boolean})],ts.prototype,"isAggregate",void 0),c([p({clonable:"reference"})],ts.prototype,"layer",void 0),c([p({clonable:"reference"})],ts.prototype,"origin",void 0),c([p({type:Th})],ts.prototype,"popupTemplate",void 0),c([p({clonable:"reference"})],ts.prototype,"sourceLayer",void 0),c([p({value:null,types:zu})],ts.prototype,"symbol",null),c([p({clonable:!1,json:{read:!1,write:!1}})],ts.prototype,"_version",void 0),c([p({type:Boolean,value:!0})],ts.prototype,"visible",null),ts=pO=c([O("esri.Graphic")],ts);const nc=ts;let zS=class{constructor(t=i=>i.values().next().value){this._peeker=t,this._observable=new kv,this._items=new Set}get length(){return Pe(this._observable),this._items.size}clear(){this.length!==0&&(this._items.clear(),this._observable.notify())}last(){if(this.length===0)return;let t;for(t of this._items);return t}peek(){if(this.length!==0)return this._peeker(this._items)}push(t){this.contains(t)||(this._items.add(t),this._observable.notify())}contains(t){return Pe(this._observable),this._items.has(t)}pop(){if(this.length===0)return;const t=this.peek();return this._items.delete(t),this._observable.notify(),t}popLast(){if(this.length===0)return;const t=this.last();return this._items.delete(t),this._observable.notify(),t}remove(t){this.contains(t)&&(this._items.delete(t),this._observable.notify())}filter(t){const i=this.length;return this._items.forEach(r=>{t(r)||this._items.delete(r)}),i!==this._items.size&&this._observable.notify(),this}*[Symbol.iterator](){Pe(this._observable),yield*this._items}};const Xq=new FinalizationRegistry(e=>{e.close()});function Zue(e,t){Xq.register(e,t,t)}function Yue(e){Xq.unregister(e)}function Qq(e,t){return new Proxy({},{get:(i,r,s)=>(...n)=>{let a,u;const d=n[n.length-1];return Jue(d)&&(a=d.signal,u=d.transferList,n.pop()),e.apply(t?`${t}.${r.toString()}`:r.toString(),n,{transferList:u,signal:a})}})}function Jue(e){return typeof e=="object"&&!Array.isArray(e)&&e!=null&&("signal"in e||"transferList"in e||Object.keys(e).length===0)}const Xue={statsWorker:()=>ue(()=>import("./statsWorker-COIWgrw-.js"),__vite__mapDeps([32,33,34,35,36,37]),import.meta.url),geometryEngineWorker:()=>ue(()=>import("./geometryEngineWorker-CA-tZxOm.js"),__vite__mapDeps([38,39,40,6,41]),import.meta.url),arcadeGeometryOperatorsWorker:()=>ue(()=>import("./operatorsWorker-BGijLzUC.js"),[],import.meta.url),CSVSourceWorker:()=>ue(()=>import("./CSVSourceWorker-D9aOyDT7.js"),__vite__mapDeps([42,43,41,14,15,44,45,46,13,16,0,1,2,47,48,34,33,35,36,37,49,50,51,52,53,54,12,55]),import.meta.url),EdgeProcessingWorker:()=>ue(()=>import("./EdgeProcessingWorker-BjQGp2c7.js"),__vite__mapDeps([56,57,58,59,60,61,62,63,64,65,66,67]),import.meta.url),ElevationSamplerWorker:()=>ue(()=>import("./ElevationSamplerWorker-BFnCrVC_.js"),__vite__mapDeps([68,53,69,70,71,72,73,74,75,76,77,59,78]),import.meta.url),FeatureServiceSnappingSourceWorker:()=>ue(()=>import("./FeatureServiceSnappingSourceWorker-Bw-3HlgF.js"),__vite__mapDeps([79,44,45,41,46,13,14,15,16,0,1,2,47,48,34,33,35,36,37,49,50,51,52,53,54,80,81,82,83,27]),import.meta.url),GeoJSONSourceWorker:()=>ue(()=>import("./GeoJSONSourceWorker-Do0ObumZ.js"),__vite__mapDeps([84,13,14,15,16,44,45,41,46,0,1,2,47,48,34,33,35,36,37,49,50,51,52,53,54,85,43,55,86]),import.meta.url),LercWorker:()=>ue(()=>import("./LercWorker-Vl9zw2p0.js"),[],import.meta.url),MemorySourceWorker:()=>ue(()=>import("./MemorySourceWorker-C8swFHYb.js"),__vite__mapDeps([87,13,14,15,16,88,44,45,41,46,0,1,2,47,48,34,33,35,36,37,49,50,51,52,53,54,55,86,43]),import.meta.url),PBFDecoderWorker:()=>ue(()=>import("./PBFDecoderWorker-SWdGX3mX.js"),__vite__mapDeps([89,90,15,13,14,16,81,82]),import.meta.url),FeaturePipelineWorker:()=>ue(()=>import("./FeaturePipelineWorker-DVlc1Zdz.js"),__vite__mapDeps([91,92,93,66,94,95,14,15,96,97,98,99,45,41,47,13,16,2,34,100,101,102,103,104,105,106,107,108,54,46,0,1,48,33,35,36,37,49,50,109,110,111,112,83,81,82,113,85,43,55,86,114,115,116]),import.meta.url),PointCloudWorker:()=>ue(()=>import("./PointCloudWorker-uDesFJ5T.js"),__vite__mapDeps([117,118,71,119,120,121,122,64,123,72,73,74,124]),import.meta.url),RasterWorker:()=>ue(()=>import("./RasterWorker-DhDogyAJ.js"),__vite__mapDeps([125,126,127,6,128,129,130,131]),import.meta.url),SceneLayerSnappingSourceWorker:()=>ue(()=>import("./SceneLayerSnappingSourceWorker-BgGUbo8Z.js"),__vite__mapDeps([132,133,134,71,124,72,119,135,58,59,60,61,62,63,64,65,66,67]),import.meta.url),SceneLayerWorker:()=>ue(()=>import("./SceneLayerWorker-BtrbnpaS.js"),__vite__mapDeps([136,69,77,137,75,134,71,124,72,119,138,122,64,139,98,140,141,142,143,123,118,73,74]),import.meta.url),WFSSourceWorker:()=>ue(()=>import("./WFSSourceWorker-CFMOVqee.js"),__vite__mapDeps([144,13,14,15,16,44,45,41,46,0,1,2,47,48,34,33,35,36,37,49,50,51,52,53,54,85,43,86,145,146]),import.meta.url),WorkerTileHandler:()=>ue(()=>import("./WorkerTileHandler-7DoOxQBo.js"),__vite__mapDeps([147,148,96,99,149,150,82,15,104,151,152,66,128,106,95]),import.meta.url),Lyr3DWorker:()=>ue(()=>import("./Lyr3DWorker-BOag3g0N.js"),[],import.meta.url),Feature3DPipelineWorker:()=>ue(()=>import("./Feature3DPipelineWorker-D67kOrvz.js"),__vite__mapDeps([153,46,13,14,15,16,0,1,2,47,45,41,48,34,33,35,36,37,49,50,53,83,81,82,63,154,155,156,157,142,72,143,141,71,64,158,134,124,119,133,123,118,73,74,159,160,58,59,60,161,65,66,162,135,163,98,164,165,76,69,137,75,166,120,167,168,169,140,170]),import.meta.url),TextureCompressionWorker:()=>ue(()=>import("./TextureCompressionWorker-Ddz-wkwv.js"),__vite__mapDeps([171,160]),import.meta.url)},Kq="worker:port-closed";var Ki;(function(e){e[e.HANDSHAKE=0]="HANDSHAKE",e[e.OPEN=1]="OPEN",e[e.OPENED=2]="OPENED",e[e.RESPONSE=3]="RESPONSE",e[e.INVOKE=4]="INVOKE",e[e.ABORT=5]="ABORT",e[e.CLOSE=6]="CLOSE",e[e.OPEN_PORT=7]="OPEN_PORT",e[e.ON=8]="ON"})(Ki||(Ki={}));let Que=0;function eB(){return Que++}function Kue(e){return e&&typeof e=="object"&&("result"in e||"transferList"in e)}function cv(e){return e?typeof e=="string"?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function HI(e,t,i,r){if(t.type===Ki.OPEN_PORT)return void e.postMessage(t,[t.port]);if(t.type!==Ki.INVOKE&&t.type!==Ki.RESPONSE)return void e.postMessage(t);let s;if(Kue(i)?(s=c6(i.transferList),t.data=i.result):(s=c6(r),t.data=i),s){if(B("ff")){for(const n of s)if("byteLength"in n&&n.byteLength>267386880){const a="Worker call with large ArrayBuffer would crash Firefox";switch(t.type){case Ki.INVOKE:throw a;case Ki.RESPONSE:return void HI(e,{type:Ki.RESPONSE,jobId:t.jobId,error:cv(a)})}}}e.postMessage(t,s)}else e.postMessage(t)}function dv(e){if(!e)return null;const t=e.data;return t?typeof t=="string"?JSON.parse(t):t:null}function c6(e){if(!(e!=null&&e.length))return null;if(B("esri-workers-arraybuffer-transfer"))return e;const t=e.filter(i=>!ece(i));return t.length?t:null}function ece(e){var t;return e instanceof ArrayBuffer||((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="ArrayBuffer"}async function ACe(e){try{return await e}catch(t){const i=(t==null?void 0:t.name)===Kq;if(!(Cr(t)||i))throw t;return}}const{CLOSE:d6,ABORT:h6,INVOKE:p6,RESPONSE:Yy,OPEN_PORT:f6,ON:tce}=Ki,ice=2;let rce=class{constructor(t){this._invoke=t,this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._timer=null,this._process=this._process.bind(this)}push(t){t.type===Ki.ABORT?this._cancelledJobIds.add(t.jobId):(this._invokeMessages.push(t),this._timer===null&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const t of this._invokeMessages)this._cancelledJobIds.has(t.jobId)||this._invoke(t);this._cancelledJobIds.clear(),this._invokeMessages.length=0}},oc=class Yp{static connect(t,i){const r=new MessageChannel;let s;s=typeof t=="function"?new t:"default"in t&&typeof t.default=="function"?new t.default:t;const n=new Yp(r.port1,{channel:r,client:s,schedule:i});return typeof s=="object"&&"remoteClient"in s&&(s.remoteClient=n),Yp.clients.set(n,s),r.port2}static loadWorker(t){const i=Xue[t];return i?i():Promise.resolve(null)}constructor(t,i,r){this._port=t,this._jobQueue=r,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new rce(s=>this._onInvokeMessage(s)),this._client=i.client,this._onMessage=this._onMessage.bind(this),this._channel=i.channel,this._schedule=i.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:d6}),this._close()}isBusy(){return this._outJobs.size>0}invoke(t,i,r){return this.apply(t,[i],r)}apply(t,i,r){const s=r==null?void 0:r.signal,n=r==null?void 0:r.transferList;if(!this._port)return Promise.reject(new z(Kq,`Cannot call invoke('${t}'), port is closed`,{methodName:t,data:i}));const a=eB();return new Promise((u,d)=>{if(Us(s))return this._processWork(),void d(Dt());const f=yn(s,()=>{const v=this._outJobs.get(a);v&&(this._outJobs.delete(a),this._processWork(),Yt(v.abortHandle),this._post({type:h6,jobId:a}),d(Dt()))}),g={resolve:u,reject:d,abortHandle:f,debugInfo:t};this._outJobs.set(a,g),this._post({type:p6,jobId:a,methodName:t,abortable:s!=null},i,n)})}createInvokeProxy(t){return Qq(this,t)}on(t,i){const r=new MessageChannel;function s(n){i(n.data)}return this._port.postMessage({type:Ki.ON,eventType:t,port:r.port2},[r.port2]),r.port1.addEventListener("message",s),r.port1.start(),pt(()=>{r.port1.postMessage({type:Ki.CLOSE}),r.port1.close(),r.port1.removeEventListener("message",s)})}jobAdded(){this._processWork()}openPort(){const t=new MessageChannel;return this._post({type:f6,port:t.port2}),t.port1}_processWork(){var a;if(this._outJobs.size>=ice)return;const t=(a=this._jobQueue)==null?void 0:a.pop();if(!t)return;const{methodName:i,data:r,invokeOptions:s,resolver:n}=t;this.apply(i,r,s).then(u=>n.resolve(u)).catch(u=>n.reject(u))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(t=>{Yt(t.abortHandle),t.reject(Dt(`Worker closing, aborting job calling '${t.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null}_onMessage(t){this._schedule!=null?this._schedule(()=>this._processMessage(t,!0)):this._processMessage(t,!1)}_processMessage(t,i){const r=dv(t);if(r)switch(r.type){case Yy:this._onResponseMessage(r);break;case p6:i?this._onInvokeMessage(r):this._invokeQueue.push(r);break;case h6:this._onAbortMessage(r);break;case d6:this._onCloseMessage();break;case f6:this._onOpenPortMessage(r);break;case tce:this._onOnMessage(r)}}_onAbortMessage(t){const i=this._inJobs,r=t.jobId,s=i.get(r);this._invokeQueue.push(t),s&&(s.controller&&s.controller.abort(),i.delete(r))}_onCloseMessage(){const t=this._client;this._close(),t&&"destroy"in t&&Yp.clients.get(this)===t&&t.destroy(),Yp.clients.delete(this),t!=null&&t.remoteClient&&(t.remoteClient=null)}_onInvokeMessage(t){const{methodName:i,jobId:r,data:s=[],abortable:n}=t,a=n?new AbortController:null,u=this._inJobs;let d,f=this._client,g=f[i];try{if(!g&&i&&i.includes(".")){const v=i.split(".");for(let w=0;w<v.length-1;w++)f=f[v[w]],g=f[v[w+1]]}if(typeof g!="function")throw new TypeError(`${i} is not a function`);s.push({client:this,signal:a?a.signal:null}),d=g.apply(f,s)}catch(v){return void this._post({type:Yy,jobId:r,error:cv(v)})}ta(d)?(u.set(r,{controller:a,promise:d}),d.then(v=>{u.has(r)&&(u.delete(r),this._post({type:Yy,jobId:r},v))},v=>{u.has(r)&&(u.delete(r),Cr(v)||this._post({type:Yy,jobId:r,error:cv(v||{message:`Error encountered at method ${i}`})}))})):this._post({type:Yy,jobId:r},d)}_onOpenPortMessage(t){new Yp(t.port,{client:this._client})}_onOnMessage(t){const{port:i}=t,r=this._client.on(t.eventType,n=>{i.postMessage(n)}),s=Cv(t.port,"message",n=>{const a=dv(n);(a==null?void 0:a.type)===Ki.CLOSE&&(s.remove(),r.remove(),i.close())})}_onResponseMessage(t){const{jobId:i,error:r,data:s}=t,n=this._outJobs;if(!n.has(i))return;const a=n.get(i);n.delete(i),this._processWork(),Yt(a.abortHandle),r?a.reject(z.fromJSON(JSON.parse(r))):a.resolve(s)}_post(t,i,r){return HI(this._port,t,i,r)}};oc.kernelInfo={buildDate:uV,fullVersion:eI,revision:cV},oc.clients=new Map;let sce=class{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new zS}destroy(){this.close()}get closed(){var t;return!((t=this._clients)!=null&&t.length)}open(t,i){return new Promise((r,s)=>{let n=!0;const a=u=>{ei(i.signal),n&&(n=!1,u())};this._clients.length=t.length,this._clientPromises.length=t.length,this._inUseClients.length=t.length;for(let u=0;u<t.length;++u){const d=t[u];ta(d)?this._clientPromises[u]=d.then(f=>(this._clients[u]=new oc(f,i,this._ongoingJobsQueue),a(r),this._clients[u]),()=>(a(s),null)):(this._clients[u]=new oc(d,i,this._ongoingJobsQueue),this._clientPromises[u]=Promise.resolve(this._clients[u]),a(r))}})}broadcast(t,i,r){const s=new Array(this._clientPromises.length);for(let n=0;n<this._clientPromises.length;++n){const a=this._clientPromises[n];s[n]=a.then(u=>u==null?void 0:u.invoke(t,i,r))}return s}close(){let t;for(;t=this._ongoingJobsQueue.pop();)t.resolver.reject(Dt(`Worker closing, aborting job calling '${t.methodName}'`));for(const i of this._clientPromises)i.then(r=>r==null?void 0:r.close());this._clients.length=0,this._clientPromises.length=0,this._inUseClients.length=0,Yue(this)}invoke(t,i,r){return this.apply(t,[i],r)}apply(t,i,r){const s=zs();this._ongoingJobsQueue.push({methodName:t,data:i,invokeOptions:r,resolver:s});for(let n=0;n<this._clientPromises.length;n++){const a=this._clients[n];a?a.jobAdded():this._clientPromises[n].then(u=>u==null?void 0:u.jobAdded())}return s.promise}createInvokeProxy(t){return Qq(this,t)}on(t,i){return Promise.all(this._clientPromises).then(()=>Av(this._clients.map(r=>r.on(t,i))))}openPorts(){return new Promise(t=>{const i=new Array(this._clientPromises.length);let r=i.length;for(let s=0;s<this._clientPromises.length;++s)this._clientPromises[s].then(n=>{n&&(i[s]=n.openPort()),--r==0&&t(i)})})}get test(){}};const nce={async request(e,t){var a,u;const i=e.options,r=i.responseType;i.signal=t==null?void 0:t.signal,i.responseType=r==="native"||r==="native-request-init"?"native-request-init":r&&["blob","json","text"].includes(r)&&((a=d3(e.url))!=null&&a.after)?r:"array-buffer";const s=await Lt(e.url,i),n={data:s.data,httpStatus:s.httpStatus,ssl:s.ssl};switch((u=s.requestOptions)==null?void 0:u.responseType){case"native-request-init":return delete n.data.signal,n;case"blob":n.data=await n.data.arrayBuffer();break;case"json":n.data=new TextEncoder().encode(JSON.stringify(n.data)).buffer;break;case"text":n.data=new TextEncoder().encode(n.data).buffer}return{result:n,transferList:[n.data]}}},oce={ar:"ar-u-nu-latn"};let __=new WeakMap,tB={};function fO(e){const t=e||tB;if(!__.has(t)){const i=ds(),r=oce[ds()]||i;__.set(t,new Intl.NumberFormat(r,e))}return __.get(t)}function CCe(e={}){const t={};return e.digitSeparator!=null&&(t.useGrouping=e.digitSeparator),e.places!=null&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function ICe(e,t){return Object.is(e,-0)&&(e=0),fO(t).format(e)}function NCe(e,t=ds()){var r,s;if(!e)return null;let i=m6.get(t);if(!i){const n=fO().formatToParts(12345.6),a=[...fO({useGrouping:!1}).format(9876543210)].reverse(),u=new Map(a.map((S,T)=>[S,T])),d=new RegExp(`[${(r=n.find(S=>S.type==="group"))==null?void 0:r.value}]`,"g"),f=new RegExp(`[${(s=n.find(S=>S.type==="decimal"))==null?void 0:s.value}]`),g=new RegExp(`[${a.join("")}]`,"g"),v=/[\u200E\u200F\u202A\u202B\u202C\u202D\u202E\u2066\u2067\u2068\u2069\u061C]/g,w=/[-\u2212\u2013\u2014\u2015]/g;i=S=>{if((S=S.trim().replaceAll(d,"").replace(f,".").replace(g,E=>String(u.get(E))).replaceAll(v,"").replaceAll(w,"-"))==="")return null;const T=Number(S);return isNaN(T)?null:T},m6.set(t,i)}return i(e)}dI(()=>{__=new WeakMap,tB={}});const m6=new Map,y6=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,iB={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:"no",nl:!0,no:!0,pl:!0,pt:"pt-BR","pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,zh:"zh-CN","zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function ace(e){return e in iB}function g6(e){if(ace(e)){const t=iB[e];return t===!0?e:t}return null}const qg=[],Pf=new Map;function v6(e){for(const t of Pf.keys())nB(e.pattern,t)&&Pf.delete(t)}function lce(e){return qg.includes(e)||(v6(e),qg.unshift(e)),pt(()=>{const t=qg.indexOf(e);t>-1&&(qg.splice(t,1),v6(e))})}async function rB(e){const t=ds();Pf.has(e)||Pf.set(e,uce(e,t));const i=Pf.get(e);return i&&await cce.add(i),i}function sB(e){if(!y6.test(e))return null;const t=y6.exec(e);if(t===null)return null;const[,i,r]=t;return g6(i+(r?"-"+r.toUpperCase():""))??g6(i)}async function uce(e,t){const i=[];for(const r of qg)if(nB(r.pattern,e))try{return await r.fetchMessageBundle(e,t)}catch(s){i.push(s)}throw i.length?new z("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:i}):new z("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}function nB(e,t){return typeof e=="string"?t.startsWith(e):e.test(t)}dI(()=>{Pf.clear()});const cce=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=zs())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};async function dce(e,t,i,r){const s=t.exec(i);if(!s)throw new z("esri-intl:invalid-bundle",`Bundle id "${i}" is not compatible with the pattern "${t}"`);const n=s[1]?`${s[1]}/`:"",a=s[2],u=sB(r),d=`${n}${a}.json`,f=u?`${n}${a}_${u}.json`:d;let g;try{g=await b6(e(f))}catch(v){if(f===d)throw new z("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:v});try{g=await b6(e(d))}catch(w){throw new z("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:w})}}return g}async function b6(e){if(w6.fetchBundleAsset!=null)return w6.fetchBundleAsset(e);const t=await Lt(e,{responseType:"text"});return JSON.parse(t.data)}let hce=class{constructor({base:t="",pattern:i,location:r=new URL(window.location.href)}){let s;s=typeof r=="string"?n=>new URL(n,new URL(r,window.location.href)).href:r instanceof URL?n=>new URL(n,r).href:r,this.pattern=typeof i=="string"?new RegExp(`^${i}`):i,this.getAssetUrl=s,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(t,i){return dce(this.getAssetUrl,this.matcher,t,i)}};function pce(e){return new hce(e)}const w6={};lce(pce({pattern:"esri/",location:fi}));const _6={};function fce(e){var i;const t={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:{...e.has},map:{...e.map},packages:((i=e.packages)==null?void 0:i.slice())||[],paths:{..._6.paths,...e.paths}};return e.hasOwnProperty("async")||(t.async=!0),e.hasOwnProperty("isDebug")||(t.isDebug=!1),e.baseUrl||(t.baseUrl=_6.baseUrl),t}let mce=class{constructor(){const t=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(i=>{this[i]=(...r)=>t[i](...r)})}},S_=class{constructor(){this._dispatcher=new mce,this._workerPostMessage({type:Ki.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(t){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=t,t&&this.addEventListener("message",t)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(t){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=t,t&&this.addEventListener("messageerror",t)}get onerror(){return this._onerrorHandler}set onerror(t){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=t,t&&this.addEventListener("error",t)}postMessage(t){aS(()=>{this._workerMessageHandler(new MessageEvent("message",{data:t}))})}dispatchEvent(t){return this._dispatcher.dispatchEvent(t)}addEventListener(t,i,r){this._dispatcher.addEventListener(t,i,r)}removeEventListener(t,i,r){this._dispatcher.removeEventListener(t,i,r)}_workerPostMessage(t){aS(()=>{this.dispatchEvent(new MessageEvent("message",{data:t}))})}async _workerMessageHandler(t){const i=dv(t);if(i&&i.type===Ki.OPEN){const{modulePath:r,jobId:s}=i;let n=await oc.loadWorker(r);n||(n=await import(r));const a=oc.connect(n);this._workerPostMessage({type:Ki.OPENED,jobId:s,data:a})}}};const mO=()=>ne.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:yce}=Ki,gce='let globalId=0;const outgoing=new Map,configuration={CONFIGURATION};self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;let s=null;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());s=()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))},t.addEventListener("abort",s)}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})})).finally((()=>{t&&t.removeEventListener("abort",s)}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,fullVersion:r}=configuration.kernelInfo,{revision:t,fullVersion:n,version:s}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\nModules version: ${r}\nAssets version: ${n??s}\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let n;function t(e){const o=n.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const s=outgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let Zb,Yb;const S6="Failed to create Worker. Fallback to execute module in main thread";async function vce(){if(!B("esri-workers"))return T6(new S_);if(!Zb&&!Yb)try{const t=gce.split("{CONFIGURATION}").join(bce());Zb=URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}catch(t){Yb=t||{}}let e;if(Zb)try{e=new Worker(Zb,{name:"esri-worker-"+wce++})}catch{mO().warn(S6,Yb),e=new S_}else mO().warn(S6,Yb),e=new S_;return T6(e)}async function T6(e){return new Promise(t=>{function i(s){const n=dv(s);n&&n.type===yce&&(e.removeEventListener("message",i),e.removeEventListener("error",r),t(e))}function r(s){s.preventDefault(),e.removeEventListener("message",i),e.removeEventListener("error",r),mO().warn("Failed to create Worker. Fallback to execute module in main thread",s),(e=new S_).addEventListener("message",i),e.addEventListener("error",r)}e.addEventListener("message",i),e.addEventListener("error",r)})}function bce(){let e;if(bt.default!=null){const s={...bt};delete s.default,e=JSON.parse(JSON.stringify(s))}else e=JSON.parse(JSON.stringify(bt));e.assetsPath=hn(e.assetsPath),e.defaultAssetsPath=e.defaultAssetsPath?hn(e.defaultAssetsPath):void 0,e.request.interceptors=[],e.log.interceptors=[],e.locale=ds(),e.has={"esri-csp-restrictions":B("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":B("esri-2d-update-debug"),"esri-2d-log-updating":B("esri-2d-log-updating"),"featurelayer-pbf":B("featurelayer-pbf"),"featurelayer-fast-triangulation-enabled":B("featurelayer-fast-triangulation-enabled"),"featurelayer-simplify-thresholds":B("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":B("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":B("featurelayer-simplify-mobile-factor"),"featurelayer-query-max-depth":B("featurelayer-query-max-depth"),"featurelayer-query-pausing-enabled":B("featurelayer-query-pausing-enabled"),"featurelayer-snapshot-enabled":B("featurelayer-snapshot-enabled"),"esri-atomics":B("esri-atomics"),"esri-shared-array-buffer":B("esri-shared-array-buffer"),"esri-tiles-debug":B("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":B("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":B("feature-polyline-generalization-factor"),"host-webworker":1},e.workers.loaderUrl&&(e.workers.loaderUrl=hn(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=hn(e.workers.workerPath):e.workers.workerPath=hn(fi("esri/core/workers/RemoteClient.js")),e.workers.useDynamicImport=!1;const t=bt.workers.loaderConfig,i=fce({baseUrl:t==null?void 0:t.baseUrl,locale:ds(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...t==null?void 0:t.has},map:{...t==null?void 0:t.map},paths:{...t==null?void 0:t.paths},packages:(t==null?void 0:t.packages)||[]});return JSON.stringify({esriConfig:e,loaderConfig:i,kernelInfo:{buildDate:uV,fullVersion:eI,revision:cV}})}let wce=0;const{ABORT:E6,INVOKE:_ce,OPEN:Sce,OPENED:Tce,RESPONSE:Jy}=Ki;let Ece=class oB{static async create(t){const i=await vce();return new oB(i,t)}constructor(t,i){this._outJobs=new Map,this._inJobs=new Map,this.worker=t,this.id=i,t.addEventListener("message",this._onMessage.bind(this)),t.addEventListener("error",r=>{r.preventDefault(),ne.getLogger("esri.core.workers.WorkerOwner").error(r)})}terminate(){this.worker.terminate()}async open(t,i={}){const{signal:r}=i,s=eB();return new Promise((n,a)=>{const u={resolve:n,reject:a,abortHandle:MC(r,()=>{this._outJobs.delete(s),this._post({type:E6,jobId:s})})};this._outJobs.set(s,u),this._post({type:Sce,jobId:s,modulePath:t})})}_onMessage(t){const i=dv(t);if(i)switch(i.type){case Tce:this._onOpenedMessage(i);break;case Jy:this._onResponseMessage(i);break;case E6:this._onAbortMessage(i);break;case _ce:this._onInvokeMessage(i)}}_onAbortMessage(t){const i=this._inJobs,r=t.jobId,s=i.get(r);s&&(s.controller&&s.controller.abort(),i.delete(r))}_onInvokeMessage(t){const{methodName:i,jobId:r,data:s,abortable:n}=t,a=n?new AbortController:null,u=this._inJobs,d=nce[i];let f;try{if(typeof d!="function")throw new TypeError(`${i} is not a function`);f=d.call(null,s,{signal:a?a.signal:null})}catch(g){return void this._post({type:Jy,jobId:r,error:cv(g)})}ta(f)?(u.set(r,{controller:a,promise:f}),f.then(g=>{u.has(r)&&(u.delete(r),this._post({type:Jy,jobId:r},g))},g=>{u.has(r)&&(u.delete(r),g||(g={message:"Error encountered at method"+i}),Cr(g)||this._post({type:Jy,jobId:r,error:cv(g||{message:`Error encountered at method ${i}`})}))})):this._post({type:Jy,jobId:r},f)}_onOpenedMessage(t){const{jobId:i,data:r}=t,s=this._outJobs.get(i);s&&(this._outJobs.delete(i),Yt(s.abortHandle),s.resolve(r))}_onResponseMessage(t){const{jobId:i,error:r,data:s}=t,n=this._outJobs.get(i);n&&(this._outJobs.delete(i),Yt(n.abortHandle),r?n.reject(z.fromJSON(JSON.parse(r))):n.resolve(s))}_post(t,i,r){return HI(this.worker,t,i,r)}};const $6=B("host-browser")?Math.min(navigator.hardwareConcurrency-1,B("workers-pool-size")??8):0;let Wd=B("esri-mobile")?Math.min($6,3):$6;Wd||(Wd=B("safari")&&B("mac")?7:2);let x6=0;const T_=[];function $ce(){aB()}async function Jb(e,t){const i=new sce,{registryTarget:r,...s}=t;return await i.open(e,s),r&&Zue(r,i),i}async function xce(e,t={}){if(typeof e!="string")throw new z("workers:undefined-module","modulePath is missing");let i=t.strategy||"distributed";if(B("host-webworker")&&!B("esri-workers")&&(i="local"),i==="local"){let r=await oc.loadWorker(e);r||(r=await import(e)),ei(t.signal);const s=t.client||r;return Jb([oc.connect(r,t.schedule)],{...t,client:s})}if(await aB(),ei(t.signal),i==="dedicated"){const r=x6++%Wd;return Jb([await T_[r].open(e,t)],t)}if(t.maxNumWorkers&&t.maxNumWorkers>0){const r=Math.min(t.maxNumWorkers,Wd);if(r<Wd){const s=new Array(r);for(let n=0;n<r;++n){const a=x6++%Wd;s[n]=T_[a].open(e,t)}return Jb(s,t)}}return Jb(T_.map(r=>r.open(e,t)),t)}let Xb=null;async function aB(){if(Xb)return Xb;new AbortController;const e=[];for(let t=0;t<Wd;t++){const i=Ece.create(t).then(r=>(T_[t]=r,r));e.push(i)}return Xb=Promise.all(e),Xb}function M6(e,t,i){if(e.hasM==null||e.hasZ)for(const r of t)for(const s of r)s.length>2&&(s[2]*=i)}function Mce(e,t,i){if(!e&&!t||!i)return;const r=NS(i);A6(e,i,r),A6(t,i,r)}function A6(e,t,i){if(e)for(const r of e)Ace(r.geometry,t,i)}function Ace(e,t,i){if(!(e!=null&&e.spatialReference)||Vi(e.spatialReference,t))return;const r=NS(e.spatialReference)/i;if(r!==1){if("x"in e)e.z!=null&&(e.z*=r);else if("rings"in e)M6(e,e.rings,r);else if("paths"in e)M6(e,e.paths,r);else if("points"in e&&(e.hasM==null||e.hasZ))for(const s of e.points)s.length>2&&(s[2]*=r)}}function lB(e,t,i){if(t==null||i==null||i.vcsWkid||Vi(t,i)||Qu(t)||Qu(i))return null;const r=NS(t)/NS(i);if(r===1)return null;switch(e){case"point":case"esriGeometryPoint":return s=>Oce(s,r);case"polyline":case"esriGeometryPolyline":return s=>Cce(s,r);case"polygon":case"esriGeometryPolygon":return s=>Rce(s,r);case"multipoint":case"esriGeometryMultipoint":return s=>Ice(s,r);case"extent":case"esriGeometryEnvelope":return s=>Nce(s,r);default:return null}}function Oce(e,t){(e==null?void 0:e.z)!=null&&(e.z*=t)}function Rce(e,t){if(e)for(const i of e.rings)for(const r of i)r.length>2&&(r[2]*=t)}function Cce(e,t){if(e)for(const i of e.paths)for(const r of i)r.length>2&&(r[2]*=t)}function Ice(e,t){if(e)for(const i of e.points)i.length>2&&(i[2]*=t)}function Nce(e,t){e&&e.zmin!=null&&e.zmax!=null&&(e.zmin*=t,e.zmax*=t)}function O6(e,t,i){if(!(i!=null&&i.features)||!i.hasZ)return;const r=lB(i.geometryType,t,e.outSpatialReference);if(r!=null)for(const s of i.features)r(s.geometry)}const Pce=new et({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"});var yO;const Lce=new et({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let wr=yO=class extends K{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(e,{description:t}){let i=null;try{i=t?JSON.parse(t):null}catch{}return(i==null?void 0:i.value)??null}readValueType(e,{description:t}){let i=null;try{i=t?JSON.parse(t):null}catch{}return i?Lce.fromJSON(i.fieldValueType):null}clone(){var e;return new yO({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:((e=this.domain)==null?void 0:e.clone())??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};c([p({type:String,json:{write:!0}})],wr.prototype,"alias",void 0),c([p({type:[String,Number],json:{write:{allowNull:!0}}})],wr.prototype,"defaultValue",void 0),c([p()],wr.prototype,"description",void 0),c([le("description")],wr.prototype,"readDescription",null),c([p({types:$G,json:{read:{reader:Z2},write:!0}})],wr.prototype,"domain",void 0),c([p({type:Boolean,json:{write:!0}})],wr.prototype,"editable",void 0),c([p({type:ht,json:{write:{overridePolicy:e=>({enabled:Number.isFinite(e)})}}})],wr.prototype,"length",void 0),c([p({type:String,json:{write:!0}})],wr.prototype,"name",void 0),c([p({type:Boolean,json:{write:!0}})],wr.prototype,"nullable",void 0),c([Oe(Pce)],wr.prototype,"type",void 0),c([p()],wr.prototype,"valueType",void 0),c([le("valueType",["description"])],wr.prototype,"readValueType",null),c([p({type:Boolean,json:{read:!1}})],wr.prototype,"visible",void 0),wr=yO=c([O("esri.layers.support.Field")],wr);const WI=wr;var gO;const vO=new et({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let Zi=gO=class extends K{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){return this.readFeaturesWithClass(e,t,nc)}writeGeometryType(e,t,i,r){if(e)return void vO.write(e,t,i,r);const{features:s}=this;if(s){for(const n of s)if((n==null?void 0:n.geometry)!=null)return void vO.write(n.geometry.type,t,i,r)}}readQueryGeometry(e,t){if(!e)return null;const i=!!e.spatialReference,r=mh(e);return r&&!i&&t.spatialReference&&(r.spatialReference=He.fromJSON(t.spatialReference)),r}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:i}=this;if(i){for(const r of i)if(r&&r.geometry!=null&&r.geometry.spatialReference)return void(t.spatialReference=r.geometry.spatialReference.toJSON())}}clone(){return new gO(this.cloneProperties())}cloneProperties(){return j({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(e){const t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(let i=0;i<t.features.length;i++){const r=t.features[i];if(r.geometry){const s=e==null?void 0:e[i];r.geometry=(s==null?void 0:s.toJSON())||r.geometry}}return t}quantize(e){const{scale:[t,i],translate:[r,s]}=e,n=f=>Math.round((f-r)/t),a=f=>Math.round((s-f)/i),u=this.features,d=this._getQuantizationFunction(this.geometryType,n,a);for(let f=0,g=u.length;f<g;f++)d!=null&&d(u[f].geometry)||(u.splice(f,1),f--,g--);return this.transform=e,this}unquantize(){var w,S;const{geometryType:e,features:t,transform:i}=this;if(!i)return this;const{translate:[r,s],scale:[n,a]}=i,u=T=>T*n+r,d=T=>s-T*a;let f=null,g=null;if(this.hasZ&&((w=i==null?void 0:i.scale)==null?void 0:w[2])!=null){const{translate:[,,T],scale:[,,E]}=i;f=M=>M*E+T}if(this.hasM&&((S=i==null?void 0:i.scale)==null?void 0:S[3])!=null){const{translate:[,,,T],scale:[,,,E]}=i;g=M=>M==null?M:M*E+T}const v=this._getHydrationFunction(e,u,d,f,g);for(const{geometry:T}of t)T!=null&&v&&v(T);return this.transform=null,this}readFeaturesWithClass(e,t,i){var n;const r=He.fromJSON(t.spatialReference),s=[];for(let a=0;a<e.length;a++){const u=e[a],d=i.fromJSON(u),f=(n=u.geometry)==null?void 0:n.spatialReference;d.geometry==null||f||(d.geometry.spatialReference=r);const g=u.aggregateGeometries,v=d.aggregateGeometries;if(g&&v!=null)for(const w in v){const S=v[w],T=g[w],E=T==null?void 0:T.spatialReference;S==null||E||(S.spatialReference=r)}s.push(d)}return s}_quantizePoints(e,t,i){let r,s;const n=[];for(let a=0,u=e.length;a<u;a++){const d=e[a];if(a>0){const f=t(d[0]),g=i(d[1]);f===r&&g===s||(n.push([f-r,g-s]),r=f,s=g)}else r=t(d[0]),s=i(d[1]),n.push([r,s])}return n.length>0?n:null}_getQuantizationFunction(e,t,i){return e==="point"?r=>(r.x=t(r.x),r.y=i(r.y),r):e==="polyline"||e==="polygon"?r=>{const s=Kd(r)?r.rings:r.paths,n=[];for(let a=0,u=s.length;a<u;a++){const d=s[a],f=this._quantizePoints(d,t,i);f&&n.push(f)}return n.length>0?(Kd(r)?r.rings=n:r.paths=n,r):null}:e==="multipoint"?r=>{const s=this._quantizePoints(r.points,t,i);return s&&s.length>0?(r.points=s,r):null}:e==="extent"?r=>r:null}_getHydrationFunction(e,t,i,r,s){return e==="point"?n=>{n.x=t(n.x),n.y=i(n.y),r&&(n.z=r(n.z))}:e==="polyline"||e==="polygon"?n=>{const a=Kd(n)?n.rings:n.paths;let u,d;for(let f=0,g=a.length;f<g;f++){const v=a[f];for(let w=0,S=v.length;w<S;w++){const T=v[w];w>0?(u+=T[0],d+=T[1]):(u=T[0],d=T[1]),T[0]=t(u),T[1]=i(d)}}if(r&&s)for(let f=0,g=a.length;f<g;f++){const v=a[f];for(let w=0,S=v.length;w<S;w++){const T=v[w];T[2]=r(T[2]),T[3]=s(T[3])}}else if(r)for(let f=0,g=a.length;f<g;f++){const v=a[f];for(let w=0,S=v.length;w<S;w++){const T=v[w];T[2]=r(T[2])}}else if(s)for(let f=0,g=a.length;f<g;f++){const v=a[f];for(let w=0,S=v.length;w<S;w++){const T=v[w];T[2]=s(T[2])}}}:e==="extent"?n=>{n.xmin=t(n.xmin),n.ymin=i(n.ymin),n.xmax=t(n.xmax),n.ymax=i(n.ymax),r&&n.zmax!=null&&n.zmin!=null&&(n.zmax=r(n.zmax),n.zmin=r(n.zmin)),s&&n.mmax!=null&&n.mmin!=null&&(n.mmax=s(n.mmax),n.mmin=s(n.mmin))}:e==="multipoint"?n=>{const a=n.points;let u,d;for(let f=0,g=a.length;f<g;f++){const v=a[f];f>0?(u+=v[0],d+=v[1]):(u=v[0],d=v[1]),v[0]=t(u),v[1]=i(d)}if(r&&s)for(let f=0,g=a.length;f<g;f++){const v=a[f];v[2]=r(v[2]),v[3]=s(v[3])}else if(r)for(let f=0,g=a.length;f<g;f++){const v=a[f];v[2]=r(v[2])}else if(s)for(let f=0,g=a.length;f<g;f++){const v=a[f];v[2]=s(v[2])}}:null}};c([p({type:String,json:{write:!0}})],Zi.prototype,"displayFieldName",void 0),c([p({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Zi.prototype,"exceededTransferLimit",void 0),c([p({type:[nc],json:{write:!0}})],Zi.prototype,"features",void 0),c([le("features")],Zi.prototype,"readFeatures",null),c([p({type:[WI],json:{write:!0}})],Zi.prototype,"fields",void 0),c([p({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:vO.read}}})],Zi.prototype,"geometryType",void 0),c([de("geometryType")],Zi.prototype,"writeGeometryType",null),c([p({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Zi.prototype,"hasM",void 0),c([p({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Zi.prototype,"hasZ",void 0),c([p({types:Wv,json:{write:!0}})],Zi.prototype,"queryGeometry",void 0),c([le("queryGeometry")],Zi.prototype,"readQueryGeometry",null),c([p({type:He,json:{write:!0}})],Zi.prototype,"spatialReference",void 0),c([de("spatialReference")],Zi.prototype,"writeSpatialReference",null),c([p({json:{write:!0}})],Zi.prototype,"transform",void 0),Zi=gO=c([O("esri.rest.support.FeatureSet")],Zi),Zi.prototype.toJSON.isDefaultToJSON=!0;const uB=Zi;let Dce=0,Ja=class extends cl.LoadableMixin(qv.EsriPromiseMixin(ye)){constructor(t){super(t),this._idToClientGraphic=null,this.type="memory"}load(t){const i=t!=null?t.signal:null;return this.addResolvingPromise(this._startWorker(i)),Promise.resolve(this)}destroy(){var t;(t=this._connection)==null||t.close(),this._connection=null}get _workerGeometryType(){var i;const t=(i=this.layer)==null?void 0:i.geometryType;return t?this._geometryTypeRequiresClientGraphicMapping(t)?"polygon":t:null}applyEdits(t){return this.load().then(()=>this._applyEdits(t))}openPorts(){return this.load().then(()=>this._connection.openPorts())}async queryFeatures(t,i={}){await this.load(i);const r=await this._connection.invoke("queryFeatures",t?t.toJSON():null,i);O6(t,this.layer.spatialReference,r);const s=uB.fromJSON(r);if(!this._requiresClientGraphicMapping())return s;const n=this.layer.objectIdField;for(const a of s.features){const u=a.attributes[n],d=this._idToClientGraphic.get(u);d&&(a.geometry=d.geometry)}return s.geometryType=this.layer.geometryType,s}async queryFeaturesJSON(t,i={}){if(this._requiresClientGraphicMapping())throw new z("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");await this.load(i);const r=await this._connection.invoke("queryFeatures",t?t.toJSON():null,i);return O6(t,this.layer.spatialReference,r),r}queryFeatureCount(t,i={}){return this.load(i).then(()=>this._connection.invoke("queryFeatureCount",t?t.toJSON():null,i))}queryObjectIds(t,i={}){return this.load(i).then(()=>this._connection.invoke("queryObjectIds",t?t.toJSON():null,i))}queryExtent(t,i={}){return this.load(i).then(()=>this._connection.invoke("queryExtent",t?t.toJSON():null,i)).then(r=>({count:r.count,extent:kt.fromJSON(r.extent)}))}querySnapping(t,i={}){return this.load(i).then(()=>this._connection.invoke("querySnapping",t,i))}async queryAttributeBins(t,i={}){return await this.load(),this._connection.invoke("queryAttributeBins",t==null?void 0:t.toJSON(),i)}async _applyEdits(t){if(!this._connection)throw new z("feature-layer-source:edit-failure","Memory source not loaded");const i=this.layer.objectIdField;let r=null;const s=[],n=[];await Promise.all([this._prepareClientMapping(t.addFeatures,null),this._prepareClientMapping(t.updateFeatures,null)]);const a=g=>"objectId"in g&&g.objectId!=null?g.objectId:"attributes"in g&&g.attributes[i]!=null?g.attributes[i]:null;if(t.addFeatures&&(r=this._prepareAddFeatures(t.addFeatures)),t.deleteFeatures)for(const g of t.deleteFeatures){const v=a(g);v!=null&&s.push(v)}const u=t.updateFeatures&&this._idToClientGraphic?new Map:null;if(t.updateFeatures){for(const g of t.updateFeatures)if(n.push(this._serializeFeature(g)),u){const v=a(g);v!=null&&u.set(v,g)}}Mce(r?r.features:null,n,this.layer.spatialReference);const{fullExtent:d,featureEditResults:f}=await this._connection.invoke("applyEdits",{adds:r?r.features:[],updates:n,deletes:s});return this.fullExtent=d,r&&r.finish(f.uidToObjectId),this._updateClientGraphicIds(u,f),this._createEditsResult(f)}async _prepareClientMapping(t,i){if(this._layerOrSourceGeometryType!=="mesh"||t==null)return;const r=[];for(const{geometry:s}of t)s==null||s.type!=="mesh"||s.hasExtent||s.loaded||r.push(s.load({signal:i}));r.length&&await Promise.all(r)}_updateClientGraphicIds(t,i){if(this._idToClientGraphic){if(t)for(const r of i.updateResults){if(!r.success)continue;const s=t.get(r.objectId);s!=null&&this._addIdToClientGraphic(s)}for(const r of i.deleteResults)r.success&&this._idToClientGraphic.delete(r.objectId)}}_createEditsResult(t){return{addFeatureResults:t.addResults?t.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:t.updateResults?t.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:t.deleteResults?t.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(t){const i=t.success===!0?null:t.error||{code:void 0,description:void 0};return{objectId:t.objectId,globalId:t.globalId,error:i?new z("feature-layer-source:edit-failure",i.description,{code:i.code}):null}}_prepareAddFeatures(t){const i=new Map,r=new Array(t.length);let s=null;for(let a=0;a<t.length;a++){const u=t[a],d=this._serializeFeature(u);s||u.geometry==null||(s=u.geometry.type),r[a]=d,i.set(`${d.uid}`,u)}const n=this;return{features:r,inferredGeometryType:s,finish(a){const u=n.sourceJSON.objectIdField;for(const d in a){const f=a[d],g=i.get(d);g&&(g.attributes||(g.attributes={}),f===-1?delete g.attributes[u]:g.attributes[u]=f,n._addIdToClientGraphic(g))}}}}_addIdToClientGraphic(t){var s;if(!this._idToClientGraphic)return;const i=this.sourceJSON.objectIdField,r=(s=t.attributes)==null?void 0:s[i];r!=null&&this._idToClientGraphic.set(r,t)}get _layerOrSourceGeometryType(){var t,i;return((t=this.layer)==null?void 0:t.geometryType)??((i=this.sourceJSON)==null?void 0:i.geometryType)}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this._layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(t){return this._geometryTypeRequiresClientGraphicMapping(t.type)}_geometryTypeRequiresClientGraphicMapping(t){return t==="mesh"||t==="multipatch"||t==="extent"}_serializeFeature(t){const{attributes:i}=t,r=this._geometryForSerialization(t),s=(Dce++).toString();return r?{uid:s,geometry:r.toJSON(),attributes:i}:{uid:s,attributes:i}}_geometryForSerialization(t){const{geometry:i}=t;return i==null?null:this._geometryRequiresClientGraphicMapping(i)?i.extent?fo.fromExtent(i.extent):null:i}async _startWorker(t){this._connection=await xce("MemorySourceWorker",{strategy:B("feature-layers-workers")?"dedicated":"local",signal:t,registryTarget:this});const{fields:i,spatialReference:r,objectIdField:s,hasM:n,hasZ:a,timeInfo:u,dateFieldsTimeZone:d}=this.layer,f=this.layer.originOf("spatialReference")==="defaults";await this._prepareClientMapping(this.items,t);const g=this._prepareAddFeatures(this.items);this.addHandles(this.on("before-changes",T=>{ne.getLogger(this).error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),T.preventDefault()}));const v={features:g.features,fields:i==null?void 0:i.map(T=>T.toJSON()),geometryType:i6.toJSON(this._workerGeometryType),hasM:this._layerOrSourceGeometryType!=="mesh"&&n,hasZ:this._layerOrSourceGeometryType==="mesh"||a,objectIdField:s,spatialReference:f?null:r&&r.toJSON(),timeInfo:(u==null?void 0:u.toJSON())??null,dateFieldsTimeZone:d},w=await this._connection.invoke("load",v,{signal:t});for(const T of w.warnings)ne.getLogger(this.layer).warn("#load()",`${T.message} (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{warning:T});w.featureErrors.length&&ne.getLogger(this.layer).warn("#load()",`Encountered ${w.featureErrors.length} validation errors while loading features. (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{errors:w.featureErrors});const S=w.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(g.inferredGeometryType)&&(S.geometryType=i6.toJSON(g.inferredGeometryType)),this.sourceJSON=S,this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map),g.finish(w.assignedObjectIds)}};c([DC({Type:nc,ensureType:Ci(nc)})],Ja.prototype,"itemType",void 0),c([p()],Ja.prototype,"type",void 0),c([p({constructOnly:!0})],Ja.prototype,"layer",void 0),c([p({readOnly:!0})],Ja.prototype,"_workerGeometryType",null),c([p()],Ja.prototype,"sourceJSON",void 0),Ja=c([O("esri.layers.graphics.sources.MemorySource")],Ja);function kce(e){return"portalItem"in e}const Fce=e=>{let t=class extends e{get apiKey(){var i;return this._isOverridden("apiKey")?this._get("apiKey"):kce(this)?(i=this.portalItem)==null?void 0:i.apiKey:null}set apiKey(i){i!=null?this._override("apiKey",i):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return c([p({type:String})],t.prototype,"apiKey",null),t=c([O("esri.layers.mixins.APIKeyMixin")],t),t},jce=e=>{let t=class extends e{get title(){if(this._get("title")&&this.originOf("title")!=="defaults")return this._get("title");if(this.url){const i=Tm(this.url);if(i!=null&&i.title)return i.title}return this._get("title")||""}set title(i){this._set("title",i)}set url(i){this._set("url",Pse(i,ne.getLogger(this)))}};return c([p()],t.prototype,"title",null),c([p({type:String})],t.prototype,"url",null),t=c([O("esri.layers.mixins.ArcGISService")],t),t};function rT(){const e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Uce(e){const t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function zce(e,t,i,r,s,n,a,u,d,f,g,v,w,S,T,E){const M=new Float32Array(16);return M[0]=e,M[1]=t,M[2]=i,M[3]=r,M[4]=s,M[5]=n,M[6]=a,M[7]=u,M[8]=d,M[9]=f,M[10]=g,M[11]=v,M[12]=w,M[13]=S,M[14]=T,M[15]=E,M}function Vce(e,t){return new Float32Array(e,t,16)}const Gce=rT();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:Gce,clone:Uce,create:rT,createView:Vce,fromValues:zce},Symbol.toStringTag,{value:"Module"}));let ZI=1e-6;function Wr(){return ZI}function qce(e){ZI=e}const sT=Math.random,Bce=Math.PI/180,Hce=180/Math.PI;function YI(e){return e*Bce}function Wce(e){return e*Hce}function Zce(e,t){return Math.abs(e-t)<=ZI*Math.max(1,Math.abs(e),Math.abs(t))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:sT,equals:Zce,getEpsilon:Wr,setEpsilon:qce,toDegree:Wce,toRadian:YI},Symbol.toStringTag,{value:"Module"}));function cB(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function yc(e,t,i,r,s,n,a,u,d,f,g,v,w,S,T,E,M){return e[0]=t,e[1]=i,e[2]=r,e[3]=s,e[4]=n,e[5]=a,e[6]=u,e[7]=d,e[8]=f,e[9]=g,e[10]=v,e[11]=w,e[12]=S,e[13]=T,e[14]=E,e[15]=M,e}function nT(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function gc(e,t){if(e===t){const i=t[1],r=t[2],s=t[3],n=t[6],a=t[7],u=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=i,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=n,e[11]=t[14],e[12]=s,e[13]=a,e[14]=u}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function Yce(e,t){return dB(e,t)||nT(e),e}function dB(e,t){const i=t[0],r=t[1],s=t[2],n=t[3],a=t[4],u=t[5],d=t[6],f=t[7],g=t[8],v=t[9],w=t[10],S=t[11],T=t[12],E=t[13],M=t[14],R=t[15],P=i*u-r*a,N=i*d-s*a,k=i*f-n*a,U=r*d-s*u,Z=r*f-n*u,re=s*f-n*d,oe=g*E-v*T,pe=g*M-w*T,me=g*R-S*T,_e=v*M-w*E,we=v*R-S*E,Ye=w*R-S*M;let Ce=P*Ye-N*we+k*_e+U*me-Z*pe+re*oe;return Ce?(Ce=1/Ce,e[0]=(u*Ye-d*we+f*_e)*Ce,e[1]=(s*we-r*Ye-n*_e)*Ce,e[2]=(E*re-M*Z+R*U)*Ce,e[3]=(w*Z-v*re-S*U)*Ce,e[4]=(d*me-a*Ye-f*pe)*Ce,e[5]=(i*Ye-s*me+n*pe)*Ce,e[6]=(M*k-T*re-R*N)*Ce,e[7]=(g*re-w*k+S*N)*Ce,e[8]=(a*we-u*me+f*oe)*Ce,e[9]=(r*me-i*we-n*oe)*Ce,e[10]=(T*Z-E*k+R*P)*Ce,e[11]=(v*k-g*Z-S*P)*Ce,e[12]=(u*pe-a*_e-d*oe)*Ce,e[13]=(i*_e-r*pe+s*oe)*Ce,e[14]=(E*N-T*U-M*P)*Ce,e[15]=(g*U-v*N+w*P)*Ce,e):null}function Jce(e,t){const i=t[0],r=t[1],s=t[2],n=t[3],a=t[4],u=t[5],d=t[6],f=t[7],g=t[8],v=t[9],w=t[10],S=t[11],T=t[12],E=t[13],M=t[14],R=t[15];return e[0]=u*(w*R-S*M)-v*(d*R-f*M)+E*(d*S-f*w),e[1]=-(r*(w*R-S*M)-v*(s*R-n*M)+E*(s*S-n*w)),e[2]=r*(d*R-f*M)-u*(s*R-n*M)+E*(s*f-n*d),e[3]=-(r*(d*S-f*w)-u*(s*S-n*w)+v*(s*f-n*d)),e[4]=-(a*(w*R-S*M)-g*(d*R-f*M)+T*(d*S-f*w)),e[5]=i*(w*R-S*M)-g*(s*R-n*M)+T*(s*S-n*w),e[6]=-(i*(d*R-f*M)-a*(s*R-n*M)+T*(s*f-n*d)),e[7]=i*(d*S-f*w)-a*(s*S-n*w)+g*(s*f-n*d),e[8]=a*(v*R-S*E)-g*(u*R-f*E)+T*(u*S-f*v),e[9]=-(i*(v*R-S*E)-g*(r*R-n*E)+T*(r*S-n*v)),e[10]=i*(u*R-f*E)-a*(r*R-n*E)+T*(r*f-n*u),e[11]=-(i*(u*S-f*v)-a*(r*S-n*v)+g*(r*f-n*u)),e[12]=-(a*(v*M-w*E)-g*(u*M-d*E)+T*(u*w-d*v)),e[13]=i*(v*M-w*E)-g*(r*M-s*E)+T*(r*w-s*v),e[14]=-(i*(u*M-d*E)-a*(r*M-s*E)+T*(r*d-s*u)),e[15]=i*(u*w-d*v)-a*(r*w-s*v)+g*(r*d-s*u),e}function Xce(e){const t=e[0],i=e[1],r=e[2],s=e[3],n=e[4],a=e[5],u=e[6],d=e[7],f=e[8],g=e[9],v=e[10],w=e[11],S=e[12],T=e[13],E=e[14],M=e[15];return(t*a-i*n)*(v*M-w*E)-(t*u-r*n)*(g*M-w*T)+(t*d-s*n)*(g*E-v*T)+(i*u-r*a)*(f*M-w*S)-(i*d-s*a)*(f*E-v*S)+(r*d-s*u)*(f*T-g*S)}function hB(e,t,i){const r=t[0],s=t[1],n=t[2],a=t[3],u=t[4],d=t[5],f=t[6],g=t[7],v=t[8],w=t[9],S=t[10],T=t[11],E=t[12],M=t[13],R=t[14],P=t[15];let N=i[0],k=i[1],U=i[2],Z=i[3];return e[0]=N*r+k*u+U*v+Z*E,e[1]=N*s+k*d+U*w+Z*M,e[2]=N*n+k*f+U*S+Z*R,e[3]=N*a+k*g+U*T+Z*P,N=i[4],k=i[5],U=i[6],Z=i[7],e[4]=N*r+k*u+U*v+Z*E,e[5]=N*s+k*d+U*w+Z*M,e[6]=N*n+k*f+U*S+Z*R,e[7]=N*a+k*g+U*T+Z*P,N=i[8],k=i[9],U=i[10],Z=i[11],e[8]=N*r+k*u+U*v+Z*E,e[9]=N*s+k*d+U*w+Z*M,e[10]=N*n+k*f+U*S+Z*R,e[11]=N*a+k*g+U*T+Z*P,N=i[12],k=i[13],U=i[14],Z=i[15],e[12]=N*r+k*u+U*v+Z*E,e[13]=N*s+k*d+U*w+Z*M,e[14]=N*n+k*f+U*S+Z*R,e[15]=N*a+k*g+U*T+Z*P,e}function Qce(e,t,i){const r=i[0],s=i[1],n=i[2];if(t===e)e[12]=t[0]*r+t[4]*s+t[8]*n+t[12],e[13]=t[1]*r+t[5]*s+t[9]*n+t[13],e[14]=t[2]*r+t[6]*s+t[10]*n+t[14],e[15]=t[3]*r+t[7]*s+t[11]*n+t[15];else{const a=t[0],u=t[1],d=t[2],f=t[3],g=t[4],v=t[5],w=t[6],S=t[7],T=t[8],E=t[9],M=t[10],R=t[11];e[0]=a,e[1]=u,e[2]=d,e[3]=f,e[4]=g,e[5]=v,e[6]=w,e[7]=S,e[8]=T,e[9]=E,e[10]=M,e[11]=R,e[12]=a*r+g*s+T*n+t[12],e[13]=u*r+v*s+E*n+t[13],e[14]=d*r+w*s+M*n+t[14],e[15]=f*r+S*s+R*n+t[15]}return e}function Kce(e,t,i){const r=i[0],s=i[1],n=i[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*s,e[5]=t[5]*s,e[6]=t[6]*s,e[7]=t[7]*s,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function ede(e,t,i,r){let s=r[0],n=r[1],a=r[2],u=Math.sqrt(s*s+n*n+a*a);if(u<=Wr())return void cB(e,t);u=1/u,s*=u,n*=u,a*=u;const d=Math.sin(i),f=Math.cos(i),g=1-f,v=t[0],w=t[1],S=t[2],T=t[3],E=t[4],M=t[5],R=t[6],P=t[7],N=t[8],k=t[9],U=t[10],Z=t[11],re=s*s*g+f,oe=n*s*g+a*d,pe=a*s*g-n*d,me=s*n*g-a*d,_e=n*n*g+f,we=a*n*g+s*d,Ye=s*a*g+n*d,Ce=n*a*g-s*d,ut=a*a*g+f;e[0]=v*re+E*oe+N*pe,e[1]=w*re+M*oe+k*pe,e[2]=S*re+R*oe+U*pe,e[3]=T*re+P*oe+Z*pe,e[4]=v*me+E*_e+N*we,e[5]=w*me+M*_e+k*we,e[6]=S*me+R*_e+U*we,e[7]=T*me+P*_e+Z*we,e[8]=v*Ye+E*Ce+N*ut,e[9]=w*Ye+M*Ce+k*ut,e[10]=S*Ye+R*Ce+U*ut,e[11]=T*Ye+P*Ce+Z*ut,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15])}function tde(e,t,i){const r=Math.sin(i),s=Math.cos(i),n=t[4],a=t[5],u=t[6],d=t[7],f=t[8],g=t[9],v=t[10],w=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=n*s+f*r,e[5]=a*s+g*r,e[6]=u*s+v*r,e[7]=d*s+w*r,e[8]=f*s-n*r,e[9]=g*s-a*r,e[10]=v*s-u*r,e[11]=w*s-d*r,e}function ide(e,t,i){const r=Math.sin(i),s=Math.cos(i),n=t[0],a=t[1],u=t[2],d=t[3],f=t[8],g=t[9],v=t[10],w=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=n*s-f*r,e[1]=a*s-g*r,e[2]=u*s-v*r,e[3]=d*s-w*r,e[8]=n*r+f*s,e[9]=a*r+g*s,e[10]=u*r+v*s,e[11]=d*r+w*s,e}function rde(e,t,i){const r=Math.sin(i),s=Math.cos(i),n=t[0],a=t[1],u=t[2],d=t[3],f=t[4],g=t[5],v=t[6],w=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=n*s+f*r,e[1]=a*s+g*r,e[2]=u*s+v*r,e[3]=d*s+w*r,e[4]=f*s-n*r,e[5]=g*s-a*r,e[6]=v*s-u*r,e[7]=w*s-d*r,e}function sde(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function nde(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ode(e,t,i){if(t===0)return nT(e);let r=i[0],s=i[1],n=i[2],a=Math.sqrt(r*r+s*s+n*n);if(a<=Wr())return null;a=1/a,r*=a,s*=a,n*=a;const u=Math.sin(t),d=Math.cos(t),f=1-d;return e[0]=r*r*f+d,e[1]=s*r*f+n*u,e[2]=n*r*f-s*u,e[3]=0,e[4]=r*s*f-n*u,e[5]=s*s*f+d,e[6]=n*s*f+r*u,e[7]=0,e[8]=r*n*f+s*u,e[9]=s*n*f-r*u,e[10]=n*n*f+d,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ade(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=i,e[7]=0,e[8]=0,e[9]=-i,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function lde(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-i,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=i,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ude(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=i,e[2]=0,e[3]=0,e[4]=-i,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function pB(e,t,i){const r=t[0],s=t[1],n=t[2],a=t[3],u=r+r,d=s+s,f=n+n,g=r*u,v=r*d,w=r*f,S=s*d,T=s*f,E=n*f,M=a*u,R=a*d,P=a*f;return e[0]=1-(S+E),e[1]=v+P,e[2]=w-R,e[3]=0,e[4]=v-P,e[5]=1-(g+E),e[6]=T+M,e[7]=0,e[8]=w+R,e[9]=T-M,e[10]=1-(g+S),e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}function cde(e,t){const i=dde,r=-t[0],s=-t[1],n=-t[2],a=t[3],u=t[4],d=t[5],f=t[6],g=t[7],v=r*r+s*s+n*n+a*a;return v>0?(i[0]=2*(u*a+g*r+d*n-f*s)/v,i[1]=2*(d*a+g*s+f*r-u*n)/v,i[2]=2*(f*a+g*n+u*s-d*r)/v):(i[0]=2*(u*a+g*r+d*n-f*s),i[1]=2*(d*a+g*s+f*r-u*n),i[2]=2*(f*a+g*n+u*s-d*r)),pB(e,t,i),e}const dde=fc();function hde(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function pde(e,t){const i=t[0],r=t[1],s=t[2],n=t[4],a=t[5],u=t[6],d=t[8],f=t[9],g=t[10];return e[0]=Math.sqrt(i*i+r*r+s*s),e[1]=Math.sqrt(n*n+a*a+u*u),e[2]=Math.sqrt(d*d+f*f+g*g),e}function fde(e,t){const i=t[0]+t[5]+t[10];let r=0;return i>0?(r=2*Math.sqrt(i+1),e[3]=.25*r,e[0]=(t[6]-t[9])/r,e[1]=(t[8]-t[2])/r,e[2]=(t[1]-t[4])/r):t[0]>t[5]&&t[0]>t[10]?(r=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/r,e[0]=.25*r,e[1]=(t[1]+t[4])/r,e[2]=(t[8]+t[2])/r):t[5]>t[10]?(r=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/r,e[0]=(t[1]+t[4])/r,e[1]=.25*r,e[2]=(t[6]+t[9])/r):(r=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/r,e[0]=(t[8]+t[2])/r,e[1]=(t[6]+t[9])/r,e[2]=.25*r),e}function mde(e,t,i,r){const s=t[0],n=t[1],a=t[2],u=t[3],d=s+s,f=n+n,g=a+a,v=s*d,w=s*f,S=s*g,T=n*f,E=n*g,M=a*g,R=u*d,P=u*f,N=u*g,k=r[0],U=r[1],Z=r[2];return e[0]=(1-(T+M))*k,e[1]=(w+N)*k,e[2]=(S-P)*k,e[3]=0,e[4]=(w-N)*U,e[5]=(1-(v+M))*U,e[6]=(E+R)*U,e[7]=0,e[8]=(S+P)*Z,e[9]=(E-R)*Z,e[10]=(1-(v+T))*Z,e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}function yde(e,t,i,r,s){const n=t[0],a=t[1],u=t[2],d=t[3],f=n+n,g=a+a,v=u+u,w=n*f,S=n*g,T=n*v,E=a*g,M=a*v,R=u*v,P=d*f,N=d*g,k=d*v,U=r[0],Z=r[1],re=r[2],oe=s[0],pe=s[1],me=s[2],_e=(1-(E+R))*U,we=(S+k)*U,Ye=(T-N)*U,Ce=(S-k)*Z,ut=(1-(w+R))*Z,X=(M+P)*Z,he=(T+N)*re,fe=(M-P)*re,Ke=(1-(w+E))*re;return e[0]=_e,e[1]=we,e[2]=Ye,e[3]=0,e[4]=Ce,e[5]=ut,e[6]=X,e[7]=0,e[8]=he,e[9]=fe,e[10]=Ke,e[11]=0,e[12]=i[0]+oe-(_e*oe+Ce*pe+he*me),e[13]=i[1]+pe-(we*oe+ut*pe+fe*me),e[14]=i[2]+me-(Ye*oe+X*pe+Ke*me),e[15]=1,e}function gde(e,t){const i=t[0],r=t[1],s=t[2],n=t[3],a=i+i,u=r+r,d=s+s,f=i*a,g=r*a,v=r*u,w=s*a,S=s*u,T=s*d,E=n*a,M=n*u,R=n*d;return e[0]=1-v-T,e[1]=g+R,e[2]=w-M,e[3]=0,e[4]=g-R,e[5]=1-f-T,e[6]=S+E,e[7]=0,e[8]=w+M,e[9]=S-E,e[10]=1-f-v,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function vde(e,t,i,r,s,n,a){const u=1/(i-t),d=1/(s-r),f=1/(n-a);return e[0]=2*n*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*n*d,e[6]=0,e[7]=0,e[8]=(i+t)*u,e[9]=(s+r)*d,e[10]=(a+n)*f,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*n*2*f,e[15]=0,e}function bde(e,t,i,r,s){const n=1/Math.tan(t/2);let a;return e[0]=n/i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,s!=null&&s!==1/0?(a=1/(r-s),e[10]=(s+r)*a,e[14]=2*s*r*a):(e[10]=-1,e[14]=-2*r),e}function wde(e,t,i,r){const s=Math.tan(t.upDegrees*Math.PI/180),n=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180),u=Math.tan(t.rightDegrees*Math.PI/180),d=2/(a+u),f=2/(s+n);return e[0]=d,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=f,e[6]=0,e[7]=0,e[8]=-(a-u)*d*.5,e[9]=(s-n)*f*.5,e[10]=r/(i-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*i/(i-r),e[15]=0,e}function _de(e,t,i,r,s,n,a){const u=1/(t-i),d=1/(r-s),f=1/(n-a);return e[0]=-2*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*d,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*f,e[11]=0,e[12]=(t+i)*u,e[13]=(s+r)*d,e[14]=(a+n)*f,e[15]=1,e}function Sde(e,t,i,r){const s=t[0],n=t[1],a=t[2];let u=s-i[0],d=n-i[1],f=a-i[2];const g=Wr();if(Math.abs(u)<g&&Math.abs(d)<g&&Math.abs(f)<g)return void nT(e);let v=1/Math.sqrt(u*u+d*d+f*f);u*=v,d*=v,f*=v;const w=r[0],S=r[1],T=r[2];let E=S*f-T*d,M=T*u-w*f,R=w*d-S*u;v=Math.sqrt(E*E+M*M+R*R),v?(v=1/v,E*=v,M*=v,R*=v):(E=0,M=0,R=0);let P=d*R-f*M,N=f*E-u*R,k=u*M-d*E;v=Math.sqrt(P*P+N*N+k*k),v?(v=1/v,P*=v,N*=v,k*=v):(P=0,N=0,k=0),e[0]=E,e[1]=P,e[2]=u,e[3]=0,e[4]=M,e[5]=N,e[6]=d,e[7]=0,e[8]=R,e[9]=k,e[10]=f,e[11]=0,e[12]=-(E*s+M*n+R*a),e[13]=-(P*s+N*n+k*a),e[14]=-(u*s+d*n+f*a),e[15]=1}function Tde(e,t,i,r){const s=t[0],n=t[1],a=t[2],u=r[0],d=r[1],f=r[2];let g=s-i[0],v=n-i[1],w=a-i[2],S=g*g+v*v+w*w;S>0&&(S=1/Math.sqrt(S),g*=S,v*=S,w*=S);let T=d*w-f*v,E=f*g-u*w,M=u*v-d*g;return S=T*T+E*E+M*M,S>0&&(S=1/Math.sqrt(S),T*=S,E*=S,M*=S),e[0]=T,e[1]=E,e[2]=M,e[3]=0,e[4]=v*M-w*E,e[5]=w*T-g*M,e[6]=g*E-v*T,e[7]=0,e[8]=g,e[9]=v,e[10]=w,e[11]=0,e[12]=s,e[13]=n,e[14]=a,e[15]=1,e}function Ede(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function $de(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2+e[9]**2+e[10]**2+e[11]**2+e[12]**2+e[13]**2+e[14]**2+e[15]**2)}function xde(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e[6]=t[6]+i[6],e[7]=t[7]+i[7],e[8]=t[8]+i[8],e[9]=t[9]+i[9],e[10]=t[10]+i[10],e[11]=t[11]+i[11],e[12]=t[12]+i[12],e[13]=t[13]+i[13],e[14]=t[14]+i[14],e[15]=t[15]+i[15],e}function fB(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e[6]=t[6]-i[6],e[7]=t[7]-i[7],e[8]=t[8]-i[8],e[9]=t[9]-i[9],e[10]=t[10]-i[10],e[11]=t[11]-i[11],e[12]=t[12]-i[12],e[13]=t[13]-i[13],e[14]=t[14]-i[14],e[15]=t[15]-i[15],e}function Mde(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12]*i,e[13]=t[13]*i,e[14]=t[14]*i,e[15]=t[15]*i,e}function Ade(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e[3]=t[3]+i[3]*r,e[4]=t[4]+i[4]*r,e[5]=t[5]+i[5]*r,e[6]=t[6]+i[6]*r,e[7]=t[7]+i[7]*r,e[8]=t[8]+i[8]*r,e[9]=t[9]+i[9]*r,e[10]=t[10]+i[10]*r,e[11]=t[11]+i[11]*r,e[12]=t[12]+i[12]*r,e[13]=t[13]+i[13]*r,e[14]=t[14]+i[14]*r,e[15]=t[15]+i[15]*r,e}function Ode(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function Rde(e,t){if(e===t)return!0;const i=e[0],r=e[1],s=e[2],n=e[3],a=e[4],u=e[5],d=e[6],f=e[7],g=e[8],v=e[9],w=e[10],S=e[11],T=e[12],E=e[13],M=e[14],R=e[15],P=t[0],N=t[1],k=t[2],U=t[3],Z=t[4],re=t[5],oe=t[6],pe=t[7],me=t[8],_e=t[9],we=t[10],Ye=t[11],Ce=t[12],ut=t[13],X=t[14],he=t[15],fe=Wr();return Math.abs(i-P)<=fe*Math.max(1,Math.abs(i),Math.abs(P))&&Math.abs(r-N)<=fe*Math.max(1,Math.abs(r),Math.abs(N))&&Math.abs(s-k)<=fe*Math.max(1,Math.abs(s),Math.abs(k))&&Math.abs(n-U)<=fe*Math.max(1,Math.abs(n),Math.abs(U))&&Math.abs(a-Z)<=fe*Math.max(1,Math.abs(a),Math.abs(Z))&&Math.abs(u-re)<=fe*Math.max(1,Math.abs(u),Math.abs(re))&&Math.abs(d-oe)<=fe*Math.max(1,Math.abs(d),Math.abs(oe))&&Math.abs(f-pe)<=fe*Math.max(1,Math.abs(f),Math.abs(pe))&&Math.abs(g-me)<=fe*Math.max(1,Math.abs(g),Math.abs(me))&&Math.abs(v-_e)<=fe*Math.max(1,Math.abs(v),Math.abs(_e))&&Math.abs(w-we)<=fe*Math.max(1,Math.abs(w),Math.abs(we))&&Math.abs(S-Ye)<=fe*Math.max(1,Math.abs(S),Math.abs(Ye))&&Math.abs(T-Ce)<=fe*Math.max(1,Math.abs(T),Math.abs(Ce))&&Math.abs(E-ut)<=fe*Math.max(1,Math.abs(E),Math.abs(ut))&&Math.abs(M-X)<=fe*Math.max(1,Math.abs(M),Math.abs(X))&&Math.abs(R-he)<=fe*Math.max(1,Math.abs(R),Math.abs(he))}function Cde(e){const t=Wr(),i=e[0],r=e[1],s=e[2],n=e[4],a=e[5],u=e[6],d=e[8],f=e[9],g=e[10];return Math.abs(1-(i*i+n*n+d*d))<=t&&Math.abs(1-(r*r+a*a+f*f))<=t&&Math.abs(1-(s*s+u*u+g*g))<=t}function Ide(e){return e[0]===1&&e[1]===0&&e[2]===0&&e[4]===0&&e[5]===1&&e[6]===0&&e[8]===0&&e[9]===0&&e[10]===1}const Nde=hB,Pde=fB;Object.freeze(Object.defineProperty({__proto__:null,add:xde,adjoint:Jce,copy:cB,determinant:Xce,equals:Rde,exactEquals:Ode,frob:$de,fromQuat:gde,fromQuat2:cde,fromRotation:ode,fromRotationTranslation:pB,fromRotationTranslationScale:mde,fromRotationTranslationScaleOrigin:yde,fromScaling:nde,fromTranslation:sde,fromXRotation:ade,fromYRotation:lde,fromZRotation:ude,frustum:vde,getRotation:fde,getScaling:pde,getTranslation:hde,hasIdentityRotation:Ide,identity:nT,invert:dB,invertOrIdentity:Yce,isOrthoNormal:Cde,lookAt:Sde,mul:Nde,multiply:hB,multiplyScalar:Mde,multiplyScalarAndAdd:Ade,ortho:_de,perspective:bde,perspectiveFromFieldOfView:wde,rotate:ede,rotateX:tde,rotateY:ide,rotateZ:rde,scale:Kce,set:yc,str:Ede,sub:Pde,subtract:fB,targetTo:Tde,translate:Qce,transpose:gc},Symbol.toStringTag,{value:"Module"}));const Lde=(e,t)=>{const i=yc(e,t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1);return gc(i,i)},Dde=(e,t)=>{const i=yc(e,t,0,0,.5-.5*t,0,t,0,.5-.5*t,0,0,t,.5-.5*t,0,0,0,1);return gc(i,i)},kde=(e,t)=>{const i=1-t,r=yc(e,.2126+.7874*i,.7152-.7152*i,.0722-.0722*i,0,.2126-.2126*i,.7152+.2848*i,.0722-.0722*i,0,.2126-.2126*i,.7152-.7152*i,.0722+.9278*i,0,0,0,0,1);return gc(r,r)},Fde=(e,t)=>{const i=Math.sin(t*Math.PI/180),r=Math.cos(t*Math.PI/180),s=yc(e,.213+.787*r-.213*i,.715-.715*r-.715*i,.072-.072*r+.928*i,0,.213-.213*r+.143*i,.715+.285*r+.14*i,.072-.072*r-.283*i,0,.213-.213*r-.787*i,.715-.715*r+.715*i,.072+.928*r+.072*i,0,0,0,0,1);return gc(s,s)},jde=(e,t)=>{const i=1-2*t,r=yc(e,i,0,0,t,0,i,0,t,0,0,i,t,0,0,0,1);return gc(r,r)},Ude=(e,t)=>{const i=yc(e,.213+.787*t,.715-.715*t,.072-.072*t,0,.213-.213*t,.715+.285*t,.072-.072*t,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,1);return gc(i,i)},zde=(e,t)=>{const i=1-t,r=yc(e,.393+.607*i,.769-.769*i,.189-.189*i,0,.349-.349*i,.686+.314*i,.168-.168*i,0,.272-.272*i,.534-.534*i,.131+.869*i,0,0,0,0,1);return gc(r,r)};let mB=class yB{constructor(t,i,r){this.strength=t,this.radius=i,this.threshold=r,this.type="bloom"}interpolate(t,i,r){this.strength=ls(t.strength,i.strength,r),this.radius=ls(t.radius,i.radius,r),this.threshold=ls(t.threshold,i.threshold,r)}clone(){return new yB(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:I0(this.radius),strength:this.strength,threshold:this.threshold}}},gB=class vB{constructor(t){this.radius=t,this.type="blur"}interpolate(t,i,r){this.radius=Math.round(ls(t.radius,i.radius,r))}clone(){return new vB(this.radius)}toJSON(){return{type:"blur",radius:I0(this.radius)}}},bO=class bB{constructor(t,i){this.type=t,this.amount=i,this.type!=="invert"&&this.type!=="grayscale"&&this.type!=="sepia"||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,i,r){this.amount=ls(t.amount,i.amount,r),this._updateMatrix()}clone(){return new bB(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const t=this._colorMatrix||rT();switch(this.type){case"brightness":this._colorMatrix=Lde(t,this.amount);break;case"contrast":this._colorMatrix=Dde(t,this.amount);break;case"grayscale":this._colorMatrix=kde(t,this.amount);break;case"invert":this._colorMatrix=jde(t,this.amount);break;case"saturate":this._colorMatrix=Ude(t,this.amount);break;case"sepia":this._colorMatrix=zde(t,this.amount)}}},wB=class _B{constructor(t,i,r,s){this.offsetX=t,this.offsetY=i,this.blurRadius=r,this.color=s,this.type="drop-shadow"}interpolate(t,i,r){this.offsetX=ls(t.offsetX,i.offsetX,r),this.offsetY=ls(t.offsetY,i.offsetY,r),this.blurRadius=ls(t.blurRadius,i.blurRadius,r),this.color[0]=Math.round(ls(t.color[0],i.color[0],r)),this.color[1]=Math.round(ls(t.color[1],i.color[1],r)),this.color[2]=Math.round(ls(t.color[2],i.color[2],r)),this.color[3]=ls(t.color[3],i.color[3],r)}clone(){return new _B(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const t=[...this.color];return t[3]*=255,{type:"drop-shadow",xoffset:I0(this.offsetX),yoffset:I0(this.offsetY),blurRadius:I0(this.blurRadius),color:t}}},SB=class TB{constructor(t){this.angle=t,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,i,r){this.angle=ls(t.angle,i.angle,r),this._updateMatrix()}clone(){return new TB(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const t=this._colorMatrix||rT();this._colorMatrix=Fde(t,this.angle)}},EB=class $B{constructor(t){this.amount=t,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(t,i,r){this.amount=ls(t.amount,i.amount,r)}clone(){return new $B(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}};function ls(e,t,i){return e+(t-e)*i}function I0(e){return Math.round(1e3*_n(e))/1e3}function Vde(e){switch(e.type){case"grayscale":case"sepia":case"invert":return new bO(e.type,0);case"saturate":case"brightness":case"contrast":return new bO(e.type,1);case"opacity":return new EB(1);case"hue-rotate":return new SB(0);case"blur":return new gB(0);case"drop-shadow":return new wB(0,0,0,[...yI("transparent")]);case"bloom":return new mB(0,0,1)}}function Gde(e,t){const i=e.length>t.length?e:t;return(e.length>t.length?t:e).every((r,s)=>r.type===i[s].type)}function qde(e,t){const i=e.length>t.length?e:t,r=e.length>t.length?t:e;for(let s=r.length;s<i.length;s++)r.push(Vde(i[s]))}function Bde(e){const t=e[0];return!!t&&"type"in t}function Hde(e,t){function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i}function Lf(e,t,i,r){var s=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(s,Lf.prototype),s.expected=t,s.found=i,s.location=r,s.name="SyntaxError",s}function Ux(e,t,i){return i=i||" ",e.length>t?e:(t-=e.length,e+(i+=i.repeat(t)).slice(0,t))}function Wde(e,t){var i,r={},s=(t=t!==void 0?t:{}).grammarSource,n={start:gi},a=gi,u="none",d=")",f=",",g="(",v="%",w="px",S="cm",T="mm",E="in",M="pt",R="pc",P="deg",N="rad",k="grad",U="turn",Z="#",re=".",oe="e",pe=/^[ \t\n\r]/,me=/^[a-z\-]/,_e=/^[0-9a-fA-F]/,we=/^[+\-]/,Ye=/^[0-9]/,Ce=ys("none"),ut=Si("none",!1),X=Si(")",!1),he=Si(",",!1),fe=ys("whitespace"),Ke=vl([" ","	",`
`,"\r"],!1,!1),L=ys("function"),ae=Si("(",!1),Se=ys("identifier"),ge=vl([["a","z"],"-"],!1,!1),De=ys("percentage"),ct=Si("%",!1),We=ys("length"),Ir=Si("px",!1),Ft=Si("cm",!1),mo=Si("mm",!1),Pm=Si("in",!1),Ah=Si("pt",!1),Lm=Si("pc",!1),Dm=ys("angle"),km=Si("deg",!1),LT=Si("rad",!1),DT=Si("grad",!1),Gs=Si("turn",!1),kT=ys("number"),d1=ys("color"),h1=Si("#",!1),_c=vl([["0","9"],["a","f"],["A","F"]],!1,!1),p1=vl(["+","-"],!1,!1),$n=vl([["0","9"]],!1,!1),FT=Si(".",!1),jT=Si("e",!1),Sc=function(){return[]},Nr=function(C,Q){return{type:"function",name:C,parameters:Q||[]}},yo=function(C,Q){return Q.length>0?qm(C,Q,3):[C]},Pr=function(C){return{type:"quantity",value:C.value,unit:C.unit}},UT=function(C){return{type:"color",colorType:C.type,value:C.value}},zT=function(C){return C},VT=function(){return Ih()},Oh=function(C){return{value:C,unit:"%"}},Rh=function(C){return{value:C,unit:"px"}},sa=function(C){return{value:C,unit:"cm"}},Ch=function(C){return{value:C,unit:"mm"}},Tc=function(C){return{value:C,unit:"in"}},GT=function(C){return{value:C,unit:"pt"}},f1=function(C){return{value:C,unit:"pc"}},m1=function(C){return{value:C,unit:"deg"}},Fm=function(C){return{value:C,unit:"rad"}},Ec=function(C){return{value:C,unit:"grad"}},qT=function(C){return{value:C,unit:"turn"}},y1=function(C){return{value:C,unit:null}},g1=function(){return{type:"hex",value:Ih()}},jm=function(C){return{type:"function",value:C}},Um=function(){return{type:"named",value:Ih()}},v1=function(){return parseFloat(Ih())},J=0|t.peg$currPos,ft=J,ti=[{line:1,column:1}],jt=J,xn=t.peg$maxFailExpected||[],xe=0|t.peg$silentFails;if(t.startRule){if(!(t.startRule in n))throw new Error(`Can't start parsing from rule "`+t.startRule+'".');a=n[t.startRule]}function Ih(){return e.substring(ft,J)}function Si(C,Q){return{type:"literal",text:C,ignoreCase:Q}}function vl(C,Q,se){return{type:"class",parts:C,inverted:Q,ignoreCase:se}}function $c(){return{type:"end"}}function ys(C){return{type:"other",description:C}}function na(C){var Q,se=ti[C];if(se)return se;if(C>=ti.length)Q=ti.length-1;else for(Q=C;!ti[--Q];);for(se={line:(se=ti[Q]).line,column:se.column};Q<C;)e.charCodeAt(Q)===10?(se.line++,se.column=1):se.column++,Q++;return ti[C]=se,se}function oa(C,Q,se){var Fe=na(C),$t=na(Q);return{source:s,start:{offset:C,line:Fe.line,column:Fe.column},end:{offset:Q,line:$t.line,column:$t.column}}}function je(C){J<jt||(J>jt&&(jt=J,xn=[]),xn.push(C))}function bl(C,Q,se){return new Lf(Lf.buildMessage(C,Q),C,Q,se)}function gi(){var C;return(C=b1())===r&&(C=w1()),C}function b1(){var C,Q;return xe++,C=J,vi(),e.substr(J,4)===u?(Q=u,J+=4):(Q=r,xe===0&&je(ut)),Q!==r?(vi(),ft=C,C=Sc()):(J=C,C=r),xe--,C===r&&xe===0&&je(Ce),C}function w1(){var C,Q;if(C=[],(Q=Mn())!==r)for(;Q!==r;)C.push(Q),Q=Mn();else C=r;return C}function Mn(){var C,Q,se,Fe;return C=J,vi(),(Q=_1())!==r?(vi(),(se=wl())===r&&(se=null),vi(),e.charCodeAt(J)===41?(Fe=d,J++):(Fe=r,xe===0&&je(X)),Fe!==r?(vi(),ft=C,C=Nr(Q,se)):(J=C,C=r)):(J=C,C=r),C}function wl(){var C,Q,se,Fe,$t,It,ai,Ni;if(C=J,(Q=zm())!==r){for(se=[],Fe=J,$t=vi(),e.charCodeAt(J)===44?(It=f,J++):(It=r,xe===0&&je(he)),It===r&&(It=null),ai=vi(),(Ni=zm())!==r?Fe=$t=[$t,It,ai,Ni]:(J=Fe,Fe=r);Fe!==r;)se.push(Fe),Fe=J,$t=vi(),e.charCodeAt(J)===44?(It=f,J++):(It=r,xe===0&&je(he)),It===r&&(It=null),ai=vi(),(Ni=zm())!==r?Fe=$t=[$t,It,ai,Ni]:(J=Fe,Fe=r);ft=C,C=yo(Q,se)}else J=C,C=r;return C}function zm(){var C,Q;return C=J,(Q=Nh())===r&&(Q=Ph())===r&&(Q=An())===r&&(Q=Vm()),Q!==r&&(ft=C,Q=Pr(Q)),(C=Q)===r&&(C=J,(Q=T1())!==r&&(ft=C,Q=UT(Q)),C=Q),C}function vi(){var C,Q;for(xe++,C=[],Q=e.charAt(J),pe.test(Q)?J++:(Q=r,xe===0&&je(Ke));Q!==r;)C.push(Q),Q=e.charAt(J),pe.test(Q)?J++:(Q=r,xe===0&&je(Ke));return xe--,Q=r,xe===0&&je(fe),C}function _1(){var C,Q,se;return xe++,C=J,(Q=S1())!==r?(e.charCodeAt(J)===40?(se=g,J++):(se=r,xe===0&&je(ae)),se!==r?(ft=C,C=zT(Q)):(J=C,C=r)):(J=C,C=r),xe--,C===r&&(Q=r,xe===0&&je(L)),C}function S1(){var C,Q,se;if(xe++,C=J,Q=[],se=e.charAt(J),me.test(se)?J++:(se=r,xe===0&&je(ge)),se!==r)for(;se!==r;)Q.push(se),se=e.charAt(J),me.test(se)?J++:(se=r,xe===0&&je(ge));else Q=r;return Q!==r&&(ft=C,Q=VT()),xe--,(C=Q)===r&&(Q=r,xe===0&&je(Se)),C}function Nh(){var C,Q,se;return xe++,C=J,vi(),(Q=Ii())!==r?(e.charCodeAt(J)===37?(se=v,J++):(se=r,xe===0&&je(ct)),se!==r?(ft=C,C=Oh(Q)):(J=C,C=r)):(J=C,C=r),xe--,C===r&&xe===0&&je(De),C}function Ph(){var C,Q,se;return xe++,C=J,vi(),(Q=Ii())!==r?(e.substr(J,2)===w?(se=w,J+=2):(se=r,xe===0&&je(Ir)),se!==r?(ft=C,C=Rh(Q)):(J=C,C=r)):(J=C,C=r),C===r&&(C=J,vi(),(Q=Ii())!==r?(e.substr(J,2)===S?(se=S,J+=2):(se=r,xe===0&&je(Ft)),se!==r?(ft=C,C=sa(Q)):(J=C,C=r)):(J=C,C=r),C===r&&(C=J,vi(),(Q=Ii())!==r?(e.substr(J,2)===T?(se=T,J+=2):(se=r,xe===0&&je(mo)),se!==r?(ft=C,C=Ch(Q)):(J=C,C=r)):(J=C,C=r),C===r&&(C=J,vi(),(Q=Ii())!==r?(e.substr(J,2)===E?(se=E,J+=2):(se=r,xe===0&&je(Pm)),se!==r?(ft=C,C=Tc(Q)):(J=C,C=r)):(J=C,C=r),C===r&&(C=J,vi(),(Q=Ii())!==r?(e.substr(J,2)===M?(se=M,J+=2):(se=r,xe===0&&je(Ah)),se!==r?(ft=C,C=GT(Q)):(J=C,C=r)):(J=C,C=r),C===r&&(C=J,vi(),(Q=Ii())!==r?(e.substr(J,2)===R?(se=R,J+=2):(se=r,xe===0&&je(Lm)),se!==r?(ft=C,C=f1(Q)):(J=C,C=r)):(J=C,C=r)))))),xe--,C===r&&xe===0&&je(We),C}function An(){var C,Q,se;return xe++,C=J,(Q=Ii())!==r?(e.substr(J,3)===P?(se=P,J+=3):(se=r,xe===0&&je(km)),se!==r?(ft=C,C=m1(Q)):(J=C,C=r)):(J=C,C=r),C===r&&(C=J,(Q=Ii())!==r?(e.substr(J,3)===N?(se=N,J+=3):(se=r,xe===0&&je(LT)),se!==r?(ft=C,C=Fm(Q)):(J=C,C=r)):(J=C,C=r),C===r&&(C=J,(Q=Ii())!==r?(e.substr(J,4)===k?(se=k,J+=4):(se=r,xe===0&&je(DT)),se!==r?(ft=C,C=Ec(Q)):(J=C,C=r)):(J=C,C=r),C===r&&(C=J,(Q=Ii())!==r?(e.substr(J,4)===U?(se=U,J+=4):(se=r,xe===0&&je(Gs)),se!==r?(ft=C,C=qT(Q)):(J=C,C=r)):(J=C,C=r)))),xe--,C===r&&(Q=r,xe===0&&je(Dm)),C}function Vm(){var C,Q;return xe++,C=J,vi(),(Q=Ii())!==r?(ft=C,C=y1(Q)):(J=C,C=r),xe--,C===r&&xe===0&&je(kT),C}function T1(){var C,Q,se,Fe;if(xe++,C=J,e.charCodeAt(J)===35?(Q=Z,J++):(Q=r,xe===0&&je(h1)),Q!==r){if(se=[],Fe=e.charAt(J),_e.test(Fe)?J++:(Fe=r,xe===0&&je(_c)),Fe!==r)for(;Fe!==r;)se.push(Fe),Fe=e.charAt(J),_e.test(Fe)?J++:(Fe=r,xe===0&&je(_c));else se=r;se!==r?(ft=C,C=g1()):(J=C,C=r)}else J=C,C=r;return C===r&&(C=J,(Q=Mn())!==r&&(ft=C,Q=jm(Q)),(C=Q)===r&&(C=J,(Q=S1())!==r&&(ft=C,Q=Um()),C=Q)),xe--,C===r&&(Q=r,xe===0&&je(d1)),C}function Ii(){var C,Q,se,Fe,$t,It,ai,Ni;for(C=J,Q=e.charAt(J),we.test(Q)?J++:(Q=r,xe===0&&je(p1)),Q===r&&(Q=null),se=J,Fe=[],$t=e.charAt(J),Ye.test($t)?J++:($t=r,xe===0&&je($n));$t!==r;)Fe.push($t),$t=e.charAt(J),Ye.test($t)?J++:($t=r,xe===0&&je($n));if(e.charCodeAt(J)===46?($t=re,J++):($t=r,xe===0&&je(FT)),$t!==r){if(It=[],ai=e.charAt(J),Ye.test(ai)?J++:(ai=r,xe===0&&je($n)),ai!==r)for(;ai!==r;)It.push(ai),ai=e.charAt(J),Ye.test(ai)?J++:(ai=r,xe===0&&je($n));else It=r;It!==r?se=Fe=[Fe,$t,It]:(J=se,se=r)}else J=se,se=r;if(se===r)if(se=[],Fe=e.charAt(J),Ye.test(Fe)?J++:(Fe=r,xe===0&&je($n)),Fe!==r)for(;Fe!==r;)se.push(Fe),Fe=e.charAt(J),Ye.test(Fe)?J++:(Fe=r,xe===0&&je($n));else se=r;if(se!==r){if(Fe=J,e.charCodeAt(J)===101?($t=oe,J++):($t=r,xe===0&&je(jT)),$t!==r){if(It=e.charAt(J),we.test(It)?J++:(It=r,xe===0&&je(p1)),It===r&&(It=null),ai=[],Ni=e.charAt(J),Ye.test(Ni)?J++:(Ni=r,xe===0&&je($n)),Ni!==r)for(;Ni!==r;)ai.push(Ni),Ni=e.charAt(J),Ye.test(Ni)?J++:(Ni=r,xe===0&&je($n));else ai=r;ai!==r?Fe=$t=[$t,It,ai]:(J=Fe,Fe=r)}else J=Fe,Fe=r;Fe===r&&(Fe=null),ft=C,C=v1()}else J=C,C=r;return C}function Gm(C,Q){return C.map(function(se){return se[Q]})}function qm(C,Q,se){return[C].concat(Gm(Q,se))}if(i=a(),t.peg$library)return{peg$result:i,peg$currPos:J,peg$FAILED:r,peg$maxFailExpected:xn,peg$maxFailPos:jt};if(i!==r&&J===e.length)return i;throw i!==r&&J<e.length&&je($c()),bl(xn,jt<e.length?e.charAt(jt):null,jt<e.length?oa(jt,jt+1):oa(jt,jt))}function xB(e){if(!e||e.length===0)return null;if(typeof e=="string"){const i=R6(e);return i&&i.length!==0?i:null}const t=e.map(i=>{if(!Number.isFinite(i.scale)||i.scale<=0)throw new z("effect:invalid-scale","scale must be finite and greater than 0",{stop:i});return{scale:i.scale,effects:R6(i.value)}});t.sort((i,r)=>r.effects.length-i.effects.length);for(let i=0;i<t.length-1;i++){if(!Gde(t[i].effects,t[i+1].effects))throw new z("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:t[i].effects,b:t[i+1].effects});qde(t[i].effects,t[i+1].effects)}return t.sort((i,r)=>r.scale-i.scale),t}function R6(e){let t;if(!e)return[];try{t=Wde(e)}catch(i){throw new z("effect:invalid-syntax","Invalid effect syntax",{value:e,error:i})}return t.map(i=>Zde(i))}function Zde(e){try{switch(e.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return Yde(e);case"opacity":return Jde(e);case"hue-rotate":return Xde(e);case"blur":return Qde(e);case"drop-shadow":return Kde(e);case"bloom":return ehe(e)}}catch(t){throw t.details.filter=e,t}throw new z("effect:unknown-effect",`Effect '${e.name}' is not supported`,{effect:e})}function Yde(e){let t=1;return Om(e.parameters,1),e.parameters.length===1&&(t=eo(e.parameters[0])),new bO(e.name,t)}function Jde(e){let t=1;return Om(e.parameters,1),e.parameters.length===1&&(t=eo(e.parameters[0])),new EB(t)}function Xde(e){let t=0;return Om(e.parameters,1),e.parameters.length===1&&(t=ohe(e.parameters[0])),new SB(t)}function Qde(e){let t=0;return Om(e.parameters,1),e.parameters.length===1&&(t=QI(e.parameters[0]),t1(t,e.parameters[0])),new gB(t)}function Kde(e){const t=[];let i=null;for(const r of e.parameters)if(r.type==="color"){if(t.length&&Object.freeze(t),i)throw new z("effect:type-error","Accepts only one color",{});i=ahe(r)}else{const s=QI(r);if(Object.isFrozen(t))throw new z("effect:type-error","<length> parameters not consecutive",{lengths:t});t.push(s),t.length===3&&t1(s,r)}if(t.length<2||t.length>3)throw new z("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${t.length}}`,{lengths:t});return new wB(t[0],t[1],t[2]||0,i||MB("black"))}function ehe(e){let t=1,i=0,r=0;return Om(e.parameters,3),e.parameters[0]&&(t=eo(e.parameters[0])),e.parameters[1]&&(i=QI(e.parameters[1]),t1(i,e.parameters[1])),e.parameters[2]&&(r=eo(e.parameters[2])),new mB(t,i,r)}function Om(e,t){if(e.length>t)throw new z("effect:type-error",`Function supports up to ${t} parameters, Actual: ${e.length}`,{parameters:e})}function oT(e){if(e.type==="color")return"<color>";if(e.unit){if(e.unit in XI)return"<length>";if(e.unit in JI)return"<angle>";if(e.unit==="%")return"<percentage>"}return"<double>"}function t1(e,t){if(e<0)throw new z("effect:type-error",`Negative values are not allowed, Actual: ${e}`,{term:t})}function the(e){if(e.type!=="quantity"||e.unit!==null)throw new z("effect:type-error",`Expected <double>, Actual: ${oT(e)}`,{term:e})}function ihe(e){if(e.type!=="quantity"||e.unit!==null&&e.unit!=="%")throw new z("effect:type-error",`Expected <double> or <percentage>, Actual: ${oT(e)}`,{term:e})}Hde(Lf,Error),Lf.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var i,r=null;for(i=0;i<e.length;i++)if(e[i].source===this.location.source){r=e[i].text.split(/\r\n|\n|\r/g);break}var s=this.location.start,n=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(s):s,a=this.location.source+":"+n.line+":"+n.column;if(r){var u=this.location.end,d=Ux("",n.line.toString().length," "),f=r[s.line-1],g=(s.line===u.line?u.column:f.length+1)-s.column||1;t+=`
 --> `+a+`
`+d+` |
`+n.line+" | "+f+`
`+d+" | "+Ux("",s.column-1," ")+Ux("",g,"^")}else t+=`
 at `+a}return t},Lf.buildMessage=function(e,t){var i={literal:function(f){return'"'+s(f.text)+'"'},class:function(f){var g=f.parts.map(function(v){return Array.isArray(v)?n(v[0])+"-"+n(v[1]):n(v)});return"["+(f.inverted?"^":"")+g.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(f){return f.description}};function r(f){return f.charCodeAt(0).toString(16).toUpperCase()}function s(f){return f.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(g){return"\\x0"+r(g)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(g){return"\\x"+r(g)})}function n(f){return f.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(g){return"\\x0"+r(g)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(g){return"\\x"+r(g)})}function a(f){return i[f.type](f)}function u(f){var g,v,w=f.map(a);if(w.sort(),w.length>0){for(g=1,v=1;g<w.length;g++)w[g-1]!==w[g]&&(w[v]=w[g],v++);w.length=v}switch(w.length){case 1:return w[0];case 2:return w[0]+" or "+w[1];default:return w.slice(0,-1).join(", ")+", or "+w[w.length-1]}}function d(f){return f?'"'+s(f)+'"':"end of input"}return"Expected "+u(e)+" but "+d(t)+" found."};const JI={deg:1,grad:.9,rad:180/Math.PI,turn:360};function rhe(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&JI[e.unit]!=null))throw new z("effect:type-error",`Expected <angle>, Actual: ${oT(e)}`,{term:e})}const XI={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function she(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&XI[e.unit]!=null))throw new z("effect:type-error",`Expected <length>, Actual: ${oT(e)}`,{term:e})}function eo(e){ihe(e);const t=e.value;return t1(t,e),e.unit==="%"?.01*t:t}function nhe(e){return the(e),t1(e.value,e),e.value}function ohe(e){return rhe(e),e.value*JI[e.unit]||0}function QI(e){return she(e),e.value*XI[e.unit]||0}function ahe(e){switch(e.colorType){case"hex":return koe(e.value);case"named":return MB(e.value);case"function":return che(e.value)}}function MB(e){if(!sG(e))throw new z("effect:unknown-color",`color '${e}' isn't valid`,{namedColor:e});return Doe(e)}const lhe=/^rgba?/i,uhe=/^hsla?/i;function che(e){if(Om(e.parameters,4),lhe.test(e.name))return[eo(e.parameters[0]),eo(e.parameters[1]),eo(e.parameters[2]),e.parameters[3]?eo(e.parameters[3]):1];if(uhe.test(e.name))return nG(nhe(e.parameters[0]),eo(e.parameters[1]),eo(e.parameters[2]),e.parameters[3]?eo(e.parameters[3]):1);throw new z("effect:syntax-error",`Invalid color function '${e.name}'`,{colorFunction:e})}function hv(e,t,i){var r;try{return hhe(e)}catch(s){(r=i==null?void 0:i.messages)==null||r.push(s)}return null}function pv(e,t,i,r){try{const s=dhe(e);ir(i,s,t)}catch(s){r.messages&&r.messages.push(s)}}function dhe(e){const t=xB(e);return t?Bde(t)?t.map(i=>i.toJSON()):t.map(({scale:i,effects:r})=>({scale:i,value:r.map(s=>s.toJSON())})):null}function hhe(e){if(!e||e.length===0)return null;if(phe(e)){const t=[];for(const i of e)t.push({scale:i.scale,value:C6(i.value)});return t}return C6(e)}function phe(e){const t=e[0];return!!t&&"scale"in t}function C6(e){if(!(e!=null&&e.length))return"";const t=[];for(const i of e){let r=[];switch(i.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":r=[_a(i,"amount")];break;case"blur":r=[_a(i,"radius","pt")];break;case"hue-rotate":r=[_a(i,"angle","deg")];break;case"drop-shadow":r=[_a(i,"xoffset","pt"),_a(i,"yoffset","pt"),_a(i,"blurRadius","pt"),fhe(i,"color")];break;case"bloom":r=[_a(i,"strength"),_a(i,"radius","pt"),_a(i,"threshold")]}const s=`${i.type}(${r.filter(Boolean).join(" ")})`;xB(s),t.push(s)}return t.join(" ")}function _a(e,t,i){if(e[t]==null)throw new z("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});return i?e[t]+i:""+e[t]}function fhe(e,t){if(e[t]==null)throw new z("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});const i=e[t];return`rgba(${i[0]||0}, ${i[1]||0}, ${i[2]||0}, ${i[3]/255||0})`}const mhe={type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:{layerContainerTypes:Jt}},"portal-item":{read:!0,write:{layerContainerTypes:Jt}}}}},I6={read:{reader:hv},write:{allowNull:!0,writer:pv,layerContainerTypes:Jt}},yhe={json:{read:!1,write:!1,origins:{"web-map":I6,"portal-item":I6}}},ghe=e=>{let t=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return c([p(mhe)],t.prototype,"blendMode",void 0),c([p(yhe)],t.prototype,"effect",void 0),t=c([O("esri.layers.mixins.BlendLayer")],t),t},vhe=e=>{let t=class extends e{constructor(){super(...arguments),this.customParameters=null}};return c([p({type:Object,json:{write:{overridePolicy:i=>({enabled:!!(i&&Object.keys(i).length>0)})}}})],t.prototype,"customParameters",void 0),t=c([O("esri.layers.mixins.CustomParametersMixin")],t),t},AB=96;function FCe(e,t){const i=e.extent,r=e.width,s=Sn(i==null?void 0:i.spatialReference);return i&&r?i.width/r*s*CV*AB:0}function jCe(e,t){return e/(Sn(t)*CV*AB)}function UCe(e,t,i){return bhe(e,t)&&whe(e,i)}function bhe(e,t){return t===0||lo(e,t)||e<t}function whe(e,t){return t===0||lo(e,t)||e>t}function _he(e,t){return lo(e,t)?0:(e||Number.POSITIVE_INFINITY)>(t||Number.POSITIVE_INFINITY)?1:-1}const She="randomUUID"in crypto;function aT(){if(She)return crypto.randomUUID();const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=i=>e[i].toString(16).padStart(4,"0");return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}function zCe(){return`{${aT().toUpperCase()}}`}function The(){return`{${aT()}}`}function Ehe(e){const t=e.toUpperCase();return e[0]!=="{"?`{${t}}`:t}const N6={write:{overridePolicy:(e,t,i)=>({enabled:!i||i.filterMode==="scale"})}};let du=class extends rt.ClonableMixin(K){constructor(t){super(t),this.id=aT(),this.maxScale=0,this.minScale=0,this.title="",this.where=null}};c([p({type:String,json:{write:!0}})],du.prototype,"id",void 0),c([p({type:Number,json:N6})],du.prototype,"maxScale",void 0),c([p({type:Number,json:N6})],du.prototype,"minScale",void 0),c([p({type:String,json:{write:!0}})],du.prototype,"title",void 0),c([p({type:String,json:{write:!0}})],du.prototype,"where",void 0),du=c([O("esri.layers.support.DisplayFilter")],du);const OB=du;function $he(e,t){return{...t,filterMode:e.mode}}function GCe(e,t){return RB(e,t).next().value??null}function qCe(e,t,i){const r=xhe(e);if(r&&(aG(t,r[0])||L3(i,r[1])))return"";const s=Array.from(RB(e,t,i)),n=Mhe(s,t,i)?"1=1":s.map(a=>a.where||"1=1").reduce((a,u)=>xte(a,u),"");return n&&n!=="1=1"?n:""}function xhe(e){if(CB(e)==="manual")return null;const t=[Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY];for(const{minScale:i,maxScale:r}of e.filters)t[0]=Math.max(t[0],fv(i)),t[1]=Math.min(t[1],VS(r));return t}function*RB(e,t,i){if(CB(e)==="manual"){const r=e.filters.find(s=>s.id===e.activeFilterId);r&&(yield r)}else{typeof t=="object"&&(t=t.scale);for(const r of e.filters)Ahe(r.minScale,r.maxScale,t,i)&&(yield r)}}function Mhe(e,t,i){var n,a;if(e.length===0)return!0;const r=fv((n=e.at(0))==null?void 0:n.minScale),s=VS((a=e.at(-1))==null?void 0:a.maxScale);if(L3(r,t)||aG(s,i))return!0;for(let u=0;u<e.length-1;u++){const d=e[u],f=e[u+1];if(L3(fv(f.minScale),VS(d.maxScale)))return!0}return!1}function Ahe(e,t,i,r){return e=fv(e),i=fv(i),t=VS(t),!(!lo(i,e)&&(r??i)>e)&&!joe(t,i)&&(r===void 0||!lo(r,e))}function CB(e){return"mode"in e?e.mode:e.filterMode}function fv(e){return e||Number.POSITIVE_INFINITY}function VS(e){return e||0}let yd=class extends rt.ClonableMixin(K){constructor(t){super(t),this.activeFilterId=null,this.filters=new(ye.ofType(OB)),this.mode="manual"}writeFilters(t,i,r,s){const n=t.toArray();this.mode==="scale"&&n.sort((a,u)=>{const d=_he(u.minScale,a.minScale),f=a.maxScale-u.maxScale;return d===0?f:d}),i[r]=n.map(a=>a.toJSON(s))}write(t,i){return super.write(t,$he(this,i))}};c([p({type:String,json:{write:{overridePolicy:(e,t,i)=>({enabled:i.filterMode==="manual",isRequired:!0})}}})],yd.prototype,"activeFilterId",void 0),c([p({type:ye.ofType(OB),nonNullable:!0,json:{write:!0}})],yd.prototype,"filters",void 0),c([de("filters")],yd.prototype,"writeFilters",null),c([p({type:["manual","scale"],nonNullable:!0,json:{name:"filterMode",write:!0}})],yd.prototype,"mode",void 0),yd=c([O("esri.layers.support.DisplayFilterInfo")],yd);const Ohe=yd,Rhe=e=>{let t=class extends e{constructor(){super(...arguments),this.displayFilterEnabled=!0,this.displayFilterInfo=null}};return c([p(Che)],t.prototype,"displayFilterEnabled",void 0),c([p(Ihe)],t.prototype,"displayFilterInfo",void 0),t=c([O("esri.layers.mixins.DisplayFilteredLayer")],t),t},Che={type:Boolean,json:{name:"layerDefinition.disableDisplayFilter",read:{reader:e=>!e},write:{layerContainerTypes:Jt,writer(e,t,i){ir(i,!e,t)}},origins:{"web-scene":{write:!1,read:!1}}}},Ihe={type:Ohe,json:{name:"layerDefinition.displayFilterInfo",write:{enabled:!0,allowNull:!0,layerContainerTypes:Jt},origins:{"web-scene":{write:!1,read:!1}}}},Nhe=The(),IB=new Map,NB=new Map;async function HCe(e,t,i){if(!e||!i)return!1;if(!t)return!0;const r=new URL(e).host;let s=IB.get(r);if(!s){const n=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,"");s=(await Lt(n,{responseType:"json",query:{f:"json"}})).data.defaultVersionName}return s===t}async function WCe(e,t,i=!1){var n,a,u;if(!e||!t)return!0;const r=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),s=(n=NB.get(r))==null?void 0:n.entries();if(s){for(const[d,f]of s)if(f.name===t){const g=!((a=f.stack)!=null&&a.hasForwardEdits());if(!g&&i){const[{deleteForwardEdits:v},{default:w}]=await Promise.all([ue(()=>import("./deleteForwardEdits-BtjSTNT2.js"),[],import.meta.url),ue(()=>import("./DeleteForwardEditsParameters-BQ7DjX8B.js"),[],import.meta.url)]),S=await v(r,d,new w({sessionId:Nhe,moment:f.moment}));return S.success&&((u=f.stack)==null||u.clearForwardEdits()),S.success}return g}}return!0}function Phe(e,t){var s;if(!e)return!1;const i=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),r=(s=NB.get(i))==null?void 0:s.entries();if(r){for(const[n,a]of r)if(a.name===t)return a.lockType==="edit"}return!1}const KI=new ho.EventEmitter;function Lhe(e){return KI.on("apply-edits",new WeakRef(e))}function Dhe(e){return KI.on("update-moment",new WeakRef(e))}function ZCe(e,t,i=null,r=!1){const s=zs();return r=t==null||r,KI.emit("apply-edits",{serviceUrl:e,layerId:t,gdbVersion:i,mayReceiveServiceEdits:r,result:s.promise}),s}const PB=Symbol();function YCe(e){return e!=null&&typeof e=="object"&&PB in e}function Xy(e){return e!=null&&typeof e=="object"&&"gdbVersion"in e}function zx(e,t,i){const r=new URL(e).host,s=IB.get(r),n=a=>!a||a===s;return n(t)&&n(i)||t===i}const khe=e=>{var t;let i=class extends e{constructor(...r){super(...r),this[t]=!0,this._applyEditsHandler=s=>{const{serviceUrl:n,layerId:a,gdbVersion:u,mayReceiveServiceEdits:d,result:f}=s,g=n===this.url,v=a!=null&&this.layerId!=null&&a===this.layerId,w=Xy(this),S=Xy(this)&&zx(n,u,this.gdbVersion);if(!g||w&&!S||!v&&!d)return;const T=f.then(E=>{var P;if(this.lastEditsEventDate=new Date,v&&(E.addedFeatures.length||E.updatedFeatures.length||E.deletedFeatures.length||E.addedAttachments.length||E.updatedAttachments.length||E.deletedAttachments.length))return this.emit("edits",j(E)),E;const M=(P=E.editedFeatures)==null?void 0:P.find(({layerId:N})=>N===this.layerId);if(M){const{adds:N,updates:k,deletes:U}=M.editedFeatures,Z={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:N?N.map(({attributes:re})=>({objectId:this.objectIdField&&re[this.objectIdField],globalId:this.globalIdField&&re[this.globalIdField]})):[],deletedFeatures:U?U.map(({attributes:re})=>({objectId:this.objectIdField&&re[this.objectIdField],globalId:this.globalIdField&&re[this.globalIdField]})):[],updatedFeatures:k?k.map(({current:{attributes:re}})=>({objectId:this.objectIdField&&re[this.objectIdField],globalId:this.globalIdField&&re[this.globalIdField]})):[],editedFeatures:j(E.editedFeatures),exceededTransferLimit:!1,historicMoment:j(E.historicMoment)};return this.emit("edits",Z),Z}const R={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:[],deletedFeatures:[],updatedFeatures:[],editedFeatures:j(E.editedFeatures),exceededTransferLimit:!1,historicMoment:j(E.historicMoment)};return"historicMoment"in this&&this._shouldUpdateHistoricMoment(n,u,R.historicMoment)&&this.emit("edits",R),R}).then(E=>("historicMoment"in this&&this._shouldUpdateHistoricMoment(n,u,E.historicMoment)&&(this.historicMoment=E.historicMoment),E));this.emit("apply-edits",{result:T})},this._updateMomentHandler=s=>{const{serviceUrl:n,gdbVersion:a,moment:u}=s,d=n===this.url,f=Xy(this),g=Xy(this)&&zx(n,a,this.gdbVersion),v=Xy(this)&&!zx(n,this.gdbVersion,null);d&&f&&g&&v&&"historicMoment"in this&&this.historicMoment!==u&&(this.historicMoment=u)},this.when().then(()=>{this.addHandles(Lhe(this._applyEditsHandler)),"historicMoment"in this&&this.addHandles(Dhe(this._updateMomentHandler))},()=>{})}_shouldUpdateHistoricMoment(r,s,n){return"historicMoment"in this&&this.historicMoment!==n&&Phe(r,s)}};return t=PB,c([p()],i.prototype,"lastEditsEventDate",void 0),i=c([O("esri.layers.mixins.EditBusLayer")],i),i};var wO;let Jp=wO=class extends K{constructor(e){super(e),this.type="map-layer"}clone(){const{mapLayerId:e,gdbVersion:t}=this;return new wO({mapLayerId:e,gdbVersion:t})}};c([Oe({mapLayer:"map-layer"}),p({json:{write:{isRequired:!0}}})],Jp.prototype,"type",void 0),c([p({type:ht,json:{write:{isRequired:!0}}})],Jp.prototype,"mapLayerId",void 0),c([p({type:String,json:{write:!0}})],Jp.prototype,"gdbVersion",void 0),Jp=wO=c([O("esri.layers.support.source.MapLayerSource")],Jp);var _O;let Pa=_O=class extends K{constructor(e){super(e),this.type="query-table"}clone(){const{workspaceId:e,query:t,oidFields:i,spatialReference:r,geometryType:s}=this,n={workspaceId:e,query:t,oidFields:i,spatialReference:(r==null?void 0:r.clone())??void 0,geometryType:s};return new _O(n)}};c([Oe({queryTable:"query-table"}),p({json:{write:{isRequired:!0}}})],Pa.prototype,"type",void 0),c([p({type:String,json:{write:!0}})],Pa.prototype,"workspaceId",void 0),c([p({type:String,json:{write:!0}})],Pa.prototype,"query",void 0),c([p({type:String,json:{write:!0}})],Pa.prototype,"oidFields",void 0),c([p({type:He,json:{write:!0}})],Pa.prototype,"spatialReference",void 0),c([Oe(Ule)],Pa.prototype,"geometryType",void 0),Pa=_O=c([O("esri.layers.support.source.QueryTableDataSource")],Pa);var SO;let Xp=SO=class extends K{constructor(e){super(e),this.type="raster"}clone(){const{workspaceId:e,dataSourceName:t}=this;return new SO({workspaceId:e,dataSourceName:t})}};c([Oe({raster:"raster"}),p({json:{write:{isRequired:!0}}})],Xp.prototype,"type",void 0),c([p({type:String,json:{write:!0}})],Xp.prototype,"dataSourceName",void 0),c([p({type:String,json:{write:!0}})],Xp.prototype,"workspaceId",void 0),Xp=SO=c([O("esri.layers.support.source.RasterDataSource")],Xp);var TO;let gd=TO=class extends K{constructor(e){super(e),this.type="table"}clone(){const{workspaceId:e,gdbVersion:t,dataSourceName:i}=this;return new TO({workspaceId:e,gdbVersion:t,dataSourceName:i})}};c([Oe({table:"table"}),p({json:{write:{isRequired:!0}}})],gd.prototype,"type",void 0),c([p({type:String,json:{write:!0}})],gd.prototype,"workspaceId",void 0),c([p({type:String,json:{write:!0}})],gd.prototype,"gdbVersion",void 0),c([p({type:String,json:{write:!0}})],gd.prototype,"dataSourceName",void 0),gd=TO=c([O("esri.layers.support.source.TableDataSource")],gd);var EO,$O;const Fhe=rr()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let Os=EO=class extends K{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,t,i){return P6()(e,t,i)}castLeftTableSource(e){return co(xO(),e)}readRightTableSource(e,t,i){return P6()(e,t,i)}castRightTableSource(e){return co(xO(),e)}clone(){const{leftTableKey:e,rightTableKey:t,leftTableSource:i,rightTableSource:r,joinType:s}=this,n={leftTableKey:e,rightTableKey:t,leftTableSource:(i==null?void 0:i.clone())??void 0,rightTableSource:(r==null?void 0:r.clone())??void 0,joinType:s};return new EO(n)}};c([Oe({joinTable:"join-table"}),p({json:{write:{isRequired:!0}}})],Os.prototype,"type",void 0),c([p({type:String,json:{write:!0}})],Os.prototype,"leftTableKey",void 0),c([p({type:String,json:{write:!0}})],Os.prototype,"rightTableKey",void 0),c([p({json:{write:!0}})],Os.prototype,"leftTableSource",void 0),c([le("leftTableSource")],Os.prototype,"readLeftTableSource",null),c([lt("leftTableSource")],Os.prototype,"castLeftTableSource",null),c([p({json:{write:!0}})],Os.prototype,"rightTableSource",void 0),c([le("rightTableSource")],Os.prototype,"readRightTableSource",null),c([lt("rightTableSource")],Os.prototype,"castRightTableSource",null),c([Oe(Fhe)],Os.prototype,"joinType",void 0),Os=EO=c([O("esri.layers.support.source.JoinTableDataSource")],Os);let Vx=null;function P6(){return Vx||(Vx=ym({types:xO()})),Vx}let Gx=null;function xO(){return Gx||(Gx={key:"type",base:null,typeMap:{"data-layer":to,"map-layer":Jp}}),Gx}const jhe={key:"type",base:null,typeMap:{"join-table":Os,"query-table":Pa,raster:Xp,table:gd}};let to=$O=class extends K{constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:t}=this;return new $O({fields:e,dataSource:t})}};c([Oe({dataLayer:"data-layer"}),p({json:{write:{isRequired:!0}}})],to.prototype,"type",void 0),c([p({type:[WI],json:{write:!0}})],to.prototype,"fields",void 0),c([p({types:jhe,json:{write:!0}})],to.prototype,"dataSource",void 0),to=$O=c([O("esri.layers.support.source.DataLayerSource")],to),to.from=Ci(to);let vd=class extends rt.ClonableMixin(K){constructor(t){super(t),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};c([p({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.onFields!=null&&this.onFields.length>0}}}}})],vd.prototype,"onFields",void 0),c([p({type:String,json:{write:!0}})],vd.prototype,"operator",void 0),c([p({type:String,json:{write:!0}})],vd.prototype,"searchTerm",void 0),c([p({type:String,json:{write:!0}})],vd.prototype,"searchType",void 0),vd=c([O("esri.rest.support.FullTextSearch")],vd);const Uhe=vd;var MO;const L6=new et({upperLeft:"upper-left",lowerLeft:"lower-left"});let bd=MO=class extends K{constructor(e){super(e),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new MO(j({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};c([p({type:kt,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],bd.prototype,"extent",void 0),c([p({type:["view","edit"],json:{write:!0}})],bd.prototype,"mode",void 0),c([p({type:String,json:{read:L6.read,write:L6.write}})],bd.prototype,"originPosition",void 0),c([p({type:Number,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],bd.prototype,"tolerance",void 0),bd=MO=c([O("esri.rest.support.QuantizationParameters")],bd);const LB=bd,zhe=new et({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});var AO;const D6=new et({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let Wn=AO=class extends K{constructor(e){super(e),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(e,t){this.statisticType!=="percentile-continuous"&&this.statisticType!=="percentile-discrete"||(t.statisticParameters=j(e))}clone(){return new AO({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:j(this.statisticParameters)})}};c([p({type:Number,json:{write:!0}})],Wn.prototype,"maxPointCount",void 0),c([p({type:Number,json:{write:!0}})],Wn.prototype,"maxRecordCount",void 0),c([p({type:Number,json:{write:!0}})],Wn.prototype,"maxVertexCount",void 0),c([p({type:String,json:{write:!0}})],Wn.prototype,"onStatisticField",void 0),c([p({type:String,json:{write:!0}})],Wn.prototype,"outStatisticFieldName",void 0),c([p({type:String,json:{read:{source:"statisticType",reader:D6.read},write:{target:"statisticType",writer:D6.write}}})],Wn.prototype,"statisticType",void 0),c([p({type:Object})],Wn.prototype,"statisticParameters",void 0),c([de("statisticParameters")],Wn.prototype,"writeStatisticParameters",null),Wn=AO=c([O("esri.rest.support.StatisticDefinition")],Wn);const Vhe=Wn;var E_;const Ghe=new et({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let Ne=E_=class extends K{static from(e){return Dv(E_,e)}constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.returnTrueCurves=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(e){return typeof e=="number"||typeof e=="object"?e:null}writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeParameterValues(e,t){if(e){const i={};for(const r in e){const s=e[r];Array.isArray(s)?i[r]=s.map(n=>n instanceof Date?n.getTime():n):s instanceof Date?i[r]=s.getTime():i[r]=s}t.parameterValues=i}}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}writeWhere(e,t){t.where=e||"1=1"}clone(){return new E_(j({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:this.historicMoment!=null?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,returnTrueCurves:this.returnTrueCurves,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};Ne.MAX_MAX_RECORD_COUNT_FACTOR=5,c([p({json:{write:!0}})],Ne.prototype,"aggregateIds",void 0),c([p({type:Boolean,json:{write:!0}})],Ne.prototype,"cacheHint",void 0),c([p({type:Boolean,json:{default:!1,write:!0}})],Ne.prototype,"compactGeometryEnabled",void 0),c([p({json:{write:!0}})],Ne.prototype,"datumTransformation",void 0),c([lt("datumTransformation")],Ne.prototype,"castDatumTransformation",null),c([p({type:Boolean,json:{default:!1,write:!0}})],Ne.prototype,"defaultSpatialReferenceEnabled",void 0),c([p({type:Number,json:{write:!0}})],Ne.prototype,"distance",void 0),c([p({type:to,json:{write:!0}})],Ne.prototype,"dynamicDataSource",void 0),c([p({type:String,json:{write:!0}})],Ne.prototype,"formatOf3DObjects",void 0),c([p({type:[Uhe],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.fullText!=null&&this.fullText.length>0}}}}})],Ne.prototype,"fullText",void 0),c([p({type:String,json:{write:!0}})],Ne.prototype,"gdbVersion",void 0),c([p({types:Wv,json:{read:mh,write:!0}})],Ne.prototype,"geometry",void 0),c([p({type:Number,json:{write:!0}})],Ne.prototype,"geometryPrecision",void 0),c([p({type:[String],json:{write:!0}})],Ne.prototype,"groupByFieldsForStatistics",void 0),c([p({type:String,json:{write:!0}})],Ne.prototype,"having",void 0),c([p({type:Date})],Ne.prototype,"historicMoment",void 0),c([de("historicMoment")],Ne.prototype,"writeHistoricMoment",null),c([p({type:Number,json:{write:!0}})],Ne.prototype,"maxAllowableOffset",void 0),c([p({type:Number,cast:e=>e<1?1:e>Ne.MAX_MAX_RECORD_COUNT_FACTOR?Ne.MAX_MAX_RECORD_COUNT_FACTOR:e,json:{write:{overridePolicy:e=>({enabled:e>1})}}})],Ne.prototype,"maxRecordCountFactor",void 0),c([p({type:["xyFootprint"],json:{write:!0}})],Ne.prototype,"multipatchOption",void 0),c([p({type:Number,json:{read:{source:"resultRecordCount"}}})],Ne.prototype,"num",void 0),c([p({json:{write:!0}})],Ne.prototype,"objectIds",void 0),c([p({type:[String],json:{write:!0}})],Ne.prototype,"orderByFields",void 0),c([p({type:[String],json:{write:!0}})],Ne.prototype,"outFields",void 0),c([p({type:He,json:{name:"outSR",write:!0}})],Ne.prototype,"outSpatialReference",void 0),c([p({type:[Vhe],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.outStatistics!=null&&this.outStatistics.length>0}}}}})],Ne.prototype,"outStatistics",void 0),c([p({json:{write:!0}})],Ne.prototype,"parameterValues",void 0),c([de("parameterValues")],Ne.prototype,"writeParameterValues",null),c([p({type:Be,json:{write:!0}})],Ne.prototype,"pixelSize",void 0),c([p({type:LB,json:{write:!0}})],Ne.prototype,"quantizationParameters",void 0),c([p({type:[Object],json:{write:!0}})],Ne.prototype,"rangeValues",void 0),c([p({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:this.spatialRelationship==="relation"}}}}})],Ne.prototype,"relationParameter",void 0),c([p({type:String,json:{write:!0}})],Ne.prototype,"resultType",void 0),c([p({type:Boolean,json:{default:!1,write:!0}})],Ne.prototype,"returnCentroid",void 0),c([p({type:Boolean,json:{default:!1,write:!0}})],Ne.prototype,"returnDistinctValues",void 0),c([p({type:Boolean,json:{default:!0,write:!0}})],Ne.prototype,"returnExceededLimitFeatures",void 0),c([p({type:Boolean,json:{write:!0}})],Ne.prototype,"returnGeometry",void 0),c([p({type:Boolean,json:{default:!1,write:!0}})],Ne.prototype,"returnQueryGeometry",void 0),c([p({type:Boolean,json:{default:!1,write:!0}})],Ne.prototype,"returnM",void 0),c([p({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Ne.prototype,"returnZ",void 0),c([p({type:Boolean,json:{write:!0}})],Ne.prototype,"returnTrueCurves",void 0),c([p({type:He,json:{write:!0}})],Ne.prototype,"sourceSpatialReference",void 0),c([Oe(zhe,{ignoreUnknown:!1,name:"spatialRel"})],Ne.prototype,"spatialRelationship",void 0),c([p({type:Number,json:{read:{source:"resultOffset"}}})],Ne.prototype,"start",void 0),c([de("start"),de("num")],Ne.prototype,"writeStart",null),c([p({type:String,json:{write:!0}})],Ne.prototype,"sqlFormat",void 0),c([p({type:String,json:{write:!0}})],Ne.prototype,"text",void 0),c([p({type:dl,json:{write:!0}})],Ne.prototype,"timeExtent",void 0),c([p({type:Boolean,json:{default:!1,write:!0}})],Ne.prototype,"timeReferenceUnknownClient",void 0),c([Oe(Ghe,{ignoreUnknown:!1}),p({json:{write:{overridePolicy(e){return{enabled:!!e&&this.distance!=null}}}}})],Ne.prototype,"units",void 0),c([p({type:String,json:{write:{overridePolicy(e){return{enabled:e!=null||this.start!=null&&this.start>0}}}}})],Ne.prototype,"where",void 0),c([de("where")],Ne.prototype,"writeWhere",null),Ne=E_=c([O("esri.rest.support.Query")],Ne);const pl=Ne;var OO;const qx=new et({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),Bx=new et({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let Io=OO=class extends K{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(e={}){const{where:t,geometry:i,spatialRelationship:r,timeExtent:s,objectIds:n,units:a,distance:u}=this;return new pl({geometry:j(i),objectIds:j(n),spatialRelationship:r,timeExtent:j(s),where:t,units:a,distance:u,...e})}clone(){const{where:e,geometry:t,spatialRelationship:i,timeExtent:r,objectIds:s,units:n,distance:a}=this;return new OO({geometry:j(t),objectIds:j(s),spatialRelationship:i,timeExtent:j(r),where:e,units:n,distance:a})}};c([p({type:String,json:{write:!0}})],Io.prototype,"where",void 0),c([p({types:Wv,json:{write:!0}})],Io.prototype,"geometry",void 0),c([p({type:qx.apiValues,json:{name:"spatialRel",read:{reader:qx.read},write:{allowNull:!1,writer:qx.write,overridePolicy(){return{enabled:this.geometry!=null}}}}})],Io.prototype,"spatialRelationship",void 0),c([p({type:Number,json:{write:{overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],Io.prototype,"distance",void 0),c([p({type:[Number],json:{write:!0}})],Io.prototype,"objectIds",void 0),c([p({type:Bx.apiValues,json:{read:Bx.read,write:{writer:Bx.write,overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],Io.prototype,"units",void 0),c([p({type:dl,json:{write:!0}})],Io.prototype,"timeExtent",void 0),Io=OO=c([O("esri.layers.support.FeatureFilter")],Io);const qhe=Io;var RO;const k6={read:{reader:hv},write:{writer:pv,overridePolicy(){return{allowNull:this.excludedEffect!=null,isRequired:this.excludedEffect==null}}}},F6={read:{reader:hv},write:{writer:pv,overridePolicy(){return{allowNull:this.includedEffect!=null,isRequired:this.includedEffect==null}}}},j6={name:"showExcludedLabels",default:!0};let wd=RO=class extends K{constructor(e){super(e),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(e,t){var r,s;const i=super.write(e,t);if(t!=null&&t.origin){if(i.filter){const n=Object.keys(i.filter);if(n.length>1||n[0]!=="where")return(r=t.messages)==null||r.push(new z("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:t.layer,effect:this})),null}if("showExcludedLabels"in i)return(s=t.messages)==null||s.push(new z("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:t.layer,effect:this})),null}return i}clone(){return new RO({filter:this.filter!=null?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};c([p({type:qhe,json:{write:{allowNull:!0,writer(e,t,i,r){const s=e==null?void 0:e.write({},r);s&&Object.keys(s).length!==0?ir(i,s,t):ir(i,null,t)}}}})],wd.prototype,"filter",void 0),c([p({json:{read:hv,write:{writer:pv,allowNull:!0},origins:{"web-map":k6,"portal-item":k6}}})],wd.prototype,"includedEffect",void 0),c([p({json:{read:hv,write:{writer:pv,allowNull:!0},origins:{"web-map":F6,"portal-item":F6}}})],wd.prototype,"excludedEffect",void 0),c([p({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":j6,"portal-item":j6}}})],wd.prototype,"excludedLabelsVisible",void 0),wd=RO=c([O("esri.layers.support.FeatureEffect")],wd);const Bhe=wd,U6={write:{allowNull:!0}},Hhe={type:Bhe,json:{origins:{"web-map":U6,"portal-item":U6}}},Whe=e=>{let t=class extends e{constructor(){super(...arguments),this.featureEffect=null}};return c([p(Hhe)],t.prototype,"featureEffect",void 0),t=c([O("esri.layers.mixins.FeatureEffectLayer")],t),t};var Bg;const GS=rr()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),DB=GS.jsonValues.slice();lK(DB,"orthometric");const N0=rr()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let Zn=Bg=class extends K{constructor(e){super(e),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(e,t,i){return GS.write(e,t,i)}readHeightModel(e,t,i){return GS.read(e)||(i!=null&&i.messages&&i.messages.push(Zhe(e,{context:i})),null)}readHeightUnit(e,t,i){return N0.read(e)||(i!=null&&i.messages&&i.messages.push(z6(e,{context:i})),null)}readHeightUnitService(e,t,i){return lI(e)||N0.read(e)||(i!=null&&i.messages&&i.messages.push(z6(e,{context:i})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new Bg({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){const i=LV(t);return new Bg({heightModel:e.heightModel,heightUnit:i??void 0,vertCRS:e.vertCRS})}write(e,t){return t={origin:"web-scene",...t},super.write(e,t)}static fromJSON(e){if(!e)return null;const t=new Bg;return t.read(e,{origin:"web-scene"}),t}};function z6(e,t){return new vn("height-unit:unsupported",`Height unit of value '${e}' is not supported`,t)}function Zhe(e,t){return new vn("height-model:unsupported",`Height model of value '${e}' is not supported`,t)}c([p({type:GS.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:DB,default:"ellipsoidal",write:{isRequired:!0}}}}})],Zn.prototype,"heightModel",void 0),c([de("web-scene","heightModel")],Zn.prototype,"writeHeightModel",null),c([le(["web-scene","service"],"heightModel")],Zn.prototype,"readHeightModel",null),c([p({type:N0.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:N0.jsonValues,write:{writer:N0.write,isRequired:!0}}}}})],Zn.prototype,"heightUnit",void 0),c([le("web-scene","heightUnit")],Zn.prototype,"readHeightUnit",null),c([le("service","heightUnit")],Zn.prototype,"readHeightUnitService",null),c([p({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],Zn.prototype,"vertCRS",void 0),c([le("service","vertCRS",["vertCRS","ellipsoid","geoid"])],Zn.prototype,"readVertCRS",null),Zn=Bg=c([O("esri.geometry.HeightModelInfo")],Zn);const i1=Zn;var CO;let Hg=CO=class extends K{constructor(e){super(e)}async collectRequiredFields(e,t){return Rr(e,t,this.expression)}clone(){return new CO({expression:this.expression,title:this.title})}equals(e){return this.expression===e.expression&&this.title===e.title}};c([p({type:String,json:{write:{isRequired:!0}}})],Hg.prototype,"expression",void 0),c([p({type:String,json:{write:!0}})],Hg.prototype,"title",void 0),Hg=CO=c([O("esri.symbols.support.FeatureExpressionInfo")],Hg);const V6=Hg,lT={unknown:1,inches:mi(1,"meters","inches"),feet:mi(1,"meters","feet"),"us-feet":mi(1,"meters","us-feet"),yards:mi(1,"meters","yards"),miles:mi(1,"meters","miles"),"nautical-miles":mi(1,"meters","nautical-miles"),millimeters:mi(1,"meters","millimeters"),centimeters:mi(1,"meters","centimeters"),decimeters:mi(1,"meters","decimeters"),meters:mi(1,"meters","meters"),kilometers:mi(1,"meters","kilometers"),"decimal-degrees":1/Tne(1,"meters",ni.radius)};function XCe(e){return!!e&&lT[e]!=null}function QCe(e){return 1/(lT[e]||1)}function Yhe(){const e=Object.keys(lT);return IU(e,"decimal-degrees"),e.sort(),e}const Jhe=Yhe();var IO;const Qb=rr()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),G6=new et({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let La=IO=class extends K{constructor(e){super(e),this.featureExpressionInfo=void 0,this.offset=null}readFeatureExpressionInfo(e,t){return e??(t.featureExpression&&t.featureExpression.value===0?{expression:"0"}:void 0)}writeFeatureExpressionInfo(e,t,i,r){t[i]=e.write({},r),e.expression==="0"&&(t.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:t}=this;return this._isOverridden("mode")?this._get("mode"):e!=null||t?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e)}set unit(e){this._set("unit",e)}write(e,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,t):null}clone(){return new IO({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(e){return this.mode===e.mode&&this.offset===e.offset&&this.unit===e.unit&&vK(this.featureExpressionInfo,e.featureExpressionInfo)}};c([p({type:V6,json:{write:!0}})],La.prototype,"featureExpressionInfo",void 0),c([le("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],La.prototype,"readFeatureExpressionInfo",null),c([de("featureExpressionInfo",{featureExpressionInfo:{type:V6},"featureExpression.value":{type:[0]}})],La.prototype,"writeFeatureExpressionInfo",null),c([p({type:Qb.apiValues,nonNullable:!0,json:{type:Qb.jsonValues,read:Qb.read,write:{writer:Qb.write,isRequired:!0}}})],La.prototype,"mode",null),c([p({type:Number,json:{write:!0}})],La.prototype,"offset",void 0),c([p({type:Jhe,json:{type:String,read:G6.read,write:G6.write}})],La.prototype,"unit",null),La=IO=c([O("esri.symbols.support.ElevationInfo")],La);const Xhe=La;let Qp=class extends K{constructor(t){super(t),this.description=null,this.label=null,this.type=null}};c([p({type:String,json:{write:!0}})],Qp.prototype,"description",void 0),c([p({type:String,json:{write:!0}})],Qp.prototype,"label",void 0),c([p()],Qp.prototype,"type",void 0),Qp=c([O("esri.tables.elements.AttributeTableElement")],Qp);const lm=Qp;var NO;let Wg=NO=class extends lm{constructor(e){super(e),this.displayType="auto",this.type="attachment"}clone(){return new NO({description:this.description,displayType:this.displayType,label:this.label})}};c([p({type:["auto"],json:{write:!0}})],Wg.prototype,"displayType",void 0),c([p({type:["attachment"],readOnly:!0,json:{read:!1,write:!0}})],Wg.prototype,"type",void 0),Wg=NO=c([O("esri.tables.elements.AttributeTableAttachmentElement")],Wg);const q6=Wg;var PO;let Zg=PO=class extends lm{constructor(e){super(e),this.fieldName=null,this.type="field"}clone(){return new PO({description:this.description,fieldName:this.fieldName,label:this.label})}};c([p({type:String,json:{write:!0}})],Zg.prototype,"fieldName",void 0),c([p({type:String,json:{read:!1,write:!0}})],Zg.prototype,"type",void 0),Zg=PO=c([O("esri.tables.elements.AttributeTableFieldElement")],Zg);const B6=Zg;var LO;let Yg=LO=class extends lm{constructor(e){super(e),this.relationshipId=null,this.type="relationship"}clone(){return new LO({description:this.description,label:this.label,relationshipId:this.relationshipId})}};c([p({type:Number,json:{write:!0}})],Yg.prototype,"relationshipId",void 0),c([p({type:["relationship"],json:{read:!1,write:!0}})],Yg.prototype,"type",void 0),Yg=LO=c([O("esri.tables.elements.AttributeTableRelationshipElement")],Yg);const H6=Yg;function kB(e){return{typesWithGroup:{base:lm,key:"type",typeMap:{attachment:q6,field:B6,group:e,relationship:H6}},typesWithoutGroup:{base:lm,key:"type",typeMap:{attachment:q6,field:B6,relationship:H6}}}}function FB(e,t,i=!0){if(!e)return null;const r=i?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(s=>r[s.type]).map(s=>r[s.type].fromJSON(s))}function jB(e,t,i=!0){if(!e)return null;const r=i?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(s=>r[s.type]).map(s=>s.toJSON())}function UB(e,t,i=!0){return e?e.map(r=>co(i?t.typesWithGroup:t.typesWithoutGroup,r)):null}var DO;let Xa=DO=class extends lm{constructor(e){super(e),this.elements=null,this.type="group"}castElements(e){return UB(e,Hx,!1)}readElements(e,t){return FB(t.attributeTableElements,Hx,!1)}writeElements(e,t){t.attributeTableElements=jB(e,Hx,!1)}clone(){return new DO({description:this.description,elements:j(this.elements),label:this.label})}};c([p({json:{write:!0}})],Xa.prototype,"elements",void 0),c([lt("elements")],Xa.prototype,"castElements",null),c([le("elements",["attributeTableElements"])],Xa.prototype,"readElements",null),c([de("elements")],Xa.prototype,"writeElements",null),c([p({type:String,json:{read:!1,write:!0}})],Xa.prototype,"type",void 0),Xa=DO=c([O("esri.tables.elements.AttributeTableGroupElement")],Xa);const Hx=kB(Xa),Qhe=Xa;var kO;const Wx=kB(Qhe);let hu=kO=class extends K{constructor(e){super(e),this.elements=null,this.orderByFields=null}castElements(e){return UB(e,Wx)}readElements(e,t){return FB(t.attributeTableElements,Wx)}writeElements(e,t){t.attributeTableElements=jB(e,Wx)}clone(){return new kO({elements:j(this.elements),orderByFields:this.orderByFields})}};c([p({json:{write:!0}})],hu.prototype,"elements",void 0),c([lt("elements")],hu.prototype,"castElements",null),c([le("elements",["attributeTableElements"])],hu.prototype,"readElements",null),c([de("elements")],hu.prototype,"writeElements",null),c([p({type:[Object],json:{write:!0}})],hu.prototype,"orderByFields",void 0),hu=kO=c([O("esri.tables.AttributeTableTemplate")],hu);const Khe=hu,epe={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:{enabled:!0,layerContainerTypes:Jt}}},uT={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(e,t)=>!t.disablePopup},write:{enabled:!0,writer(e,t,i){t[i]=!e}}}},cT={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:{enabled:!0,layerContainerTypes:Jt}}},tpe={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:oh}}},ipe={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:{enabled:!0,layerContainerTypes:Jt}}},rpe={value:null,type:Xhe,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:{enabled:!0,layerContainerTypes:Jt}}};function eIe(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const zB={write:{enabled:!0,layerContainerTypes:Jt},read:!0},FO={type:Number,json:{origins:{"web-document":zB,"portal-item":{write:{layerContainerTypes:Jt}}}}},spe={...FO,json:{...FO.json,origins:{"web-document":{...zB,write:{enabled:!0,layerContainerTypes:Jt,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(e,t,i)=>{var r;return i&&i.origin!=="service"||!t.drawingInfo||t.drawingInfo.transparency===void 0?(r=t.layerDefinition)!=null&&r.drawingInfo&&t.layerDefinition.drawingInfo.transparency!==void 0?uv(t.layerDefinition.drawingInfo.transparency):void 0:uv(t.drawingInfo.transparency)}}}},tIe={type:kt,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(e,t)=>{const i=kt.fromJSON(e);return t.spatialReference!=null&&typeof t.spatialReference=="object"&&(i.spatialReference=He.fromJSON(t.spatialReference)),i}}}},read:!1}},npe={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},ope={type:Number,json:{origins:{service:{write:{enabled:!1}}},name:"layerDefinition.minScale",write:{layerContainerTypes:Jt}}},ape={type:Number,json:{origins:{service:{write:{enabled:!1}}},name:"layerDefinition.maxScale",write:{layerContainerTypes:Jt}}},VB={json:{write:{ignoreOrigin:!0,layerContainerTypes:Jt},origins:{"web-map":{read:!1,write:!1}}}},lpe={type:Khe,json:{name:"attributeTableInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}};let Da=class extends rt.ClonableMixin(K){constructor(t){super(t),this.creatorField=null,this.creationDateField=null,this.editorField=null,this.editDateField=null,this.realm=null,this.timeZone=null}};c([p()],Da.prototype,"creatorField",void 0),c([p()],Da.prototype,"creationDateField",void 0),c([p()],Da.prototype,"editorField",void 0),c([p()],Da.prototype,"editDateField",void 0),c([p()],Da.prototype,"realm",void 0),c([p(DS("dateFieldsTimeReference",!0))],Da.prototype,"timeZone",void 0),Da=c([O("esri.layers.support.EditFieldsInfo")],Da);const upe=Da;let Vo=class extends rt.ClonableMixin(K){constructor(t){super(t)}};c([p({constructOnly:!0,json:{write:!0}})],Vo.prototype,"name",void 0),c([p({constructOnly:!0,json:{write:!0}})],Vo.prototype,"fields",void 0),c([p({constructOnly:!0,json:{write:!0}})],Vo.prototype,"isAscending",void 0),c([p({constructOnly:!0,json:{write:!0}})],Vo.prototype,"indexType",void 0),c([p({constructOnly:!0,json:{write:!0}})],Vo.prototype,"isUnique",void 0),c([p({constructOnly:!0,json:{write:!0}})],Vo.prototype,"description",void 0),Vo=c([O("esri.layers.support.FeatureIndex")],Vo);async function cpe(e,t,i){t=t.clone(),e.capabilities.query.supportsMaxRecordCountFactor&&(t.maxRecordCountFactor=GB(e));const r=dpe(e),s=e.capabilities.query.supportsPagination;t.start=0,t.num=r;let n=null;for(;;){const a=await e.source.queryFeaturesJSON(t,i);if(n==null?n=a:n.features=n.features.concat(a.features),n.exceededTransferLimit=a.exceededTransferLimit,!s||!a.exceededTransferLimit)break;t.start+=r}return n}function dpe(e){return GB(e)*hpe(e)}function hpe(e){return e.capabilities.query.maxRecordCount||2e3}function GB(e){return e.capabilities.query.supportsMaxRecordCountFactor?pl.MAX_MAX_RECORD_COUNT_FACTOR:1}function sIe(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="feature"}function ppe(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="subtype-group"&&"sublayers"in e}function _d(e){return(e==null?void 0:e.type)==="subtype-sublayer"}const nIe={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function jO(e){const t=e==null?void 0:e.type;return t==="building-scene"||t==="integrated-mesh"||t==="point-cloud"||t==="scene"}function oIe(e){return e==="integrated-mesh"||e==="integrated-mesh-3dtiles"}function dT(e){var t;return(e==null?void 0:e.type)==="feature"&&!e.url&&((t=e.source)==null?void 0:t.type)==="memory"}function aIe(e){var i;const t=e==null?void 0:e.type;return(t==="feature"||t==="subtype-group"||t==="oriented-imagery")&&((i=e==null?void 0:e.source)==null?void 0:i.type)==="feature-layer"}async function eN(e,t){const i=Ge==null?void 0:Ge.findServerInfo(e);if((i==null?void 0:i.currentVersion)!=null)return i.owningSystemUrl||null;const r=e.toLowerCase().indexOf("/rest/services");if(r===-1)return null;const s=`${e.slice(0,r)}/rest/info`,n=t!=null?t.signal:null,{data:a}=await Lt(s,{query:{f:"json"},responseType:"json",signal:n});return(a==null?void 0:a.owningSystemUrl)||null}function qB(e){if(!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function fpe(e){return qB(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function mpe(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function ype(e){return!!mpe(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}var UO;let Jg=UO=class extends K{constructor(e){super(e),this.minValue=0,this.maxValue=0}clone(){return new UO({minValue:this.minValue,maxValue:this.maxValue})}};c([p({type:Number,json:{write:!0}})],Jg.prototype,"minValue",void 0),c([p({type:Number,json:{write:!0}})],Jg.prototype,"maxValue",void 0),Jg=UO=c([O("esri.renderers.support.AuthoringInfoClassBreakInfo")],Jg);var zO;let Ru=zO=class extends K{constructor(e){super(e),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=new Array}clone(){return new zO({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:j(this.classBreakInfos)})}};c([p({type:String,json:{write:!0}})],Ru.prototype,"field",void 0),c([p({type:String,json:{write:!0}})],Ru.prototype,"normalizationField",void 0),c([p({type:String,json:{write:!0}})],Ru.prototype,"label",void 0),c([p({type:[Jg],json:{write:!0}})],Ru.prototype,"classBreakInfos",void 0),Ru=zO=c([O("esri.renderers.support.AuthoringInfoFieldInfo")],Ru);var VO;let Kp=VO=class extends K{constructor(e){super(e),this.label=null,this.size=null,this.value=null}clone(){return new VO({label:this.label,value:this.value,size:this.size})}};c([p({type:String,json:{write:!0}})],Kp.prototype,"label",void 0),c([p({type:Number,json:{write:!0}})],Kp.prototype,"size",void 0),c([p({type:Number,json:{write:!0}})],Kp.prototype,"value",void 0),Kp=VO=c([O("esri.renderers.support.AuthoringInfoSizeStop")],Kp);const gpe=Kp;var GO;const Kb=new et({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),ew=new et({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),W6={key:e=>typeof e=="number"?"number":"string",typeMap:{number:Number,string:String},base:null},Z6=["high-to-low","above-and-below","centered-on","extremes"],Y6=[...new Set(["high-to-low","above-and-below","centered-on","extremes","above","below","high-to-low","above-and-below","above","below","reference-size"])],J6=["seconds","minutes","hours","days","months","years"],vpe=["circle","diamond","hexagon-flat","hexagon-pointy","square"];let Yi=GO=class extends K{constructor(e){super(e),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(e){return typeof e=="string"||typeof e=="number"?e:null}get normalizationField(){return this.theme==="reference-size"?this._get("normalizationField"):null}set normalizationField(e){this._set("normalizationField",e)}get referenceSizeScale(){return this.theme==="reference-size"?this._get("referenceSizeScale"):null}set referenceSizeScale(e){this._set("referenceSizeScale",e)}get referenceSizeSymbolStyle(){return this.theme==="reference-size"?this._get("referenceSizeSymbolStyle"):null}set referenceSizeSymbolStyle(e){this._set("referenceSizeSymbolStyle",e)}castStartTime(e){return typeof e=="string"||typeof e=="number"?e:null}get sizeStops(){return this.theme==="reference-size"?this._get("sizeStops"):null}set sizeStops(e){this._set("sizeStops",e)}get style(){return this.type==="color"?this._get("style"):null}set style(e){this._set("style",e)}get theme(){return this.type==="color"||this.type==="size"?this._get("theme")||"high-to-low":null}set theme(e){this._set("theme",e)}clone(){return new GO({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,normalizationField:this.normalizationField,referenceSizeScale:this.referenceSizeScale,referenceSizeSymbolStyle:this.referenceSizeSymbolStyle,sizeStops:j(this.sizeStops),startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};c([p({types:W6,json:{write:!0}})],Yi.prototype,"endTime",void 0),c([lt("endTime")],Yi.prototype,"castEndTime",null),c([p({type:String,json:{write:!0}})],Yi.prototype,"field",void 0),c([p({type:Number,json:{write:!0}})],Yi.prototype,"maxSliderValue",void 0),c([p({type:Number,json:{write:!0}})],Yi.prototype,"minSliderValue",void 0),c([p({type:String,json:{origins:{"web-scene":{write:!1}},write:!0}})],Yi.prototype,"normalizationField",null),c([p({type:Number,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],Yi.prototype,"referenceSizeScale",null),c([p({type:vpe,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],Yi.prototype,"referenceSizeSymbolStyle",null),c([p({types:W6,json:{write:!0}})],Yi.prototype,"startTime",void 0),c([lt("startTime")],Yi.prototype,"castStartTime",null),c([p({type:[gpe],json:{origins:{"web-scene":{write:!1}},write:!0}})],Yi.prototype,"sizeStops",null),c([p({type:Kb.apiValues,value:null,json:{type:Kb.jsonValues,read:Kb.read,write:Kb.write}})],Yi.prototype,"style",null),c([p({type:Y6,value:null,json:{type:Y6,origins:{"web-scene":{type:Z6,write:{writer:(e,t)=>{Z6.includes(e)&&(t.theme=e)}}}},write:!0}})],Yi.prototype,"theme",null),c([p({type:ew.apiValues,json:{type:ew.jsonValues,read:ew.read,write:ew.write}})],Yi.prototype,"type",void 0),c([p({type:J6,json:{type:J6,write:!0}})],Yi.prototype,"units",void 0),Yi=GO=c([O("esri.renderers.support.AuthoringInfoVisualVariable")],Yi);const bpe=Yi;let $_=class extends K{constructor(t){super(t),this.type=null}};c([p({readOnly:!0,json:{read:!1,write:!0}})],$_.prototype,"type",void 0),$_=c([O("esri.rest.support.ColorRamp")],$_);const tN=$_;var qO;let Sd=qO=class extends tN{constructor(e){super(e),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new qO({fromColor:j(this.fromColor),toColor:j(this.toColor),algorithm:this.algorithm})}};c([Oe({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],Sd.prototype,"algorithm",void 0),c([p({type:Ie,json:{type:[ht],write:!0}})],Sd.prototype,"fromColor",void 0),c([p({type:Ie,json:{type:[ht],write:!0}})],Sd.prototype,"toColor",void 0),c([p({type:["algorithmic"]})],Sd.prototype,"type",void 0),Sd=qO=c([O("esri.rest.support.AlgorithmicColorRamp")],Sd);const iN=Sd;var BO;let Xg=BO=class extends tN{constructor(e){super(e),this.colorRamps=null,this.type="multipart"}clone(){return new BO({colorRamps:j(this.colorRamps)})}};c([p({type:[iN],json:{write:!0}})],Xg.prototype,"colorRamps",void 0),c([p({type:["multipart"]})],Xg.prototype,"type",void 0),Xg=BO=c([O("esri.rest.support.MultipartColorRamp")],Xg);const BB=Xg,wpe={key:"type",base:tN,typeMap:{algorithmic:iN,multipart:BB}};function _pe(e){return e!=null&&e.type?e.type==="algorithmic"?iN.fromJSON(e):e.type==="multipart"?BB.fromJSON(e):null:null}var HO;const Bc=new et({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),tw=new et({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),X6=new et({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),Q6=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers"],Spe=["high-to-low","above-and-below","above","below"],Tpe=["flow-line","wave-front"],Epe=["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"];let ri=HO=class extends K{constructor(e){super(e),this.colorRamp=null,this.fadeRatio=null,this.isAutoGenerated=!1,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const e=this._get("classificationMethod"),t=this.type;return t&&t!=="relationship"?t==="class-breaks-size"||t==="class-breaks-color"?e||"manual":null:e}set classificationMethod(e){this._set("classificationMethod",e)}readColorRamp(e){return e?_pe(e):void 0}get fields(){return this.type&&this.type!=="predominance"?null:this._get("fields")}set fields(e){this._set("fields",e)}get field1(){return this.type&&this.type!=="relationship"?null:this._get("field1")}set field1(e){this._set("field1",e)}get field2(){return this.type&&this.type!=="relationship"?null:this._get("field2")}set field2(e){this._set("field2",e)}get flowTheme(){return this.type==="flow"?this._get("flowTheme"):null}set flowTheme(e){this._set("flowTheme",e)}get focus(){return this.type&&this.type!=="relationship"?null:this._get("focus")}set focus(e){this._set("focus",e)}get numClasses(){return this.type&&this.type!=="relationship"?null:this._get("numClasses")}set numClasses(e){this._set("numClasses",e)}get statistics(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("statistics"):null}set statistics(e){this._set("statistics",e)}get standardDeviationInterval(){const e=this.type;return e&&e!=="relationship"&&e!=="class-breaks-size"&&e!=="class-breaks-color"||this.classificationMethod&&this.classificationMethod!=="standard-deviation"?null:this._get("standardDeviationInterval")}set standardDeviationInterval(e){this._set("standardDeviationInterval",e)}get type(){return this._get("type")}set type(e){let t=e;e==="classed-size"?t="class-breaks-size":e==="classed-color"&&(t="class-breaks-color"),this._set("type",t)}get univariateSymbolStyle(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(e){this._set("univariateSymbolStyle",e)}get univariateTheme(){return this.type==="univariate-color-size"?this._get("univariateTheme"):null}set univariateTheme(e){this._set("univariateTheme",e)}clone(){var e;return new HO({classificationMethod:this.classificationMethod,colorRamp:j(this.colorRamp),fadeRatio:j(this.fadeRatio),fields:(e=this.fields)==null?void 0:e.slice(),field1:j(this.field1),field2:j(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(t=>t.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};c([p({type:Bc.apiValues,value:null,json:{type:Bc.jsonValues,read:Bc.read,write:Bc.write,origins:{"web-document":{default:"manual",type:Bc.jsonValues,read:Bc.read,write:Bc.write}}}})],ri.prototype,"classificationMethod",null),c([p({types:wpe,json:{write:!0}})],ri.prototype,"colorRamp",void 0),c([le("colorRamp")],ri.prototype,"readColorRamp",null),c([p({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],ri.prototype,"fadeRatio",void 0),c([p({type:[String],value:null,json:{write:!0}})],ri.prototype,"fields",null),c([p({type:Ru,value:null,json:{write:!0}})],ri.prototype,"field1",null),c([p({type:Ru,value:null,json:{write:!0}})],ri.prototype,"field2",null),c([p({type:Tpe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],ri.prototype,"flowTheme",null),c([p({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],ri.prototype,"focus",null),c([p({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],ri.prototype,"isAutoGenerated",void 0),c([p({type:Number,value:null,json:{type:ht,write:!0}})],ri.prototype,"numClasses",null),c([p({type:Q6,json:{type:Q6,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],ri.prototype,"lengthUnit",void 0),c([p({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],ri.prototype,"maxSliderValue",void 0),c([p({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],ri.prototype,"minSliderValue",void 0),c([p({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],ri.prototype,"statistics",null),c([p({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],ri.prototype,"standardDeviationInterval",null),c([p({type:tw.apiValues,value:null,json:{type:tw.jsonValues,read:tw.read,write:tw.write,origins:{"web-scene":{type:X6.jsonValues,write:{writer:X6.write,overridePolicy:e=>({enabled:e!=="flow"})}}}}})],ri.prototype,"type",null),c([p({type:[bpe],json:{write:!0}})],ri.prototype,"visualVariables",void 0),c([p({type:Epe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],ri.prototype,"univariateSymbolStyle",null),c([p({type:Spe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],ri.prototype,"univariateTheme",null),ri=HO=c([O("esri.renderers.support.AuthoringInfo")],ri);const rN=ri,Zx=new et({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});let Qg=class extends K{constructor(t){super(t),this.authoringInfo=null,this.type=null}async getRequiredFields(t){if(!this.collectRequiredFields)return[];const i=new Set;return await this.collectRequiredFields(i,t),Array.from(i).sort()}getSymbol(t,i){}async getSymbolAsync(t,i){}get symbols(){return[]}get arcadeRequired(){return!1}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};c([p({type:rN,json:{write:!0}})],Qg.prototype,"authoringInfo",void 0),c([p({type:Zx.apiValues,readOnly:!0,json:{type:Zx.jsonValues,read:!1,write:{writer:Zx.write,ignoreOrigin:!0,isRequired:!0}}})],Qg.prototype,"type",void 0),Qg=c([O("esri.renderers.Renderer")],Qg);const gl=Qg;let Kg=class extends rt.ClonableMixin(K){constructor(){super(...arguments),this.showLegend=null,this.title=null}};c([p({type:Boolean,json:{write:!0}})],Kg.prototype,"showLegend",void 0),c([p({type:String,json:{write:!0}})],Kg.prototype,"title",void 0),Kg=c([O("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],Kg);const HB=Kg,Yx=new et({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let Yn=class extends K{constructor(t){super(t),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(t){return t==null?t:typeof t=="function"?(ne.getLogger(this).error(".field: field must be a string value"),null):Lv(t)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};c([p()],Yn.prototype,"index",void 0),c([p({type:Yx.apiValues,readOnly:!0,json:{read:Yx.read,write:{writer:Yx.write,isRequired:!0}}})],Yn.prototype,"type",void 0),c([p({type:String,json:{write:!0}})],Yn.prototype,"field",void 0),c([lt("field")],Yn.prototype,"castField",null),c([p({type:String,json:{write:!0}})],Yn.prototype,"valueExpression",void 0),c([p({type:String,json:{write:!0}})],Yn.prototype,"valueExpressionTitle",void 0),c([p({readOnly:!0})],Yn.prototype,"arcadeRequired",null),c([p({type:HB,json:{write:!0}})],Yn.prototype,"legendOptions",void 0),Yn=c([O("esri.renderers.visualVariables.VisualVariable")],Yn);const Rm=Yn;var WO;let Td=WO=class extends K{constructor(e){super(e),this.color=null,this.label=null,this.value=null}writeValue(e,t,i){t[i]=e??0}clone(){return new WO({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};c([p({type:Ie,json:{type:[ht],write:{isRequired:!0}}})],Td.prototype,"color",void 0),c([p({type:String,json:{write:!0}})],Td.prototype,"label",void 0),c([p({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],Td.prototype,"value",void 0),c([de("value")],Td.prototype,"writeValue",null),Td=WO=c([O("esri.renderers.visualVariables.support.ColorStop")],Td);const $pe=Td;var ZO;let Ed=ZO=class extends Rm{constructor(e){super(e),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,i)=>t.value-i.value),this._set("stops",e)}clone(){var e;return new ZO({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(t=>t.clone()),legendOptions:(e=this.legendOptions)==null?void 0:e.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};c([p({readOnly:!0})],Ed.prototype,"cache",null),c([p({type:["color"],json:{type:["colorInfo"]}})],Ed.prototype,"type",void 0),c([p({type:String,json:{write:!0}})],Ed.prototype,"normalizationField",void 0),c([p({type:[$pe],json:{write:!0}})],Ed.prototype,"stops",null),Ed=ZO=c([O("esri.renderers.visualVariables.ColorVariable")],Ed);const WB=Ed;var YO;let pu=YO=class extends K{constructor(e){super(e),this.label=null,this.opacity=null,this.value=null}readOpacity(e,t){return uv(t.transparency)}writeOpacity(e,t,i){t[i]=eT(e)}clone(){return new YO({label:this.label,opacity:this.opacity,value:this.value})}};c([p({type:String,json:{write:!0}})],pu.prototype,"label",void 0),c([p({type:Number,json:{type:ht,write:{target:"transparency",isRequired:!0}}})],pu.prototype,"opacity",void 0),c([le("opacity",["transparency"])],pu.prototype,"readOpacity",null),c([de("opacity")],pu.prototype,"writeOpacity",null),c([p({type:Number,json:{write:{isRequired:!0}}})],pu.prototype,"value",void 0),pu=YO=c([O("esri.renderers.visualVariables.support.OpacityStop")],pu);const xpe=pu;var JO;let $d=JO=class extends Rm{constructor(e){super(e),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,i)=>t.value-i.value),this._set("stops",e)}clone(){var e;return new JO({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(t=>t.clone()),legendOptions:(e=this.legendOptions)==null?void 0:e.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};c([p({readOnly:!0})],$d.prototype,"cache",null),c([p({type:["opacity"],json:{type:["transparencyInfo"]}})],$d.prototype,"type",void 0),c([p({type:String,json:{write:!0}})],$d.prototype,"normalizationField",void 0),c([p({type:[xpe],json:{write:!0}})],$d.prototype,"stops",null),$d=JO=c([O("esri.renderers.visualVariables.OpacityVariable")],$d);const sN=$d;var XO;let xd=XO=class extends Rm{constructor(e){super(e),this.axis=null,this.type="rotation",this.rotationType="geographic"}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}clone(){var e;return new XO({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:(e=this.legendOptions)==null?void 0:e.clone()})}};c([p({readOnly:!0})],xd.prototype,"cache",null),c([p({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],xd.prototype,"axis",void 0),c([p({type:["rotation"],json:{type:["rotationInfo"]}})],xd.prototype,"type",void 0),c([p({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],xd.prototype,"rotationType",void 0),xd=XO=c([O("esri.renderers.visualVariables.RotationVariable")],xd);const ZB=xd;function Mpe(e){return at(e)}var QO;let fu=QO=class extends K{constructor(e){super(e),this.label=null,this.size=null,this.value=null,this.useMinValue=null,this.useMaxValue=null}clone(){return new QO({label:this.label,size:this.size,value:this.value,useMaxValue:this.useMaxValue,useMinValue:this.useMinValue})}};c([p({type:String,json:{write:!0}})],fu.prototype,"label",void 0),c([p({type:Number,cast:at,json:{write:{isRequired:!0}}})],fu.prototype,"size",void 0),c([p({type:Number,json:{write:{isRequired:!0}}})],fu.prototype,"value",void 0),c([p({type:Boolean,json:{write:!1}})],fu.prototype,"useMinValue",void 0),c([p({type:Boolean,json:{write:!1}})],fu.prototype,"useMaxValue",void 0),fu=QO=c([O("esri.renderers.visualVariables.support.SizeStop")],fu);const x_=fu;let M_=class extends HB{constructor(){super(...arguments),this.customValues=null}};c([p({type:[Number],json:{write:!0}})],M_.prototype,"customValues",void 0),M_=c([O("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],M_);const Ape=M_;var nl,Ui;function Ef(e){return e&&e.declaredClass==="esri.renderers.visualVariables.SizeVariable"}function mv(e){return e!=null&&!isNaN(e)&&isFinite(e)}function YB(e){return e.valueExpression?nl.Expression:e.field&&typeof e.field=="string"?nl.Field:nl.Unknown}function Ope(e,t){const i=t||YB(e),r=e.valueUnit||"unknown";return i===nl.Unknown?Ui.Constant:e.stops?Ui.Stops:e.minSize!=null&&e.maxSize!=null&&e.minDataValue!=null&&e.maxDataValue!=null?Ui.ClampedLinear:r==="unknown"?e.minSize!=null&&e.minDataValue!=null?e.minSize&&e.minDataValue?Ui.Proportional:Ui.Additive:Ui.Identity:Ui.RealWorldSize}(function(e){e.Unknown="unknown",e.Expression="expression",e.Field="field"})(nl||(nl={})),function(e){e.Unknown="unknown",e.Stops="stops",e.ClampedLinear="clamped-linear",e.Proportional="proportional",e.Additive="additive",e.Constant="constant",e.Identity="identity",e.RealWorldSize="real-world-size"}(Ui||(Ui={}));const JB=()=>ne.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),hT=e=>JB().warn(`The visualVariable should be an instance of esri.renderers.visualVariables.${e}`),pT=()=>JB().error("Use of arcade expressions requires an arcade context"),K6=new nc,A_=Math.PI,XB=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function QB(e,t,i){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.find(T=>T.type==="color"):e;if(!r)return;if(r.declaredClass!=="esri.renderers.visualVariables.ColorVariable")return void hT("ColorVariable");const s=typeof t=="number",n=s?null:t,a=n==null?void 0:n.attributes;let u=s?t:null;const d=r.field,{ipData:f,hasExpression:g}=r.cache;let v=r.cache.compiledFunc;if(!d&&!g){const T=r.stops;return T&&T[0]&&T[0].color}if(typeof u!="number")if(g){if((i==null?void 0:i.arcade)==null)return void pT();const T={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},E=i.arcade.arcadeUtils,M=E.getViewInfo(T),R=E.createExecContext(n,M,i.timeZone);if(!v){const P=E.createSyntaxTree(r.valueExpression);v=E.createFunction(P),r.cache.compiledFunc=v}u=E.executeFunction(v,R)}else a&&(u=a[d]);const w=r.normalizationField,S=a!=null&&w!=null?parseFloat(a[w]):void 0;if(u!=null&&(!w||s||!isNaN(S)&&S!==0)){isNaN(S)||s||(u/=S);const T=nN(u,f);if(T){const E=T[0],M=T[1],R=E===M?r.stops[E].color:Ie.blendColors(r.stops[E].color,r.stops[M].color,T[2],i!=null?i.color:void 0);return new Ie(R)}}}function KB(e,t,i){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.find(T=>T.type==="opacity"):e;if(!r)return;if(r.declaredClass!=="esri.renderers.visualVariables.OpacityVariable")return void hT("OpacityVariable");const s=typeof t=="number",n=s?null:t,a=n==null?void 0:n.attributes;let u=s?t:null;const d=r.field,{ipData:f,hasExpression:g}=r.cache;let v=r.cache.compiledFunc;if(!d&&!g){const T=r.stops;return T&&T[0]&&T[0].opacity}if(typeof u!="number")if(g){if((i==null?void 0:i.arcade)==null)return void pT();const T={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},E=i.arcade.arcadeUtils,M=E.getViewInfo(T),R=E.createExecContext(n,M,i.timeZone);if(!v){const P=E.createSyntaxTree(r.valueExpression);v=E.createFunction(P),r.cache.compiledFunc=v}u=E.executeFunction(v,R)}else a&&(u=a[d]);const w=r.normalizationField,S=a!=null&&w!=null?parseFloat(a[w]):void 0;if(u!=null&&(!w||s||!isNaN(S)&&S!==0)){isNaN(S)||s||(u/=S);const T=nN(u,f);if(T){const E=T[0],M=T[1];if(E===M)return r.stops[E].opacity;{const R=r.stops[E].opacity;return R+(r.stops[M].opacity-R)*T[2]}}}}function eH(e,t,i){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.find(S=>S.type==="rotation"):e;if(!r)return;if(r.declaredClass!=="esri.renderers.visualVariables.RotationVariable")return void hT("RotationVariable");const s=r.axis||"heading",n=s==="heading"&&r.rotationType==="arithmetic"?90:0,a=s==="heading"&&r.rotationType==="arithmetic"?-1:1,u=typeof t=="number"?null:t,d=u==null?void 0:u.attributes,f=r.field,{hasExpression:g}=r.cache;let v=r.cache.compiledFunc,w=0;if(!f&&!g)return w;if(g){if((i==null?void 0:i.arcade)==null)return void pT();const S={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},T=i.arcade.arcadeUtils,E=T.getViewInfo(S),M=T.createExecContext(u,E,i.timeZone);if(!v){const R=T.createSyntaxTree(r.valueExpression);v=T.createFunction(R),r.cache.compiledFunc=v}w=T.executeFunction(v,M)}else d&&(w=d[f]||0);return w=typeof w!="number"||isNaN(w)?null:n+a*w,w}function Rpe(e,t,i){const r=typeof t=="number",s=r?null:t,n=s==null?void 0:s.attributes;let a=r?t:null;const{isScaleDriven:u}=e.cache;let d=e.cache.compiledFunc;if(u){const g=i!=null?i.scale:void 0,v=i!=null?i.view:void 0;a=g==null||v==="3d"?Cpe(e):g}else if(!r)switch(e.inputValueType){case nl.Expression:{if((i==null?void 0:i.arcade)==null)return void pT();const g={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},v=i.arcade.arcadeUtils,w=v.getViewInfo(g),S=v.createExecContext(s,w,i.timeZone);if(!d){const T=v.createSyntaxTree(e.valueExpression);d=v.createFunction(T),e.cache.compiledFunc=d}a=v.executeFunction(d,S);break}case nl.Field:n&&(a=n[e.field]);break;case nl.Unknown:a=null}if(!mv(a))return null;if(r||!e.normalizationField)return a;const f=n?parseFloat(n[e.normalizationField]):null;return mv(f)&&f!==0?a/f:null}function Cpe(e){let t=null,i=null;const r=e.stops;return r?(t=r[0].value,i=r[r.length-1].value):(t=e.minDataValue||0,i=e.maxDataValue||0),(t+i)/2}function fT(e,t,i){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.find(n=>n.type==="size"):e;if(!r)return;if(r.declaredClass!=="esri.renderers.visualVariables.SizeVariable")return void hT("SizeVariable");const s=iH(Rpe(r,t,i),r,t,i,r.cache.ipData);return s==null||isNaN(s)?0:s}function hs(e,t,i){return e==null?null:Ef(e)?fT(e,t,i):mv(e)?e:null}function tH(e,t,i){return mv(i)&&e>i?i:mv(t)&&e<t?t:e}function Ipe(e,t,i,r){return e+((hs(t.minSize,i,r)||t.minDataValue)??0)}function Npe(e,t,i){const r=e.stops;let s=(r==null?void 0:r.length)&&r[0].size;return s==null&&(s=e.minSize),hs(s,t,i)}function Ppe(e,t,i,r){const s=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),n=hs(t.minSize,i,r),a=hs(t.maxSize,i,r),u=r!=null?r.shape:void 0;if(e<=t.minDataValue)return n;if(e>=t.maxDataValue)return a;if(n==null||a==null)return null;if(t.scaleBy==="area"&&u){const d=u==="circle",f=d?A_*(n/2)**2:n*n,g=f+s*((d?A_*(a/2)**2:a*a)-f);return d?2*Math.sqrt(g/A_):Math.sqrt(g)}return n+s*(a-n)}function Lpe(e,t,i,r){const s=r!=null?r.shape:void 0,n=e/t.minDataValue,a=hs(t.minSize,i,r),u=hs(t.maxSize,i,r);let d=null;return d=s==="circle"?2*Math.sqrt(n*(a/2)**2):s==="square"||s==="diamond"||s==="image"?Math.sqrt(n*a**2):n*a,tH(d,a,u)}function Dpe(e,t,i,r,s){var d,f,g;const[n,a,u]=nN(e,s);if(n===a)return hs((d=t.stops)==null?void 0:d[n].size,i,r);{const v=hs((f=t.stops)==null?void 0:f[n].size,i,r);return v+(hs((g=t.stops)==null?void 0:g[a].size,i,r)-v)*u}}function kpe(e,t,i,r){const s=((r==null?void 0:r.resolution)??1)*lT[t.valueUnit],n=hs(t.minSize,i,r),a=hs(t.maxSize,i,r),{valueRepresentation:u}=t;let d=null;return d=u==="area"?2*Math.sqrt(e/A_)/s:u==="radius"||u==="distance"?2*e/s:e/s,tH(d,n,a)}function iH(e,t,i,r,s){switch(t.transformationType){case Ui.Additive:return Ipe(e,t,i,r);case Ui.Constant:return Npe(t,i,r);case Ui.ClampedLinear:return Ppe(e,t,i,r);case Ui.Proportional:return Lpe(e,t,i,r);case Ui.Stops:return Dpe(e,t,i,r,s);case Ui.RealWorldSize:return kpe(e,t,i,r);case Ui.Identity:return e;case Ui.Unknown:return null}}function Fpe(e,t,i){const{isScaleDriven:r}=e.cache;if(!(r&&i==="3d"||t))return null;const s={scale:t,view:i};let n=hs(e.minSize,K6,s),a=hs(e.maxSize,K6,s);if(n!=null||a!=null){if(n>a){const u=a;a=n,n=u}return{minSize:n,maxSize:a}}}function jpe(e,t,i){if(!e.visualVariables)return;const r=[],s=[],n=[],a=[],u=[];for(const d of e.visualVariables)switch(d.type){case"color":s.push(d);break;case"opacity":n.push(d);break;case"rotation":u.push(d);break;case"size":a.push(d)}return s.forEach(d=>{const f=QB(d,t,i);r.push({variable:d,value:f})}),n.forEach(d=>{const f=KB(d,t,i);r.push({variable:d,value:f})}),u.forEach(d=>{const f=eH(d,t,i);r.push({variable:d,value:f})}),a.forEach(d=>{const f=fT(d,t,i);r.push({variable:d,value:f})}),r.filter(d=>d.value!=null)}function nN(e,t){if(!t)return;let i=0,r=t.length-1;return t.some((s,n)=>e<s?(r=n,!0):(i=n,!1)),[i,r,(e-t[i])/(t[r]-t[i])]}function Upe(e,t,i){const r=["proportional","proportional","proportional"];for(const s of e){const n=s.useSymbolValue?"symbol-value":fT(s,t,i);switch(s.axis){case"width":r[0]=n;break;case"depth":r[1]=n;break;case"height":r[2]=n;break;case"width-and-depth":r[0]=n,r[1]=n;break;case"all":case void 0:case null:r[0]=n,r[1]=n,r[2]=n;break;default:s.axis}}return r}const pIe=Object.freeze(Object.defineProperty({__proto__:null,getAllSizes:Upe,getColor:QB,getOpacity:KB,getRotationAngle:eH,getSize:fT,getSizeForValue:iH,getSizeFromNumberOrVariable:hs,getSizeRangeAtScale:Fpe,getVisualVariableValues:jpe,viewScaleRE:XB},Symbol.toStringTag,{value:"Module"}));var KO;const iw=new et({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),eR=new et({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers"});function e8(e){if(e!=null)return typeof e=="string"||typeof e=="number"?Mpe(e):e.type==="size"?Ef(e)?e:(delete(e={...e}).type,new vt(e)):void 0}function t8(e,t,i){if(typeof e!="object")return e;const r=new vt;return r.read(e,i),r}let vt=KO=class extends Rm{constructor(e){super(e),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:this.valueExpression!=null&&XB.test(this.valueExpression)}}set index(e){Ef(this.maxSize)&&(this.maxSize.index=`visualVariables[${e}].maxSize`),Ef(this.minSize)&&(this.minSize.index=`visualVariables[${e}].minSize`),this._set("index",e)}get inputValueType(){return YB(this)}set maxDataValue(e){e&&this.stops&&(ne.getLogger(this).warn("cannot set maxDataValue when stops is not null."),e=null),this._set("maxDataValue",e)}set maxSize(e){e&&this.stops&&(ne.getLogger(this).warn("cannot set maxSize when stops is not null."),e=null),this._set("maxSize",e)}castMaxSize(e){return e8(e)}readMaxSize(e,t,i){return t8(e,t,i)}set minDataValue(e){e&&this.stops&&(ne.getLogger(this).warn("cannot set minDataValue when stops is not null."),e=null),this._set("minDataValue",e)}set minSize(e){e&&this.stops&&(ne.getLogger(this).warn("cannot set minSize when stops is not null."),e=null),this._set("minSize",e)}castMinSize(e){return e8(e)}readMinSize(e,t,i){return t8(e,t,i)}get arcadeRequired(){return!!this.valueExpression||this.minSize!=null&&typeof this.minSize=="object"&&this.minSize.arcadeRequired||this.maxSize!=null&&typeof this.maxSize=="object"&&this.maxSize.arcadeRequired}set stops(e){this.minDataValue==null&&this.maxDataValue==null&&this.minSize==null&&this.maxSize==null?e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,i)=>t.value-i.value):e&&(ne.getLogger(this).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),e=null),this._set("stops",e)}get transformationType(){return Ope(this,this.inputValueType)}readValueExpression(e,t){return e||t.expression&&"$view.scale"}writeValueExpressionWebScene(e,t,i,r){if(e==="$view.scale"){if(r!=null&&r.messages){const s=this.index,n=typeof s=="string"?s:`visualVariables[${s}]`;r.messages.push(new z("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:n+".valueExpression",context:r}))}}else t[i]=e}readValueUnit(e){return e?eR.read(e):null}clone(){var e,t;return new KO({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:Ef(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:Ef(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:(e=this.stops)==null?void 0:e.map(i=>i.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:(t=this.legendOptions)==null?void 0:t.clone()})}flipSizes(){if(this.transformationType===Ui.ClampedLinear){const{minSize:e,maxSize:t}=this;return this.minSize=t,this.maxSize=e,this}if(this.transformationType===Ui.Stops){const e=this.stops;if(!e)return this;const t=e.map(r=>r.size).reverse(),i=e.length;for(let r=0;r<i;r++)e[r].size=t[r];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){var e;return(e=this.stops)==null?void 0:e.map(t=>t.value||0)}};c([p({readOnly:!0})],vt.prototype,"cache",null),c([p({type:iw.apiValues,json:{type:iw.jsonValues,origins:{"web-map":{read:!1}},read:iw.read,write:iw.write}})],vt.prototype,"axis",void 0),c([p()],vt.prototype,"index",null),c([p({type:String,readOnly:!0})],vt.prototype,"inputValueType",null),c([p({type:Ape,json:{write:!0}})],vt.prototype,"legendOptions",void 0),c([p({type:Number,value:null,json:{write:!0}})],vt.prototype,"maxDataValue",null),c([p({type:Number,value:null,json:{write:!0}})],vt.prototype,"maxSize",null),c([lt("maxSize")],vt.prototype,"castMaxSize",null),c([le("maxSize")],vt.prototype,"readMaxSize",null),c([p({type:Number,value:null,json:{write:!0}})],vt.prototype,"minDataValue",null),c([p({type:Number,value:null,json:{write:!0}})],vt.prototype,"minSize",null),c([lt("minSize")],vt.prototype,"castMinSize",null),c([le("minSize")],vt.prototype,"readMinSize",null),c([p({type:String,json:{write:!0}})],vt.prototype,"normalizationField",void 0),c([p({readOnly:!0})],vt.prototype,"arcadeRequired",null),c([p({type:String})],vt.prototype,"scaleBy",void 0),c([p({type:[x_],value:null,json:{write:!0}})],vt.prototype,"stops",null),c([p({type:["outline"],json:{write:!0}})],vt.prototype,"target",void 0),c([p({type:String,readOnly:!0})],vt.prototype,"transformationType",null),c([p({type:["size"],json:{type:["sizeInfo"]}})],vt.prototype,"type",void 0),c([p({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],vt.prototype,"useSymbolValue",void 0),c([p({type:String,json:{write:!0}})],vt.prototype,"valueExpression",void 0),c([le("valueExpression",["valueExpression","expression"])],vt.prototype,"readValueExpression",null),c([de("web-scene","valueExpression")],vt.prototype,"writeValueExpressionWebScene",null),c([p({type:["radius","diameter","area","width","distance"],json:{write:!0}})],vt.prototype,"valueRepresentation",void 0),c([p({type:eR.apiValues,json:{write:eR.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],vt.prototype,"valueUnit",void 0),c([le("valueUnit")],vt.prototype,"readValueUnit",null),vt=KO=c([O("esri.renderers.visualVariables.SizeVariable")],vt);const mT=vt,zpe={color:WB,size:mT,opacity:sN,rotation:ZB},Vpe=new et({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),Gpe=/^\[([^\]]+)\]$/i;let O_=class extends $e{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(t){if(this._resetVariables(),t=t==null?void 0:t.filter(i=>!!i),t==null?void 0:t.length){for(const i of t)switch(i.type){case"color":this.colorVariables.push(i);break;case"opacity":this.opacityVariables.push(i);break;case"rotation":this.rotationVariables.push(i);break;case"size":this.sizeVariables.push(i)}this.sizeVariables.length&&this.sizeVariables.some(i=>!!i.target)&&t.sort((i,r)=>{let s=null;return s=i.target===r.target?0:i.target?1:-1,s});for(let i=0;i<t.length;i++)t[i].index=i;this._set("visualVariables",t)}else this._set("visualVariables",t)}readVariables(t,i,r){const{rotationExpression:s,rotationType:n}=i,a=s==null?void 0:s.match(Gpe),u=a==null?void 0:a[1];if(u&&(t||(t=[]),t.push({type:"rotationInfo",rotationType:n,field:u})),t)return t.map(d=>{const f=Vpe.read(d.type),g=zpe[f];g||(ne.getLogger(this).warn(`Unknown variable type: ${f}`),r!=null&&r.messages&&r.messages.push(new vn("visual-variable:unsupported",`visualVariable of type '${f}' is not supported`,{definition:d,context:r})));const v=new g;return v.read(d,r),v})}writeVariables(t,i){const r=[];for(const s of t){const n=s.toJSON(i);n&&r.push(n)}return r}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};c([p()],O_.prototype,"visualVariables",null),O_=c([O("esri.renderers.visualVariables.VisualVariableFactory")],O_);const qpe=O_,Bpe={base:Rm,key:"type",typeMap:{opacity:sN,color:WB,rotation:ZB,size:mT}},Cm=e=>{let t=class extends e{constructor(){super(...arguments),this._vvFactory=new qpe}set visualVariables(i){this._vvFactory.visualVariables=i,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(i,r,s){return this._vvFactory.readVariables(i,r,s)}writeVisualVariables(i,r,s,n){r[s]=this._vvFactory.writeVariables(i,n)}get arcadeRequiredForVisualVariables(){var i;return((i=this.visualVariables)==null?void 0:i.some(({arcadeRequired:r})=>r))??!1}hasVisualVariables(i,r){return i?this.getVisualVariablesForType(i,r).length>0:this.getVisualVariablesForType("size",r).length>0||this.getVisualVariablesForType("color",r).length>0||this.getVisualVariablesForType("opacity",r).length>0||this.getVisualVariablesForType("rotation",r).length>0}getVisualVariablesForType(i,r){var s;return((s=this.visualVariables)==null?void 0:s.filter(n=>n.type===i&&(typeof r=="string"?n.target===r:r!==!1||!n.target)))??[]}async collectVVRequiredFields(i,r){let s=[];this.visualVariables&&(s=s.concat(this.visualVariables));for(const n of s)n&&(n.field&&Hr(i,r,n.field),n.normalizationField&&Hr(i,r,n.normalizationField),n.valueExpression&&(Hpe(n.valueExpression,i,r)||await Rr(i,r,n.valueExpression)))}};return c([p({types:[Bpe],value:null,json:{write:!0}})],t.prototype,"visualVariables",null),c([le("visualVariables",["visualVariables","rotationType","rotationExpression"])],t.prototype,"readVisualVariables",null),c([de("visualVariables")],t.prototype,"writeVisualVariables",null),t=c([O("esri.renderers.mixins.VisualVariablesMixin")],t),t};function Hpe(e,t,i){const r=Gre(e);return r!=null&&(Hr(t,i,r),!0)}const oN=[252,146,31,255],Wpe=[153,153,153,255],Zpe={type:"esriSMS",style:"esriSMSCircle",size:6,color:oN,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},Ype={type:"esriSLS",style:"esriSLSSolid",width:.75,color:oN},Jpe={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},Xpe={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},Qpe={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},Kpe={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},efe={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null},qS=ra.fromJSON(Zpe),aN=Vs.fromJSON(Ype),rH=xh.fromJSON(Jpe),tfe=Am.fromJSON(Xpe);function mIe(e){if(e==null)return null;switch(e.type){case"mesh":return null;case"point":case"multipoint":return qS;case"polyline":return aN;case"polygon":case"extent":return rH}return null}const yIe=ra.fromJSON(Qpe),gIe=Vs.fromJSON(Kpe),vIe=xh.fromJSON(efe),ife=rl.fromSimpleMarkerSymbol(qS),rfe=$h.fromSimpleLineSymbol(aN),sfe=mc.fromSimpleFillSymbol(rH),nfe=new Kv({symbolLayers:new ye([new Eh({material:{color:oN},edges:new pq({size:_n(1),color:new Ie(Wpe)})})])}),ofe=new $h({symbolLayers:new ye([new xm({material:{color:new Ie([0,0,0])},size:_n(1)})])}),afe=new mc({symbolLayers:new ye([new Eh({outline:{color:new Ie([0,0,0]),size:_n(1)}})])});function bIe(e){if(e==null)return null;switch(e.type){case"mesh":return nfe;case"point":case"multipoint":return ife;case"polyline":return rfe;case"polygon":case"extent":return sfe}return null}const i8="#useCIMFallbackSymbology()",bp={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function lfe(e,t=bp){var d,f,g,v;if(!e)return{symbol:null};const{retainId:i=bp.retainId,ignoreDrivers:r=bp.ignoreDrivers,hasLabelingContext:s=bp.hasLabelingContext,retainCIM:n=bp.retainCIM,cimFallbackEnabled:a=bp.cimFallbackEnabled}=t;let u=null;if(Zq(e)||e instanceof sc)u=e.clone();else if(e.type==="cim"){const w=(f=(d=e.data)==null?void 0:d.symbol)==null?void 0:f.type;switch(w){case"CIMPointSymbol":u=n?e.clone():rl.fromCIMSymbol(e);break;case"CIMLineSymbol":a&&(u=ofe.clone(),(g=t==null?void 0:t.logWarning)==null||g.call(t,i8,"Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":a&&(u=afe.clone(),(v=t==null?void 0:t.logWarning)==null||v.call(t,i8,"Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!u)return{error:new z("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${w||"unknown"}' is unsupported in 3D`,{symbol:e})}}else if(e instanceof Vs)u=$h.fromSimpleLineSymbol(e);else if(e instanceof ra)u=rl.fromSimpleMarkerSymbol(e);else if(e instanceof e1)u=rl.fromPictureMarkerSymbol(e);else if(e instanceof xh)u=t.geometryType&&t.geometryType==="mesh"?Kv.fromSimpleFillSymbol(e):mc.fromSimpleFillSymbol(e);else{if(!(e instanceof Am))return{error:new z("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};u=s?iT.fromTextSymbol(e):rl.fromTextSymbol(e)}return i&&u&&u.type!=="cim"&&(u.id=e.id),!r||u.type==="cim"||u instanceof sc||u.symbolLayers.forEach(w=>w.ignoreDrivers=!0),{symbol:u}}function BS(e,t,i,r){const s=sH(e,{},{context:r,isLabelSymbol:!1});s!=null&&(t[i]=s)}function r8(e,t,i,r){const s=sH(e,{},{context:r,isLabelSymbol:!0});s!=null&&(t[i]=s)}function s8(e){return Zq(e)||e instanceof sc}function ufe(e){return(e==null?void 0:e.type)==="polygon-3d"||(e==null?void 0:e.type)==="line-3d"}function sH(e,t,i){var u;if(e==null)return null;const{context:r,isLabelSymbol:s}=i,n=r==null?void 0:r.origin,a=r==null?void 0:r.messages;if(n==="web-scene"&&!s8(e)){const d=lfe(e,{retainCIM:!0,hasLabelingContext:s});return d.symbol!=null?d.symbol.write(t,r):(a==null||a.push(new z("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:r,error:d.error})),null)}return jO(r==null?void 0:r.layer)&&ufe(e)?(a==null||a.push(new z("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported on layers of type '${(u=r==null?void 0:r.layer)==null?void 0:u.declaredClass}'.`,{symbol:e,context:r})),null):(n==="web-map"||n==="portal-item"&&!jO(r==null?void 0:r.layer))&&s8(e)?(a==null||a.push(new z("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:r})),null):e.write(t,r)}function wIe(e,t){return Gue(e,null,t)}const yT={types:Yq,json:{write:{writer:BS},origins:{"web-scene":{types:u6,write:{writer:BS},read:{reader:ym({types:u6})}}}}},lN=$C({json:{origins:{"web-scene":{write:{isRequired:!0}}}}},yT),uN={types:{base:hr,key:"type",typeMap:{"simple-fill":zu.typeMap["simple-fill"],"picture-fill":zu.typeMap["picture-fill"],"polygon-3d":zu.typeMap["polygon-3d"],cim:zu.typeMap.cim}},json:{write:{writer:BS},origins:{"web-scene":{type:mc,write:{writer:BS}}}}},R_={cast:e=>e==null||typeof e=="string"||typeof e=="number"?e:`${e}`,json:{type:String,write:{writer:(e,t)=>{t.value=e==null?void 0:e.toString()}}}};var tR;let Md=tR=class extends Cm(gl){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(e,t){await Promise.all([this.collectSymbolFields(e,t),this.collectVVRequiredFields(e,t)])}async collectSymbolFields(e,t){await Promise.all(this.symbols.map(i=>i.collectRequiredFields(e,t)))}getSymbol(e,t){return this.symbol}async getSymbolAsync(e,t){return this.symbol}get symbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){var e;return((e=this.visualVariables)==null?void 0:e.reduce((t,i)=>t+i.getAttributeHash(),""))??""}getMeshHash(){return this.symbols.reduce((e,t)=>e+JSON.stringify(t),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new tR({description:this.description,label:this.label,symbol:j(this.symbol),visualVariables:j(this.visualVariables),authoringInfo:j(this.authoringInfo)})}};c([p({type:String,json:{write:!0}})],Md.prototype,"description",void 0),c([p({type:String,json:{write:!0}})],Md.prototype,"label",void 0),c([p(lN)],Md.prototype,"symbol",void 0),c([Oe({simple:"simple"})],Md.prototype,"type",void 0),Md=tR=c([O("esri.renderers.SimpleRenderer")],Md);const ol=Md,cfe=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function iR(e){return e instanceof $e}function n8(e){return e instanceof ye?Object.keys(e.items):iR(e)?ps(e).keys():e?Object.keys(e):[]}function rw(e,t){return e instanceof ye?e.items[t]:e[t]}function dfe(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}function P0(e){return e?e.declaredClass:null}function nH(e,t){var v;const i=e.diff;if(i&&typeof i=="function")return i(e,t);const r=n8(e),s=n8(t);if(r.length===0&&s.length===0)return;if(!r.length||!s.length||dfe(e,t))return{type:"complete",oldValue:e,newValue:t};const n=s.filter(w=>!r.includes(w)),a=r.filter(w=>!s.includes(w)),u=r.filter(w=>s.includes(w)&&rw(e,w)!==rw(t,w)).concat(n,a).sort(),d=P0(e);if(d&&cfe.has(d)&&u.length)return{type:"complete",oldValue:e,newValue:t};let f;const g=iR(e)&&iR(t);for(const w of u){const S=rw(e,w),T=rw(t,w);let E;if((g||typeof S!="function"&&typeof T!="function")&&S!==T&&(S!=null||T!=null)){if(i&&i[w]&&typeof i[w]=="function")E=(v=i[w])==null?void 0:v.call(i,S,T);else if(S instanceof Date&&T instanceof Date){if(S.getTime()===T.getTime())continue;E={type:"complete",oldValue:S,newValue:T}}else E=typeof S=="object"&&typeof T=="object"&&P0(S)===P0(T)?nH(S,T):{type:"complete",oldValue:S,newValue:T};E!=null&&(f!=null?f.diff[w]=E:f={type:"partial",diff:{[w]:E}})}}return f}function _Ie(e,t){return hfe(e,t)}function hfe(e,t){if(e==null)return!1;const i=t.split(".");let r=e;for(const s of i){if(r.type==="complete")return!0;if(r.type!=="partial")return!1;{const n=r.diff[s];if(!n)return!1;r=n}}return!0}function SIe(e,t){if(!e)return!1;if(e.type==="partial"){const i=Object.keys(e.diff);return i.length===1&&i[0]===t}return!1}function pfe(e,t){if(typeof e!="function"&&typeof t!="function"&&(e!=null||t!=null))return e==null||t==null||typeof e=="object"&&typeof t=="object"&&P0(e)!==P0(t)?{type:"complete",oldValue:e,newValue:t}:nH(e,t)}function sw(e){if(e==null)return!0;switch(e.type){case"complete":return!1;case"collection":{const t=e;for(const i of t.added)if(!sw(i))return!1;for(const i of t.removed)if(!sw(i))return!1;for(const i of t.changed)if(!sw(i))return!1;return!0}case"partial":for(const t in e.diff)if(!sw(e.diff[t]))return!1;return!0}}var rR;const ffe=rr()({ascendingValues:"ascending-values",descendingValues:"descending-values"});let e0=rR=class extends rt.ClonableMixin(K){static from(e){return Dv(rR,e)}constructor(e){super(e),this.title=null,this.order=null}};c([p({type:String,json:{write:!0}})],e0.prototype,"title",void 0),c([Oe(ffe)],e0.prototype,"order",void 0),e0=rR=c([O("esri.renderers.support.RendererLegendOptions")],e0);const cN=e0;let ef=class extends rt.ClonableMixin(K){constructor(t){super(t),this.value=null,this.value2=null,this.value3=null}};c([p(R_)],ef.prototype,"value",void 0),c([p(R_)],ef.prototype,"value2",void 0),c([p(R_)],ef.prototype,"value3",void 0),ef=c([O("esri.renderers.support.UniqueValue")],ef);const Df=ef;let mu=class extends rt.ClonableMixin(K){constructor(t){super(t),this.description=null,this.label=null,this.symbol=null,this.values=null}castValues(t){if(t==null)return null;const i=typeof(t=Array.isArray(t)?t:[t])[0];return i==="string"||i==="number"?t.map(r=>new Df({value:r})):i==="object"?t[0]instanceof Df?t:t.map(r=>new Df(r)):null}};c([p({type:String,json:{write:!0}})],mu.prototype,"description",void 0),c([p({type:String,json:{write:!0}})],mu.prototype,"label",void 0),c([p(yT)],mu.prototype,"symbol",void 0),c([p({type:[Df],json:{type:[[String]],read:{reader:e=>e?e.map(t=>new Df({value:t[0],value2:t[1],value3:t[2]})):null},write:{writer:(e,t)=>{const i=[];for(const r of e){const s=[r.value,r.value2,r.value3].filter(Ju).map(n=>n.toString());i.push(s)}t.values=i}}}})],mu.prototype,"values",void 0),c([lt("values")],mu.prototype,"castValues",null),mu=c([O("esri.renderers.support.UniqueValueClass")],mu);const oH=mu;let t0=class extends rt.ClonableMixin(K){constructor(t){super(t),this.heading=null,this.classes=null}};c([p({type:String,json:{write:!0}})],t0.prototype,"heading",void 0),c([p({type:[oH],json:{write:{isRequired:!0}}})],t0.prototype,"classes",void 0),t0=c([O("esri.renderers.support.UniqueValueGroup")],t0);const sR=t0;var nR;let Ad=nR=class extends K{constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.value=null}clone(){return new nR({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){var t;const e=JSON.stringify((t=this.symbol)==null?void 0:t.toJSON());return`${this.value}.${e}`}};c([p({type:String,json:{write:!0}})],Ad.prototype,"description",void 0),c([p({type:String,json:{write:!0}})],Ad.prototype,"label",void 0),c([p(lN)],Ad.prototype,"symbol",void 0),c([p(R_)],Ad.prototype,"value",void 0),Ad=nR=c([O("esri.renderers.support.UniqueValueInfo")],Ad);const L0=Ad,o8=new Map;async function mfe(e,t){try{return{data:(await bfe(e,t)).data,baseUrl:bse(e),styleUrl:e}}catch(i){return qo(i),null}}function yfe(e,t,i){var d;const r=t.portal!=null?t.portal:ms.getDefault();let s;const n=`${r.url} - ${(d=r.user)==null?void 0:d.username} - ${e}`,a=o8.get(n);if(a)return a;const u=gfe(e,r,i).then(f=>(s=f,f.fetchData())).then(f=>({data:f,baseUrl:s.itemUrl??"",styleName:e}));return o8.set(n,u),u}function gfe(e,t,i){return t.load(i).then(()=>{const r=new ro({disableExtraQuery:!0,query:`owner:${a8} AND type:${l8} AND typekeywords:"${e}"`});return t.queryItems(r,i)}).then(({results:r})=>{var a;let s=null;const n=e.toLowerCase();if(r&&Array.isArray(r)){for(const u of r)if(((a=u.typeKeywords)==null?void 0:a.some(f=>f.toLowerCase()===n))&&u.type===l8&&u.owner===a8){s=u;break}}if(!s)throw new z("symbolstyleutils:style-not-found",`The style '${e}' could not be found`,{styleName:e});return s.load(i)})}function vfe(e,t,i){return(e==null?void 0:e.styleUrl)!=null?mfe(e.styleUrl,i):(e==null?void 0:e.styleName)!=null?yfe(e.styleName,t,i):Promise.reject(new z("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function xIe(e){return e===null||e.type==="CIMSymbolReference"?e:{type:"CIMSymbolReference",symbol:e}}function MIe(e,t){for(const i of t)switch(i){case"cim":if(e.cimRef)return{format:i,url:encodeURI(e.cimRef)};break;case"web-gltf-basisu":{const r=Jx(e,"gltf_basisu");if(r)return{format:i,url:r};break}case"web-gltf":{const r=Jx(e,"gltf");if(r)return{format:i,url:r};break}case"web":{const r=Jx(e,"gltf");if(r)return{format:"web-gltf",url:r};if(e.webRef)return{format:i,url:encodeURI(e.webRef)};break}}}function Jx(e,t){var i,r;if(!B("enable-feature:force-wosr"))return(r=(i=e.formatInfos)==null?void 0:i.find(s=>s.type===t))==null?void 0:r.href}function bfe(e,t){const i={responseType:"json",query:{f:"json"},...t};return Lt(oo(e),i)}const a8="esri_en",l8="Style",AIe="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json";var i0;const aH="esri.renderers.UniqueValueRenderer",Jl=()=>ne.getLogger(aH),u8="uvInfos-watcher",c8="uvGroups-watcher",wfe=",",_fe=Ci(L0);function Sfe(e){const{field1:t,field2:i,field3:r,fieldDelimiter:s,uniqueValueInfos:n,valueExpression:a}=e,u=!(!t||!i);return[{classes:(n??[]).map(d=>{var R;const{symbol:f,label:g,value:v,description:w}=d,[S,T,E]=u?((R=v==null?void 0:v.toString())==null?void 0:R.split(s||""))||[]:[v],M=[];return(t||a)&&M.push(S),i&&M.push(T),r&&M.push(E),{symbol:f,label:g,values:[M],description:w}})}]}function wp(e){return e!=null&&e!==""&&(typeof e!="string"||e.trim()!==""&&e.toLowerCase()!=="<null>")||(e=null),e+""}let Bt=i0=class extends Cm(gl){constructor(e){super(e),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this._isInfosSource=null,this.type="unique-value",this.backgroundFillSymbol=null,this.orderByClassesEnabled=!1,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(t,i){if(!t&&!i)return;if(!t||!i)return{type:"complete",oldValue:t,newValue:i};let r=!1;const s={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let n=0;n<i.length;n++){const a=t.find(u=>u.value===i[n].value);a?pfe(a,i[n])?(s.changed.push({type:"complete",oldValue:a,newValue:i[n]}),r=!0):s.unchanged.push({oldValue:a,newValue:i[n]}):(s.added.push(i[n]),r=!0)}for(let n=0;n<t.length;n++)i.find(a=>a.value===t[n].value)||(s.removed.push(t[n]),r=!0);return r?s:void 0}},this._set("uniqueValueInfos",[]),this._set("uniqueValueGroups",[])}get _cache(){return{compiledFunc:null}}set field(e){this._set("field",e),this._updateFieldDelimiter(),this._updateUniqueValues()}castField(e){return e==null||typeof e=="function"?e:Lv(e)}writeField(e,t,i,r){typeof e=="string"?t[i]=e:r!=null&&r.messages?r.messages.push(new z("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):Jl().error(".field: cannot write field to JSON since it's not a string value")}set field2(e){this._set("field2",e),this._updateFieldDelimiter(),this._updateUniqueValues()}set field3(e){this._set("field3",e),this._updateUniqueValues()}set valueExpression(e){this._set("valueExpression",e),this._updateUniqueValues()}set defaultSymbol(e){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",e)}set fieldDelimiter(e){this._set("fieldDelimiter",e),this._updateUniqueValues()}readPortal(e,t,i){return i.portal||ms.getDefault()}readStyleOrigin(e,t,i){if(t.styleName)return Object.freeze({styleName:t.styleName});if(t.styleUrl){const r=Sm(t.styleUrl,i);return Object.freeze({styleUrl:r})}}writeStyleOrigin(e,t,i,r){e.styleName?t.styleName=e.styleName:e.styleUrl&&(t.styleUrl=Vv(e.styleUrl,r))}set uniqueValueGroups(e){this.styleOrigin?Jl().error("#uniqueValueGroups=","Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueGroups",e),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}set uniqueValueInfos(e){this.styleOrigin?Jl().error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",e),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}addUniqueValueInfo(e,t){var r;if(this.styleOrigin)return void Jl().error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let i;i=typeof e=="object"?_fe(e):new L0({value:e,symbol:Jq(t)}),(r=this.uniqueValueInfos)==null||r.push(i),this._valueInfoMap[wp(i.value)]=i,this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}removeUniqueValueInfo(e){if(this.styleOrigin)return void Jl().error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");const t=this.uniqueValueInfos;if(t)for(let i=0;i<t.length;i++){const r=t[i];if(String(r.value)===String(e)){delete this._valueInfoMap[wp(e)],t.splice(i,1);break}}this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}async getUniqueValueInfo(e,t){let i=t;return this.valueExpression&&(t==null?void 0:t.arcade)==null&&(i={...i,arcade:await Ku()}),this._getUniqueValueInfo(e,i)}getSymbol(e,t){if(this.valueExpression&&(t==null?void 0:t.arcade)==null)return void Jl().error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const i=this._getUniqueValueInfo(e,t);return(i==null?void 0:i.symbol)||this.defaultSymbol}async getSymbolAsync(e,t){let i=t;if(this.valueExpression&&(i==null?void 0:i.arcade)==null){const s=await Ku(),{arcadeUtils:n}=s;n.hasGeometryOperations(this.valueExpression)&&await n.enableGeometryOperations(),i={...i,arcade:s}}const r=this._getUniqueValueInfo(e,i);return(r==null?void 0:r.symbol)||this.defaultSymbol}get symbols(){const e=[];for(const t of this.uniqueValueInfos??[])t.symbol&&e.push(t.symbol);return this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){var e;return((e=this.visualVariables)==null?void 0:e.reduce((t,i)=>t+i.getAttributeHash(),""))??""}getMeshHash(){var r;const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),i=(r=this.uniqueValueInfos)==null?void 0:r.reduce((s,n)=>s+n.getMeshHash(),"");return`${e}.${t}.${i}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`}clone(){const e=new i0({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:j(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:j(this.visualVariables),legendOptions:j(this.legendOptions),authoringInfo:j(this.authoringInfo),backgroundFillSymbol:j(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(e._isDefaultSymbolDerived=!0),e._set("portal",this.portal);const t=j(this.uniqueValueInfos),i=j(this.uniqueValueGroups);return this.styleOrigin&&(e._set("styleOrigin",Object.freeze(j(this.styleOrigin))),Object.freeze(t),Object.freeze(i)),e._set("uniqueValueInfos",t),e._updateValueInfoMap(),e._set("uniqueValueGroups",i),e._isInfosSource=this._isInfosSource,e._watchUniqueValueInfosAndGroups(),e}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(e,t){const i=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(i)}async collectSymbolFields(e,t){const i=[...this.symbols.map(r=>r.collectRequiredFields(e,t)),Rr(e,t,this.valueExpression)];Hr(e,t,this.field),Hr(e,t,this.field2),Hr(e,t,this.field3),await Promise.all(i)}populateFromStyle(){return vfe(this.styleOrigin,{portal:this.portal}).then(e=>{var i;const t=[];return this._valueInfoMap={},e!=null&&e.data&&Array.isArray(e.data.items)&&e.data.items.forEach(r=>{const s=new sc({styleUrl:e.styleUrl,styleName:e.styleName,portal:this.portal,name:r.name});this.defaultSymbol||r.name!==e.data.defaultItem||(this.defaultSymbol=s,this._isDefaultSymbolDerived=!0);const n=new L0({value:r.name,symbol:s});t.push(n),this._valueInfoMap[wp(r.name)]=n}),this._set("uniqueValueInfos",Object.freeze(t)),this._updateGroupsFromInfos(!0),this._isInfosSource=null,this._watchUniqueValueInfos(),!this.defaultSymbol&&((i=this.uniqueValueInfos)!=null&&i.length)&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateFieldDelimiter(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",wfe)}_updateUniqueValues(){this._isInfosSource!=null&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())}_updateValueInfoMap(){this._valueInfoMap={};const{uniqueValueInfos:e}=this;if(e)for(const t of e)this._valueInfoMap[wp(t.value)]=t}_watchUniqueValueInfosAndGroups(){this._watchUniqueValueInfos(),this._watchUniqueValueGroups()}_watchUniqueValueInfos(){this.removeHandles(u8);const{uniqueValueInfos:e}=this;if(e){const t=[];for(const i of e)t.push(ke(()=>({symbol:i.symbol,value:i.value,label:i.label,description:i.description}),(r,s)=>{r!==s&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)},{sync:!0}));this.addHandles(t,u8)}}_watchUniqueValueGroups(){this.removeHandles(c8);const{uniqueValueGroups:e}=this;if(e){const t=[];for(const i of e){t.push(ke(()=>({classes:i.classes}),(r,s)=>{r!==s&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}));for(const r of i.classes??[])t.push(ke(()=>({symbol:r.symbol,values:r.values,label:r.label,description:r.description}),(s,n)=>{s!==n&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}))}this.addHandles(t,c8)}}_updateInfosFromGroups(){if(!this.uniqueValueGroups)return this._set("uniqueValueInfos",null),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const e=[],{field:t,field2:i,field3:r,fieldDelimiter:s,uniqueValueGroups:n,valueExpression:a}=this;if(!t&&!a)return this._set("uniqueValueInfos",e),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const u=!(!t||!i);for(const d of n)for(const f of d.classes??[]){const{symbol:g,label:v,values:w,description:S}=f;for(const T of w??[]){const{value:E,value2:M,value3:R}=T,P=[E];i&&P.push(M),r&&P.push(R);const N=u?P.join(s||""):P[0]??void 0;e.push(new L0({symbol:g,label:v,value:N,description:S}))}}this._set("uniqueValueInfos",e),this._updateValueInfoMap(),this._watchUniqueValueInfos()}_updateGroupsFromInfos(e=!1){if(!this.uniqueValueInfos)return this._set("uniqueValueGroups",null),void this._watchUniqueValueGroups();const{field:t,field2:i,valueExpression:r,fieldDelimiter:s,uniqueValueInfos:n}=this;if(!t&&!r||!n.length)return this._set("uniqueValueGroups",[]),void this._watchUniqueValueGroups();const a=!(!t||!i),u=n.map(f=>{var R;const{symbol:g,label:v,value:w,description:S}=f,[T,E,M]=a?((R=w==null?void 0:w.toString())==null?void 0:R.split(s||""))||[]:[w];return new oH({symbol:g,label:v,description:S,values:[new Df({value:T,value2:E,value3:M})]})}),d=[new sR({classes:u})];e&&Object.freeze(d),this._set("uniqueValueGroups",d),this._watchUniqueValueGroups()}_getUniqueValueInfo(e,t){return this.valueExpression?this._getUnqiueValueInfoForExpression(e,t):this._getUnqiueValueInfoForFields(e)}_getUnqiueValueInfoForExpression(e,t){const{viewingMode:i,scale:r,spatialReference:s,arcade:n,timeZone:a}=t??{};let u=this._cache.compiledFunc;const d=n.arcadeUtils;if(!u){const g=d.createSyntaxTree(this.valueExpression);u=d.createFunction(g),this._cache.compiledFunc=u}const f=d.executeFunction(u,d.createExecContext(e,d.getViewInfo({viewingMode:i,scale:r,spatialReference:s}),a));return this._valueInfoMap[wp(f)]}_getUnqiueValueInfoForFields(e){const t=this.field,i=e.attributes;let r;if(this.field2){const s=this.field2,n=this.field3,a=[];t&&a.push(i[t]),s&&a.push(i[s]),n&&a.push(i[n]),r=a.join(this.fieldDelimiter||"")}else t&&(r=i[t]);return this._valueInfoMap[wp(r)]}static fromPortalStyle(e,t){const i=new i0(t==null?void 0:t.properties);i._set("styleOrigin",Object.freeze({styleName:e})),i._set("portal",(t==null?void 0:t.portal)||ms.getDefault());const r=i.populateFromStyle();return r.catch(s=>{Jl().error(`#fromPortalStyle('${e}'[, ...])`,"Failed to create unique value renderer from style name",s)}),r}static fromStyleUrl(e,t){const i=new i0(t==null?void 0:t.properties);i._set("styleOrigin",Object.freeze({styleUrl:e}));const r=i.populateFromStyle();return r.catch(s=>{Jl().error(`#fromStyleUrl('${e}'[, ...])`,"Failed to create unique value renderer from style URL",s)}),r}};c([p({readOnly:!0})],Bt.prototype,"_cache",null),c([Oe({uniqueValue:"unique-value"})],Bt.prototype,"type",void 0),c([p(uN)],Bt.prototype,"backgroundFillSymbol",void 0),c([p({value:null,json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],Bt.prototype,"field",null),c([lt("field")],Bt.prototype,"castField",null),c([de("field")],Bt.prototype,"writeField",null),c([p({type:String,value:null,json:{write:!0}})],Bt.prototype,"field2",null),c([p({type:String,value:null,json:{write:!0}})],Bt.prototype,"field3",null),c([p({type:Boolean,json:{name:"drawInClassOrder",default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],Bt.prototype,"orderByClassesEnabled",void 0),c([p({type:String,value:null,json:{write:!0}})],Bt.prototype,"valueExpression",null),c([p({type:String,json:{write:!0}})],Bt.prototype,"valueExpressionTitle",void 0),c([p({type:cN,json:{write:!0}})],Bt.prototype,"legendOptions",void 0),c([p({type:String,json:{write:!0}})],Bt.prototype,"defaultLabel",void 0),c([p($C({...yT},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],Bt.prototype,"defaultSymbol",null),c([p({type:String,value:null,json:{write:!0}})],Bt.prototype,"fieldDelimiter",null),c([p({type:ms,readOnly:!0})],Bt.prototype,"portal",void 0),c([le("portal",["styleName"])],Bt.prototype,"readPortal",null),c([p({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],Bt.prototype,"styleOrigin",void 0),c([le("styleOrigin",["styleName","styleUrl"])],Bt.prototype,"readStyleOrigin",null),c([de("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],Bt.prototype,"writeStyleOrigin",null),c([p({type:[sR],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(e,t,i)=>(t.uniqueValueGroups||Sfe(t)).map(r=>sR.fromJSON(r,i))},write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],Bt.prototype,"uniqueValueGroups",null),c([p({type:[L0],json:{read:!1,write:{isRequired:!0,overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0,isRequired:!0}}}}})],Bt.prototype,"uniqueValueInfos",null),Bt=i0=c([O(aH)],Bt);const dN=Bt;var oR;let Fi=oR=class extends K{constructor(e){super(e),this.attachmentTypes=null,this.attachmentsWhere=null,this.cacheHint=void 0,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.orderByFields=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new oR(j({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};c([p({type:[String],json:{write:!0}})],Fi.prototype,"attachmentTypes",void 0),c([p({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],Fi.prototype,"attachmentsWhere",void 0),c([p({type:Boolean,json:{write:!0}})],Fi.prototype,"cacheHint",void 0),c([p({type:[String],json:{write:!0}})],Fi.prototype,"keywords",void 0),c([p({type:[String],json:{write:!0}})],Fi.prototype,"globalIds",void 0),c([p({json:{write:!0}})],Fi.prototype,"name",void 0),c([p({type:Number,json:{read:{source:"resultRecordCount"}}})],Fi.prototype,"num",void 0),c([p({type:[Number],json:{write:!0}})],Fi.prototype,"objectIds",void 0),c([p({type:[String],json:{write:!0}})],Fi.prototype,"orderByFields",void 0),c([p({type:Boolean,json:{default:!1,write:!0}})],Fi.prototype,"returnMetadata",void 0),c([p({type:[Number],json:{write:!0}})],Fi.prototype,"size",void 0),c([p({type:Number,json:{read:{source:"resultOffset"}}})],Fi.prototype,"start",void 0),c([de("start"),de("num")],Fi.prototype,"writeStart",null),c([p({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],Fi.prototype,"where",void 0),Fi=oR=c([O("esri.rest.support.AttachmentQuery")],Fi),Fi.from=Ci(Fi);const Tfe=Fi,lH=rr()({naturalLog:"natural-log",squareRoot:"square-root",percentOfTotal:"percent-of-total",log:"log",field:"field"}),d8="percent-of-total",h8="field",OIe=e=>{let t=class extends e{constructor(){super(...arguments),this.normalizationField=null,this.normalizationMaxValue=null,this.normalizationMinValue=null,this.normalizationTotal=null}get normalizationType(){let i=this._get("normalizationType");const r=!!this.normalizationField,s=this.normalizationTotal!=null;return r||s?(i=r&&h8||s&&d8||null,r&&s&&ne.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):i!==h8&&i!==d8||(i=null),i}set normalizationType(i){this._set("normalizationType",i)}};return c([p({type:String,json:{name:"parameters.normalizationField",write:!0}})],t.prototype,"normalizationField",void 0),c([p({type:Number,json:{name:"parameters.normalizationMaxValue",write:!0}})],t.prototype,"normalizationMaxValue",void 0),c([p({type:Number,json:{name:"parameters.normalizationMinValue",write:!0}})],t.prototype,"normalizationMinValue",void 0),c([p({type:Number,json:{name:"parameters.normalizationTotal",write:!0}})],t.prototype,"normalizationTotal",void 0),c([Oe(lH,{name:"parameters.normalizationType"})],t.prototype,"normalizationType",null),t=c([O("esri.rest.support.NormalizationBinParametersMixin")],t),t};var aR;let Qt=aR=class extends K{constructor(e){super(e),this.cacheHint=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,this.start>0&&this.where==null&&(t.definitionExpression="1=1")}clone(){return new aR(j({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};c([p({type:Boolean,json:{write:!0}})],Qt.prototype,"cacheHint",void 0),c([p({type:to,json:{write:!0}})],Qt.prototype,"dynamicDataSource",void 0),c([p({type:String,json:{write:!0}})],Qt.prototype,"gdbVersion",void 0),c([p({type:Number,json:{write:!0}})],Qt.prototype,"geometryPrecision",void 0),c([p({type:Date})],Qt.prototype,"historicMoment",void 0),c([de("historicMoment")],Qt.prototype,"_writeHistoricMoment",null),c([p({type:Number,json:{write:!0}})],Qt.prototype,"maxAllowableOffset",void 0),c([p({json:{write:!0}})],Qt.prototype,"objectIds",void 0),c([p({type:[String],json:{write:!0}})],Qt.prototype,"orderByFields",void 0),c([p({type:[String],json:{write:!0}})],Qt.prototype,"outFields",void 0),c([p({type:He,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Qt.prototype,"outSpatialReference",void 0),c([p({json:{write:!0}})],Qt.prototype,"relationshipId",void 0),c([p({type:Number,json:{read:{source:"resultOffset"}}})],Qt.prototype,"start",void 0),c([de("start"),de("num")],Qt.prototype,"writeStart",null),c([p({type:Number,json:{read:{source:"resultRecordCount"}}})],Qt.prototype,"num",void 0),c([p({json:{write:!0}})],Qt.prototype,"returnGeometry",void 0),c([p({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Qt.prototype,"returnM",void 0),c([p({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Qt.prototype,"returnZ",void 0),c([p({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],Qt.prototype,"where",void 0),Qt=aR=c([O("esri.rest.support.RelationshipQuery")],Qt),Qt.from=Ci(Qt);const hN=Qt,RIe=Object.freeze(Object.defineProperty({__proto__:null,default:hN},Symbol.toStringTag,{value:"Module"})),lR=new et({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});async function Efe(e,t,i,r){const s=await vc(e);if(await pN(e,t,r),!s.addAttachment)throw new z(r,"Layer source does not support addAttachment capability");return s.addAttachment(t,i)}function pN(e,t,i){var n,a;const{attributes:r}=t,{objectIdField:s}=e;return(a=(n=e.capabilities)==null?void 0:n.data)!=null&&a.supportsAttachment?t?r?s&&r[s]?Promise.resolve():Promise.reject(new z(i,`feature is missing the identifying attribute ${s}`)):Promise.reject(new z(i,"'attributes' are required on a feature to query attachments")):Promise.reject(new z(i,"A feature is required to add/delete/update attachments")):Promise.reject(new z(i,"this layer doesn't support attachments"))}async function $fe(e,t,i,r,s){const n=await vc(e);if(await pN(e,t,s),!n.updateAttachment)throw new z(s,"Layer source does not support updateAttachment capability");return n.updateAttachment(t,i,r)}async function xfe(e,t,i){const{applyEdits:r}=await ue(()=>import("./editingSupport-04EXXbJR.js"),[],import.meta.url),s=await e.load();let n=i;return s.type==="feature"&&s.infoFor3D&&t.deleteFeatures!=null&&s.globalIdField!=null&&(n={...n,globalIdToObjectId:await Zfe(s,t.deleteFeatures,s.globalIdField)}),r(s,s.source,t,i)}async function Mfe(e,t,i){const{uploadAssets:r}=await ue(()=>import("./editingSupport-04EXXbJR.js"),[],import.meta.url),s=await e.load();return r(s,s.source,t,i)}async function Afe(e,t,i,r){const s=await vc(e);if(await pN(e,t,r),!s.deleteAttachments)throw new z(r,"Layer source does not support deleteAttachments capability");return s.deleteAttachments(t,i)}async function Ofe(e,t,i){const r=(await e.load({signal:t==null?void 0:t.signal})).source;if(!r.fetchRecomputedExtents)throw new z(i,"Layer source does not support fetchUpdates capability");return r.fetchRecomputedExtents(t)}async function Rfe(e,t,i,r){var S,T,E,M;t=Tfe.from(t),await e.load();const s=e.source,n=e.capabilities;if(!((S=n==null?void 0:n.data)!=null&&S.supportsAttachment))throw new z(r,"this layer doesn't support attachments");const{attachmentTypes:a,objectIds:u,globalIds:d,num:f,size:g,start:v,where:w}=t;if(!((T=n==null?void 0:n.operations)!=null&&T.supportsQueryAttachments)&&((a==null?void 0:a.length)>0||(d==null?void 0:d.length)>0||(g==null?void 0:g.length)>0||f||v||w))throw new z(r,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",t);if(!(u!=null&&u.length||d!=null&&d.length||w))throw new z(r,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",t);if(!s.queryAttachments)throw new z(r,"Layer source does not support queryAttachments capability",t);return!((E=n==null?void 0:n.attachment)!=null&&E.supportsOrderByFields)&&((M=t.orderByFields)!=null&&M.length)&&((t=t.clone()).orderByFields=null),s.queryAttachments(t)}async function Cfe(e,t,i,r){const s=await vc(e);if(!s.queryObjectIds)throw new z(r,"Layer source does not support queryObjectIds capability");return s.queryObjectIds(pl.from(t)??e.createQuery(),i)}async function Ife(e,t,i,r){const s=await vc(e);if(!s.queryFeatureCount)throw new z(r,"Layer source does not support queryFeatureCount capability");return s.queryFeatureCount(pl.from(t)??e.createQuery(),i)}async function Nfe(e,t,i,r){const s=await vc(e);if(!s.queryExtent)throw new z(r,"Layer source does not support queryExtent capability");return s.queryExtent(pl.from(t)??e.createQuery(),i)}async function Pfe(e,t,i,r){const s=await vc(e);if(!s.queryRelatedFeatures)throw new z(r,"Layer source does not support queryRelatedFeatures capability");return s.queryRelatedFeatures(hN.from(t),i)}async function Lfe(e,t,i,r){const s=await vc(e);if(!s.queryRelatedFeaturesCount)throw new z(r,"Layer source does not support queryRelatedFeaturesCount capability");return s.queryRelatedFeaturesCount(hN.from(t),i)}async function Dfe(e){const t=e.source;if(t!=null&&t.refresh)try{const{dataChanged:i,updates:r}=await t.refresh();if(r!=null&&(e.sourceJSON={...e.sourceJSON,...r},e.read(r,{origin:"service",url:e.parsedUrl})),i)return!0}catch{}if(e.definitionExpression)try{return(await Hz(e.definitionExpression,e.fieldsIndex)).hasDateFunctions}catch{}return!1}function kfe(e){var a,u;const t=new pl,i=(a=e.capabilities)==null?void 0:a.data,r=(u=e.capabilities)==null?void 0:u.query;t.historicMoment=e.historicMoment,t.gdbVersion=e.gdbVersion,t.returnGeometry=!0,r&&(t.compactGeometryEnabled=r.supportsCompactGeometry,t.defaultSpatialReferenceEnabled=r.supportsDefaultSpatialReference),i&&(i.supportsZ&&e.returnZ!=null&&(t.returnZ=e.returnZ),i.supportsM&&e.returnM!=null&&(t.returnM=e.returnM)),t.outFields=["*"];const{timeOffset:s,timeExtent:n}=e;return t.timeExtent=s!=null&&n!=null?n.offset(-s.value,s.unit):n||null,t.multipatchOption=e.geometryType==="multipatch"?"xyFootprint":null,t}function uH(e){const{globalIdField:t,fields:i}=e;if(t)return t;if(i){for(const r of i)if(r.type==="esriFieldTypeGlobalID")return r.name}}function cH(e){const{objectIdField:t,fields:i}=e;if(t)return t;if(i){for(const r of i)if(r.type==="esriFieldTypeOID")return r.name}}function Ffe(e){return e.currentVersion?e.currentVersion:e.hasOwnProperty("capabilities")||e.hasOwnProperty("drawingInfo")||e.hasOwnProperty("hasAttachments")||e.hasOwnProperty("htmlPopupType")||e.hasOwnProperty("relationships")||e.hasOwnProperty("timeInfo")||e.hasOwnProperty("typeIdField")||e.hasOwnProperty("types")?10:9.3}function jfe(e,t,i,r){var d,f;const s=i==null?void 0:i.feature,n=!!((d=e.subtypes)!=null&&d.length);if(n&&!(i!=null&&i.excludeImpliedDomains)){const g=zfe(e,t);if(g)return g}const a=n&&Ufe(e,s);if(a){const g=(f=a==null?void 0:a.domains)==null?void 0:f[t];return(g==null?void 0:g.type)==="inherited"?r:g}const u=pH(e.types,e.typeIdField,s);if(u){const g=u.domains&&u.domains[t];if(g&&(g==null?void 0:g.type)!=="inherited")return g}if(r)return r;if(!(i!=null&&i.excludeImpliedDomains)){const g=Vfe(e,t);if(g)return g}return null}function Ufe(e,t){const{subtypes:i,subtypeField:r}=e;if(!(t!=null&&t.attributes)||!(i!=null&&i.length)||!r)return null;const s=t.attributes[r];return s==null?null:i.find(n=>n.code===s)}function zfe(e,t){var a,u;const{fieldsIndex:i,subtypeField:r}=e,{name:s,type:n}=i.get(t)??{};if(!s)return null;if((r&&((a=i.get(r))==null?void 0:a.name))===s&&((u=e.subtypes)!=null&&u.length)){const d=e.subtypes.map(f=>new Bd({code:dH(f.code,n),name:f.name}));if(d!=null&&d.length)return new W2({codedValues:d})}return null}function Vfe(e,t){var n,a;const{fieldsIndex:i}=e,{name:r,type:s}=i.get(t)??{};if(!r)return null;if(("typeIdField"in e?(n=i.get(e.typeIdField))==null?void 0:n.name:null)===r&&"types"in e&&((a=e.types)!=null&&a.length)){const u=e.types.map(d=>new Bd({code:dH(d.id,s),name:d.name}));return new W2({codedValues:u})}return null}function dH(e,t){return t?JV({type:t})&&typeof e=="number"?`${e}`:aoe({type:t})&&typeof e=="string"?Number.parseInt(e,10):e:e}async function vc(e){return(await e.load()).source}async function CIe(e,t){if(!Ge)return;const i=Ge.findCredential(e);if(i)return i.userId;let r;try{const s=await eN(e,t);s&&(r=await Ge.checkSignInStatus(`${s}/sharing`))}catch{}return r?r.userId:null}async function hH(e,t){if(!Ge||Ge.findCredential(e))return;let i;try{const r=await eN(e,t);r&&(i=await Ge.checkSignInStatus(`${r}/sharing`))}catch{}if(i)try{const r=t!=null?t.signal:null;await Ge.getCredential(e,{signal:r})}catch{}}async function Gfe(e,t,i){var s;const r=(s=e.parsedUrl)==null?void 0:s.path;r&&e.authenticationTriggerEvent===t&&await hH(r,i)}async function IIe(e){var i;const t=(i=e.parsedUrl)==null?void 0:i.path;t&&qfe(e)&&await hH(t)}function qfe(e){return Bfe(e)&&("serviceDefinitionExpression"in e&&HS(e.serviceDefinitionExpression)||"definitionExpression"in e&&HS(e.definitionExpression))}function Bfe(e){var t;return!(!qB(e)||!((t=e.capabilities)!=null&&t.query.supportsCurrentUser))}function HS(e){return!!(e!=null&&e.toLowerCase().includes("current_user"))}function Hfe(e){return!C_(e)&&(e.userHasUpdateItemPrivileges||e.editingEnabled)}const Xx=ym({types:Yq});function fN(e,t){var i;if(e.defaultSymbol)return(i=e.types)!=null&&i.length?new dN({defaultSymbol:Xx(e.defaultSymbol,e,t),field:e.typeIdField,uniqueValueInfos:e.types.map(r=>({id:r.id,symbol:Xx(r.symbol,r,t)}))}):new ol({symbol:Xx(e.defaultSymbol,e,t)})}function Wfe(e){var r,s,n;let t=(r=e.sourceJSON)==null?void 0:r.cacheMaxAge;if(!t)return!1;const i=(n=(s=e.editingInfo)==null?void 0:s.lastEditDate)==null?void 0:n.getTime();return i==null||(t*=1e3,Date.now()-i<t)}async function Zfe(e,t,i){if(t==null)return null;const r=[],{objectIdField:s}=e;if(t.forEach(f=>{let g=null;if("attributes"in f){const{attributes:v}=f;g={globalId:v[i],objectId:v[s]!=null&&v[s]!==-1?v[s]:null}}else g={globalId:f.globalId,objectId:f.objectId!=null&&f.objectId!==-1?f.objectId:null};g.globalId!=null&&(g.objectId!=null&&g.objectId!==-1||r.push(g.globalId))}),r.length===0)return null;const n=e.createQuery();n.where=r.map(f=>`${i}='${f}'`).join(" OR "),n.returnGeometry=!1,n.outFields=[s,i],n.cacheHint=!1;const a=await ile(cpe(e,n));if(!a.ok)return null;const u=new Map,d=a.value.features;for(const f of d){const g=f.attributes[i],v=f.attributes[s];g!=null&&v!=null&&v!==-1&&u.set(Ehe(g),v)}return u}function pH(e,t,i){if(!t||!i||!e)return null;const r=i.getAttribute(t);return r==null?null:e.find(s=>{const{id:n}=s;return n!=null&&n.toString()===r.toString()})??null}function C_(e){var t;return((t=e.sourceJSON)==null?void 0:t.isMultiServicesView)||Yfe(e)}function Yfe(e){var t,i;return!!((i=(t=e.sourceJSON)==null?void 0:t.capabilities)!=null&&i.toLowerCase().split(",").map(r=>r.trim()).includes("map"))}function Jfe(e,t,i){const r=t==null?void 0:t.queryAttributeBins;if(!r)throw new z(i,"Layer source does not support binning");switch(e.binParameters.type){case"auto-interval":if(!r.supportsAutoInterval)throw new z(i,"Layer source does not support auto-interval binning");if(e.binParameters.normalizationType&&(!r.supportsNormalization||!p8(e.binParameters.normalizationType,r.supportedNormalizationTypes)))throw new z(i,"Layer source does not support normalization binning");break;case"date":if(!r.supportsDate)throw new z(i,"Layer source does not support date binning");if(e.binParameters.snapToData&&!r.supportsSnapToData)throw new z(i,"Layer source does not support snapToData binning");if(e.binParameters.returnFullIntervalBin&&!r.supportsReturnFullIntervalBin)throw new z(i,"Layer source does not support returnFullIntervalBin binning");break;case"fixed-boundaries":if(!r.supportsFixedBoundaries)throw new z(i,"Layer source does not support fixed-boundaries binning");break;case"fixed-interval":if(!r.supportsFixedInterval)throw new z(i,"Layer source does not support fixed-interval binning");if(e.binParameters.normalizationType&&(!r.supportsNormalization||!p8(e.binParameters.normalizationType,r.supportedNormalizationTypes)))throw new z(i,"Layer source does not support normalization binning")}if(e.binParameters.stackBy&&!r.supportsStackBy)throw new z(i,"Layer source does not support stackBy binning");if(e.binParameters.splitBy&&!r.supportsSplitBy)throw new z(i,"Layer source does not support splitBy binning");if(e.binParameters.firstDayOfWeek&&!r.supportsFirstDayOfWeek)throw new z(i,"Layer source does not support firstDayOfWeek binning");const s=r==null?void 0:r.supportedStatistics;if(e.outStatistics&&s){const n=new Map([["count","count"],["sum","sum"],["min","min"],["max","max"],["avg","avg"],["stddev","stddev"],["var","var"],["percentile-continuous","percentileContinuous"],["percentile-discrete","percentileDiscrete"],["centroid-aggregate","centroid"],["convex-hull-aggregate","convexHull"],["envelope-aggregate","envelope"]]);for(const{statisticType:a}of e.outStatistics){const u=n.get(a);if(u&&!s[u])throw new z(i,`Layer source does not support ${a} statistic type`)}}}function p8(e,t){return e!=null&&!!(t!=null&&t[lH.toJSON(e)])}let tf=class extends rt.ClonableMixin(K){constructor(t){super(t),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};c([p({type:String,json:{read:{source:"shapeAreaFieldName"}}})],tf.prototype,"shapeAreaField",void 0),c([p({type:String,json:{read:{source:"shapeLengthFieldName"}}})],tf.prototype,"shapeLengthField",void 0),c([p({type:String,json:{read:e=>Rne.read(e)||Cne.read(e)}})],tf.prototype,"units",void 0),tf=c([O("esri.layers.support.GeometryFieldsInfo")],tf);const Xfe=tf;var uR;let rf=uR=class extends K{constructor(e){super(e),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new ye}clone(){return new uR({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};c([p({type:String,json:{write:{isRequired:!0}}})],rf.prototype,"floorField",void 0),c([p({json:{read:!1,write:!1}})],rf.prototype,"viewAllMode",void 0),c([p({json:{read:!1,write:!1}})],rf.prototype,"viewAllLevelIds",void 0),rf=uR=c([O("esri.layers.support.LayerFloorInfo")],rf);const Qfe=rf,f8=new et({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),m8=new et({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let Rs=class extends rt.ClonableMixin(K){constructor(t){super(t),this.cardinality=null,this.catalogId=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};c([p({json:{read:f8.read,write:f8.write}})],Rs.prototype,"cardinality",void 0),c([p({json:{name:"catalogID"}})],Rs.prototype,"catalogId",void 0),c([p({json:{read:!0,write:!0}})],Rs.prototype,"composite",void 0),c([p({json:{read:!0,write:!0}})],Rs.prototype,"id",void 0),c([p({json:{read:!0,write:!0}})],Rs.prototype,"keyField",void 0),c([p({json:{read:!0,write:!0}})],Rs.prototype,"keyFieldInRelationshipTable",void 0),c([p({json:{read:!0,write:!0}})],Rs.prototype,"name",void 0),c([p({json:{read:!0,write:!0}})],Rs.prototype,"relatedTableId",void 0),c([p({json:{read:!0,write:!0}})],Rs.prototype,"relationshipTableId",void 0),c([p({json:{read:m8.read,write:m8.write}})],Rs.prototype,"role",void 0),Rs=c([O("esri.layers.support.Relationship")],Rs);const Kfe=Rs,eme=[["binary","application/octet-stream","bin",""]];function LIe(e,t){return gH(t.name,(e==null?void 0:e.supportedFormats)??[])!=null}function DIe(e,t){if(!e)return!1;const i=tme(t,e.supportedFormats??[]);return i!=null&&e.editFormats.includes(i)}function fH(e,t){return yN(nme(e,t))}function mH(e,t){return yN(gH(e,t))}function kIe(e,t){return vH(sme(e,t))}function tme(e,t){return mH(e.name,t)??fH(e.type,t)}function gT(e,t,i){return fH(e,i)??mH(t,i)}function yH({supportedFormats:e}){return gT("model/gltf-binary","glb",e)}function FIe(e){const t=yH(e);return t!=null&&e.editFormats.includes(t)}function ime({supportedFormats:e}){return gT("model/gltf+json","gltf",e)}function rme(e){if(!e)return null;const t=yH(e),i=ime(e);let r=null;for(const s of e.queryFormats){if(s===t)return s;s===i&&(r=s)}return r}function jIe({supportedFormats:e}){return gT("application/esri3do-SR_world","wld",e)}function UIe({supportedFormats:e}){return gT("application/esri3do-SR_prj","prj",e)}function mN(e){return[...eme,...e]}function sme(e,t){return mN(t).find(i=>yN(i)===e)}function nme(e,t){const i=e.toLowerCase();return mN(t).find(r=>vH(r)===i)}function gH(e,t){const i=e.toLowerCase();return mN(t).find(r=>ome(r).some(s=>i.endsWith(s)))}function yN(e){return e==null?void 0:e[0]}function vH(e){return e==null?void 0:e[1].toLowerCase()}function ome(e){return(e==null?void 0:e[2].split(",").map(t=>t.toLowerCase()))??[]}function zIe(e){var t;return(t=e.tables)==null?void 0:t.find(i=>i.role==="assetMaps")}function be(e,t,i){return!!bH(e,t,i)}function r0(e,t,i){return bH(e,t,i)}function bH(e,t,i){return e&&e.hasOwnProperty(t)?e[t]:i}const ame={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};function lme(e){var i;const t=(i=e==null?void 0:e.supportedSpatialAggregationStatistics)==null?void 0:i.map(r=>r.toLowerCase());return{envelope:!!(t!=null&&t.includes("envelopeaggregate")),centroid:!!(t!=null&&t.includes("centroidaggregate")),convexHull:!!(t!=null&&t.includes("convexhullaggregate"))}}function r1(e,t){var r;const i=(r=e==null?void 0:e.supportedOperationsWithCacheHint)==null?void 0:r.map(s=>s.toLowerCase());return!!(i!=null&&i.includes(t.toLowerCase()))}function ume(e){var i;const t=(i=e==null?void 0:e.supportedStatisticTypes)==null?void 0:i.map(r=>r.toLowerCase());return{count:!!(t!=null&&t.includes("count")),sum:!!(t!=null&&t.includes("sum")),min:!!(t!=null&&t.includes("min")),max:!!(t!=null&&t.includes("max")),avg:!!(t!=null&&t.includes("avg")),var:!!(t!=null&&t.includes("var")),stddev:!!(t!=null&&t.includes("stddev")),percentileContinuous:!!(t!=null&&t.includes("percentile_continuous")),percentileDiscrete:!!(t!=null&&t.includes("percentile_discrete")),envelope:!!(t!=null&&t.includes("envelopeaggregate")),centroid:!!(t!=null&&t.includes("centroidaggregate")),convexHull:!!(t!=null&&t.includes("convexhullaggregate"))}}function cme(e){var i;const t=(i=e==null?void 0:e.supportedNormalizationTypes)==null?void 0:i.map(r=>r.toLowerCase());return{field:!!(t!=null&&t.includes("field")),log:!!(t!=null&&t.includes("log")),naturalLog:!!(t!=null&&t.includes("naturallog")),percentOfTotal:!!(t!=null&&t.includes("percentoftotal")),squareRoot:!!(t!=null&&t.includes("squareroot"))}}function wH(e,t){return{analytics:dme(e),attachment:hme(e),data:pme(e),metadata:fme(e),operations:mme(e.capabilities,e,t),query:yme(e,t),queryAttributeBins:bme(e),queryRelated:gme(e),queryTopFeatures:vme(e),editing:wme(e)}}function dme(e){return{supportsCacheHint:r1(e.advancedQueryCapabilities,"queryAnalytics")}}function hme(e){const t=e.attachmentProperties,i={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:r1(e.advancedQueryCapabilities,"queryAttachments"),supportsOrderByFields:be(e.advancedQueryCapabilities,"supportsQueryAttachmentOrderByFields",!1),supportsResize:be(e,"supportsAttachmentsResizing",!1)};return t&&Array.isArray(t)&&t.forEach(r=>{const s=ame[r.name];s&&(i[s]=!!r.isEnabled)}),i}function pme(e){return{isVersioned:be(e,"isDataVersioned",!1),isBranchVersioned:be(e,"isDataBranchVersioned",!1),supportsAttachment:be(e,"hasAttachments",!1),supportsM:be(e,"hasM",!1),supportsZ:be(e,"hasZ",!1)}}function fme(e){return{supportsAdvancedFieldProperties:be(e,"supportsFieldDescriptionProperty",!1)}}function mme(e,t,i){const r=e?e.toLowerCase().split(",").map(w=>w.trim()):[],s=i?Tm(i):null,n=r.includes(s!=null&&s.serverType==="MapServer"?"data":"query"),a=r.includes("editing")&&!t.datesInUnknownTimezone;let u=a&&r.includes("create"),d=a&&r.includes("delete"),f=a&&r.includes("update");const g=r.includes("changetracking"),v=t.advancedQueryCapabilities;return a&&!(u||d||f)&&(u=d=f=!0),{supportsCalculate:be(t,"supportsCalculate",!1),supportsTruncate:be(t,"supportsTruncate",!1),supportsValidateSql:be(t,"supportsValidateSql",!1),supportsAdd:u,supportsDelete:d,supportsEditing:a,supportsChangeTracking:g,supportsQuery:n,supportsQueryAnalytics:be(v,"supportsQueryAnalytic",!1),supportsQueryAttachments:be(v,"supportsQueryAttachments",!1),supportsQueryBins:be(v,"supportsQueryBins",!1),supportsQueryTopFeatures:be(v,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:be(t,"supportsAttachmentsResizing",!1),supportsSync:r.includes("sync"),supportsUpdate:f,supportsExceedsLimitStatistics:be(t,"supportsExceedsLimitStatistics",!1),supportsAsyncConvert3D:be(t,"supportsAsyncConvert3D",!1)}}function yme(e,t){const i=e.advancedQueryCapabilities,r=e.ownershipBasedAccessControlForFeatures,s=e.archivingInfo,n=e.currentVersion,a=t==null?void 0:t.includes("MapServer"),u=!a||n>=B("mapserver-pbf-version-support"),d=$S(t),f=new Set((e.supportedQueryFormats??"").split(",").map(g=>g.toLowerCase().trim()));return{maxRecordCount:r0(e,"maxRecordCount",void 0),maxRecordCountFactor:r0(e,"maxRecordCountFactor",void 0),standardMaxRecordCount:r0(e,"standardMaxRecordCount",void 0),supportedSpatialAggregationStatistics:lme(i),supportsCacheHint:be(i,"supportsQueryWithCacheHint",!1)||r1(i,"query"),supportsCentroid:be(i,"supportsReturningGeometryCentroid",!1),supportsCompactGeometry:d,supportsCurrentUser:be(i,"supportsCurrentUserQueries",!1),supportsDefaultSpatialReference:be(i,"supportsDefaultSR",!1),supportsDisjointSpatialRelationship:be(i,"supportsDisjointSpatialRel",!1),supportsDistance:be(i,"supportsQueryWithDistance",!1),supportsDistinct:be(i,"supportsDistinct",e.supportsAdvancedQueries),supportsExtent:be(i,"supportsReturningQueryExtent",!1),supportsFormatPBF:u&&f.has("pbf"),supportsFullTextSearch:be(i,"supportsFullTextSearch",!1),supportsGeometryProperties:be(i,"supportsReturningGeometryProperties",!1),supportsHavingClause:be(i,"supportsHavingClause",!1),supportsHistoricMoment:be(s,"supportsQueryWithHistoricMoment",!1),supportsMaxRecordCountFactor:be(i,"supportsMaxRecordCountFactor",!1),supportsOrderBy:be(i,"supportsOrderBy",e.supportsAdvancedQueries),supportsPagination:be(i,"supportsPagination",!1),supportsPercentileStatistics:be(i,"supportsPercentileStatistics",!1),supportsQuantization:be(e,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:be(e,"supportsQuantizationEditMode",!1),supportsQueryByAnonymous:be(r,"allowAnonymousToQuery",!0),supportsQueryByOthers:be(r,"allowOthersToQuery",!0),supportsQueryGeometry:be(e,"supportsReturningQueryGeometry",!1),supportsResultType:be(i,"supportsQueryWithResultType",!1),supportsReturnMesh:!!rme(e.infoFor3D),supportsSpatialAggregationStatistics:be(i,"supportsSpatialAggregationStatistics",!1),supportsSqlExpression:be(i,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:be(e,"useStandardizedQueries",!1),supportsStatistics:be(i,"supportsStatistics",e.supportsStatistics),supportsTopFeaturesQuery:be(i,"supportsTopFeaturesQuery",!1),supportsTrueCurve:be(i,"supportsTrueCurve",!1),tileMaxRecordCount:r0(e,"tileMaxRecordCount",void 0)}}function gme(e){const t=e.advancedQueryCapabilities,i=be(t,"supportsAdvancedQueryRelated",!1);return{supportsPagination:be(t,"supportsQueryRelatedPagination",!1),supportsCount:i,supportsOrderBy:i,supportsCacheHint:r1(t,"queryRelated")}}function vme(e){return{supportsCacheHint:r1(e.advancedQueryCapabilities,"queryTopFilter")}}function bme(e){const t=e?e.queryBinsCapabilities:void 0;return{supportsDate:be(t,"supportsDateBin",!1),supportsFixedInterval:be(t,"supportsFixedIntervalBin",!1),supportsAutoInterval:be(t,"supportsAutoIntervalBin",!1),supportsFixedBoundaries:be(t,"supportsFixedBoundariesBin",!1),supportsStackBy:be(t,"supportsStackBy",!1),supportsSplitBy:be(t,"supportsSplitBy",!1),supportsSnapToData:be(t,"supportsSnapToData",!1),supportsReturnFullIntervalBin:be(t,"supportsReturnFullIntervalBin",!1),supportsFirstDayOfWeek:be(t,"supportsFirstDayOfWeek",!1),supportsNormalization:be(t,"supportsNormalization",!1),supportedStatistics:ume(t),supportedNormalizationTypes:cme(t)}}function wme(e){const t=e.ownershipBasedAccessControlForFeatures,i=e?e.advancedEditingCapabilities:void 0;return{supportsGeometryUpdate:be(e,"allowGeometryUpdates",!0),supportsGlobalId:be(e,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:be(e,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:be(e,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:be(e,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:be(e,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:be(t,"allowAnonymousToDelete",!0),supportsDeleteByOthers:be(t,"allowOthersToDelete",!0),supportsUpdateByAnonymous:be(t,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:be(t,"allowOthersToUpdate",!0),supportsAsyncApplyEdits:be(i,"supportsAsyncApplyEdits",!1),zDefault:r0(e,"zDefault",void 0)}}function VIe(e){var t;return{operations:{supportsAppend:be(e,"supportsAppend",!1),supportsCoverageQuery:((t=e==null?void 0:e.playbackInfo)==null?void 0:t.klv["0601"])??!1,supportsExportClip:be(e,"supportsExportClip",!1),supportsExportFrameset:be(e,"supportsExportFrameset",!1),supportsMensuration:be(e,"supportsMensuration",!1),supportsUpdate:be(e,"supportsUpdate",!1)}}}let ka=class extends rt.ClonableMixin(K){constructor(t){super(t),this.code=null,this.defaultValues={},this.domains=null,this.name=null}readDomains(t){if(!t)return null;const i={};for(const r of Object.keys(t))i[r]=Z2(t[r]);return i}writeDomains(t,i){var s;if(!t)return;const r={};for(const n of Object.keys(t))t[n]&&(r[n]=(s=t[n])==null?void 0:s.toJSON());i.domains=r}};c([p({type:Number,json:{write:!0}})],ka.prototype,"code",void 0),c([p({type:Object,json:{write:!0}})],ka.prototype,"defaultValues",void 0),c([p({json:{write:!0}})],ka.prototype,"domains",void 0),c([le("domains")],ka.prototype,"readDomains",null),c([de("domains")],ka.prototype,"writeDomains",null),c([p({type:String,json:{write:!0}})],ka.prototype,"name",void 0),ka=c([O("esri.layers.support.Subtype")],ka);const _me=ka,Sme=e=>{let t=class extends e{constructor(){super(...arguments),this.copyright=null,this.capabilities=null,this.dateFieldsTimeZone=null,this.datesInUnknownTimezone=!1,this.definitionExpression=null,this.displayField=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.fieldsIndex=null,this.floorInfo=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.globalIdField=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.indexes=new(ye.ofType(Vo)),this.isTable=!1,this.layerId=void 0,this.maxScale=0,this.minScale=0,this.objectIdField=null,this.preferredTimeZone=null,this.relationships=null,this.returnM=void 0,this.returnZ=void 0,this.serviceDefinitionExpression=null,this.serviceItemId=null,this.sourceJSON=null,this.spatialReference=He.WGS84,this.subtypeField=null,this.subtypes=null,this.trackIdField=null,this.version=void 0}getFieldDomain(){throw new Error("Not implemented")}getField(i){return this.fieldsIndex.get(i)}get authenticationTriggerEvent(){if(!this.url)return null;const{capabilities:i}=this;if(i){const{query:s,operations:n,editing:a}=i;if(!s.supportsQueryByOthers||!s.supportsQueryByAnonymous||n.supportsEditing&&!(a.supportsUpdateByOthers&&a.supportsUpdateByAnonymous&&a.supportsDeleteByOthers&&a.supportsDeleteByAnonymous))return"load"}if(HS(this.serviceDefinitionExpression)||HS(this.definitionExpression))return"load";if(this.userHasUpdateItemPrivileges){if(Wfe(this))return"load";if(this.hasUpdateItemRestrictions)return i.operations.supportsQuery?"editing":"load"}if(this.userHasFullEditingPrivileges&&this.hasFullEditingRestrictions)return"editing";const r=this.editFieldsInfo;return(r!=null&&r.creatorField||r!=null&&r.editorField)&&(i!=null&&i.operations.supportsEditing)?"editing":null}readCapabilitiesFromService(i,r){return wH(r,this.url)}readEditingInfo(i,r){const{editingInfo:s}=r;return s?{lastEditDate:s.lastEditDate!=null?new Date(s.lastEditDate):null}:null}get effectiveCapabilities(){const i=this.capabilities;if(!i)return null;const r=j(i),{operations:s,editing:n}=r;return C_(this)?(this.userHasUpdateItemPrivileges&&(s.supportsQuery=!0),r):this.userHasUpdateItemPrivileges?(s.supportsAdd=s.supportsDelete=s.supportsEditing=s.supportsQuery=s.supportsUpdate=n.supportsDeleteByOthers=n.supportsGeometryUpdate=n.supportsUpdateByOthers=!0,r):(this.userHasFullEditingPrivileges&&s.supportsEditing&&(s.supportsAdd=s.supportsDelete=s.supportsUpdate=n.supportsGeometryUpdate=!0),r)}get effectiveEditingEnabled(){return!1}readGlobalIdFieldFromService(i,r){return uH(r)}get hasFullEditingRestrictions(){const i=this.capabilities;if(!i||C_(this))return!1;const{operations:r,editing:s}=i;return r.supportsEditing&&!(r.supportsAdd&&r.supportsDelete&&r.supportsUpdate&&s.supportsGeometryUpdate)}get hasUpdateItemRestrictions(){const i=this.capabilities;if(!i)return!1;const{operations:r,editing:s}=i;return C_(this)?!r.supportsQuery:!(r.supportsAdd&&r.supportsDelete&&r.supportsEditing&&r.supportsQuery&&r.supportsUpdate&&s.supportsDeleteByOthers&&s.supportsGeometryUpdate&&s.supportsUpdateByOthers)}readIsTableFromService(i,r){return r.type==="Table"}readMaxScale(i,r){return r.effectiveMaxScale||i||0}readMinScale(i,r){return r.effectiveMinScale||i||0}readObjectIdFieldFromService(i,r){return cH(r)}readServiceDefinitionExpression(i,r){return r.definitionQuery||r.definitionExpression}set url(i){if(i==null)return void this._set("url",i);const r=Lse({layer:this,url:i,nonStandardUrlAllowed:!0,logger:ne.getLogger(this)});this._set("url",r.url),r.layerId!=null&&this._set("layerId",r.layerId)}writeUrl(i,r,s,n){Dse(this,i,null,r,n)}readVersion(i,r){return Ffe(r)}};return c([p({readOnly:!0})],t.prototype,"authenticationTriggerEvent",null),c([p({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],t.prototype,"copyright",void 0),c([p({readOnly:!0,json:{read:!1,origins:{service:{read:{source:["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","isDataBranchVersioned","isDataVersioned","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"]}}}}})],t.prototype,"capabilities",void 0),c([le("service","capabilities")],t.prototype,"readCapabilitiesFromService",null),c([p(DS("dateFieldsTimeReference"))],t.prototype,"dateFieldsTimeZone",void 0),c([p({type:Boolean})],t.prototype,"datesInUnknownTimezone",void 0),c([p({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],t.prototype,"definitionExpression",void 0),c([p({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],t.prototype,"displayField",void 0),c([p({readOnly:!0,type:upe})],t.prototype,"editFieldsInfo",void 0),c([p({readOnly:!0})],t.prototype,"editingInfo",void 0),c([le("editingInfo")],t.prototype,"readEditingInfo",null),c([p({readOnly:!0})],t.prototype,"effectiveCapabilities",null),c([p()],t.prototype,"effectiveEditingEnabled",null),c([p((()=>{const i=j(rpe),r=i.json.origins;return r["web-map"]={read:!1,write:!1},r["portal-item"]={read:!1,write:!1},i})())],t.prototype,"elevationInfo",void 0),c([p()],t.prototype,"fieldsIndex",void 0),c([p({type:Qfe,json:{name:"layerDefinition.floorInfo",write:{layerContainerTypes:Jt}}})],t.prototype,"floorInfo",void 0),c([p({type:kt,json:{origins:{service:{read:{source:"extent"}}}}})],t.prototype,"fullExtent",void 0),c([p()],t.prototype,"gdbVersion",void 0),c([p({readOnly:!0,type:Xfe,json:{read:{source:"geometryProperties"}}})],t.prototype,"geometryFieldsInfo",void 0),c([p({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:lR.read}}}})],t.prototype,"geometryType",void 0),c([p({type:String})],t.prototype,"globalIdField",void 0),c([le("service","globalIdField",["globalIdField","fields"])],t.prototype,"readGlobalIdFieldFromService",null),c([p({readOnly:!0})],t.prototype,"hasFullEditingRestrictions",null),c([p({type:Boolean,json:{origins:{service:{read:!0}}}})],t.prototype,"hasM",void 0),c([p({readOnly:!0})],t.prototype,"hasUpdateItemRestrictions",null),c([p({type:Boolean,json:{origins:{service:{read:!0}}}})],t.prototype,"hasZ",void 0),c([p({readOnly:!0,type:i1})],t.prototype,"heightModelInfo",void 0),c([p({type:Date})],t.prototype,"historicMoment",void 0),c([p({type:ye.ofType(Vo),readOnly:!0})],t.prototype,"indexes",void 0),c([p({readOnly:!0})],t.prototype,"isTable",void 0),c([le("service","isTable",["type"])],t.prototype,"readIsTableFromService",null),c([p({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],t.prototype,"layerId",void 0),c([p(ape)],t.prototype,"maxScale",void 0),c([le("service","maxScale",["maxScale","effectiveMaxScale"])],t.prototype,"readMaxScale",null),c([p(ope)],t.prototype,"minScale",void 0),c([le("service","minScale",["minScale","effectiveMinScale"])],t.prototype,"readMinScale",null),c([p({type:String})],t.prototype,"objectIdField",void 0),c([le("service","objectIdField",["objectIdField","fields"])],t.prototype,"readObjectIdFieldFromService",null),c([p(DS("preferredTimeReference"))],t.prototype,"preferredTimeZone",void 0),c([p({type:[Kfe],readOnly:!0})],t.prototype,"relationships",void 0),c([p({type:Boolean})],t.prototype,"returnM",void 0),c([p({type:Boolean})],t.prototype,"returnZ",void 0),c([p({readOnly:!0,json:{write:!1}})],t.prototype,"serverGens",void 0),c([p({readOnly:!0})],t.prototype,"serviceDefinitionExpression",void 0),c([le("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],t.prototype,"readServiceDefinitionExpression",null),c([p({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],t.prototype,"serviceItemId",void 0),c([p()],t.prototype,"sourceJSON",void 0),c([p({type:He,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],t.prototype,"spatialReference",void 0),c([p({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],t.prototype,"subtypeField",void 0),c([p({type:[_me],readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],t.prototype,"subtypes",void 0),c([p({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],t.prototype,"trackIdField",void 0),c([p(tpe)],t.prototype,"url",null),c([de("url")],t.prototype,"writeUrl",null),c([p({json:{origins:{service:{read:!0}},read:!1}})],t.prototype,"version",void 0),c([le("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],t.prototype,"readVersion",null),t=c([O("esri.layers.mixins.FeatureLayerBase")],t),t};let sf=class extends rt.ClonableMixin(K){constructor(t){super(t),this.expression=null,this.title=null,this.returnType=null}};c([p({type:String,json:{write:!0}})],sf.prototype,"expression",void 0),c([p({type:String,json:{write:!0}})],sf.prototype,"title",void 0),c([p({type:String,json:{write:!0}})],sf.prototype,"returnType",void 0),sf=c([O("esri.layers.support.ExpressionInfo")],sf);const gN=sf;var cR;let Fa=cR=class extends K{constructor(e){super(e),this.isAutoGenerated=!1,this.name=null,this.alias=null,this.onStatisticField=null,this.onStatisticExpression=null,this.statisticType=null}clone(){return new cR({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:j(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}};c([p({type:Boolean,json:{write:!0}})],Fa.prototype,"isAutoGenerated",void 0),c([p({type:String,json:{write:!0}})],Fa.prototype,"name",void 0),c([p({type:String,json:{write:!0}})],Fa.prototype,"alias",void 0),c([p({type:String,json:{write:!0}})],Fa.prototype,"onStatisticField",void 0),c([p({type:gN,json:{write:!0}})],Fa.prototype,"onStatisticExpression",void 0),c([p({type:String,json:{write:!0}})],Fa.prototype,"statisticType",void 0),Fa=cR=c([O("esri.layers.support.AggregateField")],Fa);const ac=Fa;let Hu=class extends K{constructor(){super(...arguments),this.type=null}};c([p({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],Hu.prototype,"type",void 0),Hu=c([O("esri.layers.support.FeatureReduction")],Hu);const vN="__begin__",bN="__end__",Tme=new RegExp(vN,"ig"),Eme=new RegExp(bN,"ig"),y8=new RegExp("^"+vN,"i"),g8=new RegExp(bN+"$","i"),WS='"',$me=WS+" + ",xme=" + "+WS;function Mme(e){return e.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function Ame(e){return e.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function wN(e){const t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):e.labelExpression!=null&&(t.expression=Mme(e.labelExpression),t.type="conventional"),t}function Ome(e){const t=wN(e);switch(t.type){case"conventional":return dR(t.expression);case"arcade":return t.expression}return null}function Rme(e){const t=wN(e);switch(t.type){case"conventional":return Ime(t.expression);case"arcade":return _H(t.expression)}return null}function dR(e){let t;return e?(t=S2(e,i=>vN+'$feature["'+i+'"]'+bN),t=y8.test(t)?t.replace(y8,""):WS+t,t=g8.test(t)?t.replace(g8,""):t+WS,t=t.replaceAll(Tme,$me).replaceAll(Eme,xme)):t='""',t}const Cme=/^\s*\{([^}]+)\}\s*$/i;function Ime(e){const t=e==null?void 0:e.match(Cme);return(t==null?void 0:t[1].trim())||null}const Nme=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*$/i,Pme=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,Lme=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(.+)(\1)\s*\));?\s*$/i;function _H(e){if(!e)return null;let t=Nme.exec(e)||Pme.exec(e);return t?t[1]||t[3]:(t=Lme.exec(e),t?t[2]:null)}var hR;let yu=hR=class extends K{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(e,t){return t.value?dR(t.value):e}writeExpression(e,t,i){this.value!=null&&(e=dR(this.value)),e!=null&&(t[i]=e)}clone(){return new hR({expression:this.expression,title:this.title,value:this.value})}};c([p({type:String,json:{write:{writerEnsuresNonNull:!0}}})],yu.prototype,"expression",void 0),c([le("expression",["expression","value"])],yu.prototype,"readExpression",null),c([de("expression")],yu.prototype,"writeExpression",null),c([p({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],yu.prototype,"title",void 0),c([p({json:{read:!1,write:!1}})],yu.prototype,"value",void 0),yu=hR=c([O("esri.layers.support.LabelExpressionInfo")],yu);const SH=yu;var pR;const nw=new et({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function ow(e,t,i){return{enabled:!jO(i==null?void 0:i.layer)}}function TH(e){var t;return!e||e.origin!=="service"&&((t=e.layer)==null?void 0:t.type)!=="map-image"}function Dme(e){return(e==null?void 0:e.type)==="map-image"}function EH(e){var t,i;return!!Dme(e)&&!!((i=(t=e.capabilities)==null?void 0:t.exportMap)!=null&&i.supportsArcadeExpressionForLabeling)}function kme(e){return TH(e)||EH(e==null?void 0:e.layer)}let di=pR=class extends K{static evaluateWhere(e,t){const i=(r,s,n)=>{switch(s){case"=":return r==n;case"<>":return r!=n;case">":return r>n;case">=":return r>=n;case"<":return r<n;case"<=":return r<=n}return!1};try{if(e==null)return!0;const r=e.split(" ");if(r.length===3)return i(t[r[0]],r[1],r[2]);if(r.length===7){const s=i(t[r[0]],r[1],r[2]),n=r[3],a=i(t[r[4]],r[5],r[6]);switch(n){case"AND":return s&&a;case"OR":return s||a}}return!1}catch{}}constructor(e){super(e),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=tfe,this.useCodedValues=void 0,this.where=null}readLabelExpression(e,t){const i=t.labelExpressionInfo;if(!i||!i.value&&!i.expression)return e}writeLabelExpression(e,t,i){if(this.labelExpressionInfo){if(this.labelExpressionInfo.value!=null)e=Ame(this.labelExpressionInfo.value);else if(this.labelExpressionInfo.expression!=null){const r=_H(this.labelExpressionInfo.expression);r&&(e="["+r+"]")}}e!=null&&(t[i]=e)}writeLabelExpressionInfo(e,t,i,r){if(e==null&&this.labelExpression!=null&&TH(r))e=new SH({expression:this.getLabelExpressionArcade()});else if(!e)return;const s=e.toJSON(r);s.expression&&(t[i]=s)}writeMaxScale(e,t){(e||this.minScale)&&(t.maxScale=e)}writeMinScale(e,t){(e||this.maxScale)&&(t.minScale=e)}getLabelExpression(){return wN(this)}getLabelExpressionArcade(){return Ome(this)}getLabelExpressionSingleField(){return Rme(this)}hash(){return JSON.stringify(this)}clone(){return new pR({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:j(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:j(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};c([p({type:String,json:{write:!0}})],di.prototype,"name",void 0),c([p({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:ow}}}}})],di.prototype,"allowOverrun",void 0),c([p({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:ow}}}}})],di.prototype,"deconflictionStrategy",void 0),c([p({type:String,json:{write:{overridePolicy(e,t,i){return this.labelExpressionInfo&&(i==null?void 0:i.origin)==="service"&&EH(i.layer)?{enabled:!1}:{allowNull:!0}}}}})],di.prototype,"labelExpression",void 0),c([le("labelExpression")],di.prototype,"readLabelExpression",null),c([de("labelExpression")],di.prototype,"writeLabelExpression",null),c([p({type:SH,json:{write:{overridePolicy:(e,t,i)=>kme(i)?{allowNull:!0}:{enabled:!1}}}})],di.prototype,"labelExpressionInfo",void 0),c([de("labelExpressionInfo")],di.prototype,"writeLabelExpressionInfo",null),c([p({type:nw.apiValues,json:{type:nw.jsonValues,read:nw.read,write:nw.write}})],di.prototype,"labelPlacement",void 0),c([p({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],di.prototype,"labelPosition",void 0),c([p({type:Number})],di.prototype,"maxScale",void 0),c([de("maxScale")],di.prototype,"writeMaxScale",null),c([p({type:Number})],di.prototype,"minScale",void 0),c([de("minScale")],di.prototype,"writeMinScale",null),c([p({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:ow}}}}})],di.prototype,"repeatLabel",void 0),c([p({type:Number,cast:at,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:ow}}}}})],di.prototype,"repeatLabelDistance",void 0),c([p({types:que,json:{origins:{"web-scene":{types:Bue,write:r8,default:null}},write:r8,default:null}})],di.prototype,"symbol",void 0),c([p({type:Boolean,json:{write:!0}})],di.prototype,"useCodedValues",void 0),c([p({type:String,json:{write:!0}})],di.prototype,"where",void 0),di=pR=c([O("esri.layers.support.LabelClass")],di);const s1=di;var fR;let gu=fR=class extends K{constructor(e){super(e),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){var e;return new fR({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:((e=this.symbol)==null?void 0:e.clone())??null})}getMeshHash(){const e=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${e}`}};c([p({type:String,json:{write:!0}})],gu.prototype,"description",void 0),c([p({type:String,json:{write:!0}})],gu.prototype,"label",void 0),c([p({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],gu.prototype,"minValue",void 0),c([p({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],gu.prototype,"maxValue",void 0),c([p(lN)],gu.prototype,"symbol",void 0),gu=fR=c([O("esri.renderers.support.ClassBreakInfo")],gu);const ZS=gu;var mR;const $H="log",I_="percent-of-total",N_="field",aw=new et({esriNormalizeByLog:$H,esriNormalizeByPercentOfTotal:I_,esriNormalizeByField:N_}),Fme=Ci(ZS);let Mi=mR=class extends Cm(gl){constructor(e){super(e),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(e,t,i){if(!Array.isArray(e))return;let r=t.minValue;return e.map(s=>{const n=new ZS;return n.read(s,i),n.minValue==null&&(n.minValue=r),n.maxValue==null&&(n.maxValue=n.minValue),r=n.maxValue,n})}writeClassBreakInfos(e,t,i,r){const s=e.map(n=>n.write({},r));this._areClassBreaksConsecutive()&&s.forEach(n=>delete n.classMinValue),t[i]=s}castField(e){return e==null?e:typeof e=="function"?(ne.getLogger(this).error(".field: field must be a string value"),null):Lv(e)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let e=this._get("normalizationType");const t=!!this.normalizationField,i=this.normalizationTotal!=null;return t||i?(e=t&&N_||i&&I_||null,t&&i&&ne.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):e!==N_&&e!==I_||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}addClassBreakInfo(e,t,i){let r=null;r=typeof e=="number"?new ZS({minValue:e,maxValue:t,symbol:Jq(i)}):Fme(j(e)),this.classBreakInfos.push(r),this.classBreakInfos.length===1&&this.notifyChange("minValue")}removeClassBreakInfo(e,t){const i=this.classBreakInfos.length;for(let r=0;r<i;r++){const s=[this.classBreakInfos[r].minValue,this.classBreakInfos[r].maxValue];if(s[0]===e&&s[1]===t){this.classBreakInfos.splice(r,1);break}}}getBreakIndex(e,t){return this.valueExpression&&(t==null?void 0:t.arcade)==null&&ne.getLogger(this).warn(""),this.valueExpression?this._getBreakIndexForExpression(e,t):this._getBreakIndexForField(e)}async getClassBreakInfo(e,t){let i=t;this.valueExpression&&(t==null?void 0:t.arcade)==null&&(i={...i,arcade:await Ku()});const r=this.getBreakIndex(e,i);return r!==-1?this.classBreakInfos[r]:null}getSymbol(e,t){if(this.valueExpression&&(t==null?void 0:t.arcade)==null)return void ne.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const i=this.getBreakIndex(e,t);return i>-1?this.classBreakInfos[i].symbol:this.defaultSymbol}async getSymbolAsync(e,t){let i=t;if(this.valueExpression&&(t==null?void 0:t.arcade)==null){const s=await Ku(),{arcadeUtils:n}=s;n.hasGeometryOperations(this.valueExpression)&&await n.enableGeometryOperations(),i={...i,arcade:s}}const r=this.getBreakIndex(e,i);return r>-1?this.classBreakInfos[r].symbol:this.defaultSymbol}get symbols(){const e=[];return this.classBreakInfos.forEach(t=>{t.symbol&&e.push(t.symbol)}),this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){var e;return((e=this.visualVariables)==null?void 0:e.reduce((t,i)=>t+i.getAttributeHash(),""))??""}getMeshHash(){const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),i=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${e}.${t}.${this.classBreakInfos.reduce((r,s)=>r+s.getMeshHash(),"")}.${i}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){var e,t;return new mR({field:this.field,backgroundFillSymbol:(e=this.backgroundFillSymbol)==null?void 0:e.clone(),defaultLabel:this.defaultLabel,defaultSymbol:(t=this.defaultSymbol)==null?void 0:t.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:j(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:j(this.visualVariables),legendOptions:j(this.legendOptions),authoringInfo:j(this.authoringInfo)})}async collectRequiredFields(e,t){const i=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(i)}async collectSymbolFields(e,t){const i=[...this.symbols.map(r=>r.collectRequiredFields(e,t)),Rr(e,t,this.valueExpression)];Hr(e,t,this.field),Hr(e,t,this.normalizationField),await Promise.all(i)}_getBreakIndexForExpression(e,t){const{viewingMode:i,scale:r,spatialReference:s,arcade:n,timeZone:a}=t??{},{valueExpression:u}=this;let d=this._compiledValueExpression.valueExpression===u?this._compiledValueExpression.compiledFunction:null;const f=n.arcadeUtils;if(!d){const v=f.createSyntaxTree(u);d=f.createFunction(v),this._compiledValueExpression.compiledFunction=d}this._compiledValueExpression.valueExpression=u;const g=f.executeFunction(d,f.createExecContext(e,f.getViewInfo({viewingMode:i,scale:r,spatialReference:s}),a));return this._getBreakIndexfromInfos(g)}_getBreakIndexForField(e){const t=this.field,i=e.attributes,r=this.normalizationType;let s=parseFloat(i[t]);if(r){const n=this.normalizationTotal,a=parseFloat(this.normalizationField?i[this.normalizationField]:void 0);if(r===$H)s=Math.log(s)*Math.LOG10E;else if(r!==I_||n==null||isNaN(n)){if(r===N_&&!isNaN(a)){if(isNaN(s)||isNaN(a))return-1;s/=a}}else s=s/n*100}return this._getBreakIndexfromInfos(s)}_getBreakIndexfromInfos(e){const t=this.isMaxInclusive;if(e!=null&&typeof e=="number"&&!isNaN(e))for(let i=0;i<this.classBreakInfos.length;i++){const r=[this.classBreakInfos[i].minValue,this.classBreakInfos[i].maxValue];if(r[0]<=e&&(t?e<=r[1]:e<r[1]))return i}return-1}_areClassBreaksConsecutive(){const e=this.classBreakInfos,t=e.length;for(let i=1;i<t;i++)if(e[i-1].maxValue!==e[i].minValue)return!1;return!0}};c([p(uN)],Mi.prototype,"backgroundFillSymbol",void 0),c([p({type:[ZS],json:{write:{isRequired:!0}}})],Mi.prototype,"classBreakInfos",void 0),c([le("classBreakInfos")],Mi.prototype,"readClassBreakInfos",null),c([de("classBreakInfos")],Mi.prototype,"writeClassBreakInfos",null),c([p({type:String,json:{write:!0}})],Mi.prototype,"defaultLabel",void 0),c([p(yT)],Mi.prototype,"defaultSymbol",void 0),c([p({type:String,json:{write:!0}})],Mi.prototype,"field",void 0),c([lt("field")],Mi.prototype,"castField",null),c([p({type:Boolean})],Mi.prototype,"isMaxInclusive",void 0),c([p({type:cN,json:{write:!0}})],Mi.prototype,"legendOptions",void 0),c([p({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return this.classBreakInfos.length!==0&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],Mi.prototype,"minValue",null),c([p({type:String,json:{write:!0}})],Mi.prototype,"normalizationField",void 0),c([p({type:Number,json:{write:!0}})],Mi.prototype,"normalizationTotal",void 0),c([p({type:aw.apiValues,value:null,json:{type:aw.jsonValues,read:aw.read,write:aw.write}})],Mi.prototype,"normalizationType",null),c([Oe({classBreaks:"class-breaks"})],Mi.prototype,"type",void 0),c([p({type:String,json:{write:!0}})],Mi.prototype,"valueExpression",void 0),c([p({type:String,json:{write:!0}})],Mi.prototype,"valueExpressionTitle",void 0),Mi=mR=c([O("esri.renderers.ClassBreaksRenderer")],Mi);const xH=Mi,yR=-3,jme=yR-1;var Qa;(function(e){e[e.ALL=0]="ALL",e[e.SOME=1]="SOME"})(Qa||(Qa={}));let Ume=class{get size(){return this._size}constructor(t=10485760){this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new Jd,this._users=new Jd}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear()}register(t){this._users.push(t)}deregister(t){this._users.removeUnordered(t)}registerRemoveFunc(t,i){this._removeFuncs.push([t,i])}deregisterRemoveFunc(t){this._removeFuncs.filterInPlace(i=>i[0]!==t)}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,-1),this._checkSize()}getSize(t,i){const r=this._db.get(t.id+i);return(r==null?void 0:r.size)??0}put(t,i,r,s,n){i=t.id+i;const a=this._db.get(i);if(a&&(this._size-=a.size,t.size-=a.size,this._db.delete(i),a.entry!==r&&this._notifyRemove(i,a.entry,a.size,Qa.ALL)),s>this._maxSize)return void this._notifyRemove(i,r,s,Qa.ALL);if(r===void 0)return void console.warn("Refusing to cache undefined entry ");if(!s||s<0)return console.warn(`Refusing to cache entry with size ${s} for key ${i}`),void this._notifyRemove(i,r,0,Qa.ALL);const u=1+Math.max(n,jme)-yR;this._db.set(i,new zme(r,s,u)),this._size+=s,t.size+=s,this._checkSize()}updateSize(t,i,r,s){i=t.id+i;const n=this._db.get(i);if(n&&n.entry===r){for(this._size-=n.size,t.size-=n.size;s>this._maxSize;){const a=this._notifyRemove(i,r,s,Qa.SOME);if(!(a!=null&&a>0))return void this._db.delete(i);s=a}n.size=s,this._size+=s,t.size+=s,this._checkSize()}}pop(t,i){i=t.id+i;const r=this._db.get(i);if(r)return this._size-=r.size,t.size-=r.size,this._db.delete(i),++this._hit,r.entry;++this._miss}get(t,i){i=t.id+i;const r=this._db.get(i);if(r!==void 0)return this._db.delete(i),r.lives=r.lifetime,this._db.set(i,r),++this._hit,r.entry;++this._miss}peek(t,i){const r=this._db.get(t.id+i);return r?++this._hit:++this._miss,r==null?void 0:r.entry}get performanceInfo(){const t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},i={},r=new Array;this._db.forEach((a,u)=>{const d=a.lifetime;r[d]=(r[d]||0)+a.size,this._users.forAll(f=>{const{id:g,name:v}=f;if(u.startsWith(g)){const w=i[v]||0;i[v]=w+a.size}})});const s={};this._users.forAll(a=>{const u=a.name;if("hitRate"in a&&typeof a.hitRate=="number"&&!isNaN(a.hitRate)&&a.hitRate>0){const d=i[u]||0;i[u]=d,s[u]=Math.round(100*a.hitRate)+"%"}else s[u]="0%"});const n=Object.keys(i);n.sort((a,u)=>i[u]-i[a]),n.forEach(a=>t[a]=Math.round(i[a]/2**20)+"MB / "+s[a]);for(let a=r.length-1;a>=0;--a){const u=r[a];u&&(t["Priority "+(a+yR-1)]=Math.round(u/this._size*100)+"%")}return t}resetStats(){this._hit=this._miss=0,this._users.forAll(t=>t.resetHitRate())}clear(t){const i=t.id;this._db.forEach((r,s)=>{s.startsWith(i)&&(this._size-=r.size,this._db.delete(s),this._notifyRemove(s,r.entry,r.size,Qa.ALL))}),t.size=0}clearAll(){this._db.forEach((t,i)=>this._notifyRemove(i,t.entry,t.size,Qa.ALL)),this._users.forAll(t=>t.size=0),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(t,i,r,s){let n;return this._removeFuncs.some(a=>{if(t.startsWith(a[0])){const u=a[1](i,s,r);return typeof u=="number"&&(n=u),!0}return!1}),n}_checkSize(){this._users.forAll(t=>this._checkSizeLimits(t)),this._checkSizeLimits()}_checkSizeLimits(t){const i=t??this;if(i.maxSize<0||i.size<=i.maxSize)return;const r=t==null?void 0:t.id;let s=!0;for(;s;){s=!1;for(const[n,a]of this._db)if(a.lifetime===0&&(!r||n.startsWith(r))){if(this._purgeItem(n,a,t),i.size<=.9*i.maxSize)return;s||(s=this._db.has(n))}}for(const[n,a]of this._db)if((!r||n.startsWith(r))&&(this._purgeItem(n,a,t),i.size<=.9*i.maxSize))return}_purgeItem(t,i,r=this._users.find(s=>t.startsWith(s.id))){if(this._db.delete(t),i.lives<=1){this._size-=i.size,r&&(r.size-=i.size);const s=this._notifyRemove(t,i.entry,i.size,Qa.SOME);s!=null&&s>0&&(this._size+=s,r&&(r.size+=s),i.lives=i.lifetime,i.size=s,this._db.set(t,i))}else--i.lives,this._db.set(t,i)}},zme=class{constructor(t,i,r){this.entry=t,this.size=i,this.lifetime=r,this.lives=r}},Vme=class{constructor(t,i){this._storage=new Ume,this.id="",this.name="",this.size=0,this._storage.maxSize=t,this._storage.register(this),i&&this._storage.registerRemoveFunc("",i)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(t,i,r=1){this._storage.put(this,t,i,r,1)}pop(t){return this._storage.pop(this,t)}get(t){return this._storage.get(this,t)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}resetHitRate(){}},MH=class gR{constructor(t,i,r=""){this.major=t,this.minor=i,this._context=r}lessThan(t,i){return this.major<t||t===this.major&&this.minor<i}greaterEqual(t,i){return!this.lessThan(t,i)}validate(t){if(this.major!==t.major){const i=this._context&&this._context+":",r=this._context&&this._context+" ";throw new z(i+"unsupported-version",`Required major ${r}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:t})}}clone(){return new gR(this.major,this.minor,this._context)}static parse(t,i=""){const[r,s]=t.split("."),n=/^\s*\d+\s*$/;if(!(r!=null&&r.match)||!n.test(r))throw new z((i&&i+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:t});if(!(s!=null&&s.match)||!n.test(s))throw new z((i&&i+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:t});const a=parseInt(r,10),u=parseInt(s,10);return new gR(a,u,i)}};function Gme(e){return"timeZone"in e}function qme(e){return"timeZone"in e}function Bme(e){return"dateFieldsTimeZone"in e}const Hme=new Map;let AH=class P_{static fromJSON(t){return new P_(t.fields,t.timeZoneByFieldName)}static fromLayer(t){return new P_(t.fields??[],b8(t))}static fromLayerJSON(t){return new P_(t.fields??[],b8(t))}constructor(t=[],i){var s;this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=t||[],this._timeZoneByFieldName=i?new Map(i):null;const r=[];for(const n of this.fields){const a=n==null?void 0:n.name,u=v8(a);if(a&&u){const d=zd(a);this._fieldsMap.set(a,n),this._fieldsMap.set(d,n),this._normalizedFieldsMap.set(u,n),r.push(`${d}:${n.type}:${(s=this._timeZoneByFieldName)==null?void 0:s.get(a)}`),loe(n)?(this.dateFields.push(n),this._dateFieldsSet.add(n)):YV(n)&&(this._numericFieldsSet.add(n),this.numericFields.push(n)),_5(n)||S5(n)||(n.editable=n.editable==null||!!n.editable,n.nullable=n.nullable==null||!!n.nullable)}}r.sort(),this.uid=r.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const t of this.fields)_5(t)||S5(t)||t.nullable||Xne(t)!==void 0||this._requiredFields.push(t)}return this._requiredFields}equals(t){return this.uid===(t==null?void 0:t.uid)}has(t){return this.get(t)!=null}get(t){if(!t)return;let i=this._fieldsMap.get(t);return i||(i=this._fieldsMap.get(zd(t))??this._normalizedFieldsMap.get(v8(t)),i&&this._fieldsMap.set(t,i),i)}getTimeZone(t){const i=this.get(t&&typeof t!="string"?t.name:t);return i?this._timeZoneByFieldName?this._timeZoneByFieldName.get(i.name):i.type==="date"||i.type==="esriFieldTypeDate"?(ne.getLogger("esri.layers.support.FieldsIndex").errorOnce(new z("getTimeZone:no-timezone-information",`no time zone information for field '${i.name}'`)),ec):OH.has(i.type)?ch:null:null}getLuxonTimeZone(t){const i=this.getTimeZone(t);return i?i===ch?io.instance:i===ec?er.utcInstance:Pv(Hme,i,()=>fs.create(i)):null}isDateField(t){return this._dateFieldsSet.has(this.get(t))}isTimeOnlyField(t){return uoe(this.get(t))}isNumericField(t){return this._numericFieldsSet.has(this.get(t))}normalizeFieldName(t){var i;return((i=this.get(t))==null?void 0:i.name)??void 0}toJSON(){return{fields:this.fields.map(t=>K.isSerializable(t)?t.toJSON():t),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}};function zd(e){return e.trim().toLowerCase()}function v8(e){var t;return((t=kne(e))==null?void 0:t.toLowerCase())??""}const OH=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function b8(e){const t=new Map;if(!e.fields)return t;const i=e.datesInUnknownTimezone===!0,{timeInfo:r,editFieldsInfo:s}=e,n=(r?"startField"in r?r.startField:r.startTimeField:"")??"",a=(r?"endField"in r?r.endField:r.endTimeField:"")??"",u=Bme(e)?e.dateFieldsTimeZone??null:e.dateFieldsTimeReference?Ww(e.dateFieldsTimeReference):null,d=s?Gme(s)?s.timeZone??u:s.dateFieldsTimeReference?Ww(s.dateFieldsTimeReference):u??ec:null,f=r?qme(r)?r.timeZone??u:r.timeReference?Ww(r.timeReference):u:null,g=new Map([[zd((s==null?void 0:s.creationDateField)??""),d],[zd((s==null?void 0:s.editDateField)??""),d],[zd(n),f],[zd(a),f]]);for(const{name:v,type:w}of e.fields)if(OH.has(w))t.set(v,ch);else if(w!=="date"&&w!=="esriFieldTypeDate")t.set(v,null);else if(i)t.set(v,ch);else{const S=g.get(zd(v??""))??u;t.set(v,S)}return t}var w8,_8,S8,T8,E8,$8,x8,M8,A8,O8,vR,bR,R8,C8,I8,N8,P8,L8,D8,k8,F8,j8,U8,z8,V8,G8,q8,B8,H8,W8,Z8,Y8,J8,X8,Q8,K8,eF,tF,iF,rF,sF,nF,oF,aF,lF,uF,cF,dF,hF,pF,fF,mF,yF,gF,vF,YS,bF,wF,_F,SF,TF,EF,$F;(function(e){e[e.BUTT=0]="BUTT",e[e.ROUND=1]="ROUND",e[e.SQUARE=2]="SQUARE",e[e.UNKNOWN=4]="UNKNOWN"})(w8||(w8={})),function(e){e[e.BEVEL=0]="BEVEL",e[e.ROUND=1]="ROUND",e[e.MITER=2]="MITER",e[e.UNKNOWN=4]="UNKNOWN"}(_8||(_8={})),function(e){e[e.SCREEN=0]="SCREEN",e[e.MAP=1]="MAP"}(S8||(S8={})),function(e){e[e.Tint=0]="Tint",e[e.Ignore=1]="Ignore",e[e.Multiply=99]="Multiply"}(T8||(T8={})),function(e){e.Both="Both",e.JustBegin="JustBegin",e.JustEnd="JustEnd",e.None="None"}(E8||(E8={})),function(e){e[e.Mosaic=0]="Mosaic",e[e.Centered=1]="Centered"}($8||($8={})),function(e){e[e.Normal=0]="Normal",e[e.Superscript=1]="Superscript",e[e.Subscript=2]="Subscript"}(x8||(x8={})),function(e){e[e.MSSymbol=0]="MSSymbol",e[e.Unicode=1]="Unicode"}(M8||(M8={})),function(e){e[e.Unspecified=0]="Unspecified",e[e.TrueType=1]="TrueType",e[e.PSOpenType=2]="PSOpenType",e[e.TTOpenType=3]="TTOpenType",e[e.Type1=4]="Type1"}(A8||(A8={})),function(e){e[e.Display=0]="Display",e[e.Map=1]="Map"}(O8||(O8={})),function(e){e.None="None",e.Loop="Loop",e.Oscillate="Oscillate"}(vR||(vR={})),function(e){e.Linear="Linear",e.EaseIn="EaseIn",e.EaseOut="EaseOut",e.EaseInOut="EaseInOut"}(bR||(bR={})),function(e){e[e.Z=0]="Z",e[e.X=1]="X",e[e.Y=2]="Y"}(R8||(R8={})),function(e){e[e.XYZ=0]="XYZ",e[e.ZXY=1]="ZXY",e[e.YXZ=2]="YXZ"}(C8||(C8={})),function(e){e[e.Rectangle=0]="Rectangle",e[e.RoundedRectangle=1]="RoundedRectangle",e[e.Oval=2]="Oval"}(I8||(I8={})),function(e){e[e.None=0]="None",e[e.Alpha=1]="Alpha",e[e.Screen=2]="Screen",e[e.Multiply=3]="Multiply",e[e.Add=4]="Add"}(N8||(N8={})),function(e){e[e.TTB=0]="TTB",e[e.RTL=1]="RTL",e[e.BTT=2]="BTT"}(P8||(P8={})),function(e){e[e.None=0]="None",e[e.SignPost=1]="SignPost",e[e.FaceNearPlane=2]="FaceNearPlane"}(L8||(L8={})),function(e){e[e.Float=0]="Float",e[e.String=1]="String",e[e.Boolean=2]="Boolean"}(D8||(D8={})),function(e){e[e.Intersect=0]="Intersect",e[e.Subtract=1]="Subtract"}(k8||(k8={})),function(e){e.OpenEnded="OpenEnded",e.Block="Block",e.Crossed="Crossed"}(F8||(F8={})),function(e){e.FullGeometry="FullGeometry",e.PerpendicularFromFirstSegment="PerpendicularFromFirstSegment",e.ReversedFirstSegment="ReversedFirstSegment",e.PerpendicularToSecondSegment="PerpendicularToSecondSegment",e.SecondSegmentWithTicks="SecondSegmentWithTicks",e.DoublePerpendicular="DoublePerpendicular",e.OppositeToFirstSegment="OppositeToFirstSegment",e.TriplePerpendicular="TriplePerpendicular",e.HalfCircleFirstSegment="HalfCircleFirstSegment",e.HalfCircleSecondSegment="HalfCircleSecondSegment",e.HalfCircleExtended="HalfCircleExtended",e.OpenCircle="OpenCircle",e.CoverageEdgesWithTicks="CoverageEdgesWithTicks",e.GapExtentWithDoubleTicks="GapExtentWithDoubleTicks",e.GapExtentMidline="GapExtentMidline",e.Chevron="Chevron",e.PerpendicularWithArc="PerpendicularWithArc",e.ClosedHalfCircle="ClosedHalfCircle",e.TripleParallelExtended="TripleParallelExtended",e.ParallelWithTicks="ParallelWithTicks",e.Parallel="Parallel",e.PerpendicularToFirstSegment="PerpendicularToFirstSegment",e.ParallelOffset="ParallelOffset",e.OffsetOpposite="OffsetOpposite",e.OffsetSame="OffsetSame",e.CircleWithArc="CircleWithArc",e.DoubleJog="DoubleJog",e.PerpendicularOffset="PerpendicularOffset",e.LineExcludingLastSegment="LineExcludingLastSegment",e.MultivertexArrow="MultivertexArrow",e.CrossedArrow="CrossedArrow",e.ChevronArrow="ChevronArrow",e.ChevronArrowOffset="ChevronArrowOffset",e.PartialFirstSegment="PartialFirstSegment",e.Arch="Arch",e.CurvedParallelTicks="CurvedParallelTicks",e.Arc90Degrees="Arc90Degrees",e.TipWithPerpendicularAndTicks="TipWithPerpendicularAndTicks",e.ConcentricCircles="ConcentricCircles",e.DoubleJogArrow="DoubleJogArrow",e.LinkedChevrons="LinkedChevrons",e.SegmentThenHalfCircle="SegmentThenHalfCircle",e.LineWithStraightTicks="LineWithStraightTicks",e.DoubleCurve="DoubleCurve",e.ParallelWithTicksByWidth="ParallelWithTicksByWidth",e.EnclosingRoundedRectangle="EnclosingRoundedRectangle"}(j8||(j8={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square",e.TrueBuffer="TrueBuffer"}(U8||(U8={})),function(e){e.ClosePath="ClosePath",e.ConvexHull="ConvexHull",e.RectangularBox="RectangularBox"}(z8||(z8={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(V8||(V8={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square"}(G8||(G8={})),function(e){e.Fast="Fast",e.Accurate="Accurate"}(q8||(q8={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(B8||(B8={})),function(e){e.Sinus="Sinus",e.Square="Square",e.Triangle="Triangle",e.Random="Random"}(H8||(H8={})),function(e){e[e.None=0]="None",e[e.Default=1]="Default",e[e.Force=2]="Force"}(W8||(W8={})),function(e){e[e.Buffered=0]="Buffered",e[e.Left=1]="Left",e[e.Right=2]="Right",e[e.AlongLine=3]="AlongLine"}(Z8||(Z8={})),function(e){e[e.Linear=0]="Linear",e[e.Rectangular=1]="Rectangular",e[e.Circular=2]="Circular",e[e.Buffered=3]="Buffered"}(Y8||(Y8={})),function(e){e[e.Discrete=0]="Discrete",e[e.Continuous=1]="Continuous"}(J8||(J8={})),function(e){e[e.AcrossLine=0]="AcrossLine",e[e.AlongLine=1]="AlongLine"}(X8||(X8={})),function(e){e[e.Auto=0]="Auto",e[e.Clockwise=1]="Clockwise",e[e.Counterclockwise=2]="Counterclockwise"}(Q8||(Q8={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Center=2]="Center",e[e.Justify=3]="Justify"}(K8||(K8={})),function(e){e[e.Base=0]="Base",e[e.MidPoint=1]="MidPoint",e[e.ThreePoint=2]="ThreePoint",e[e.FourPoint=3]="FourPoint",e[e.Underline=4]="Underline",e[e.CircularCW=5]="CircularCW",e[e.CircularCCW=6]="CircularCCW"}(eF||(eF={})),function(e){e.Butt="Butt",e.Round="Round",e.Square="Square"}(tF||(tF={})),function(e){e.NoConstraint="NoConstraint",e.HalfPattern="HalfPattern",e.HalfGap="HalfGap",e.FullPattern="FullPattern",e.FullGap="FullGap",e.Custom="Custom"}(iF||(iF={})),function(e){e[e.None=-1]="None",e[e.Custom=0]="Custom",e[e.Circle=1]="Circle",e[e.OpenArrow=2]="OpenArrow",e[e.ClosedArrow=3]="ClosedArrow",e[e.Diamond=4]="Diamond"}(rF||(rF={})),function(e){e[e.ExtraLeading=0]="ExtraLeading",e[e.Multiple=1]="Multiple",e[e.Exact=2]="Exact"}(sF||(sF={})),function(e){e.Bevel="Bevel",e.Round="Round",e.Miter="Miter"}(nF||(nF={})),function(e){e[e.Default=0]="Default",e[e.String=1]="String",e[e.Numeric=2]="Numeric"}(oF||(oF={})),function(e){e[e.InsidePolygon=0]="InsidePolygon",e[e.PolygonCenter=1]="PolygonCenter",e[e.RandomlyInsidePolygon=2]="RandomlyInsidePolygon"}(aF||(aF={})),function(e){e[e.Tint=0]="Tint",e[e.Replace=1]="Replace",e[e.Multiply=2]="Multiply"}(lF||(lF={})),function(e){e[e.ClipAtBoundary=0]="ClipAtBoundary",e[e.RemoveIfCenterOutsideBoundary=1]="RemoveIfCenterOutsideBoundary",e[e.DoNotTouchBoundary=2]="DoNotTouchBoundary",e[e.DoNotClip=3]="DoNotClip"}(uF||(uF={})),function(e){e.NoConstraint="NoConstraint",e.WithMarkers="WithMarkers",e.WithFullGap="WithFullGap",e.WithHalfGap="WithHalfGap",e.Custom="Custom"}(cF||(cF={})),function(e){e.Fixed="Fixed",e.Random="Random",e.RandomFixedQuantity="RandomFixedQuantity"}(dF||(dF={})),function(e){e.LineMiddle="LineMiddle",e.LineBeginning="LineBeginning",e.LineEnd="LineEnd",e.SegmentMidpoint="SegmentMidpoint"}(hF||(hF={})),function(e){e.OnPolygon="OnPolygon",e.CenterOfMass="CenterOfMass",e.BoundingBoxCenter="BoundingBoxCenter"}(pF||(pF={})),function(e){e[e.Low=0]="Low",e[e.Medium=1]="Medium",e[e.High=2]="High"}(fF||(fF={})),function(e){e[e.MarkerCenter=0]="MarkerCenter",e[e.MarkerBounds=1]="MarkerBounds"}(mF||(mF={})),function(e){e[e.None=0]="None",e[e.PropUniform=1]="PropUniform",e[e.PropNonuniform=2]="PropNonuniform",e[e.DifUniform=3]="DifUniform",e[e.DifNonuniform=4]="DifNonuniform"}(yF||(yF={})),function(e){e.Tube="Tube",e.Strip="Strip",e.Wall="Wall"}(gF||(gF={})),function(e){e[e.Random=0]="Random",e[e.Increasing=1]="Increasing",e[e.Decreasing=2]="Decreasing",e[e.IncreasingThenDecreasing=3]="IncreasingThenDecreasing"}(vF||(vF={})),function(e){e[e.Relative=0]="Relative",e[e.Absolute=1]="Absolute"}(YS||(YS={})),function(e){e[e.Normal=0]="Normal",e[e.LowerCase=1]="LowerCase",e[e.Allcaps=2]="Allcaps"}(bF||(bF={})),function(e){e[e.LTR=0]="LTR",e[e.RTL=1]="RTL"}(wF||(wF={})),function(e){e.Draft="Draft",e.Picture="Picture",e.Text="Text"}(_F||(_F={})),function(e){e[e.Top=0]="Top",e[e.Center=1]="Center",e[e.Baseline=2]="Baseline",e[e.Bottom=3]="Bottom"}(SF||(SF={})),function(e){e[e.Right=0]="Right",e[e.Upright=1]="Upright"}(TF||(TF={})),function(e){e[e.Small=0]="Small",e[e.Medium=1]="Medium",e[e.Large=2]="Large"}(EF||(EF={})),function(e){e[e.Calm=0]="Calm",e[e.Rippled=1]="Rippled",e[e.Slight=2]="Slight",e[e.Moderate=3]="Moderate"}($F||($F={}));const Wme={color:[128,128,128,1],outlinecolor:[0,0,0,1],backgroundcolor:[128,128,128,1],borderlinecolor:[0,0,0,1],tintcolor:[255,255,255,1]},wR={CIMVectorMarker:{scalesymbolsproportionally:!1,respectframe:!0,anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMPictureMarker:{scalex:1,texturefilter:"Draft",anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMTextSymbol:{angle:0,anglex:0,angley:0,halosize:1,height:10,horizontalalignment:"Left",kerning:!0,letterspacing:0,letterwidth:100,ligatures:!0,linegap:0,offsetx:0,offsety:0,strikethrough:!1,textcase:"Normal",textstring:"",underline:!1,verticalalignment:"Bottom",enable:!0,colorlocked:!1},CIMSolidStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMPictureStroke:{texturefilter:"Draft",capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMGradientStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1,gradientMethod:"AcrossLine",gradientSize:75,gradientSizeUnits:YS.Relative,gradientType:"Discrete",interval:5},CIMSolidFill:{enable:!0,colorlocked:!1},CIMPictureFill:{offsetx:0,offsety:0,rotation:0,scalex:1,height:10,texturefilter:"Draft",enable:!0,colorlocked:!1},CIMHatchFill:{offsetx:0,offsety:0,rotation:0,separation:4,enable:!0,colorlocked:!1},CIMGradientFill:{enable:!0,angle:90,gradientMethod:"Linear",gradientSize:75,gradientSizeUnits:YS.Relative,gradientType:"Discrete",interval:5},CIMGeometricEffectAddControlPoints:{angletolerance:120},CIMGeometricEffectArrow:{arrowtype:"OpenEnded",width:5},CIMGeometricEffectBuffer:{size:1},CIMGeometricEffectCut:{begincut:1,endcut:1,middlecut:0,invert:!1},CIMGeometricEffectDashes:{customendingoffset:0,linedashending:"NoConstraint",offsetalongline:0},CIMGeometricEffectDonut:{method:"Mitered",option:"Accurate",width:2},CIMGeometricEffectJog:{angle:225,length:20,position:50},CIMGeometricEffectControlMeasureLine:{rule:"FullGeometry"},CIMGeometricEffectMove:{offsetx:1,offsety:-1},CIMGeometricEffectOffset:{method:"Square",offset:1,option:"Fast"},CIMGeometricEffectRotate:{angle:15},CIMGeometricEffectScale:{xscalefactor:1.15,yscalefactor:1.15},CIMGeometricEffectWave:{amplitude:2,period:3,seed:1,waveform:"Sinus"},CIMMarkerPlacementAlongLine:{customendingoffset:0,endings:"WithHalfGap",offsetalongline:0,placeperpart:!0,angletoline:!0,offset:0},CIMMarkerPlacementAtExtremities:{extremityplacement:"Both",offsetalongline:0,angletoline:!0,offset:0},CIMMarkerPlacementAtRatioPositions:{beginposition:0,endposition:0,flipfirst:!0,angletoline:!0,offset:0},CIMMarkerPlacementInsidePolygon:{gridangle:0,gridtype:"Fixed",offsetx:0,offsety:0,randomness:100,seed:0,shiftoddrows:!1,stepx:16,stepy:16,clipping:"ClipAtBoundary"},CIMMarkerPlacementOnLine:{relativeto:"LineMiddle",startpointoffset:0,angletoline:!0,offset:0},CIMMarkerPlacementOnVertices:{placeperpart:!0,placeoncontrolpoints:!0,placeonendpoints:!0,placeonregularvertices:!0,angletoline:!0,offset:0},CIMMarkerPlacementPolygonCenter:{method:"OnPolygon",offsetx:0,offsety:0,clipatboundary:!1},CIMAnimatedSymbolProperties:{playanimation:!1,reverseanimation:!1,randomizestarttime:!1,randomizestartseed:0,starttimeoffset:0,duration:3,endingduration:3,useendingduration:!1,repeattype:vR.Loop,repeatdelay:0,easing:bR.Linear},CIMSymbolAnimationSize:{tosize:10},CIMSymbolAnimationScale:{scalefactor:1},CIMSymbolAnimationColor:{tocolor:[255,255,255,1]},CIMSymbolAnimationTransparency:{totransparency:0},CIMSymbolAnimationRotation:{torotation:0,rotateclockwise:!1},CIMSymbolAnimationOffset:{offsetx:0,offsety:0}};function Zme(e){return typeof e=="function"}function YIe(e,t,i,r){return Zme(e)?e(t,i,r):e}function JIe(e){return[e.r,e.g,e.b,e.a]}const Yme=` /-,
`;function xF(e){let t=e.length;for(;t--;)if(!Yme.includes(e.charAt(t)))return!1;return!0}function XIe(e,t){const i=[];let r=0,s=-1;do if(s=e.indexOf("[",r),s>=r){if(s>r){const n=e.slice(r,s);i.push([n,null,xF(n)])}if(r=s+1,s=e.indexOf("]",r),s>=r){if(s>r){const n=t[e.slice(r,s)];n&&i.push([null,n,!1])}r=s+1}}while(s!==-1);if(r<e.length){const n=e.slice(r);i.push([n,null,xF(n)])}return i}function QIe(e,t,i,r){let s="",n=null;for(const a of t){const[u,d,f]=a;if(u)f?n=u:(n&&(s+=n,n=null),s+=u);else{let g=d;i!=null&&(g=RH(d,i));const v=e.attributes[g];v&&(n&&(s+=n,n=null),s+=v)}}return Jme(s,r)}function Jme(e,t){switch(typeof e!="string"&&(e=String(e)),t){case"LowerCase":return e.toLowerCase();case"Allcaps":return e.toUpperCase();default:return e}}function KIe(e,t,i,r,s,n,a=!0){const u=t/s,d=i/n,f=Math.ceil(u/2),g=Math.ceil(d/2);for(let v=0;v<n;v++)for(let w=0;w<s;w++){const S=4*(w+(a?n-v-1:v)*s);let T=0,E=0,M=0,R=0,P=0,N=0,k=0;const U=(v+.5)*d;for(let Z=Math.floor(v*d);Z<(v+1)*d;Z++){const re=Math.abs(U-(Z+.5))/g,oe=(w+.5)*u,pe=re*re;for(let me=Math.floor(w*u);me<(w+1)*u;me++){let _e=Math.abs(oe-(me+.5))/f;const we=Math.sqrt(pe+_e*_e);we>=-1&&we<=1&&(T=2*we*we*we-3*we*we+1,T>0&&(_e=4*(me+Z*t),k+=T*e[_e+3],M+=T,e[_e+3]<255&&(T=T*e[_e+3]/250),R+=T*e[_e],P+=T*e[_e+1],N+=T*e[_e+2],E+=T))}}r[S]=R/E,r[S+1]=P/E,r[S+2]=N/E,r[S+3]=k/M}}function Xme(e){return e?[e[0],e[1],e[2],e[3]/255]:[0,0,0,0]}function eNe(e){var t;return((t=e.data)==null?void 0:t.symbol)??null}function tNe(e){return e.type==="CIMVectorMarker"||e.type==="CIMPictureMarker"||e.type==="CIMBarChartMarker"||e.type==="CIMCharacterMarker"||e.type==="CIMPieChartMarker"||e.type==="CIMStackedBarChartMarker"}function iNe(e){return e.type==="CIMGradientStroke"||e.type==="CIMPictureStroke"||e.type==="CIMSolidStroke"}function rNe(e){return e!=null&&(e.type==="CIMGradientFill"||e.type==="CIMHatchFill"||e.type==="CIMPictureFill"||e.type==="CIMSolidFill"||e.type==="CIMWaterFill")}function Qme(e){return e!=null&&(e.type==="CIMMarkerPlacementAlongLineRandomSize"||e.type==="CIMMarkerPlacementAlongLineSameSize"||e.type==="CIMMarkerPlacementAlongLineVariableSize"||e.type==="CIMMarkerPlacementAtExtremities"||e.type==="CIMMarkerPlacementAtMeasuredUnits"||e.type==="CIMMarkerPlacementAtRatioPositions"||e.type==="CIMMarkerPlacementOnLine"||e.type==="CIMMarkerPlacementOnVertices")}const sNe=(e,t=0)=>e==null||isNaN(e)?t:e,nNe=(e,t)=>e??t,oNe=(e,t)=>e??t,aNe=e=>e.tintColor?Xme(e.tintColor):[255,255,255,1],lNe=e=>{if(!e)return!1;for(const t of e)switch(t.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectOffset":case"CIMGeometricEffectDonut":return!0}return!1};function uNe(){return ue(()=>import("./geometryEngineJSON-Bvf5zUh7.js").then(e=>e.g),__vite__mapDeps([39,40,6,41]),import.meta.url)}function cNe(e){if(!e)return"normal";switch(e.toLowerCase()){case"italic":return"italic";case"oblique":return"oblique";default:return"normal"}}function dNe(e){if(!e)return"normal";switch(e.toLowerCase()){case"bold":return"bold";case"bolder":return"bolder";case"lighter":return"lighter";default:return"normal"}}function hNe(e){let t="normal",i="normal";if(e){const r=e.toLowerCase();r.includes("italic")?t="italic":r.includes("oblique")&&(t="oblique"),r.includes("bold")?i="bold":r.includes("light")&&(i="lighter")}return{style:t,weight:i}}function pNe(e){return e.underline?"underline":e.strikethrough?"line-through":"none"}function MF(e){if(!e)return null;switch(e.type){case"CIMPolygonSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const i=MF(t);if(i!=null)return i}break;case"CIMTextSymbol":return MF(e.symbol);case"CIMSolidFill":return e.color}return null}function AF(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":{const t=e.symbolLayers;if(t)for(const i of t){const r=AF(i);if(r!=null)return r}break}case"CIMTextSymbol":return AF(e.symbol);case"CIMSolidStroke":return e.color}}function OF(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const i=OF(t);if(i!==void 0)return i}break;case"CIMTextSymbol":return OF(e.symbol);case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return e.width}}function fNe(e){switch(e){case"Left":default:return"left";case"Right":return"right";case"Center":case"Justify":return"center"}}function mNe(e){switch(e){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function yNe(e){return(e?Object.keys(e):[]).map(t=>({name:t,alias:t,type:typeof e[t]=="string"?"esriFieldTypeString":"esriFieldTypeDouble"}))}const gNe=e=>e.includes("data:image/svg+xml");function vNe(e){if(!e)return null;switch(e.type){case"CIMPointSymbol":case"CIMTextSymbol":return"esriGeometryPoint";case"CIMLineSymbol":return"esriGeometryPolyline";case"CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}}function _N(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function bNe(e,t,i,r,s,n,a=!0){const{infos:u}=n;let d=1,f=0,g=0,v=0,w=1;for(const{absoluteAnchorPoint:E,offsetX:M,offsetY:R,rotation:P,size:N,frameHeight:k,rotateClockWise:U,scaleSymbolsProportionally:Z}of u)w=E?1:d,g=CF(M,R,f,w,g),v=RF(M,R,f,w,v),k&&(Z||a)&&(d*=N/k),f=IF(P,U,f);const S=CF(r,s,f,w,g),T=RF(r,s,f,w,v);return{size:e*d,rotation:IF(t,i,f),offsetX:S,offsetY:T}}function Kme(e){if(e==null)return!1;if(Array.isArray(e))return e.every(t=>Kme(t));switch(typeof e){case"string":return!!e;case"number":return!isNaN(e)}}function eye(e,t){if(t==="color"||t==="outlinecolor"||t==="backgroundcolor"||t==="borderlinecolor"||t==="tintcolor")return[...Wme[t]];const i=wR[e];if(!i)throw new Error(`InternalError: default value for type ${e}.`);return i[t]}function tye(e){return e.split(" ").map(t=>Number(t))}function iye(e){return typeof e=="string"?tye(e):e}function wNe(e){return e!=null&&e.dashTemplate&&(e.dashTemplate=iye(e.dashTemplate)),e}function _R(e){if(e==null)return"Normal";switch(e.type){case"CIMTextSymbol":return e.textCase??"Normal";case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":{const t=e.symbolLayers;if(!t)return"Normal";for(const i of t)if(i.type==="CIMVectorMarker")return _R(i)}break;case"CIMVectorMarker":{const t=e.markerGraphics;if(!t)return"Normal";for(const i of t)if(i.symbol)return _R(i.symbol)}}return"Normal"}function _Ne(e){if(e)switch(e.type){case"CIMTextSymbol":return e.height;case"CIMPointSymbol":{let t=0;if(e.symbolLayers){for(const i of e.symbolLayers)if(i)switch(i.type){case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":{const r=i.size??wR.CIMVectorMarker.size;r>t&&(t=r);break}}}return t}case"CIMLineSymbol":case"CIMPolygonSymbol":{let t=0;if(e.symbolLayers){for(const i of e.symbolLayers)if(i)switch(i.type){case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":{const r=i.width;r!=null&&r>t&&(t=r);break}case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":if(i.markerPlacement&&Qme(i.markerPlacement)){const r=i.size??wR.CIMVectorMarker.size;r>t&&(t=r)}break;case"CIMPictureFill":{const r=i.height;r!=null&&r>t&&(t=r)}}}return t}}}function RH(e,t){if(t!==null){const i=t.get(e);return i?i.name:e}return e}function SNe(e){return e.map(t=>({...t,propertyName:_N(t.propertyName)}))}function TNe(e){const t={};for(const i in e){const r=e[i];t[_N(i)]=r}return t}function RF(e,t,i,r,s){const n=i*Math.PI/180;if(n){const a=Math.cos(n);return(Math.sin(n)*e+a*t)*r+s}return t*r+s}function CF(e,t,i,r,s){const n=i*Math.PI/180;return n?(Math.cos(n)*e-Math.sin(n)*t)*r+s:e*r+s}function IF(e,t,i){return t?i-e:i+e}function ENe(e,t,i){const r=i==="Color"||i==="TintColor"||i==="ToColor",s=i==="Rotation"||i==="Angle"||i==="ToRotation";let n=t[_N(i)];if(n!=null&&(r?n=[n[0]/255,n[1]/255,n[2]/255,n[3]/255]:s&&(n*=Math.PI/180)),n==null&&(n=eye(t.type,i.toLowerCase()),n!=null&&(r?n=[n[0]/255,n[1]/255,n[2]/255,n[3]]:s&&(n*=Math.PI/180))),t.primitiveName!=null){const a=e[t.primitiveName];if(a!=null){const u=a[i];u==null||(typeof u=="string"||typeof u=="number"||Array.isArray(u)?(n=u,n!=null&&(r?n=[n[0]/255,n[1]/255,n[2]/255,n[3]/255]:s&&(n*=Math.PI/180))):(n={valueExpressionInfo:u,defaultValue:n},n!=null&&(r?n={type:"Process",op:"ArcadeColor",value:n}:s&&(n={type:"Process",op:"Divide",left:n,right:180/Math.PI}))))}}if(n==null)throw new Error(`Failed to derive a value or an expression for "${i}".`);return n}function $Ne(e,t){return Math.max(Math.min((e??t)/100,1),0)}const NF="esri.renderers.support.DictionaryLoader",rye={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};let CH=class{constructor(t,i,r){this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new Vme(100),this._dictionaryVersion=null,this._fieldIndex=null,this._dictionaryPromise=null,this.url=t,this.config=i,this.fieldMap=r}getSymbolFields(){return this._symbolFields}async getSymbolAsync(t,i){var v;let r;this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(i));try{r=await this._dictionaryPromise}catch(w){if(Cr(w))return this._dictionaryPromise=null,null}const s=(v=this._dictionaryVersion)==null?void 0:v.greaterEqual(4,0),n={};if(this.fieldMap)for(const w of this._symbolFields){const S=RH(this.fieldMap[w],this._fieldIndex);if(S){const T=t.attributes[S];n[w]=s?T:T!=null?""+t.attributes[S]:""}else n[w]=""}let a=null;try{a=r==null?void 0:r(n,i)}catch{return null}if(!a||typeof a!="string"||a==="invalid")return null;const u=a.split(";"),d=[],f=[];for(let w=0;w<u.length;w++){const S=u[w];if(S){if(S.includes("po:")){const T=S.slice(3).split("|");if(T.length===3){const E=T[0],M=T[1];let R=T[2];const P="countrylabel";if(E===P&&M==="TextString"){if(this.fieldMap!=null){let N=this.fieldMap[P];N==null&&(N=P,this.fieldMap[N]=N),t.attributes[N]=R}continue}if(M==="DashTemplate")R=R.split(" ").map(N=>Number(N));else if(M==="Color"){const N=new Ie(R).toRgba();R=[N[0],N[1],N[2],255*N[3]]}else R=Number(R);f.push({primitiveName:E,propertyName:M,value:R,defaultValue:null})}}else if(S.includes("|")){for(const T of S.split("|"))if(this._itemNames.has(T)){d.push(T);break}}else if(this._itemNames.has(S))d.push(S);else if(w===0){d.length=0;let T="Invalid_P";t.geometry!=null&&(Kd(t.geometry)?T="Invalid_A":NI(t.geometry)&&(T="Invalid_L")),d.push(T);break}}}const g=t.geometry==null||!t.geometry.hasZ&&t.geometry.type==="point";return this._cimPartsToCIMSymbol(t,d,f,g,i)}async fetchResources(t){if(this._dictionaryPromise)return this._dictionaryPromise;if(!this.url)return void ne.getLogger(NF).error("no valid URL!");const i=Lt(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},signal:t!=null?t.signal:null}),[{data:r}]=await Promise.all([i,Ku()]);if(!r)throw this._dictionaryPromise=null,new z("esri.renderers.DictionaryRenderer","Bad dictionary data!");const{authoringInfo:s,dictionary_version:n,expression:a,itemsNames:u}=r,d=a;let f=!1;n&&(this._dictionaryVersion=MH.parse(n),f=this._dictionaryVersion.greaterEqual(4,0)),this._refSymbolUrlTemplate=this.url+"/"+r.cimRefTemplateUrl,this._itemNames=new Set(u),this._symbolFields=s.symbol;const g={};if(this.config){const S=this.config;for(const T in S)g[T]=S[T]}if(s.configuration)for(const S of s.configuration)g.hasOwnProperty(S.name)||(g[S.name]=S.value);const v=[];if(t!=null&&t.fields&&this.fieldMap)for(const S in this.fieldMap){const T=this.fieldMap[S],E=t.fields.filter(M=>M.name.toLowerCase()===(T==null?void 0:T.toLowerCase()));E.length>0&&v.push({...E[0],type:f?E[0].type:"esriFieldTypeString"})}v.length>0&&(this._fieldIndex=new AH(v));const w=Pne(d,t!=null?t.spatialReference:null,v,g).then(S=>{const T={scale:0};return(E,M)=>{if(S==null)return null;const R=S.repurposeFeature({geometry:null,attributes:E});return T.scale=M!=null?M.scale??void 0:void 0,S.evaluate({$feature:R,$view:T},S.services)}}).catch(S=>(ne.getLogger(NF).error("Creating dictionary expression failed:",S),null));return this._dictionaryPromise=w,w}async _cimPartsToCIMSymbol(t,i,r,s,n){const a=new Array(i.length);for(let f=0;f<i.length;f++)a[f]=this._getSymbolPart(i[f],n);let u=await Promise.all(a);const d=this.fieldMap;if(d&&u.length>0){const{OverrideHelper:f}=await ue(()=>import("./OverrideHelper-DcCWzK6Q.js").then(g=>g.O),__vite__mapDeps([172,128,34]),import.meta.url);u=j(u);for(const g of u)f.applyDictionaryTextOverrides(g,t,d,this._fieldIndex,_R(g))}return new hc({data:sye(u,r,s)})}async _getSymbolPart(t,i){const r=this._symbolCache.get(t);if(r)return r;if(this._ongoingRequests.has(t))return this._ongoingRequests.get(t).then(a=>a.data);const s=this._refSymbolUrlTemplate.replaceAll(/\{itemName\}/gi,t),n=Lt(s,{responseType:"json",query:{f:"json"},...i});this._ongoingRequests.set(t,n),n.finally(()=>this._ongoingRequests.delete(t));try{const a=await n;return this._symbolCache.put(t,a.data),a.data}catch(a){throw a}}};function sye(e,t,i){if(!e||e.length===0)return null;const r={...e[0]};if(e.length>1){r.effects=null,r.symbolLayers=[];for(const s of e){const n=s;if(n.effects!=null)for(const a of n.symbolLayers)a.effects==null?a.effects=n.effects:a.effects.unshift(...n.effects);r.symbolLayers.unshift(...n.symbolLayers)}}return i&&(r.callout=rye),{type:"CIMSymbolReference",symbol:r,primitiveOverrides:t}}var SR;let Jn=SR=class extends Cm(gl){constructor(e){super(e),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){return new CH(this.url,this.config,this.fieldMap)}writeData(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:"number"})}writeVisualVariables(e,t,i,r){r!=null&&r.origin||super.writeVisualVariables(e,t,i,r)}clone(){return new SR({config:j(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:j(this.fieldMap),url:j(this.url),visualVariables:j(this.visualVariables)})}async getSymbolAsync(e,t){return this._loader.getSymbolAsync(e,t)}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t),this.scaleExpression&&await Rr(e,t,this.scaleExpression);for(const i in this.fieldMap){const r=this.fieldMap[i];t.has(r)&&e.add(r)}}get arcadeRequired(){return!0}getSymbol(){return null}get symbols(){return[]}getAttributeHash(){var e;return((e=this.visualVariables)==null?void 0:e.reduce((t,i)=>t+i.getAttributeHash(),""))??""}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};c([p({type:CH})],Jn.prototype,"_loader",null),c([p({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],Jn.prototype,"config",void 0),c([p({type:Object,json:{write:!0}})],Jn.prototype,"fieldMap",void 0),c([p({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],Jn.prototype,"scaleExpression",void 0),c([de("scaleExpression")],Jn.prototype,"writeData",null),c([p({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],Jn.prototype,"scaleExpressionTitle",void 0),c([p({type:String,json:{write:!0}})],Jn.prototype,"url",void 0),c([de("visualVariables")],Jn.prototype,"writeVisualVariables",null),Jn=SR=c([O("esri.renderers.DictionaryRenderer")],Jn);const nye=Jn;var TR;let ja=TR=class extends K{constructor(e){super(e),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(e){return e==null?e:typeof e=="function"?(ne.getLogger(this).error(".field: field must be a string value"),null):Lv(e)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){var e;return new TR({color:(e=this.color)==null?void 0:e.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};c([p({type:Ie,json:{type:[Number],write:!0}})],ja.prototype,"color",void 0),c([p({type:String,json:{write:!0}})],ja.prototype,"field",void 0),c([lt("field")],ja.prototype,"castField",null),c([p({type:String,json:{write:!0}})],ja.prototype,"label",void 0),c([p({type:String,json:{write:!0}})],ja.prototype,"valueExpression",void 0),c([p({type:String,json:{write:!0}})],ja.prototype,"valueExpressionTitle",void 0),ja=TR=c([O("esri.renderers.support.AttributeColorInfo")],ja);const IH=ja;var ER;let L_=ER=class extends K{constructor(){super(...arguments),this.unit=null}clone(){return new ER({unit:this.unit})}};c([p({type:String,json:{write:!0}})],L_.prototype,"unit",void 0),L_=ER=c([O("esri.renderers.support.DotDensityLegendOptions")],L_);const oye=L_;var $R;let is=$R=class extends Cm(gl){constructor(e){super(e),this.attributes=null,this.backgroundColor=new Ie([0,0,0,0]),this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new Vs,this.dotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(e){if(this.referenceScale==null)return this.dotValue;const t=e/this.referenceScale*this.dotValue;return t<1?1:t}getSymbol(){return new xh({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol()]}getAttributeHash(){var e;return((e=this.attributes)==null?void 0:e.reduce((t,i)=>t+i.getAttributeHash(),""))??""}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new $R({attributes:j(this.attributes),backgroundColor:j(this.backgroundColor),dotBlendingEnabled:j(this.dotBlendingEnabled),dotShape:j(this.dotShape),dotSize:j(this.dotSize),dotValue:j(this.dotValue),legendOptions:j(this.legendOptions),outline:j(this.outline),referenceScale:j(this.referenceScale),seed:j(this.seed),visualVariables:j(this.visualVariables),authoringInfo:j(this.authoringInfo)})}getControllerHash(){var t;return`${(t=this.attributes)==null?void 0:t.map(i=>i.field||i.valueExpression||"")}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const i of this.attributes??[])i.valueExpression&&await Rr(e,t,i.valueExpression),i.field&&e.add(i.field)}};c([p({type:[IH],json:{write:!0}})],is.prototype,"attributes",void 0),c([p({type:Ie,json:{write:!0}})],is.prototype,"backgroundColor",void 0),c([p({type:Boolean,json:{write:!0}})],is.prototype,"dotBlendingEnabled",void 0),c([p({type:String,json:{write:!1}})],is.prototype,"dotShape",void 0),c([p({type:Number,json:{write:!0}})],is.prototype,"dotSize",void 0),c([p({type:oye,json:{write:!0}})],is.prototype,"legendOptions",void 0),c([p({type:Vs,json:{default:null,write:!0}})],is.prototype,"outline",void 0),c([p({type:Number,json:{write:!0}})],is.prototype,"dotValue",void 0),c([p({type:Number,json:{write:!0}})],is.prototype,"referenceScale",void 0),c([p({type:Number,json:{write:!0}})],is.prototype,"seed",void 0),c([Oe({dotDensity:"dot-density"})],is.prototype,"type",void 0),is=$R=c([O("esri.renderers.DotDensityRenderer")],is);const aye=is;var xR;let s0=xR=class extends K{constructor(e){super(e),this.color=null,this.ratio=null}clone(){return new xR({color:this.color&&this.color.clone(),ratio:this.ratio})}};c([p({type:Ie,json:{type:[ht],default:null,write:{isRequired:!0}}})],s0.prototype,"color",void 0),c([p({type:Number,json:{write:{isRequired:!0}}})],s0.prototype,"ratio",void 0),s0=xR=c([O("esri.renderers.support.HeatmapColorStop")],s0);const D_=s0;let nf=class extends rt.ClonableMixin(K){constructor(){super(...arguments),this.minLabel=null,this.maxLabel=null,this.title=null}};c([p({type:String,json:{write:!0}})],nf.prototype,"minLabel",void 0),c([p({type:String,json:{write:!0}})],nf.prototype,"maxLabel",void 0),c([p({type:String,json:{write:!0}})],nf.prototype,"title",void 0),nf=c([O("esri.renderers.support.HeatmapLegendOptions")],nf);function lye(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function uye(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function cye(e,t,i,r,s){return e[0]=t,e[1]=i,e[2]=r,e[3]=s,e}function dye(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e}function NH(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e}function PH(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],e[3]=t[3]*i[3],e}function LH(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e[2]=t[2]/i[2],e[3]=t[3]/i[3],e}function hye(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function pye(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function fye(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e[2]=Math.min(t[2],i[2]),e[3]=Math.min(t[3],i[3]),e}function mye(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e[2]=Math.max(t[2],i[2]),e[3]=Math.max(t[3],i[3]),e}function yye(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function gye(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e}function vye(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e[3]=t[3]+i[3]*r,e}function DH(e,t){const i=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2],n=t[3]-e[3];return Math.sqrt(i*i+r*r+s*s+n*n)}function kH(e,t){const i=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2],n=t[3]-e[3];return i*i+r*r+s*s+n*n}function FH(e){const t=e[0],i=e[1],r=e[2],s=e[3];return Math.sqrt(t*t+i*i+r*r+s*s)}function jH(e){const t=e[0],i=e[1],r=e[2],s=e[3];return t*t+i*i+r*r+s*s}function bye(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function wye(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function _ye(e,t){const i=t[0],r=t[1],s=t[2],n=t[3];let a=i*i+r*r+s*s+n*n;return a>0&&(a=1/Math.sqrt(a),e[0]=i*a,e[1]=r*a,e[2]=s*a,e[3]=n*a),e}function Sye(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function UH(e,t,i,r){const s=t[0],n=t[1],a=t[2],u=t[3];return e[0]=s+r*(i[0]-s),e[1]=n+r*(i[1]-n),e[2]=a+r*(i[2]-a),e[3]=u+r*(i[3]-u),e}function Tye(e,t=1){const i=sT;let r,s,n,a,u,d;do r=2*i()-1,s=2*i()-1,u=r*r+s*s;while(u>=1);do n=2*i()-1,a=2*i()-1,d=n*n+a*a;while(d>=1);const f=Math.sqrt((1-u)/d);return e[0]=t*r,e[1]=t*s,e[2]=t*n*f,e[3]=t*a*f,e}function Eye(e,t,i){const r=t[0],s=t[1],n=t[2],a=t[3];return e[0]=i[0]*r+i[4]*s+i[8]*n+i[12]*a,e[1]=i[1]*r+i[5]*s+i[9]*n+i[13]*a,e[2]=i[2]*r+i[6]*s+i[10]*n+i[14]*a,e[3]=i[3]*r+i[7]*s+i[11]*n+i[15]*a,e}function $ye(e,t,i){const r=t[0],s=t[1],n=t[2],a=i[0],u=i[1],d=i[2],f=i[3],g=f*r+u*n-d*s,v=f*s+d*r-a*n,w=f*n+a*s-u*r,S=-a*r-u*s-d*n;return e[0]=g*f+S*-a+v*-d-w*-u,e[1]=v*f+S*-u+w*-a-g*-d,e[2]=w*f+S*-d+g*-u-v*-a,e[3]=t[3],e}function xye(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function Mye(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function Aye(e,t){const i=e[0],r=e[1],s=e[2],n=e[3],a=t[0],u=t[1],d=t[2],f=t[3],g=Wr();return Math.abs(i-a)<=g*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(r-u)<=g*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(s-d)<=g*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(n-f)<=g*Math.max(1,Math.abs(n),Math.abs(f))}const Oye=NH,Rye=PH,Cye=LH,Iye=DH,Nye=kH,Pye=FH,Lye=jH;Object.freeze(Object.defineProperty({__proto__:null,add:dye,ceil:hye,copy:lye,copyVec3:uye,dist:Iye,distance:DH,div:Cye,divide:LH,dot:Sye,equals:Aye,exactEquals:Mye,floor:pye,inverse:wye,len:Pye,length:FH,lerp:UH,max:mye,min:fye,mul:Rye,multiply:PH,negate:bye,normalize:_ye,random:Tye,round:yye,scale:gye,scaleAndAdd:vye,set:cye,sqrDist:Nye,sqrLen:Lye,squaredDistance:kH,squaredLength:jH,str:xye,sub:Oye,subtract:NH,transformMat4:Eye,transformQuat:$ye},Symbol.toStringTag,{value:"Module"}));function vT(){return[0,0,0,0]}function Dye(e){return[e[0],e[1],e[2],e[3]]}function Im(e,t,i,r){return[e,t,i,r]}function kye(e,t,i,r){return[e,t,i,r]}function Fye(e,t=vT()){const i=Math.min(4,e.length);for(let r=0;r<i;++r)t[r]=e[r];return t}function jye(e,t){return new Float64Array(e,t,4)}function zH(){return vT()}function VH(){return Im(1,1,1,1)}function GH(){return Im(1,0,0,0)}function qH(){return Im(0,1,0,0)}function BH(){return Im(0,0,1,0)}function HH(){return Im(0,0,0,1)}const Uye=zH(),zye=VH(),Vye=GH(),Gye=qH(),qye=BH(),Bye=HH();Object.freeze(Object.defineProperty({__proto__:null,ONES:zye,UNIT_W:Bye,UNIT_X:Vye,UNIT_Y:Gye,UNIT_Z:qye,ZEROS:Uye,clone:Dye,create:vT,createView:jye,freeze:kye,fromArray:Fye,fromValues:Im,ones:VH,unitW:HH,unitX:GH,unitY:qH,unitZ:BH,zeros:zH},Symbol.toStringTag,{value:"Module"}));const SN=2.4;function Hye(e){return _n(e*SN)}function Wye(e){return Jle(e)/SN}function Zye(e,t,i,r){let{color:s,ratio:n}=t,{color:a,ratio:u}=i;u===n&&(u===1?n-=1e-6:u+=1e-6);const d=bn((r-n)/(u-n),0,1);UH(e,s.toArray(),a.toArray(),d)}function ANe(e){const i=new Uint8ClampedArray(2048);if(e=e.filter(({ratio:u})=>u>=0&&u<=1).sort((u,d)=>u.ratio-d.ratio).map(({color:u,ratio:d})=>({color:u,ratio:Math.max(d,.001)})),e.length<1)return i;let r=e[0],s=e[0],n=1;const a=vT();for(let u=0;u<512;u++){const d=(u+.5)/512;for(;d>s.ratio&&n<e.length;)r=s,s=e[n++];Zye(a,r,s,d),i.set(a,4*u)}return i}function ONe(e,t,i){const r=Math.sqrt(e**2+t**2)/i;return r>1?0:3/(Math.PI*i**2)*(1-r**2)**2}function RNe(e){return typeof e=="function"?e:e?t=>+t[e]:()=>1}var MR;function PF(e){if(e!=null){const{maxDensity:t,minDensity:i,radius:r}=e;if(t!=null||i!=null||r!=null){const{blurRadius:s,maxPixelIntensity:n,minPixelIntensity:a,...u}=e;return u}}return e}let Ji=MR=class extends gl{constructor(e){super(e),this.authoringInfo=null,this.colorStops=[new D_({ratio:0,color:new Ie("rgba(255, 140, 0, 0)")}),new D_({ratio:.75,color:new Ie("rgba(255, 140, 0, 1)")}),new D_({ratio:.9,color:new Ie("rgba(255, 0,   0, 1)")})],this.field=null,this.legendOptions=null,this.maxDensity=.04,this.minDensity=0,this.radius=18,this.referenceScale=0,this.type="heatmap",this.valueExpression=null,this.valueExpressionTitle=null}normalizeCtorArgs(e){return PF(e)}get blurRadius(){return Wye(this.radius)}set blurRadius(e){const t=this.maxPixelIntensity,i=this.minPixelIntensity;this._set("radius",Hye(e)),this._set("maxDensity",t*this._pixelIntensityToDensity),this._set("minDensity",i*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(e){this._set("maxDensity",e*this._pixelIntensityToDensity)}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(e){this._set("minDensity",e*this._pixelIntensityToDensity)}get _pixelIntensityToDensity(){return 24/(SN**2*this.blurRadius**4)}read(e,t){e=PF(e),super.read(e,t)}getSymbol(){return new ra}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol()]}async collectRequiredFields(e,t){const i=this.field,r=this.valueExpression;i&&typeof i=="string"&&Hr(e,t,i),r&&typeof r=="string"&&await Rr(e,t,r)}getAttributeHash(){return""}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new MR({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:j(this.colorStops),field:this.field,legendOptions:j(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};c([p({type:rN,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Ji.prototype,"authoringInfo",void 0),c([p({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Ji.prototype,"blurRadius",null),c([p({type:[D_],json:{write:{isRequired:!0}}})],Ji.prototype,"colorStops",void 0),c([p({type:String,json:{write:!0}})],Ji.prototype,"field",void 0),c([p({type:nf,json:{write:!0}})],Ji.prototype,"legendOptions",void 0),c([p({type:Number,json:{write:!0}})],Ji.prototype,"maxDensity",void 0),c([p({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Ji.prototype,"maxPixelIntensity",null),c([p({type:Number,json:{write:!0}})],Ji.prototype,"minDensity",void 0),c([p({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Ji.prototype,"minPixelIntensity",null),c([p({type:Number,cast:at,json:{write:!0}})],Ji.prototype,"radius",void 0),c([p({type:Number,range:{min:0},json:{default:0,write:!0}})],Ji.prototype,"referenceScale",void 0),c([Oe({heatmap:"heatmap"})],Ji.prototype,"type",void 0),c([p({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],Ji.prototype,"valueExpression",void 0),c([p({type:String})],Ji.prototype,"valueExpressionTitle",void 0),c([p({readOnly:!0})],Ji.prototype,"_pixelIntensityToDensity",null),Ji=MR=c([O("esri.renderers.HeatmapRenderer")],Ji);const WH=Ji;let Vd=class extends rt.ClonableMixin(K){constructor(){super(...arguments),this.color=new Ie([0,0,0,0]),this.label=null,this.threshold=0}};c([p({type:Ie,json:{write:!0}})],Vd.prototype,"color",void 0),c([p({type:String,json:{write:!0}})],Vd.prototype,"label",void 0),c([p({type:Number,range:{min:0,max:1},json:{write:!0}})],Vd.prototype,"threshold",void 0),Vd=c([O("esri.renderers.support.OthersCategory")],Vd);const Yye={base:Rm,key:"type",typeMap:{size:mT,opacity:sN}};let rs=class extends Cm(rt.ClonableMixin(gl)){constructor(t){super(t),this.attributes=null,this.backgroundFillSymbol=null,this.defaultColor=new Ie([0,0,0,0]),this.defaultLabel=null,this.holePercentage=0,this.othersCategory=new Vd,this.legendOptions=null,this.outline=null,this.size=12,this.type="pie-chart",this.visualVariables=null}getSymbol(){var t;return new ra({size:this.size?this.size/2+(((t=this.outline)==null?void 0:t.width)||0):0})}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol(),this.backgroundFillSymbol].filter(Ju)}getAttributeHash(){var t;return((t=this.visualVariables)==null?void 0:t.reduce((i,r)=>i+r.getAttributeHash(),""))??""}getMeshHash(){return this.symbols.reduce((t,i)=>t+JSON.stringify(i),"")}async collectRequiredFields(t,i){await this.collectVVRequiredFields(t,i);for(const r of this.attributes)r.valueExpression&&await Rr(t,i,r.valueExpression),r.field&&t.add(r.field)}};c([p({type:[IH],json:{write:!0}})],rs.prototype,"attributes",void 0),c([p(uN)],rs.prototype,"backgroundFillSymbol",void 0),c([p({type:Ie,json:{write:!0}})],rs.prototype,"defaultColor",void 0),c([p({type:String,json:{write:!0}})],rs.prototype,"defaultLabel",void 0),c([p({type:Number,range:{min:0,max:1},json:{write:!0}})],rs.prototype,"holePercentage",void 0),c([p({type:Vd,json:{write:!0}})],rs.prototype,"othersCategory",void 0),c([p({type:cN,json:{write:!0}})],rs.prototype,"legendOptions",void 0),c([p({type:Vs,json:{default:null,write:!0}})],rs.prototype,"outline",void 0),c([p({type:Number,cast:at,json:{write:!0}})],rs.prototype,"size",void 0),c([Oe({pieChart:"pie-chart"})],rs.prototype,"type",void 0),c([p({types:[Yye]})],rs.prototype,"visualVariables",void 0),rs=c([O("esri.renderers.PieChartRenderer")],rs);const Jye=rs,n1={key:"type",base:gl,typeMap:{heatmap:WH,simple:ol,"unique-value":dN,"class-breaks":xH,"dot-density":aye,dictionary:nye,"pie-chart":Jye},errorContext:"renderer"},Xye={key:"type",base:gl,typeMap:{simple:ol,"unique-value":dN,"class-breaks":xH,heatmap:WH},errorContext:"renderer",validate:Qye};function Qye(e){switch(e.type){case"simple":return Kye(e);case"unique-value":return ege(e);case"class-breaks":return tge(e);case"heatmap":return e}}function Kye(e){if(e.symbol)return e;ne.getLogger("esri.renderers.support.types").error("Removed invalid 'simple' renderer without a symbol from web scene.")}function ege(e){const t=e.uniqueValueInfos,i=t==null?void 0:t.filter(({symbol:r,label:s},n)=>(r||ne.getLogger("esri.renderers.support.types").error(`Removed invalid unique value info ([${n}] ${s}) without a symbol from web scene.`),!!r));return(i==null?void 0:i.length)!==(t==null?void 0:t.length)&&(e.uniqueValueInfos=i),e}function tge(e){const t=e.classBreakInfos,i=t==null?void 0:t.filter(({symbol:r,label:s},n)=>(r||ne.getLogger("esri.renderers.support.types").error(`Removed invalid class break info ([${n}] ${s}) without a symbol from web scene.`),!!r));return(i==null?void 0:i.length)!==(t==null?void 0:t.length)&&(e.classBreakInfos=i),e}function NNe(e,t){return yv(e,null,t)}const ige=ym({types:n1});function yv(e,t,i){return e?e&&(e.styleName||e.styleUrl)&&e.type!=="uniqueValue"?(i!=null&&i.messages&&i.messages.push(new vn("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:i})),null):ige(e,t,i):null}var AR;let _r=AR=class extends Hu{constructor(e){super(e),this.type="binning",this.binType="geohash",this.fixedBinLevel=null,this.labelingInfo=null,this.labelsVisible=!0,this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.size=at("12px"),this.fields=[],this.renderer=null}writeFields(e,t,i){const r=e.filter(s=>s.statisticType!=="avg_angle").map(s=>s.toJSON());ir(i,r,t)}readRenderer(e,t,i){var s;const r=(s=t.drawingInfo)==null?void 0:s.renderer;return r?yv(r,t,i)??void 0:fN(t,i)}clone(){return new AR({fields:j(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:j(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:j(this.popupTemplate),renderer:j(this.renderer),binType:j(this.binType),size:this.size})}};c([Oe({binning:"binning"})],_r.prototype,"type",void 0),c([Oe({geohash:"geohash",square:"square"}),p({type:["geohash","square"]})],_r.prototype,"binType",void 0),c([p({type:Number,json:{write:!0}})],_r.prototype,"fixedBinLevel",void 0),c([p({type:[s1],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],_r.prototype,"labelingInfo",void 0),c([p(cT)],_r.prototype,"labelsVisible",void 0),c([p({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],_r.prototype,"maxScale",void 0),c([p(uT)],_r.prototype,"popupEnabled",void 0),c([p({type:Th,json:{name:"popupInfo",write:!0}})],_r.prototype,"popupTemplate",void 0),c([p({cast:e=>e==="auto"?e:Gr(at(e))})],_r.prototype,"size",void 0),c([p({type:[ac],json:{write:!0}})],_r.prototype,"fields",void 0),c([de("fields")],_r.prototype,"writeFields",null),c([p({types:n1,json:{write:{target:"drawingInfo.renderer"}}})],_r.prototype,"renderer",void 0),c([le("renderer",["drawingInfo.renderer"])],_r.prototype,"readRenderer",null),_r=AR=c([O("esri.layers.support.FeatureReductionBinning")],_r);const ZH=_r;var OR;function LF(e){var t;return e.type==="simple"&&!((t=e.visualVariables)!=null&&t.length)}let Ai=OR=class extends K{constructor(e){super(e),this.type="cluster",this.clusterRadius=at("80px"),this.clusterMinSize=at("12px"),this.clusterMaxSize=at("50px"),this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.renderer=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=[]}readRenderer(e,t,i){var s,n;const r=(s=t.drawingInfo)==null?void 0:s.renderer;return(n=r==null?void 0:r.authoringInfo)!=null&&n.isAutoGenerated?null:r?LF(r)?null:yv(r,t,i)??void 0:fN(t,i)}readSymbol(e,t,i){var s,n;const r=(s=t.drawingInfo)==null?void 0:s.renderer;if((n=r==null?void 0:r.authoringInfo)!=null&&n.isAutoGenerated)return null;if(r&&LF(r)){const a=yv(r,t,i);return a==null?void 0:a.symbol}return null}writeSymbol(e,t,i,r){var n,a;const s=(a=(n=this.renderer)==null?void 0:n.authoringInfo)==null?void 0:a.isAutoGenerated;if(!this.renderer||s){const u=new ol({symbol:e});t.drawingInfo={renderer:u.write({},r)}}}writeFields(e,t,i){const r=e.filter(s=>s.statisticType!=="avg_angle").map(s=>s.toJSON());ir(i,r,t)}readFields(e,t,i){return e.filter(r=>!r.isAutoGenerated).map(r=>ac.fromJSON(r))}clone(){return new OR({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:j(this.labelingInfo),labelsVisible:this.labelsVisible,fields:j(this.fields),maxScale:this.maxScale,renderer:j(this.renderer),symbol:j(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:j(this.popupTemplate)})}};c([p({type:["cluster"],readOnly:!0,json:{write:!0}})],Ai.prototype,"type",void 0),c([p({cast:e=>e==="auto"?e:Gr(at(e)),json:{write:!0}})],Ai.prototype,"clusterRadius",void 0),c([p({type:Number,cast:at,json:{write:!0}})],Ai.prototype,"clusterMinSize",void 0),c([p({type:Number,cast:at,json:{write:!0}})],Ai.prototype,"clusterMaxSize",void 0),c([p({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],Ai.prototype,"maxScale",void 0),c([p(uT)],Ai.prototype,"popupEnabled",void 0),c([p({type:Th,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],Ai.prototype,"popupTemplate",void 0),c([p({types:n1,json:{write:{target:"drawingInfo.renderer"}}})],Ai.prototype,"renderer",void 0),c([le("renderer",["drawingInfo.renderer"])],Ai.prototype,"readRenderer",null),c([p({types:Vue})],Ai.prototype,"symbol",void 0),c([le("symbol",["drawingInfo.renderer"])],Ai.prototype,"readSymbol",null),c([de("symbol")],Ai.prototype,"writeSymbol",null),c([p({type:[s1],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],Ai.prototype,"labelingInfo",void 0),c([p(cT)],Ai.prototype,"labelsVisible",void 0),c([p({type:[ac],json:{write:!0}})],Ai.prototype,"fields",void 0),c([de("fields")],Ai.prototype,"writeFields",null),c([le("fields")],Ai.prototype,"readFields",null),Ai=OR=c([O("esri.layers.support.FeatureReductionCluster")],Ai);const YH=Ai;var RR;let k_=RR=class extends Hu{constructor(e){super(e),this.type="selection"}clone(){return new RR}};c([p({type:["selection"]})],k_.prototype,"type",void 0),k_=RR=c([O("esri.layers.support.FeatureReductionSelection")],k_);const DF=k_,kF={key:"type",base:Hu,typeMap:{cluster:YH,binning:ZH}},rge={types:{key:"type",base:Hu,typeMap:{selection:DF,cluster:YH,binning:ZH}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:kF},"portal-item":{types:kF},"web-scene":{types:{key:"type",base:Hu,typeMap:{selection:DF}},name:"layerDefinition.featureReduction",write:{layerContainerTypes:Jt}}}}},_p={Base64:0,Hex:1,String:2,Raw:3},kf=8,JH=(1<<kf)-1;function Vu(e,t){const i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function sge(e){const t=[];for(let i=0,r=e.length*kf;i<r;i+=kf)t[i>>5]|=(e.charCodeAt(i/kf)&JH)<<i%32;return t}function nge(e){const t=[];for(let i=0,r=32*e.length;i<r;i+=kf)t.push(String.fromCharCode(e[i>>5]>>>i%32&JH));return t.join("")}function oge(e){const t="0123456789abcdef",i=[];for(let r=0,s=4*e.length;r<s;r++)i.push(t.charAt(e[r>>2]>>r%4*8+4&15)+t.charAt(e[r>>2]>>r%4*8&15));return i.join("")}function age(e){const t="=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=[];for(let s=0,n=4*e.length;s<n;s+=3){const a=(e[s>>2]>>s%4*8&255)<<16|(e[s+1>>2]>>(s+1)%4*8&255)<<8|e[s+2>>2]>>(s+2)%4*8&255;for(let u=0;u<4;u++)8*s+6*u>32*e.length?r.push(t):r.push(i.charAt(a>>6*(3-u)&63))}return r.join("")}function lge(e,t){return e<<t|e>>>32-t}function bT(e,t,i,r,s,n){return Vu(lge(Vu(Vu(t,e),Vu(r,n)),s),i)}function mr(e,t,i,r,s,n,a){return bT(t&i|~t&r,e,t,s,n,a)}function yr(e,t,i,r,s,n,a){return bT(t&r|i&~r,e,t,s,n,a)}function gr(e,t,i,r,s,n,a){return bT(t^i^r,e,t,s,n,a)}function vr(e,t,i,r,s,n,a){return bT(i^(t|~r),e,t,s,n,a)}function uge(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;let i=1732584193,r=-271733879,s=-1732584194,n=271733878;for(let a=0;a<e.length;a+=16){const u=i,d=r,f=s,g=n;i=mr(i,r,s,n,e[a],7,-680876936),n=mr(n,i,r,s,e[a+1],12,-389564586),s=mr(s,n,i,r,e[a+2],17,606105819),r=mr(r,s,n,i,e[a+3],22,-1044525330),i=mr(i,r,s,n,e[a+4],7,-176418897),n=mr(n,i,r,s,e[a+5],12,1200080426),s=mr(s,n,i,r,e[a+6],17,-1473231341),r=mr(r,s,n,i,e[a+7],22,-45705983),i=mr(i,r,s,n,e[a+8],7,1770035416),n=mr(n,i,r,s,e[a+9],12,-1958414417),s=mr(s,n,i,r,e[a+10],17,-42063),r=mr(r,s,n,i,e[a+11],22,-1990404162),i=mr(i,r,s,n,e[a+12],7,1804603682),n=mr(n,i,r,s,e[a+13],12,-40341101),s=mr(s,n,i,r,e[a+14],17,-1502002290),r=mr(r,s,n,i,e[a+15],22,1236535329),i=yr(i,r,s,n,e[a+1],5,-165796510),n=yr(n,i,r,s,e[a+6],9,-1069501632),s=yr(s,n,i,r,e[a+11],14,643717713),r=yr(r,s,n,i,e[a],20,-373897302),i=yr(i,r,s,n,e[a+5],5,-701558691),n=yr(n,i,r,s,e[a+10],9,38016083),s=yr(s,n,i,r,e[a+15],14,-660478335),r=yr(r,s,n,i,e[a+4],20,-405537848),i=yr(i,r,s,n,e[a+9],5,568446438),n=yr(n,i,r,s,e[a+14],9,-1019803690),s=yr(s,n,i,r,e[a+3],14,-187363961),r=yr(r,s,n,i,e[a+8],20,1163531501),i=yr(i,r,s,n,e[a+13],5,-1444681467),n=yr(n,i,r,s,e[a+2],9,-51403784),s=yr(s,n,i,r,e[a+7],14,1735328473),r=yr(r,s,n,i,e[a+12],20,-1926607734),i=gr(i,r,s,n,e[a+5],4,-378558),n=gr(n,i,r,s,e[a+8],11,-2022574463),s=gr(s,n,i,r,e[a+11],16,1839030562),r=gr(r,s,n,i,e[a+14],23,-35309556),i=gr(i,r,s,n,e[a+1],4,-1530992060),n=gr(n,i,r,s,e[a+4],11,1272893353),s=gr(s,n,i,r,e[a+7],16,-155497632),r=gr(r,s,n,i,e[a+10],23,-1094730640),i=gr(i,r,s,n,e[a+13],4,681279174),n=gr(n,i,r,s,e[a],11,-358537222),s=gr(s,n,i,r,e[a+3],16,-722521979),r=gr(r,s,n,i,e[a+6],23,76029189),i=gr(i,r,s,n,e[a+9],4,-640364487),n=gr(n,i,r,s,e[a+12],11,-421815835),s=gr(s,n,i,r,e[a+15],16,530742520),r=gr(r,s,n,i,e[a+2],23,-995338651),i=vr(i,r,s,n,e[a],6,-198630844),n=vr(n,i,r,s,e[a+7],10,1126891415),s=vr(s,n,i,r,e[a+14],15,-1416354905),r=vr(r,s,n,i,e[a+5],21,-57434055),i=vr(i,r,s,n,e[a+12],6,1700485571),n=vr(n,i,r,s,e[a+3],10,-1894986606),s=vr(s,n,i,r,e[a+10],15,-1051523),r=vr(r,s,n,i,e[a+1],21,-2054922799),i=vr(i,r,s,n,e[a+8],6,1873313359),n=vr(n,i,r,s,e[a+15],10,-30611744),s=vr(s,n,i,r,e[a+6],15,-1560198380),r=vr(r,s,n,i,e[a+13],21,1309151649),i=vr(i,r,s,n,e[a+4],6,-145523070),n=vr(n,i,r,s,e[a+11],10,-1120210379),s=vr(s,n,i,r,e[a+2],15,718787259),r=vr(r,s,n,i,e[a+9],21,-343485551),i=Vu(i,u),r=Vu(r,d),s=Vu(s,f),n=Vu(n,g)}return[i,r,s,n]}function XH(e,t=_p.Hex){const i=t||_p.Base64,r=uge(sge(e),e.length*kf);switch(i){case _p.Raw:return r;case _p.Hex:return oge(r);case _p.String:return nge(r);case _p.Base64:return age(r)}}const cge=()=>ne.getLogger("esri.views.2d.layers.support.clusterUtils");B.add("esri-cluster-arcade-enabled",!0);const dge=B("esri-cluster-arcade-enabled"),hge=new Set(["simple-line","simple-fill","picture-fill"]);function FF(e,t){let i=t.clone();if(!pge(i))return i;if(t.symbols.some(r=>hge.has(r.type))&&(i=new ol({symbol:new ra})),i.authoringInfo||(i.authoringInfo=new rN),i.authoringInfo.isAutoGenerated=!0,"visualVariables"in i){const r=(i.visualVariables||[]).filter(s=>s.valueExpression!=="$view.scale");r.forEach(s=>{s.type==="rotation"?s.field?s.field=Hc(e,s.field,"avg_angle","number"):s.valueExpression&&(s.field=Qy(e,s.valueExpression,"avg_angle","number"),s.valueExpression=null):s.normalizationField?(s.field=Hc(e,s.field,"avg_norm","number",s.normalizationField),s.normalizationField=null):s.field?s.field=Hc(e,s.field,"avg","number"):s.valueExpression&&(s.field=Qy(e,s.valueExpression,"avg","number"),s.valueExpression=null)}),i.visualVariables=r}switch(i.type){case"simple":break;case"pie-chart":for(const r of i.attributes)r.field?r.field=Hc(e,r.field,"sum","number"):r.valueExpression&&(r.field=Qy(e,r.valueExpression,"sum","number"),r.valueExpression=null);break;case"unique-value":i.field?i.field=Hc(e,i.field,"mode","string"):i.valueExpression&&(i.field=Qy(e,i.valueExpression,"mode","string"),i.valueExpression=null);break;case"class-breaks":i.normalizationField?(i.field=Hc(e,i.field,"avg_norm","number",i.normalizationField),i.normalizationField=null):i.field?i.field=Hc(e,i.field,"avg","number"):i.valueExpression&&(i.field=Qy(e,i.valueExpression,"avg","number"),i.valueExpression=null)}return i}const pge=e=>{const t=i=>cge().error(new z("Unsupported-renderer",i,{renderer:e}));if(!e)return!1;switch(e.type){case"unique-value":if(e.field2||e.field3)return t("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case"class-breaks":if(e.normalizationField){const i=e.normalizationType;if(i!=="field")return t(`FeatureReductionCluster does not support a normalizationType of ${i}`),!1}break;case"simple":case"pie-chart":break;default:return t(`FeatureReductionCluster does not support renderers of type ${e.type}`),!1}if(!dge){if("valueExpression"in e&&e.valueExpression)return t("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in e&&e.visualVariables||[]).some(i=>!(!("valueExpression"in i)||!i.valueExpression)))return t("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),!1}return!0};function fge(e,t,i){switch(e){case"sum":return`cluster_sum_${t}`;case"avg":case"avg_angle":return`cluster_avg_${t}`;case"mode":return`cluster_type_${t}`;case"avg_norm":{const r=i,s="field",n=t.toLowerCase()+",norm:"+s+","+r.toLowerCase();return"cluster_avg_"+XH(n)}}}function Qy(e,t,i,r){const s=XH(t),n=i==="mode"?`cluster_type_${s}`:i==="sum"?`cluster_sum_${s}`:`cluster_avg_${s}`;return e.some(a=>a.name===n)||e.push(new ac({name:n,isAutoGenerated:!0,onStatisticExpression:new gN({expression:t,returnType:r}),statisticType:i})),n}function Hc(e,t,i,r,s){if(t==="cluster_count"||e.some(a=>a.name===t))return t;const n=fge(i,t,s);return e.some(a=>a.name===n)||(i==="avg_norm"?e.push(new ac({name:n,isAutoGenerated:!0,onStatisticExpression:new gN({expression:`$feature.${t} / $feature.${s}`,returnType:r}),statisticType:"avg"})):e.push(new ac({name:n,isAutoGenerated:!0,onStatisticField:t,statisticType:i}))),n}const mge=e=>{let t=class extends e{constructor(...i){super(...i),this.addHandles(ke(()=>this.renderer,()=>{if(this.featureReduction){const r=this._normalizeFeatureReduction(this.featureReduction);this._set("featureReduction",r)}},Qo))}set featureReduction(i){const r=this._normalizeFeatureReduction(i);this._set("featureReduction",r)}set renderer(i){}_withClusterVariable(i,r,s){const n=i.clone();return"visualVariables"in n&&(n.visualVariables||(n.visualVariables=[]),n.visualVariables.some(a=>a.type==="size")||n.visualVariables.push(new mT({field:"cluster_count",stops:[new x_({value:1}),new x_({useMinValue:!0,size:r}),new x_({useMaxValue:!0,size:s})]}))),n}_normalizeFeatureReduction(i){var v;if((i==null?void 0:i.type)!=="cluster")return i;const r=i.clone(),s=[new ac({name:"cluster_count",alias:"cluster_count",isAutoGenerated:!0,statisticType:"count"})],n=(r.fields??[]).filter(w=>!w.isAutoGenerated),a=i.renderer&&!((v=i.renderer.authoringInfo)!=null&&v.isAutoGenerated),{clusterMinSize:u,clusterMaxSize:d}=r;if(a){r.fields=[...s,...n];const w=this._withClusterVariable(r.renderer,u,d);return r.effectiveFeatureRenderer=w,r.effectiveClusterRenderer=w,r}if(i.symbol){if(r.fields=[...s,...n],r.renderer=null,!this.renderer)return r.effectiveFeatureRenderer=null,r.effectiveClusterRenderer=null,r;const w=FF(s,this.renderer),S=this._withClusterVariable(w,u,d),T="visualVariables"in S&&S.visualVariables?S.visualVariables:[],E=new ol({symbol:i.symbol,visualVariables:T});return r.fields=[...s,...n],r.effectiveFeatureRenderer=S,r.effectiveClusterRenderer=E,r}if(!this.renderer)return i;const f=FF(s,this.renderer);r.fields=[...s,...n],r.renderer=f;const g=this._withClusterVariable(f,u,d);return r.effectiveFeatureRenderer=g,r.effectiveClusterRenderer=g,r}};return c([p(rge)],t.prototype,"featureReduction",null),t=c([O("esri.layers.mixins.FeatureReductionLayer")],t),t},jF={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,KnowledgeGraphLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},UF={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},zF={ArcGISFeatureLayer:!0,SubtypeGroupTable:!0},yge={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GroupLayer:!0,IntegratedMesh3DTilesLayer:!0,Object3DTilesLayer:!0,IntegratedMeshLayer:!0,KML:!0,LineOfSightLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,RasterDataLayer:!0,VectorTileLayer:!0,ViewshedLayer:!0,Voxel:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/basemap":{ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-scene/tables":{ArcGISFeatureLayer:!0},"web-map/operational-layers":jF,"web-map/basemap":UF,"web-map/tables":zF,"link-chart/operational-layers":{...jF,LinkChartLayer:!0},"link-chart/basemap":UF,"link-chart/tables":zF,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,BuildingSceneLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,MediaLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,SubtypeGroupLayer:!0,WCS:!0},"portal-item/tables":{ArcGISFeatureLayer:!0,SubtypeGroupTable:!0}},gge=e=>{let t=class extends e{constructor(){super(...arguments),this.persistenceEnabled=!0,this.title=null}readId(i,r,s){var n;return((n=s==null?void 0:s.portalItem)==null?void 0:n.type)==="Group Layer"?void 0:i}writeListMode(i,r,s,n){(n&&n.layerContainerType==="ground"||i&&vte(this,s,{},n))&&(r[s]=i)}writeOperationalLayerType(i,r,s){i&&(r[s]=i)}writeTitle(i,r){r.title=i??"Layer"}readVisibilityTimeExtent(i){return i?dl.fromArray(i):null}writeVisibilityTimeExtent(i,r,s,n){i&&n.layerContainerType!=="tables"&&(i.isEmpty?n!=null&&n.messages&&n.messages.push(new z("layer:invalid-visibilityTimeExtent","visibilityTimeExtent cannot be empty")):r[s]=i.toArray())}read(i,r){r&&(r.layer=this),mte(this,i,s=>super.read(i,s),r)}write(i,r){var a,u;if(!this.persistenceEnabled&&!(r!=null&&r.ignorePersistenceEnabled))return null;if(r!=null&&r.origin){const d=`${r.origin}/${r.layerContainerType||"operational-layers"}`,f=yge[d];let g=!!(f!=null&&f[this.operationalLayerType]);if(this.operationalLayerType==="ArcGISTiledElevationServiceLayer"&&d==="web-scene/operational-layers"&&(g=!1),this.operationalLayerType==="ArcGISDimensionLayer"&&d==="web-map/operational-layers"&&(g=!1),!g)return(a=r.messages)==null||a.push(new z("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${d}'`,{layer:this})),null}const s=super.write(i,{...r,layer:this}),n=!!r&&!!r.messages&&!!r.messages.filter(d=>d instanceof z&&d.name==="web-document-write:property-required").length;return L2(s==null?void 0:s.url)?((u=r==null?void 0:r.messages)==null||u.push(new z("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&n?null:s}beforeSave(){}};return c([p({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),c([le("id",["id"])],t.prototype,"readId",null),c([p(VB)],t.prototype,"listMode",void 0),c([de("listMode")],t.prototype,"writeListMode",null),c([p({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1},"web-scene":{name:"layerType",read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:Jt,isRequired:!0}}}}})],t.prototype,"operationalLayerType",void 0),c([de("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),c([p(FO)],t.prototype,"opacity",void 0),c([p({type:Boolean,readOnly:!1})],t.prototype,"persistenceEnabled",void 0),c([p({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),c([de("title"),de(["web-scene"],"title")],t.prototype,"writeTitle",null),c([p({type:dl,json:{origins:{"web-scene":{write:{layerContainerTypes:Jt}}}}})],t.prototype,"visibilityTimeExtent",void 0),c([le("visibilityTimeExtent")],t.prototype,"readVisibilityTimeExtent",null),c([de(["portal-item","web-map","web-scene"],"visibilityTimeExtent",{visibilityTimeExtent:{type:[[ht,A2]]}})],t.prototype,"writeVisibilityTimeExtent",null),c([p({type:Boolean,json:{name:"visibility",write:{layerContainerTypes:Jt}}})],t.prototype,"visible",void 0),t=c([O("esri.layers.mixins.OperationalLayer")],t),t};var CR;const lw=new et({asc:"ascending",desc:"descending"});let of=CR=class extends K{constructor(e){super(e),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new CR({field:this.field,valueExpression:this.valueExpression,order:this.order})}};c([p({type:String,json:{write:!0}})],of.prototype,"field",void 0),c([p({type:String,json:{write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],of.prototype,"valueExpression",void 0),c([p({type:lw.apiValues,json:{type:lw.jsonValues,read:lw.read,write:lw.write}})],of.prototype,"order",void 0),of=CR=c([O("esri.layers.support.OrderByInfo")],of);const QH=of;function vge(e,t,i){if(!e)return null;const r=e.find(n=>!!n.field);if(!r)return null;const s=new QH;return s.read(r,i),[s]}function bge(e,t,i,r){const s=e.find(n=>!!n.field);s&&ir(i,[s.toJSON()],t)}const wge={type:[QH],json:{origins:{"web-scene":{write:!1,read:!1}},name:"layerDefinition.orderBy",read:{reader:vge},write:{writer:bge}}},_ge=e=>{let t=class extends e{constructor(){super(...arguments),this.orderBy=null}};return c([p(wge)],t.prototype,"orderBy",void 0),t=c([O("esri.layers.mixins.OrderedLayer")],t),t};let Ua=class extends $e{constructor(t){super(t),this.portalItem=null}normalizeCtorArgs(t){return t!=null&&t.portalItem&&t.path?{...t,path:VF(t.path,t.portalItem)}:t}set path(t){t!=null&&js(t)?ne.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",t)}_castPath(t){return VF(t,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(t="json",i){const r=this.cdnUrl;if(r==null)throw new z("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(r,{responseType:t,query:{token:this.portalItem.apiKey,_ts:i!=null&&i.cacheBust?Date.now():null},signal:i==null?void 0:i.signal})}async update(t,i){const{addOrUpdateResources:r}=await ue(()=>import("./resourceUtils-CTOmI7We.js"),[],import.meta.url);return await r(this.portalItem,[{resource:this,content:t,compress:i==null?void 0:i.compress,access:i==null?void 0:i.access}],"update",i),this}hasPath(){return this.path!=null}};function VF(e,t){return e==null?e:(e=e.replace(/^\/+/,""),t!=null&&js(e)&&(e=XC(e,t.itemUrl)),e==null?void 0:e.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}c([p()],Ua.prototype,"portalItem",void 0),c([p({type:String,value:null})],Ua.prototype,"path",null),c([lt("path")],Ua.prototype,"_castPath",null),c([p({type:String,readOnly:!0})],Ua.prototype,"url",null),c([p({type:String,readOnly:!0})],Ua.prototype,"cdnUrl",null),c([p({type:String,readOnly:!0})],Ua.prototype,"itemRelativeUrl",null),Ua=c([O("esri.portal.PortalItemResource")],Ua);const Sge=Ua;let n0=class extends $e{constructor(t){super(t),this.created=null,this.rating=null}};c([p({type:Date})],n0.prototype,"created",void 0),c([p()],n0.prototype,"rating",void 0),n0=c([O("esri.portal.PortalRating")],n0);const Qx=n0;var Od;const Tge=new Set(["3DTiles Service","CSV","Feature Collection","Feature Service","Feed","GeoJson","Group Layer","Image Service","KML","Map Service","Media Layer","Scene Service","Stream Service","Vector Tile Service","WFS","WMS","WMTS"]),Ege=new Set(["KML","GeoJson","CSV"]);let qe=Od=class extends K.JSONSupportMixin(cl){static from(e){return Dv(Od,e)}constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.classification=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let i=e;return e==="Feature Service"||e==="Feature Collection"?i=t.includes("Table")?"Table":t.includes("Route Layer")?"Route Layer":t.includes("Markup")?"Markup":"Feature Layer":e==="Image Service"?i=t.includes("Elevation 3D Layer")?"Elevation Layer":t.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":e==="Scene Service"?i="Scene Layer":e==="Video Service"?i="Video Layer":e==="Scene Package"?i="Scene Layer Package":e==="Stream Service"?i="Feature Layer":e==="Geoprocessing Service"?i=t.includes("Web Tool")?"Tool":"Geoprocessing Service":e==="Geoenrichment Service"?i="GeoEnrichment Service":e==="Geocoding Service"?i="Locator":e==="Microsoft Powerpoint"?i="Microsoft PowerPoint":e==="GeoJson"?i="GeoJSON":e==="Globe Service"?i="Globe Layer":e==="Vector Tile Service"?i="Tile Layer":e==="netCDF"?i="NetCDF":e==="Map Service"?i=t.includes("Spatiotemporal")||!t.includes("Hosted Service")&&!t.includes("Tiled")||t.includes("Relational")?"Map Image Layer":"Tile Layer":e!=null&&e.toLowerCase().includes("add in")?i=e.replaceAll(/(add in)/gi,"Add-In"):e==="datastore catalog service"?i="Big Data File Share":e==="Compact Tile Package"?i="Tile Package (tpkx)":e==="Raster function template"?i="Raster Function Template":e==="OGCFeatureServer"?i="OGC Feature Layer":e==="web mapping application"&&t.includes("configurableApp")?i="Instant App":e==="Insights Page"?i="Insights Report":e==="Excalibur Imagery Project"?i="Excalibur Project":e==="3DTiles Service"?i="3D tiles layer":e==="3DTiles Package"&&(i="3D tiles package"),i}readExtent(e){return e&&e.length?new kt(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){var S;const e=((S=this.type)==null?void 0:S.toLowerCase())||"",t=this.typeKeywords||[],i="esri/images/portal/",r="16";let s,n=!1,a=!1,u=!1,d=!1,f=!1,g=!1,v=!1,w=!1;return e.indexOf("service")>0||e==="feature collection"||e==="kml"||e==="wms"||e==="wmts"||e==="wfs"?(n=t.includes("Hosted Service"),e==="feature service"||e==="feature collection"||e==="kml"||e==="wfs"?(a=t.includes("Table"),u=t.includes("Route Layer"),d=t.includes("Markup"),f=t.includes("Spatiotemporal"),g=t.includes("UtilityNetwork"),s=f&&a?"spatiotemporaltable":a?"table":u?"routelayer":d?"markup":f?"spatiotemporal":g?"utilitynetwork":n?"featureshosted":"features"):e==="map service"||e==="wms"||e==="wmts"?(f=t.includes("Spatiotemporal"),v=t.includes("Relational"),s=f||v?"mapimages":n||t.includes("Tiled")||e==="wmts"?"maptiles":"mapimages"):s=e==="scene service"?t.includes("Line")?"sceneweblayerline":t.includes("3DObject")?"sceneweblayermultipatch":t.includes("Point")?"sceneweblayerpoint":t.includes("IntegratedMesh")?"sceneweblayermesh":t.includes("PointCloud")?"sceneweblayerpointcloud":t.includes("Polygon")?"sceneweblayerpolygon":t.includes("Building")?"sceneweblayerbuilding":t.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":e==="image service"?t.includes("Elevation 3D Layer")?"elevationlayer":t.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":e==="stream service"?"streamlayer":e==="vector tile service"?"vectortile":e==="datastore catalog service"?"datastorecollection":e==="geocoding service"?"geocodeservice":e==="video service"?t.includes("Live Stream")?"livestreamvideolayer":"videolayer":e==="geoprocessing service"?t.includes("Web Tool")?"tool":"layers":e==="geodata service"?"geodataservice":e==="3dtiles service"?t.includes("3DObject")?"3dobjecttileslayer":t.includes("IntegratedMesh")?"integratedmeshtileslayer":"3dtileslayer":"layers"):e==="web map"||e==="cityengine web scene"?s="maps":e==="web scene"?s=t.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":e==="web mapping application"&&t.includes("configurableApp")?s="instantapps":e==="web mapping application"||e==="mobile application"||e==="application"||e==="operation view"||e==="desktop application"?s="apps":e==="map document"||e==="map package"||e==="published map"||e==="scene document"||e==="globe document"||e==="basemap package"||e==="mobile basemap package"||e==="mobile map package"||e==="project package"||e==="project template"||e==="pro map"||e==="layout"||e==="layer"&&t.includes("ArcGIS Pro")||e==="explorer map"&&t.indexOf("Explorer Document")?s="mapsgray":e==="service definition"||e==="shapefile"||e==="cad drawing"||e==="geojson"||e==="netcdf"||e==="administrative report"?s="datafiles":e==="360 vr experience"?s="360vr":e==="explorer add in"||e==="desktop add in"||e==="windows viewer add in"||e==="windows viewer configuration"?s="appsgray":e==="arcgis pro add in"||e==="arcgis pro configuration"?s="addindesktop":e==="pdf"?s="pdf":e==="microsoft word"?s="word":e==="microsoft excel"?s="excel":e==="microsoft powerpoint"?s="ppt":e==="rule package"||e==="file geodatabase"||e==="sqlite geodatabase"||e==="csv collection"||e==="kml collection"||e==="windows mobile package"||e==="map template"||e==="desktop application template"||e==="gml"||e==="arcpad package"||e==="code sample"||e==="document link"||e==="earth configuration"||e==="operations dashboard add in"||e==="rules package"||e==="workflow manager package"||e==="explorer map"&&t.includes("Explorer Mapping Application")||t.includes("Document")?s="datafilesgray":e==="network analysis service"||e==="geoprocessing service"||e==="geodata service"||e==="geometry service"||e==="geoprocessing package"||e==="locator package"||e==="geoprocessing sample"||e==="workflow manager service"?s="toolsgray":e==="layer"||e==="layer package"||e==="explorer layer"?s="layersgray":e==="analysis model"?s="analysismodel":e==="scene package"?s="scenepackage":e==="3dtiles package"?s="3dtileslayerpackage":e==="3dtiles service"?s="3dtileslayer":e==="mobile scene package"?s="mobilescenepackage":e==="tile package"||e==="compact tile package"?s="tilepackage":e==="task file"?s="taskfile":e==="report template"?s="report-template":e==="statistical data collection"?s="statisticaldatacollection":e==="insights workbook"?s="workbook":e==="insights model"?s="insightsmodel":e==="insights page"?s="insightspage":e==="insights theme"?s="insightstheme":e==="hub initiative"?s="hubinitiative":e==="hub page"?s="hubpage":e==="hub site application"?s="hubsite":e==="hub event"?s="hubevent":e==="hub project"?s="hubproject":e==="relational database connection"?s="relationaldatabaseconnection":e==="big data file share"?s="datastorecollection":e==="image collection"?s="imagecollection":e==="desktop style"?s="desktopstyle":e==="style"?s=t.includes("Dictionary")?"dictionarystyle":"style":e==="dashboard"?s="dashboard":e==="raster function template"?s="rasterprocessingtemplate":e==="vector tile package"?s="vectortilepackage":e==="ortho mapping project"?s="orthomappingproject":e==="ortho mapping template"?s="orthomappingtemplate":e==="solution"?s="solutions":e==="geopackage"?s="geopackage":e==="deep learning package"?s="deeplearningpackage":e==="real time analytic"?s="realtimeanalytics":e==="reality mapping project"?s="realitymappingproject":e==="big data analytic"?s="bigdataanalytics":e==="feed"?s="feed":e==="excalibur imagery project"?s="excaliburimageryproject":e==="notebook"?s="notebook":e==="storymap"?s="storymap":e==="survey123 add in"?s="survey123addin":e==="mission"?s="mission":e==="mission report"?s="missionreport":e==="mission template"?s="missiontemplate":e==="quickcapture project"?s="quickcaptureproject":e==="pro report"?s="proreport":e==="pro report template"?s="proreporttemplate":e==="urban model"?s="urbanmodel":e==="urban project"?s="urbanproject":e==="web experience"?s="experiencebuilder":e==="web experience template"?s="webexperiencetemplate":e==="experience builder widget"?s="experiencebuilderwidget":e==="experience builder widget package"?s="experiencebuilderwidgetpackage":e==="workflow"?s="workflow":e==="kernel gateway connection"?s="kernelgatewayconnection":e==="insights script"?s="insightsscript":e==="hub initiative template"?s="hubinitiativetemplate":e==="storymap theme"?s="storymaptheme":e==="knowledge graph"?s="knowledgegraph":e==="knowledge graph layer"?s="knowledgegraphlayer":e==="knowledge studio project"?s="knowledgestudio":e==="native application"?s="nativeapp":e==="native application installer"?s="nativeappinstaller":e==="web link chart"?s="linkchart":e==="knowledge graph web investigation"?s="investigation":e==="ogcfeatureserver"?s="features":e==="pro presentation"?s="propresentation":e==="pro project"?s="proproject":e==="insights workbook package"?s="insightsworkbookpackage":e==="apache parquet"?s="apacheparquet":e==="notebook code snippet library"?s="notebookcodesnippets":e==="suitability model"?s="suitabilitymodel":e==="esri classifier definition"?s="classifierdefinition":e==="esri classification schema"?s="classificationschema":e==="insights data engineering workbook"?s="dataengineeringworkbook":e==="insights data engineering model"?s="dataengineeringmodel":e==="deep learning studio project"?s="deeplearningproject":e==="discussion"?s="discussion":e==="allsource project"?s="allsourceproject":e==="api key"?s="apikey":e==="data pipeline"?s="datapipelines":e==="group layer"?(w=t.includes("Map"),s=w?"layergroup2d":"layergroup"):s=e==="media layer"?"onlinemedialayer":e==="form"?t.includes("Survey123")?"survey":"datafilesgray":e==="csv"?"csv":e==="image"?"image":"maps",s?fi(i+s+r+".png"):null}get isLayer(){return this.type!=null&&Tge.has(this.type)}get itemCdnUrl(){return iI(this.itemUrl)}get itemPageUrl(){var t;const e=(t=this.portal)==null?void 0:t.itemPageUrl;return e&&this.id?`${e}?id=${this.id}`:null}get itemUrl(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e&&this.id?`${e}/content/items/${this.id}`:null}get thumbnailUrl(){var i;const e=this.itemUrl,t=this.thumbnail;return e&&t?((i=this.portal)==null?void 0:i.normalizeUrl(`${e}/info/${t}?f=json`))??null:null}get userItemUrl(){var i,r,s;const e=(i=this.portal)==null?void 0:i.restUrl;if(!e)return null;const t=this.owner||((s=(r=this.portal)==null?void 0:r.user)==null?void 0:s.username);return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){const t=this.portal??(this.portal=ms.getDefault()),i=t.load(e).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?t.request(this.itemUrl,{signal:e!=null?e.signal:null,query:{token:this.apiKey}}):{}).then(r=>{this.sourceJSON=r,this.read(r)});return this.addResolvingPromise(i),Promise.resolve(this)}async addRating(e){const t={method:"post",query:{}},i=e instanceof Qx?e.rating:e;return i==null||isNaN(i)||typeof e!="number"||(t.query.rating=i),this.portal?(await this.portal.request(this.itemUrl+"/addRating",t),new Qx({rating:i,created:new Date})):null}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:j(this.applicationProxies),avgRating:this.avgRating,categories:j(this.categories),classification:j(this.classification),created:j(this.created),culture:this.culture,description:this.description,extent:j(this.extent),groupCategories:j(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:j(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:j(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:j(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:j(this.typeKeywords),url:this.url};this.loaded&&(e.loadStatus="loaded");const t=new Od({sourceJSON:this.sourceJSON}).set(e);return t._set("isOrgItem",this.isOrgItem),t}createPostQuery(){var t;const e=this.toJSON();for(const i of["tags","typeKeywords","categories"])e[i]=(t=e[i])==null?void 0:t.join(", ");for(const i of["extent","classification"]){const r=e[i];r&&(e[i]=JSON.stringify(r))}return e}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(e="json",t){return this.portal.request(this.itemUrl+"/data",{responseType:e,...t,query:{token:this.apiKey}})}async fetchRating(e){const t=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},...e});return t.rating!=null?(t.created=new Date(t.created),new Qx(t)):null}fetchRelatedItems(e,t){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...e,token:this.apiKey},...t},Od)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(e=>(this.applicationProxies&&!Object.hasOwn(e,"appProxies")&&(this.applicationProxies=null),this.sourceJSON=e,this.read(e),this))}update(e){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const t=e==null?void 0:e.data,i={method:"post"};i.query=this.createPostQuery();for(const r in i.query)i.query[r]===null&&(i.query[r]="");return i.query.clearEmptyFields=!0,t!=null&&(typeof t=="string"?i.query.text=t:typeof t=="object"&&(i.query.text=JSON.stringify(t))),this.portal.request(`${this.userItemUrl}/update`,i).then(()=>this.reload())}):Promise.reject(new z("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(e){if(!this.id)throw new z("portal:item-does-not-exist","The item does not exist yet");await this.load();const{portal:t,itemUrl:i}=this;await t.signIn();const{copyResources:r,folder:s,tags:n,title:a}=e||{},u={method:"post",query:{copyPrivateResources:r==="all",folder:typeof s=="string"?s:s==null?void 0:s.id,includeResources:!!r,tags:n==null?void 0:n.join(","),title:a}},{itemId:d}=await t.request(`${i}/copy`,u);return new Od({id:d,portal:t})}updateThumbnail(e){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const t=e.thumbnail,i=e.filename,r={method:"post"};if(typeof t=="string")_h(t)?r.query={data:t}:r.query={url:hn(t)},i!=null&&(r.query.filename=i);else{const s=new FormData;i!=null?s.append("file",t,i):s.append("file",t),r.body=s}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,r).then(()=>this.reload())}):Promise.reject(new z("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){const{fetchResources:i}=await ue(()=>import("./resourceUtils-CTOmI7We.js"),[],import.meta.url);return i(this,e,t)}async addResource(e,t,i){const{addOrUpdateResources:r}=await ue(()=>import("./resourceUtils-CTOmI7We.js"),[],import.meta.url);return e.portalItem=this,await r(this,[{resource:e,content:t,compress:i==null?void 0:i.compress,access:i==null?void 0:i.access}],"add",i),e}async removeResource(e,t){const{removeResource:i}=await ue(()=>import("./resourceUtils-CTOmI7We.js"),[],import.meta.url);if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new z("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return i(this,e,t)}async removeAllResources(e){const{removeAllResources:t}=await ue(()=>import("./resourceUtils-CTOmI7We.js"),[],import.meta.url);return t(this,e)}resourceFromPath(e){return new Sge({portalItem:this,path:e})}toJSON(){var i,r;const e=this.extent,t={accessInformation:this.accessInformation,categories:j(this.categories),classification:j(this.classification),created:(i=this.created)==null?void 0:i.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:(r=this.modified)==null?void 0:r.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:j(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:j(this.typeKeywords),url:this.url};return dK(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new Od({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)t==="tags"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="typeKeywords"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="extent"&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};c([p({type:["private","shared","org","public"]})],qe.prototype,"access",void 0),c([p()],qe.prototype,"accessInformation",void 0),c([p({type:String})],qe.prototype,"apiKey",void 0),c([p({json:{read:{source:"appProxies"}}})],qe.prototype,"applicationProxies",void 0),c([p()],qe.prototype,"avgRating",void 0),c([p()],qe.prototype,"categories",void 0),c([p()],qe.prototype,"classification",void 0),c([p({type:Date})],qe.prototype,"created",void 0),c([p()],qe.prototype,"culture",void 0),c([p()],qe.prototype,"description",void 0),c([p({readOnly:!0})],qe.prototype,"displayName",null),c([p({type:kt})],qe.prototype,"extent",void 0),c([le("extent")],qe.prototype,"readExtent",null),c([p()],qe.prototype,"groupCategories",void 0),c([p({readOnly:!0})],qe.prototype,"iconUrl",null),c([p()],qe.prototype,"id",void 0),c([p({readOnly:!0})],qe.prototype,"isLayer",null),c([p({type:Boolean,readOnly:!0})],qe.prototype,"isOrgItem",void 0),c([p()],qe.prototype,"itemControl",void 0),c([p({readOnly:!0})],qe.prototype,"itemPageUrl",null),c([p({readOnly:!0})],qe.prototype,"itemUrl",null),c([p()],qe.prototype,"licenseInfo",void 0),c([p({type:Date})],qe.prototype,"modified",void 0),c([p()],qe.prototype,"name",void 0),c([p()],qe.prototype,"numComments",void 0),c([p()],qe.prototype,"numRatings",void 0),c([p()],qe.prototype,"numViews",void 0),c([p()],qe.prototype,"owner",void 0),c([p()],qe.prototype,"ownerFolder",void 0),c([p({type:ms})],qe.prototype,"portal",void 0),c([p()],qe.prototype,"screenshots",void 0),c([p()],qe.prototype,"size",void 0),c([p()],qe.prototype,"snippet",void 0),c([p()],qe.prototype,"sourceJSON",void 0),c([p({type:String})],qe.prototype,"sourceUrl",void 0),c([p({type:String})],qe.prototype,"spatialReference",void 0),c([p()],qe.prototype,"tags",void 0),c([p()],qe.prototype,"thumbnail",void 0),c([p({readOnly:!0})],qe.prototype,"thumbnailUrl",null),c([p()],qe.prototype,"title",void 0),c([p()],qe.prototype,"type",void 0),c([p()],qe.prototype,"typeKeywords",void 0),c([p({type:String,json:{read(e,t){var i;if(Ege.has(t.type)){const r=(i=this.portal)==null?void 0:i.restUrl;e||(e=r&&this.id?`${r}/content/items/${this.id}/data`:null)}return e}}})],qe.prototype,"url",void 0),c([p({readOnly:!0})],qe.prototype,"userItemUrl",null),qe=Od=c([O("esri.portal.PortalItem")],qe);const D0=qe,KH=Object.freeze(Object.defineProperty({__proto__:null,default:D0},Symbol.toStringTag,{value:"Module"})),DNe=Math.PI/180,kNe=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,Xl=ni.radius,Dn=ni.eccentricitySquared,$ge={a1:Xl*Dn,a2:Xl*Dn*Xl*Dn,a3:Xl*Dn*Dn/2,a4:Xl*Dn*Xl*Dn*2.5,a5:Xl*Dn+Xl*Dn*Dn/2,a6:1-Dn},FNe={4267:{a:63782064e-1,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:ni.radius,f:ni.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:Xu.radius,f:Xu.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:Wo.radius,f:Wo.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:Wo.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}};var G;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",e[e.WGS84=2]="WGS84",e[e.WEB_MERCATOR=3]="WEB_MERCATOR",e[e.WGS84_ECEF=4]="WGS84_ECEF",e[e.CGCS2000=5]="CGCS2000",e[e.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",e[e.GCSMARS2000=7]="GCSMARS2000",e[e.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",e[e.GCSMOON2000=9]="GCSMOON2000",e[e.LON_LAT=10]="LON_LAT",e[e.PLATE_CARREE=11]="PLATE_CARREE"})(G||(G={}));const xge={[G.WGS84]:{[G.CGCS2000]:Ht,[G.GCSMARS2000]:null,[G.GCSMOON2000]:null,[G.LON_LAT]:Ht,[G.SPHERICAL_ECEF]:F0,[G.SPHERICAL_MARS_PCPF]:null,[G.SPHERICAL_MOON_PCPF]:null,[G.UNKNOWN]:null,[G.WEB_MERCATOR]:Ff,[G.PLATE_CARREE]:jf,[G.WGS84]:Ht,[G.WGS84_ECEF]:Vf},[G.CGCS2000]:{[G.CGCS2000]:Ht,[G.GCSMARS2000]:null,[G.GCSMOON2000]:null,[G.LON_LAT]:Ht,[G.SPHERICAL_ECEF]:F0,[G.SPHERICAL_MARS_PCPF]:null,[G.SPHERICAL_MOON_PCPF]:null,[G.UNKNOWN]:null,[G.WEB_MERCATOR]:Ff,[G.PLATE_CARREE]:jf,[G.WGS84]:Ht,[G.WGS84_ECEF]:Vf},[G.GCSMARS2000]:{[G.CGCS2000]:null,[G.GCSMARS2000]:Ht,[G.GCSMOON2000]:null,[G.LON_LAT]:Ht,[G.SPHERICAL_ECEF]:null,[G.SPHERICAL_MARS_PCPF]:BF,[G.SPHERICAL_MOON_PCPF]:null,[G.UNKNOWN]:null,[G.WEB_MERCATOR]:null,[G.PLATE_CARREE]:null,[G.WGS84]:null,[G.WGS84_ECEF]:null},[G.GCSMOON2000]:{[G.CGCS2000]:null,[G.GCSMARS2000]:null,[G.GCSMOON2000]:Ht,[G.LON_LAT]:Ht,[G.SPHERICAL_ECEF]:null,[G.SPHERICAL_MARS_PCPF]:null,[G.SPHERICAL_MOON_PCPF]:qF,[G.UNKNOWN]:null,[G.WEB_MERCATOR]:null,[G.PLATE_CARREE]:null,[G.WGS84]:null,[G.WGS84_ECEF]:null},[G.WEB_MERCATOR]:{[G.CGCS2000]:k0,[G.GCSMARS2000]:null,[G.GCSMOON2000]:null,[G.LON_LAT]:k0,[G.SPHERICAL_ECEF]:Age,[G.SPHERICAL_MARS_PCPF]:null,[G.SPHERICAL_MOON_PCPF]:null,[G.UNKNOWN]:null,[G.WEB_MERCATOR]:Ht,[G.PLATE_CARREE]:Cge,[G.WGS84]:k0,[G.WGS84_ECEF]:Oge},[G.WGS84_ECEF]:{[G.CGCS2000]:Gf,[G.GCSMARS2000]:null,[G.GCSMOON2000]:null,[G.LON_LAT]:Gf,[G.SPHERICAL_ECEF]:Uge,[G.SPHERICAL_MARS_PCPF]:null,[G.SPHERICAL_MOON_PCPF]:null,[G.UNKNOWN]:null,[G.WEB_MERCATOR]:zge,[G.PLATE_CARREE]:Ige,[G.WGS84]:Gf,[G.WGS84_ECEF]:Ht},[G.SPHERICAL_ECEF]:{[G.CGCS2000]:zf,[G.GCSMARS2000]:null,[G.GCSMOON2000]:null,[G.LON_LAT]:zf,[G.SPHERICAL_ECEF]:Ht,[G.SPHERICAL_MARS_PCPF]:null,[G.SPHERICAL_MOON_PCPF]:null,[G.UNKNOWN]:null,[G.WEB_MERCATOR]:kge,[G.PLATE_CARREE]:Nge,[G.WGS84]:zf,[G.WGS84_ECEF]:Fge},[G.SPHERICAL_MARS_PCPF]:{[G.CGCS2000]:null,[G.GCSMARS2000]:WF,[G.GCSMOON2000]:null,[G.LON_LAT]:WF,[G.SPHERICAL_ECEF]:null,[G.SPHERICAL_MARS_PCPF]:Ht,[G.SPHERICAL_MOON_PCPF]:null,[G.UNKNOWN]:null,[G.WEB_MERCATOR]:null,[G.PLATE_CARREE]:null,[G.WGS84]:null,[G.WGS84_ECEF]:null},[G.SPHERICAL_MOON_PCPF]:{[G.CGCS2000]:null,[G.GCSMARS2000]:null,[G.GCSMOON2000]:HF,[G.LON_LAT]:HF,[G.SPHERICAL_ECEF]:null,[G.SPHERICAL_MARS_PCPF]:null,[G.SPHERICAL_MOON_PCPF]:Ht,[G.UNKNOWN]:null,[G.WEB_MERCATOR]:null,[G.PLATE_CARREE]:null,[G.WGS84]:null,[G.WGS84_ECEF]:null},[G.UNKNOWN]:{[G.CGCS2000]:null,[G.GCSMARS2000]:null,[G.GCSMOON2000]:null,[G.LON_LAT]:null,[G.SPHERICAL_ECEF]:null,[G.SPHERICAL_MARS_PCPF]:null,[G.SPHERICAL_MOON_PCPF]:null,[G.UNKNOWN]:Ht,[G.WEB_MERCATOR]:null,[G.PLATE_CARREE]:null,[G.WGS84]:null,[G.WGS84_ECEF]:null},[G.LON_LAT]:{[G.CGCS2000]:Ht,[G.GCSMARS2000]:Ht,[G.GCSMOON2000]:Ht,[G.LON_LAT]:Ht,[G.SPHERICAL_ECEF]:F0,[G.SPHERICAL_MARS_PCPF]:BF,[G.SPHERICAL_MOON_PCPF]:qF,[G.UNKNOWN]:null,[G.WEB_MERCATOR]:Ff,[G.PLATE_CARREE]:jf,[G.WGS84]:Ht,[G.WGS84_ECEF]:Vf},[G.PLATE_CARREE]:{[G.CGCS2000]:Uf,[G.GCSMARS2000]:null,[G.GCSMOON2000]:null,[G.LON_LAT]:Uf,[G.SPHERICAL_ECEF]:Pge,[G.SPHERICAL_MARS_PCPF]:null,[G.SPHERICAL_MOON_PCPF]:null,[G.UNKNOWN]:null,[G.WEB_MERCATOR]:Lge,[G.PLATE_CARREE]:Ht,[G.WGS84]:Uf,[G.WGS84_ECEF]:Dge}};function eW(e,t){var i;return(i=Mge(e,t))==null?void 0:i.projector}function Mge(e,t){if(e==null||t==null)return null;if(Sa.source.spatialReference===e&&Sa.dest.spatialReference===t)return Sa;const i=GF(e,Sa.source),r=GF(t,Sa.dest);return i===G.UNKNOWN&&r===G.UNKNOWN?Vi(e,t)?Sa.projector=Ht:Sa.projector=null:Sa.projector=xge[i][r],Sa}function GF(e,t){return e?t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=Sn(e,1)),IS(e)?t.spatialReferenceId=G.SPHERICAL_ECEF:lh(e)?t.spatialReferenceId=G.WGS84:Jo(e)?t.spatialReferenceId=G.WEB_MERCATOR:ane(e)?t.spatialReferenceId=G.PLATE_CARREE:e.wkt===dne.wkt?t.spatialReferenceId=G.WGS84_ECEF:e.wkid===ah.CGCS2000?t.spatialReferenceId=G.CGCS2000:e.wkt===oI.wkt?t.spatialReferenceId=G.SPHERICAL_MARS_PCPF:e.wkt===aI.wkt?t.spatialReferenceId=G.SPHERICAL_MOON_PCPF:MV(e)?t.spatialReferenceId=G.GCSMARS2000:AV(e)?t.spatialReferenceId=G.GCSMOON2000:t.spatialReferenceId=G.UNKNOWN):G.UNKNOWN}function Ht(e,t,i,r){e!==i&&(i[r++]=e[t++],i[r++]=e[t++],i[r]=e[t])}function k0(e,t,i,r){i[r]=cm*(e[t]/eh),i[r+1]=cm*(tW-2*Math.atan(Math.exp(-e[t+1]/eh))),i[r+2]=e[t+2]}function Age(e,t,i,r){const s=e[t]/eh,n=tW-2*Math.atan(Math.exp(-e[t+1]/eh)),a=eh+e[t+2],u=Math.cos(n)*a;i[r]=Math.cos(s)*u,i[r+1]=Math.sin(s)*u,i[r+2]=Math.sin(n)*a}function Oge(e,t,i,r){k0(e,t,i,r),Vf(i,r,i,r)}function Rge(e,t,i,r,s){const n=.4999999*Math.PI,a=bn(um*e[t+1],-n,n),u=Math.sin(a);i[r++]=um*e[t]*s.radius,i[r++]=s.halfSemiMajorAxis*Math.log((1+u)/(1-u)),i[r]=e[t+2]}function Ff(e,t,i,r){Rge(e,t,i,r,ni)}function jf(e,t,i,r){i[r]=e[t]*ZF,i[r+1]=e[t+1]*ZF,i[r+2]=e[t+2]}function Uf(e,t,i,r){i[r]=e[t]*YF,i[r+1]=e[t+1]*YF,i[r+2]=e[t+2]}function Cge(e,t,i,r){k0(e,t,i,r),jf(i,r,i,r)}function Ige(e,t,i,r){Gf(e,t,i,r),jf(i,r,i,r)}function Nge(e,t,i,r){zf(e,t,i,r),jf(i,r,i,r)}function Pge(e,t,i,r){Uf(e,t,i,r),F0(i,r,i,r)}function Lge(e,t,i,r){Uf(e,t,i,r),Ff(i,r,i,r)}function Dge(e,t,i,r){Uf(e,t,i,r),Vf(i,r,i,r)}function TN(e,t,i,r,s){const n=s+e[t+2],a=um*e[t+1],u=um*e[t],d=Math.cos(a)*n;i[r]=Math.cos(u)*d,i[r+1]=Math.sin(u)*d,i[r+2]=Math.sin(a)*n}function qF(e,t,i,r){TN(e,t,i,r,Xu.radius)}function BF(e,t,i,r){TN(e,t,i,r,Wo.radius)}function F0(e,t,i,r){TN(e,t,i,r,ni.radius)}function EN(e,t,i,r,s){const n=e[t],a=e[t+1],u=e[t+2],d=Math.sqrt(n*n+a*a+u*u),f=Foe(u/(d===0?1:d)),g=Math.atan2(a,n);i[r++]=cm*g,i[r++]=cm*f,i[r]=d-s}function HF(e,t,i,r){EN(e,t,i,r,Xu.radius)}function WF(e,t,i,r){EN(e,t,i,r,Wo.radius)}function zf(e,t,i,r){EN(e,t,i,r,ni.radius)}function kge(e,t,i,r){zf(e,t,i,r),Ff(i,r,i,r)}function Fge(e,t,i,r){zf(e,t,i,r),Vf(i,r,i,r)}function jge(e,t,i,r,s){const n=um*e[t],a=um*e[t+1],u=e[t+2],d=Math.sin(a),f=Math.cos(a),g=s.radius/Math.sqrt(1-s.eccentricitySquared*d*d);i[r++]=(g+u)*f*Math.cos(n),i[r++]=(g+u)*f*Math.sin(n),i[r++]=(g*(1-s.eccentricitySquared)+u)*d}function Vf(e,t,i,r){jge(e,t,i,r,ni)}function Gf(e,t,i,r){const s=$ge,n=e[t],a=e[t+1],u=e[t+2];let d,f,g,v,w,S,T,E,M,R,P,N,k,U,Z,re,oe,pe,me,_e,we;d=Math.abs(u),f=n*n+a*a,g=Math.sqrt(f),v=f+u*u,w=Math.sqrt(v),_e=Math.atan2(a,n),S=u*u/v,T=f/v,U=s.a2/w,Z=s.a3-s.a4/w,T>.3?(E=d/w*(1+T*(s.a1+U+S*Z)/w),me=Math.asin(E),R=E*E,M=Math.sqrt(1-R)):(M=g/w*(1-S*(s.a5-U-T*Z)/w),me=Math.acos(M),R=1-M*M,E=Math.sqrt(R)),P=1-ni.eccentricitySquared*R,N=ni.radius/Math.sqrt(P),k=s.a6*N,U=g-N*M,Z=d-k*E,oe=M*U+E*Z,re=M*Z-E*U,pe=re/(k/P+oe),me+=pe,we=oe+re*pe/2,u<0&&(me=-me),i[r++]=cm*_e,i[r++]=cm*me,i[r]=we}function Uge(e,t,i,r){Gf(e,t,i,r),F0(i,r,i,r)}function zge(e,t,i,r){Gf(e,t,i,r),Ff(i,r,i,r)}const Sa={source:{spatialReference:null,spatialReferenceId:G.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:G.UNKNOWN,metersPerUnit:1},projector:Ht},um=V2(1),cm=oG(1),tW=.5*Math.PI,eh=ni.radius,ZF=eh*Math.PI/180,YF=180/(eh*Math.PI);function o1(e,t,i,r,s,n,a=Math.floor(e.length/3)){const u=eW(t,s);if(u==null)return!1;if(u===Ht){if(e===r&&i===n)return!0;const f=i+3*a;for(let g=i,v=n;g<f;g++,v++)r[v]=e[g];return!0}const d=i+3*a;for(let f=i,g=n;f<d;f+=3,g+=3)u(e,f,r,g);return!0}const jNe=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:o1},Symbol.toStringTag,{value:"Module"}));function JF(e,t,i,r,s,n){return uw[0]=e,uw[1]=t,uw[2]=i,o1(uw,r,0,s,n,0)}const uw=fc();let cw=0,Kx=class IR{static fromGE(t){const i=new IR;return i._wkt=t.wkt,i._wkid=t.wkid,i._isInverse=t.isInverse,i}constructor(t){this.uid=cw++,t?(this._wkt=t.wkt!=null?t.wkt:null,this._wkid=t.wkid!=null?t.wkid:-1,this._isInverse=t.isInverse!=null&&t.isInverse===!0):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(t){this._wkt=t,this.uid=cw++}get wkid(){return this._wkid}set wkid(t){this._wkid=t,this.uid=cw++}get isInverse(){return this._isInverse}set isInverse(t){this._isInverse=t,this.uid=cw++}getInverse(){const t=new IR;return t._wkt=this.wkt,t._wkid=this._wkid,t._isInverse=!this.isInverse,t}},JS=class o0{static cacheKey(t,i){var r,s,n,a,u,d;return[((r=t.wkid)==null?void 0:r.toString())??"-1",((s=t.wkt)==null?void 0:s.toString())??"",((n=t.wkt2)==null?void 0:n.toString())??"",((a=i.wkid)==null?void 0:a.toString())??"-1",((u=i.wkt)==null?void 0:u.toString())??"",((d=i.wkt2)==null?void 0:d.toString())??""].join()}static fromGE(t){const i=new o0;let r="";for(const s of t.steps){const n=Kx.fromGE(s);i.steps.push(n),r+=n.uid.toString()+","}return i._cachedProjection={},i._gtlistentry=null,i._chain=r,i}constructor(t){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,t==null?void 0:t.steps)for(const i of t.steps)i instanceof Kx?this.steps.push(i):this.steps.push(new Kx({wkid:i.wkid,wkt:i.wkt,isInverse:i.isInverse}))}getInverse(){const t=new o0;t.steps=[];for(let i=this.steps.length-1;i>=0;i--){const r=this.steps[i];t.steps.push(r.getInverse())}return t}getGTListEntry(){let t="";for(const i of this.steps)t+=i.uid.toString()+",";return t!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=t),this._gtlistentry}assignCachedGe(t,i,r){this._cachedProjection[o0.cacheKey(t,i)]=r}getCachedGeTransformation(t,i){let r="";for(const n of this.steps)r+=n.uid.toString()+",";r!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=r);const s=this._cachedProjection[o0.cacheKey(t,i)];return s===void 0?null:s}},uo=null,lc=null,j0=null,F_={};const $N=new kv;function bc(){return!!uo&&sI()}function iW(){return!!bc()||(Pe($N),uc(),!1)}function rW(e,t){return!e||!t||ea(e,t)||iW()}function Vge(e,t){return!ea(e,t)&&!bc()}function uc(e){return j0==null&&(j0=Promise.all([wV(),ue(()=>import("./geometryEngineBase-B0ZyeKAX.js"),__vite__mapDeps([40,6]),import.meta.url).then(t=>t.g),ue(()=>import("./hydrated-B4FdvIuh.js"),[],import.meta.url)])),j0.then(([,t,{hydratedAdapter:i}])=>{ei(e),lc=i,uo=t.default,uo._enableProjection(rne),$N.notify()})}function wc(e,t,i=null,r=null){return Array.isArray(e)?e.length===0?[]:(Cae(e),NR(lc,e,e[0].spatialReference,t,i,r)):(sm(e),NR(lc,[e],e.spatialReference,t,i,r)[0])}function NR(e,t,i,r,s=null,n=null){if(i==null||r==null)return t;if(ea(i,r,s))return t.map(a=>j_(a,i,r));if(s==null&&IS(i))return t.map(a=>j_(a,i,He.WGS84)).map(a=>gv(a,r));if(s==null&&IS(r))return t.map(a=>gv(a,He.WGS84)).map(a=>j_(a,He.WGS84,r));if(s==null){const a=JS.cacheKey(i,r);F_[a]!==void 0?s=F_[a]:((s=nW(i,r,void 0))==null&&(s=new JS),F_[a]=s)}if(uo==null||e==null)throw new wT;return n!=null?uo._project(e,t,i,r,s,n):uo._project(e,t,i,r,s)}function Gge(e,t){const i=sW([e],t);return i.pending!=null?{pending:i.pending,geometry:null}:i.geometries!=null?{pending:null,geometry:i.geometries[0]}:{pending:null,geometry:null}}function sW(e,t){if(!bc()){for(const i of e)if(i!=null&&!Vi(i.spatialReference,t)&&Ls(i.spatialReference)&&Ls(t)&&!ea(i.spatialReference,t))return Pe($N),{pending:uc(),geometries:null}}return{pending:null,geometries:e.map(i=>i==null?null:Vi(i.spatialReference,t)?i:Ls(i.spatialReference)&&Ls(t)?gv(i,t):null)}}function nW(e,t,i=null){if(e==null||t==null)return null;if(uo==null||lc==null)throw new wT;const r=uo._getTransformation(lc,e,t,i,i==null?void 0:i.spatialReference);return r!==null?JS.fromGE(r):null}function qge(e,t,i=null){if(uo==null||lc==null)throw new wT;const r=uo._getTransformationBySuitability(lc,e,t,i,i==null?void 0:i.spatialReference);if(r!==null){const s=[];for(const n of r)s.push(JS.fromGE(n));return s}return[]}let wT=class extends z{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}};function Bge(){uo=null,lc=null,j0=null,F_={}}const Hge={get loadPromise(){return j0}};function gv(e,t){try{const i=wc(e,t);if(i==null)return null;"xmin"in e&&"xmin"in i&&(i.zmin=e.zmin,i.zmax=e.zmax);const r=lB(i.type,e.spatialReference,t);return r!=null&&r(i),i}catch(i){if(!(i instanceof wT))throw i;return null}}async function Wge(e,t,i){const r=e.spatialReference;return r!=null&&t!=null&&await xN(r,t,null,i),gv(e,t)}function ea(e,t,i){return!i&&(!!Vi(e,t)||Ls(e)&&Ls(t)&&!!eW(e,t))}function Zge(e,t){if(Vi(e,t))return!0;if(!Ls(e)||!Ls(t))return!1;const i=lh(e)||Jo(e)||y5(e),r=lh(t)||Jo(t)||y5(t);return i&&r}async function xN(e,t,i,r){if(bc())return m4(r);if(Array.isArray(e)){for(const{source:s,dest:n,geographicTransformation:a}of e)if(s&&n&&!ea(s,n,a))return uc(r)}else if(e&&t&&!ea(e,t,i))return uc(r);return m4(r)}function j_(e,t,i){return e?"x"in e?oW(e,t,new Be,i,0):"xmin"in e?cW(e,t,new kt,i,0):"rings"in e?uW(e,t,new fo,i,0):"paths"in e?lW(e,t,new no,i,0):"points"in e?aW(e,t,new Q2,i,0):null:null}function Yge(e,t,i=t.spatialReference,r=0){return i!=null&&e.spatialReference!=null&&oW(e,e.spatialReference,t,i,r)!=null}function oW(e,t,i,r,s){Er[0]=e.x,Er[1]=e.y;const n=e.z;return Er[2]=n!==void 0?n:s,o1(Er,t,0,Er,r,0)?(i.x=Er[0],i.y=Er[1],i.spatialReference=r,n!==void 0||Qu(r)?(i.z=Er[2],i.hasZ=!0):(i.z=void 0,i.hasZ=!1),e.m===void 0?(i.m=void 0,i.hasM=!1):(i.m=e.m,i.hasM=!0),i):null}function Jge(e,t,i=t.spatialReference,r=0){return e.spatialReference!=null&&i!=null&&aW(e,e.spatialReference,t,i,r)!=null}function aW(e,t,i,r,s){const{points:n,hasZ:a,hasM:u}=e,d=[],f=n.length,g=[];for(const w of n)g.push(w[0],w[1],a?w[2]:s);if(!o1(g,t,0,g,r,0,f))return null;const v=a||Qu(r);for(let w=0;w<f;++w){const S=3*w,T=g[S],E=g[S+1];v&&u?d.push([T,E,g[S+2],n[w][3]]):v?d.push([T,E,g[S+2]]):u?d.push([T,E,n[w][2]]):d.push([T,E])}return i.points=d,i.spatialReference=r,i.hasZ=a,i.hasM=u,i}function Xge(e,t,i=t.spatialReference,r=0){return e.spatialReference!=null&&i!=null&&lW(e,e.spatialReference,t,i,r)!=null}function lW(e,t,i,r,s){const{paths:n,hasZ:a,hasM:u}=e,d=[];if(!dW(n,a??!1,u??!1,t,d,r,s))return null;const f=a||Qu(r);return i.paths=d,i.spatialReference=r,i.hasZ=f,i.hasM=u,i}function Qge(e,t,i=t.spatialReference,r=0){return e.spatialReference!=null&&i!=null&&uW(e,e.spatialReference,t,i,r)!=null}function uW(e,t,i,r,s){const{rings:n,hasZ:a,hasM:u}=e,d=[];if(!dW(n,a??!1,u??!1,t,d,r,s))return null;const f=a||Qu(r);return i.rings=d,i.spatialReference=r,i.hasZ=f,i.hasM=u,i}function Kge(e,t,i=t.spatialReference,r=0){return e.spatialReference!=null&&i!=null&&cW(e,e.spatialReference,t,i,r)!=null}function cW(e,t,i,r,s){const{xmin:n,ymin:a,xmax:u,ymax:d,hasZ:f,hasM:g}=e,v=f?e.zmin:s;if(!JF(n,a,v,t,Er,r))return null;const w=f||Qu(r);i.xmin=Er[0],i.ymin=Er[1],w&&(i.zmin=Er[2]);const S=f?e.zmax:s;return JF(u,d,S,t,Er,r)?(i.xmax=Er[0],i.ymax=Er[1],w&&(i.zmax=Er[2]),g&&(i.mmin=e.mmin,i.mmax=e.mmax),i.spatialReference=r,i):null}function dW(e,t,i,r,s,n,a=0){const u=new Array;for(const g of e)for(const v of g)u.push(v[0],v[1],t?v[2]:a);if(!o1(u,r,0,u,n,0))return!1;let d=0;s.length=0;const f=t||Qu(n);for(const g of e){const v=new Array;for(const w of g)f&&i?v.push([u[d++],u[d++],u[d++],w[3]]):f?v.push([u[d++],u[d++],u[d++]]):i?(v.push([u[d++],u[d++],w[2]]),d++):(v.push([u[d++],u[d++]]),d++);s.push(v)}return!0}const Er=fc(),zNe=Object.freeze(Object.defineProperty({__proto__:null,canProjectWithoutEngine:ea,getTransformation:nW,getTransformations:qge,initializeProjection:xN,isEqualBaseGCS:Zge,isLoaded:bc,isLoadedOrLoad:iW,isLoadedOrLoadFor:rW,load:uc,project:wc,projectExtent:Kge,projectMany:NR,projectMultipoint:Jge,projectOrLoad:Gge,projectOrLoadMany:sW,projectPoint:Yge,projectPolygon:Qge,projectPolyline:Xge,projectWithZConversion:Wge,projectWithoutEngine:j_,requiresLoad:Vge,test:Hge,tryProjectWithZConversion:gv,unload:Bge},Symbol.toStringTag,{value:"Module"}));async function e0e(e){const t=e.spatialReference;if(t.isWGS84)return e.clone();if(t.isWebMercator)return _f(e);const i=He.WGS84;return await xN(t,i),wc(e,i)}function t0e(e,t){if(!hW(e,t)){const i=e.typeKeywords;i?i.push(t):e.typeKeywords=[t]}}function hW(e,t){var i;return!!((i=e.typeKeywords)!=null&&i.includes(t))}function VNe(e){return hW(e,r0e.HOSTED_SERVICE)}function i0e(e,t){const i=e.typeKeywords;if(i){const r=i.indexOf(t);r>-1&&i.splice(r,1)}}function GNe(e,t,i){i?t0e(e,t):i0e(e,t)}async function qNe(e){const t=e.clone().normalize();let i;if(t.length>1)for(const r of t)i?r.width>i.width&&(i=r):i=r;else i=t[0];return e0e(i)}const r0e={GROUP_LAYER_MAP:"Map",HOSTED_SERVICE:"Hosted Service",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",ORIENTED_IMAGERY_LAYER:"OrientedImageryLayer",SINGLE_LAYER:"Singlelayer",SUBTYPE_GROUP_LAYER:"SubtypeGroupLayer",SUBTYPE_GROUP_TABLE:"SubtypeGroupTable",TABLE:"Table",TILED_IMAGERY:"Tiled Imagery"};function s0e(e){var d;const{portal:t,isOrgItem:i,itemControl:r}=e,s=(d=t.user)==null?void 0:d.privileges;let n=!s||s.includes("features:user:edit"),a=!!i&&!!(s!=null&&s.includes("features:user:fullEdit"));const u=r==="update"||r==="admin";return u?a=n=!0:a&&(n=!0),{features:{edit:n,fullEdit:a},content:{updateItem:u}}}const n0e=e=>{let t=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=Zt(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(i){i!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",i))}readPortalItem(i,r,s){if(r.itemId)return new D0({id:r.itemId,portal:s==null?void 0:s.portal})}writePortalItem(i,r){i!=null&&i.id&&(r.itemId=i.id)}async loadFromPortal(i,r){var s;if((s=this.portalItem)!=null&&s.id)try{const{load:n}=await ue(()=>import("./layersLoader-CXMaH_-F.js"),__vite__mapDeps([173,19,20,18,174]),import.meta.url);return ei(r),await n({instance:this,supportedTypes:i.supportedTypes,validateItem:i.validateItem,supportsData:i.supportsData,layerModuleTypeMap:i.layerModuleTypeMap,populateGroupLayer:i.populateGroupLayer},r)}catch(n){throw Cr(n)||ne.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})
  ${n}`),n}}async finishLoadEditablePortalLayer(i){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(i).catch(r=>(qo(r),!0)))}async setUserPrivileges(i,r){if(!bt.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(r);if(this.url)try{const{features:{edit:s,fullEdit:n},content:{updateItem:a}}=await this._fetchUserPrivileges(i,r);this._set("userHasEditingPrivileges",s),this._set("userHasFullEditingPrivileges",n),this._set("userHasUpdateItemPrivileges",a)}catch(s){qo(s)}}async _fetchUserPrivileges(i,r){let s=this.portalItem;if(!i||!s||!s.loaded||s.sourceUrl)return this._fetchFallbackUserPrivileges(r);const n=!(Ge!=null&&Ge.findCredential(this.url)),a=i===s.id;if(a&&s.portal.user)return this._getUserPrivileges(s,n);let u,d;if(a)u=s.portal.url;else try{u=await eN(this.url,r)}catch(w){qo(w)}if(!u||!cse(u,s.portal.url))return this._fetchFallbackUserPrivileges(r);try{const w=r!=null?r.signal:null;d=await(Ge==null?void 0:Ge.getCredential(`${u}/sharing`,{prompt:!1,signal:w}))}catch(w){qo(w)}const f=!0,g=!1,v=!1;if(!d)return{features:{edit:f,fullEdit:g},content:{updateItem:v}};try{if(a?await s.reload():(s=new D0({id:i,portal:{url:u}}),await s.load(r)),s.portal.user)return this._getUserPrivileges(s,n)}catch(w){qo(w)}return{features:{edit:f,fullEdit:g},content:{updateItem:v}}}_getUserPrivileges(i,r){const s=s0e(i);return r&&(s.features.edit=!0),s}async _fetchFallbackUserPrivileges(i){let r=!0;try{r=await this._fetchUserHasEditingPrivileges(i)}catch(s){qo(s)}return{features:{edit:r,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(i){const r=this.url?Ge==null?void 0:Ge.findCredential(this.url):null;if(!r)return!0;const s=dw.credential===r?dw.user:await this._fetchEditingUser(i);return dw.credential=r,dw.user=s,(s==null?void 0:s.privileges)==null||s.privileges.includes("features:user:edit")}async _fetchEditingUser(i){var g,v;const r=(v=(g=this.portalItem)==null?void 0:g.portal)==null?void 0:v.user;if(r)return r;const s=Ge==null?void 0:Ge.findServerInfo(this.url??"");if(!(s!=null&&s.owningSystemUrl))return null;const n=`${s.owningSystemUrl}/sharing/rest`,a=ms.getDefault();if(a&&a.loaded&&oo(a.restUrl)===oo(n))return a.user;const u=`${n}/community/self`,d=i!=null?i.signal:null,f=await X2(Lt(u,{authMode:"no-prompt",query:{f:"json"},signal:d}));return f.ok?LI.fromJSON(f.value.data):null}read(i,r){r&&(r.layer=this),super.read(i,r)}write(i,r){var a;const s=r==null?void 0:r.portal,n=((a=this.portalItem)==null?void 0:a.id)&&(this.portalItem.portal||ms.getDefault());return s&&n&&!sV(n.restUrl,s.restUrl)?(r.messages&&r.messages.push(new z("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(i,{...r,layer:this})}};return c([p({type:D0})],t.prototype,"portalItem",null),c([le("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),c([de("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),c([p({clonable:!1})],t.prototype,"resourceReferences",void 0),c([p({type:Boolean,readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),c([p({type:Boolean,readOnly:!0})],t.prototype,"userHasFullEditingPrivileges",void 0),c([p({type:Boolean,readOnly:!0})],t.prototype,"userHasUpdateItemPrivileges",void 0),t=c([O("esri.layers.mixins.PortalLayer")],t),t},dw={credential:null,user:null};let a0=class extends $e{constructor(){super(...arguments),this.updating=!1,this.status="unknown"}};c([p()],a0.prototype,"updating",void 0),c([p()],a0.prototype,"status",void 0),a0=c([O("esri.layers.support.PublishingInfo")],a0);const o0e=a0,a0e=Symbol(),l0e=e=>{var t;let i=class extends e{constructor(){super(...arguments),this[t]=!0}get publishingInfo(){if(this.destroyed)return null;const r=this._get("publishingInfo");if(r)return r;const s=new o0e;return this._checkPublishingStatus(s),s}_checkPublishingStatus(r){let a=0;const u=async f=>{let g;r.updating=!0;try{g=await this.fetchPublishingStatus()}catch{g="unavailable"}g!=="published"&&g!=="unavailable"||(r.status==="publishing"&&this.refresh(),d.remove()),r.status=g,r.updating=!1,d.removed||(a=setTimeout(u,f,f+125))},d={removed:!1,remove(){this.removed=!0,clearTimeout(a)}};this.when().catch(()=>d.remove()),u(250),this.addHandles(d)}};return t=a0e,c([p({readOnly:!0,clonable:!1})],i.prototype,"publishingInfo",null),i=c([O("esri.layers.mixins.PublishableLayer")],i),i},Gu=new ye,U0=new WeakMap;function u0e(e){d0e(e)&&Gu.push(new WeakRef(e))}function c0e(e){const t=Gu.find(i=>i.deref()===e);t&&Gu.remove(t)}function d0e(e){return e!=null&&typeof e=="object"&&"refreshInterval"in e&&"refresh"in e}function pW(e,t){return Number.isFinite(e)&&Number.isFinite(t)?t<=0?e:pW(t,e%t):0}let eM=0,hw=0;function h0e(){const e=Date.now();let t=!1;for(const i of Gu){const r=i.deref();r?r.refreshInterval&&e-(U0.get(r)??0)+5>=6e4*r.refreshInterval&&(U0.set(r,e),r.refresh(e)):t=!0}if(t)for(let i=Gu.length-1;i>=0;i--)Gu.at(i).deref()||Gu.removeAt(i)}gz(()=>{const e=Date.now();let t=0;for(const i of Gu){const r=i.deref();r&&(t=pW(Math.round(6e4*r.refreshInterval),t),r.refreshInterval?U0.get(r)||U0.set(r,e):U0.delete(r))}if(t!==hw){if(hw=t,clearInterval(eM),hw===0)return void(eM=0);eM=setInterval(h0e,hw)}},Qo);const XF=.1,p0e=e=>{let t=class extends e{constructor(...i){super(...i),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=OC(()=>this.hasDataChanged()),this.when().then(()=>{this.destroyed||u0e(this)},()=>{})}destroy(){c0e(this)}castRefreshInterval(i){return i>=XF?i:i<=0?0:XF}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(i=Date.now()){X0(this._debounceHasDataChanged()).then(r=>{r&&this._set("refreshTimestamp",i),this.emit("refresh",{dataChanged:r})},r=>{ne.getLogger(this).error(r),this.emit("refresh",{dataChanged:!1,error:r})})}async hasDataChanged(){return!0}get test(){}};return c([p({type:Number,json:{write:!0,origins:{"web-scene":{write:{enabled:!0,layerContainerTypes:Jt}}}}})],t.prototype,"refreshInterval",void 0),c([lt("refreshInterval")],t.prototype,"castRefreshInterval",null),c([p({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),c([p({readOnly:!0})],t.prototype,"refreshParameters",null),t=c([O("esri.layers.mixins.RefreshableLayer")],t),t},f0e=e=>{let t=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const i={minScale:this.minScale,maxScale:this.maxScale},r=this.parent;r&&"effectiveScaleRange"in r&&m0e(i,r.effectiveScaleRange);const s=this._get("effectiveScaleRange");return s&&s.minScale===i.minScale&&s.maxScale===i.maxScale?s:i}};return c([p({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),c([p({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),c([p({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=c([O("esri.layers.mixins.ScaleRangeLayer")],t),t};function m0e(e,t){return e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale,e}const fW=rr()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});let l0=class extends rt.ClonableMixin(K){constructor(t){super(t),this.unit="milliseconds",this.value=0}toMilliseconds(){return jG(this.value,this.unit,"milliseconds")}};c([Oe(fW,{nonNullable:!0})],l0.prototype,"unit",void 0),c([p({type:Number,json:{write:!0},nonNullable:!0})],l0.prototype,"value",void 0),l0=c([O("esri.time.TimeInterval")],l0);const vv=l0;function QF(e,t){return vv.fromJSON({value:e,unit:t})}let lr=class extends rt.ClonableMixin(K){constructor(t){super(t),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeZone=null,this.trackIdField=null,this.useTime=!0,this.stops=null}readFullTimeExtent(t,i){return i.timeExtent&&Array.isArray(i.timeExtent)&&i.timeExtent.length===2?dl.fromArray(i.timeExtent):null}writeFullTimeExtent(t,i){(t==null?void 0:t.start)!=null&&t.end!=null?i.timeExtent=t.toArray():i.timeExtent=null}readInterval(t,i){return i.timeInterval&&i.timeIntervalUnits?QF(i.timeInterval,i.timeIntervalUnits):i.defaultTimeInterval&&i.defaultTimeIntervalUnits?QF(i.defaultTimeInterval,i.defaultTimeIntervalUnits):null}writeInterval(t,i){i.timeInterval=(t==null?void 0:t.toJSON().value)??null,i.timeIntervalUnits=(t==null?void 0:t.toJSON().unit)??null}};c([p({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],lr.prototype,"cumulative",void 0),c([p({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],lr.prototype,"endField",void 0),c([p({type:dl,json:{write:{enabled:!0,allowNull:!0}}})],lr.prototype,"fullTimeExtent",void 0),c([le("fullTimeExtent",["timeExtent"])],lr.prototype,"readFullTimeExtent",null),c([de("fullTimeExtent")],lr.prototype,"writeFullTimeExtent",null),c([p({type:Boolean,json:{write:!0}})],lr.prototype,"hasLiveData",void 0),c([p({type:vv,json:{write:{enabled:!0,allowNull:!0}}})],lr.prototype,"interval",void 0),c([le("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],lr.prototype,"readInterval",null),c([de("interval")],lr.prototype,"writeInterval",null),c([p({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],lr.prototype,"startField",void 0),c([p(DS("timeReference",!0))],lr.prototype,"timeZone",void 0),c([p({type:String,json:{write:{enabled:!0,allowNull:!0}}})],lr.prototype,"trackIdField",void 0),c([p({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],lr.prototype,"useTime",void 0),c([p({type:[Date],json:{read:!1}})],lr.prototype,"stops",void 0),lr=c([O("esri.layers.support.TimeInfo")],lr);const mW=lr,y0e={type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation",layerContainerTypes:Jt}}},g0e=e=>{let t=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(i,r){const s=r.timeInfo.exportOptions;if(!s)return null;const n=s.timeOffset,a=fW.fromJSON(s.timeOffsetUnits);return n&&a?new vv({value:n,unit:a}):null}set timeInfo(i){zV(i,this.fieldsIndex),this._set("timeInfo",i)}};return c([p({type:dl,json:{write:!1}})],t.prototype,"timeExtent",void 0),c([p({type:vv})],t.prototype,"timeOffset",void 0),c([le("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),c([p({value:null,type:mW,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),c([p(y0e)],t.prototype,"useViewTime",void 0),t=c([O("esri.layers.mixins.TemporalLayer")],t),t};let Rd=class extends rt.ClonableMixin(K){constructor(t){super(t),this.labelingInfo=null,this.labelsVisible=!0,this.renderer=null,this.visible=!0}};c([p({type:[s1],json:{write:!0}})],Rd.prototype,"labelingInfo",void 0),c([p(cT)],Rd.prototype,"labelsVisible",void 0),c([p({types:n1,json:{write:!0}})],Rd.prototype,"renderer",void 0),c([p({type:Boolean,json:{write:!0}})],Rd.prototype,"visible",void 0),Rd=c([O("esri.layers.support.TrackPartInfo")],Rd);const qf=Rd;let ss=class extends rt.ClonableMixin(K){constructor(t){super(t),this.enabled=!0,this.fields=[],this.latestObservations=new qf({renderer:new ol({symbol:qS.clone()})}),this.maxDisplayDuration=null,this.maxDisplayObservationsPerTrack=0,this.popupEnabled=!0,this.popupTemplate=null,this.previousObservations=new qf({renderer:new ol({symbol:qS.clone()})}),this.trackLines=new qf({renderer:new ol({symbol:aN.clone()})}),this.timeField="startTimeField"}writeFields(t,i,r){const s=t.filter(n=>n.statisticType!=="avg_angle").map(n=>n.toJSON());ir(r,s,i)}};c([p({type:Boolean,json:{write:!0}})],ss.prototype,"enabled",void 0),c([p({type:[ac],json:{write:!0}})],ss.prototype,"fields",void 0),c([de("fields")],ss.prototype,"writeFields",null),c([p({type:qf,json:{write:!0}})],ss.prototype,"latestObservations",void 0),c([p({type:vv,json:{write:!0}})],ss.prototype,"maxDisplayDuration",void 0),c([p({type:Number,json:{write:!0}})],ss.prototype,"maxDisplayObservationsPerTrack",void 0),c([p(uT)],ss.prototype,"popupEnabled",void 0),c([p({type:Th,json:{name:"popupInfo",write:!0}})],ss.prototype,"popupTemplate",void 0),c([p({type:qf,json:{write:!0}})],ss.prototype,"previousObservations",void 0),c([p({type:qf,json:{write:!0}})],ss.prototype,"trackLines",void 0),c([p({type:["timeReceived","startTimeField","endTimeField"],json:{read:!0,write:!0}})],ss.prototype,"timeField",void 0),ss=c([O("esri.layers.support.TrackInfo")],ss);const v0e=ss,b0e=e=>{let t=class extends e{constructor(){super(...arguments),this.trackInfo=null}};return c([p({type:v0e})],t.prototype,"trackInfo",void 0),t=c([O("esri.layers.mixins.TrackableLayer")],t),t},KF=new et({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let vu=class extends rt.ClonableMixin(K){constructor(t){super(t),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};c([p({json:{write:!0}})],vu.prototype,"name",void 0),c([p({json:{write:!0}})],vu.prototype,"description",void 0),c([p({json:{read:KF.read,write:KF.write}})],vu.prototype,"drawingTool",void 0),c([p({json:{write:!0}})],vu.prototype,"prototype",void 0),c([p({json:{write:!0}})],vu.prototype,"thumbnail",void 0),vu=c([O("esri.layers.support.FeatureTemplate")],vu);const MN=vu;let za=class extends rt.ClonableMixin(K){constructor(t){super(t),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(t){const i={};for(const r of Object.keys(t))i[r]=Z2(t[r]);return i}writeDomains(t,i){var s;const r={};for(const n of Object.keys(t))t[n]&&(r[n]=(s=t[n])==null?void 0:s.toJSON());i.domains=r}};c([p({json:{write:!0}})],za.prototype,"id",void 0),c([p({json:{write:!0}})],za.prototype,"name",void 0),c([p({json:{write:!0}})],za.prototype,"domains",void 0),c([le("domains")],za.prototype,"readDomains",null),c([de("domains")],za.prototype,"writeDomains",null),c([p({type:[MN],json:{write:!0}})],za.prototype,"templates",void 0),za=c([O("esri.layers.support.FeatureType")],za);const yW=za;function w0e(){return{fields:{type:[WI],value:null,set:function(e){if(e&&B("big-integer-warning-enabled")){const t=e.filter(i=>i.type==="big-integer"||i.type==="oid"&&(i.length||0)>=8);if(t.length){const i=t.map(r=>`'${r.name}'`).join(", ");ne.getLogger(this).warn("#fields",`Layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}') references big-integer field(s): ${i}, support for which is experimental. Only integers less than ${Number.MAX_SAFE_INTEGER} (Number.MAX_SAFE_INTEGER) are supported.`)}}this._set("fields",e)}},fieldsIndex:{readOnly:!0,get(){return AH.fromLayer(this)}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){var t;const e=this._userOutFields;if(!(e!=null&&e.length))return null;if(e.includes("*"))return["*"];if(!this.fields)return e;for(const i of e)((t=this.fieldsIndex)==null?void 0:t.has(i))||ne.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${i} found in outFields`,{layer:this,outFields:e});return j2(this.fieldsIndex,e)}}}}const tM=()=>ne.getLogger("esri.layers.support.labelingInfo"),_0e=/\[([^[\]]+)\]/gi;function iM(e,t,i){return e?e.map(r=>{var n;const s=new s1;if(s.read(r,i),s.labelExpression){const a=t.fields||((n=t.layerDefinition)==null?void 0:n.fields)||this.fields;s.labelExpression=s.labelExpression.replaceAll(_0e,(u,d)=>`[${S0e(d,a)}]`)}return s}):null}function S0e(e,t){if(!t)return e;const i=e.toLowerCase();for(let r=0;r<t.length;r++){const s=t[r].name;if(s.toLowerCase()===i)return s}return e}const T0e={esriGeometryPoint:["above-right","above-center","above-left","center-center","center-left","center-right","below-center","below-left","below-right"],esriGeometryMultiPatch:["always-horizontal"],esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along","above-along","below-along"],esriGeometryMultipoint:null,esriGeometryEnvelope:null};function QNe(e,t){const i=[];for(const r of e){const s=r.labelPlacement,n=T0e[t];if(!r.symbol)return tM().warn("No ILabelClass symbol specified."),[];if(!n)return tM().error(new z("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${t}' is not supported`)),[];if(n.includes(s))i.push(r);else{const a=n[0];s&&tM().warn(`Found invalid label placement type ${s} for ${t}. Defaulting to ${a}`);const u=r.clone();u.labelPlacement=a,i.push(u)}}return i}const E0e="relationships/",$0e="expression/";let Fr=class extends $e{constructor(t){super(t),this._featureUtils=null,this.effectivePopupTemplate=null}get _arcadeTask(){return this.expressionsUsedInTitle.length>0?this._get("_arcadeTask")||Hv(()=>Ku()):null}get featureUtilsPromise(){return this._get("featureUtilsPromise")??ue(()=>import("./featureUtils-DYgWE9Sv.js"),__vite__mapDeps([175,35]),import.meta.url).then(t=>this._featureUtils=t)}get calculatedExpressions(){var i;const t=new ye;if(!this.expressionsUsedInTitle.length)return t;if(!((i=this._arcadeTask)!=null&&i.value)){for(const r of this.expressionsUsedInTitle??[])t.push({name:r.name,invalid:!0});return t}for(const r of this.expressionsUsedInTitle)try{const s=this._arcadeTask.value.arcade.parseScript(r.expression,["$layer","$map","$datastore"]);if(s.isAsync){t.push({name:r.name,invalid:!0});break}t.push({name:r.name,syntax:s,invalid:!1,func:this._arcadeTask.value.arcade.compileScript(s,{vars:{$feature:"any"}})})}catch{t.push({name:r.name,invalid:!0});break}return t}get expressionsUsedInTitle(){var i,r,s;let t=((i=this.effectivePopupTemplate)==null?void 0:i.title)??"";return typeof t!="string"?[]:(t=t.toLowerCase(),((s=(r=this.effectivePopupTemplate)==null?void 0:r.expressionInfos)==null?void 0:s.filter(n=>t.includes(`{expression/${n.name.toLowerCase()}}`)))??[])}get fieldInfoMap(){return this._featureUtils?this._createFieldInfoMap(this._featureUtils.getAllFieldInfos(this.effectivePopupTemplate)):null}get hasBadExpressions(){return this.calculatedExpressions.some(t=>t.invalid===!0)}get requiredFields(){var r,s;const t=new Set;if((r=this._arcadeTask)!=null&&r.value&&!this.hasBadExpressions)for(const n of((s=this.calculatedExpressions)==null?void 0:s.toArray())??[])try{const a=this._arcadeTask.value.arcade.extractFieldLiterals(n.syntax);for(const u of a){const d=u.split("."),f=this.fieldsIndex.get(d.at(-1)??"");f&&t.add(f.name)}}catch{}const i=this._extractFieldNames(this.workingTitle);for(const n of i){const a=this.fieldsIndex.get(n);a&&t.add(a.name)}return t}get titleFromDisplayField(){var i,r;let t="";return this.displayField&&(t=((i=this.fieldsIndex.get(this.displayField))==null?void 0:i.name)??""),t||(t=((r=this.fieldsIndex.get(this.objectIdField))==null?void 0:r.name)??""),t?`{${t}}`:""}get workingTitle(){const t=this.effectivePopupTemplate?this.effectivePopupTemplate.title:"";return t===""||t==null||this.hasBadExpressions||typeof t!="string"?this.titleFromDisplayField:t}async getTitle(t,i,r){var s;try{const{attributes:n}=i,a=(r==null?void 0:r.timeZone)??"system",[{substituteFieldsInLinksAndAttributes:u}]=await Promise.all([this.featureUtilsPromise,(s=this._arcadeTask)==null?void 0:s.promise]);if(r.fetchMissingFields&&(i=await this._checkAndReQueryGraphic(t,i)),this.workingTitle&&this.fieldInfoMap){const d=this._createFormattedAttributes(t,i,a).global;return u({attributes:n,expressionAttributes:null,fieldInfoMap:this.fieldInfoMap,globalAttributes:d,layer:t,text:this.workingTitle})}return""}catch{}return""}async _checkAndReQueryGraphic(t,i){const r=i.getObjectId();if(r==null)return i;if(!goe(this.requiredFields,i)){const s=t.createQuery();s.where="1=1",s.outFields=[...this.requiredFields],s.objectIds=[r];const n=await t.queryFeatures(s);if((n==null?void 0:n.features.length)===1)return n.features[0]}return i}_createFieldInfoMap(t){const i=new Map;if(!t)return i;for(const r of t){if(!r.fieldName)continue;const s=this.fieldsIndex.get(r.fieldName),n=(s==null?void 0:s.name)??r.fieldName;r.fieldName=n,i.set(n.toLowerCase(),r)}return i}_createFormattedAttributes(t,i,r="system"){var u,d;const s=((u=this.effectivePopupTemplate)==null?void 0:u.fieldInfos)??[],n={};if(!this._featureUtils)return{};if(!this.hasBadExpressions&&this.calculatedExpressions.length>0&&((d=this._arcadeTask)!=null&&d.value)){const f=this._arcadeTask.value.Feature.createFromGraphicLikeObject(i.geometry,i.attributes,t,null);for(const g of this.calculatedExpressions)try{n[`expression/${g.name}`]=g.func({vars:{$feature:f}})}catch{}}const a={...i.attributes,...n};return{global:this._featureUtils.formatAttributes({fieldInfos:s,attributes:a,graphic:i,timeZone:r,layer:t,fieldInfoMap:this.fieldInfoMap}),content:[]}}_extractFieldNames(t){return cI(t).filter(i=>!(i.indexOf(E0e)===0||i.indexOf($0e)===0))}};c([p({readOnly:!0})],Fr.prototype,"_arcadeTask",null),c([p()],Fr.prototype,"_featureUtils",void 0),c([p({readOnly:!0})],Fr.prototype,"featureUtilsPromise",null),c([p({readOnly:!0})],Fr.prototype,"calculatedExpressions",null),c([p()],Fr.prototype,"displayField",void 0),c([p()],Fr.prototype,"effectivePopupTemplate",void 0),c([p()],Fr.prototype,"expressionsUsedInTitle",null),c([p()],Fr.prototype,"fieldsIndex",void 0),c([p()],Fr.prototype,"fieldInfoMap",null),c([p()],Fr.prototype,"fields",void 0),c([p()],Fr.prototype,"objectIdField",void 0),c([p()],Fr.prototype,"requiredFields",null),Fr=c([O("esri.layers.support.TitleCreator")],Fr);const x0e=Fr,af=[];function M0e(e,t){if($S(e.url??""))return!0;const{wkid:i}=t;for(const r of af){if((e.version??0)>=r[0])return!0;if(typeof r[1]=="function"&&(r[1]=r[1]()),r[1].has(i))return!1}return!0}af.push([10.91,()=>{const e=new Set([9709,9716,9741,9761,9766]);for(let t=9712;t<=9713;t++)e.add(t);for(let t=9748;t<=9749;t++)e.add(t);for(let t=20904;t<=20932;t++)e.add(t);for(let t=21004;t<=21032;t++)e.add(t);for(let t=21207;t<=21264;t++)e.add(t);for(let t=21307;t<=21364;t++)e.add(t);for(let t=23301;t<=23333;t++)e.add(t);for(let t=102759;t<=102760;t++)e.add(t);for(let t=102934;t<=102955;t++)e.add(t);return e}]),af.push([10.9,()=>{const e=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let t=9356;t<=9360;t++)e.add(t);for(let t=9404;t<=9407;t++)e.add(t);for(let t=9476;t<=9482;t++)e.add(t);for(let t=9487;t<=9494;t++)e.add(t);for(let t=9697;t<=9699;t++)e.add(t);return e}]),af.push([10.81,()=>{const e=new Set([9265,9333,103598,103699]);for(let t=9248;t<=9254;t++)e.add(t);for(let t=9271;t<=9273;t++)e.add(t);for(let t=9284;t<=9285;t++)e.add(t);for(let t=21453;t<=21463;t++)e.add(t);return e}]),af.push([10.8,()=>{const e=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let t=8035;t<=8036;t++)e.add(t);for(let t=8455;t<=8456;t++)e.add(t);for(let t=8518;t<=8529;t++)e.add(t);for(let t=8533;t<=8536;t++)e.add(t);for(let t=8538;t<=8540;t++)e.add(t);for(let t=8677;t<=8679;t++)e.add(t);for(let t=8902;t<=8903;t++)e.add(t);for(let t=8907;t<=8910;t++)e.add(t);for(let t=8949;t<=8951;t++)e.add(t);for(let t=8972;t<=8987;t++)e.add(t);for(let t=9039;t<=9040;t++)e.add(t);for(let t=9068;t<=9069;t++)e.add(t);for(let t=9140;t<=9141;t++)e.add(t);for(let t=9148;t<=9150;t++)e.add(t);for(let t=9153;t<=9159;t++)e.add(t);for(let t=9205;t<=9218;t++)e.add(t);for(let t=9221;t<=9222;t++)e.add(t);for(let t=54098;t<=54101;t++)e.add(t);return e}]),af.push([10.71,()=>{const e=new Set([6316]);for(let t=8351;t<=8353;t++)e.add(t);for(let t=9294;t<=9297;t++)e.add(t);for(let t=22619;t<=22621;t++)e.add(t);for(let t=103586;t<=103594;t++)e.add(t);return e}]);async function A0e(e,t,i){const r=e&&e.getAtOrigin&&e.getAtOrigin("renderer",t.origin);if(r&&r.type==="unique-value"&&r.styleOrigin){const s=await X2(r.populateFromStyle());if(ei(i),s.ok===!1){const n=s.error;t!=null&&t.messages&&t.messages.push(new vn("renderer:style-reference",`Failed to create unique value renderer from style reference: ${n.message}`,{error:n,context:t})),e.clear("renderer",t==null?void 0:t.origin)}}}function O0e({displayField:e,editFieldsInfo:t,fields:i,objectIdField:r,title:s},n){if(!i)return null;const a=N0e({editFieldsInfo:t,fields:i,objectIdField:r},n);if(!a.length)return null;const u=D0e({titleBase:s,fields:i,displayField:e}),d=L0e();return new Th({title:u,content:d,fieldInfos:a})}function ePe(e){var f;const{title:t,graphic:i}=e??{},{attributes:r,sourceLayer:s}=i??{},n=s&&"displayField"in s?s.displayField:null,a=n?r==null?void 0:r[n]:null,u=a!=null?JSON.stringify(a):null,d=(f=i==null?void 0:i.getObjectId())==null?void 0:f.toString();return t||u||d||""}const R0e=(e,t)=>t.visibleFieldNames?t.visibleFieldNames.has(e.name):Jne(e,t);function C0e({fields:e,ignoreFieldTypes:t,sortDisabled:i}){const r=e;return t&&(e=e.filter(s=>!t.includes(s.type))),e===r&&(e=e.slice()),i!==!0&&e.sort(I0e),e}function I0e(e,t){return e.type==="oid"?-1:t.type==="oid"?1:e9(e)?-1:e9(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function N0e(e,t){const i=t==null?void 0:t.visibleFieldNames;return C0e({fields:e.fields??[],ignoreFieldTypes:(t==null?void 0:t.ignoreFieldTypes)||k0e,sortDisabled:t==null?void 0:t.sortDisabled}).map(r=>new fI({fieldName:r.name,isEditable:Yne(r,e),label:r.alias,format:P0e(r),visible:R0e(r,{...e,visibleFieldNames:i})}))}function P0e(e){switch(e.type){case"small-integer":case"integer":case"single":return new Zw({digitSeparator:!0,places:0});case"double":return new Zw({digitSeparator:!0,places:2});case"string":return boe(e.name)?new Zw({digitSeparator:!0,places:0}):void 0;default:return}}function L0e(){return[new rm,new im]}function D0e(e){const t=Une(e),{titleBase:i}=e;return t?`${i}: {${t.trim()}}`:i??""}function e9(e){var i;return(e.name&&e.name.toLowerCase())==="name"?!0:((i=e.alias)==null?void 0:i.toLowerCase())==="name"}const k0e=["geometry","blob","raster","guid","xml"];var $f;(function(e){e[e.SAVE=0]="SAVE",e[e.SAVE_AS=1]="SAVE_AS"})($f||($f={}));const ar="FeatureLayer";function pw(e,t){return new z("layer:unsupported",`Layer (${e.title}, ${e.id}) of type '${e.declaredClass}' ${t}`,{layer:e})}function t9(e){return e&&e instanceof ye}const rM=w0e();function sM(e,t,i){const r=!!(i!=null&&i.writeLayerSchema);return{enabled:r,ignoreOrigin:r}}let Te=class extends Sme(mge(Whe(l0e(khe(Rhe(ghe(_ge(g0e(b0e(f0e(p0e(jce(gge(n0e(_G(vhe(Fce(rt.ClonableMixin(TI))))))))))))))))))){constructor(...e){super(...e),this.attributeTableTemplate=null,this.charts=null,this.copyright=null,this.displayField=null,this.dynamicDataSource=null,this.fields=null,this.fieldsIndex=null,this.formTemplate=null,this.fullExtent=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.operationalLayerType="ArcGISFeatureLayer",this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.resourceInfo=null,this.screenSizePerspectiveEnabled=!0,this.spatialReference=He.WGS84,this.subtypeCode=null,this.supportedSourceTypes=new Set(["Feature Layer","Oriented Imagery Layer","Table","Catalog Layer"]),this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode="item-title",this.type="feature",this.typeIdField=null,this.types=null,this.visible=!0,this._debouncedSaveOperations=OC(async(t,i,r)=>{const{save:s,saveAs:n}=await ue(()=>import("./featureLayerUtils-Pkt0rNNT.js"),__vite__mapDeps([176,177,178,179,174,180,19]),import.meta.url);switch(t){case $f.SAVE:return s(this,i);case $f.SAVE_AS:return n(this,r,i)}})}destroy(){var e;(e=this.source)==null||e.destroy()}normalizeCtorArgs(e,t){return typeof e=="string"?{url:e,...t}:e}load(e){var r;const t=e!=null?e.signal:null;if((r=this.portalItem)!=null&&r.loaded&&this.source)return this.addResolvingPromise(this.createGraphicsSource(t).then(s=>this.initLayerProperties(s))),Promise.resolve(this);const i=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Scene Service"]},e).catch(qo).then(async()=>{if(this.url&&this.layerId==null&&/FeatureServer|MapServer\/*$/i.test(this.url)){const s=await this._fetchFirstValidLayerId(t);s!=null&&(this.layerId=s)}if(!this.url&&!this._hasMemorySource())throw new z("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return this.initLayerProperties(await this.createGraphicsSource(t))}).then(()=>Gfe(this,"load",e));return this.addResolvingPromise(i),Promise.resolve(this)}get _titleCreator(){const e=this._get("_titleCreator");return Zt(e),new x0e({fieldsIndex:this.fieldsIndex,objectIdField:this.objectIdField,fields:this.fields,displayField:this.displayField,effectivePopupTemplate:this.popupTemplate??this.defaultPopupTemplate})}readCapabilities(e,t){return t=t.layerDefinition||t,wH(t,this.url)}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")??0)+1}get editingEnabled(){var e;return!(this.loaded&&!((e=this.capabilities)!=null&&e.operations.supportsEditing))&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(e){this._overrideIfSome("editingEnabled",e)}readEditingEnabled(e,t){return this._readEditingEnabled(t,!1)}readEditingEnabledFromWebMap(e,t,i){return this._readEditingEnabled(t,!0,i)}writeEditingEnabled(e,t){this._writeEditingEnabled(e,t,!1)}writeEditingEnabledToWebMap(e,t,i,r){this._writeEditingEnabled(e,t,!0,r)}get effectiveEditingEnabled(){return Hfe(this)}get featureTitleFields(){return[...this._titleCreator.requiredFields]}readIsTable(e,t){return(t=(t==null?void 0:t.layerDefinition)??t).type==="Table"||!t.geometryType}writeIsTable(e,t,i,r){r!=null&&r.writeLayerSchema&&ir(i,e?"Table":"Feature Layer",t)}readGlobalIdField(e,t){return uH(t.layerDefinition||t)}readObjectIdField(e,t){return cH(t.layerDefinition||t)}get parsedUrl(){const e=Or(this.url);return e!=null&&(this.dynamicDataSource!=null?e.path=Qf(e.path,"dynamicLayer"):this.layerId!=null&&(e.path=Qf(e.path,this.layerId.toString()))),e}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(e){b5(e,this.fieldsIndex),this._set("renderer",e)}readRenderer(e,t,i){var s;t=t.layerDefinition||t;const r=(s=t.drawingInfo)==null?void 0:s.renderer;if(r){const n=yv(r,t,i)??void 0;return n||ne.getLogger(this).error("Failed to create renderer",{rendererDefinition:t.drawingInfo.renderer,layer:this,context:i}),n}return fN(t,i)}set source(e){const t=this._get("source");t!==e&&(t9(t)&&this._resetMemorySource(t),t9(e)&&this._initMemorySource(e),this._set("source",e))}castSource(e){return e?Array.isArray(e)||e instanceof ye?new Ja({layer:this,items:e}):e:null}readSource(e,t){const i=uB.fromJSON(t.featureSet);return new Ja({layer:this,items:(i==null?void 0:i.features)??[]})}readTemplates(e,t){const i=t.editFieldsInfo,r=i==null?void 0:i.creatorField,s=i==null?void 0:i.editorField;return e=e==null?void 0:e.map(n=>MN.fromJSON(n)),this._fixTemplates(e,r),this._fixTemplates(e,s),e}readTitle(e,t){var s,n,a;const i=((s=t.layerDefinition)==null?void 0:s.name)??t.name,r=t.title||((n=t.layerDefinition)==null?void 0:n.title);if(i){const u=(a=this.portalItem)==null?void 0:a.title;if(this.sublayerTitleMode==="item-title")return this.url?Nse(this.url,i):i;let d=i;if(!d&&this.url){const f=Tm(this.url);f!=null&&(d=f.title)}return d?(this.sublayerTitleMode==="item-title-and-service-name"&&u&&u!==d&&(d=u+" - "+d),rI(d)):void 0}if(this.sublayerTitleMode==="item-title"&&r)return r}readTitleFromWebMap(e,t){var i;return t.title||((i=t.layerDefinition)==null?void 0:i.name)}readTypeIdField(e,t){let i=(t=t.layerDefinition||t).typeIdField;if(i&&t.fields){i=i.toLowerCase();const r=t.fields.find(s=>s.name.toLowerCase()===i);r&&(i=r.name)}return i}readTypes(e,t){e=(t=t.layerDefinition||t).types;const i=t.editFieldsInfo,r=i==null?void 0:i.creatorField,s=i==null?void 0:i.editorField;return e==null?void 0:e.map(n=>(n=yW.fromJSON(n),this._fixTemplates(n.templates,r),this._fixTemplates(n.templates,s),n))}readVisible(e,t){var i;return((i=t.layerDefinition)==null?void 0:i.defaultVisibility)!=null?!!t.layerDefinition.defaultVisibility:t.visibility!=null?!!t.visibility:void 0}async addAttachment(e,t){const i=await Efe(this,e,t,ar);return this.lastEditsEventDate=new Date,i}async updateAttachment(e,t,i){const r=await $fe(this,e,t,i,ar);return this.lastEditsEventDate=new Date,r}async applyEdits(e,t){return xfe(this,e,t)}async uploadAssets(e,t){return Mfe(this,e,t)}on(e,t){return super.on(e,t)}createPopupTemplate(e){return O0e(this,e)}async createGraphicsSource(e){if(this._hasMemorySource()&&this.source)return this.source.load({signal:e});const{default:t}=await uz(ue(()=>import("./FeatureLayerSource-paGQPFPi.js"),__vite__mapDeps([181,69,76,182,183,72,118,71,119,184,185,55,48,186,187,83,81,82,15,14,16,188,13]),import.meta.url),e);return new t({layer:this,supportedSourceTypes:this.supportedSourceTypes}).load({signal:e})}createQuery(){const e=kfe(this);e.dynamicDataSource=this.dynamicDataSource;const t=this.subtypeCode!=null?`${this.subtypeField} = ${this.subtypeCode}`:null,i=$te(this.definitionExpression,t);return e.where=i||"1=1",e}async deleteAttachments(e,t){const i=await Afe(this,e,t,ar);return this.lastEditsEventDate=new Date,i}async fetchRecomputedExtents(e){return Ofe(this,e,ar)}getFeatureTitle(e,t={timeZone:"system",fetchMissingFields:!1}){return this._titleCreator.getTitle(this,e,t)}getFeatureType(e){return pH(this.types,this.typeIdField,e)}getFieldDomain(e,t){var i;return jfe(this,e,t,((i=this.getField(e))==null?void 0:i.domain)??null)}async queryAttachments(e,t){return Rfe(this,e,t,ar)}async queryFeatures(e,t){const i=await this.load(),r=await i.source.queryFeatures(pl.from(e)??i.createQuery(),t);if(r!=null&&r.features)for(const s of r.features)s.layer=s.sourceLayer=i;return r}async queryObjectIds(e,t){return(await Cfe(this,e,t,ar)).filter(A4)}async queryFeatureCount(e,t){return Ife(this,e,t,ar)}async queryExtent(e,t){return Nfe(this,e,t,ar)}async queryRelatedFeatures(e,t){return Pfe(this,e,t,ar)}async queryRelatedFeaturesCount(e,t){return Lfe(this,e,t,ar)}async queryTopFeatures(e,t){var a;const{source:i,capabilities:r}=await this.load();if(!i.queryTopFeatures||!((a=r==null?void 0:r.query)!=null&&a.supportsTopFeaturesQuery))throw new z(ar,"Layer source does not support queryTopFeatures capability");const s=await ue(()=>import("./TopFeaturesQuery-CK4nCeQL.js"),[],import.meta.url),n=await i.queryTopFeatures(s.default.from(e),t);if(n!=null&&n.features)for(const u of n.features)u.layer=u.sourceLayer=this;return n}async queryAttributeBins(e,t){var a;const{source:i,capabilities:r}=await this.load();if(!i.queryAttributeBins||!((a=r==null?void 0:r.operations)!=null&&a.supportsQueryBins))throw new z(ar,"Layer source does not support queryAttributeBins capability");Jfe(e,r,ar);const s=await ue(()=>import("./AttributeBinsQuery--TEcmeSo.js"),__vite__mapDeps([189,45,41,50]),import.meta.url),n=await i.queryAttributeBins(s.default.from(e),t);if(n.features)for(const u of n.features)u.layer=u.sourceLayer=this;return n}async queryTopObjectIds(e,t){const{source:i,capabilities:r}=await this.load();if(!i.queryTopObjectIds||!(r!=null&&r.query.supportsTopFeaturesQuery))throw new z(ar,"Layer source does not support queryTopObjectIds capability");const s=await ue(()=>import("./TopFeaturesQuery-CK4nCeQL.js"),[],import.meta.url);return(await i.queryTopObjectIds(s.default.from(e),t)).filter(A4)}async queryTopFeaturesExtent(e,t){var n;const{source:i,capabilities:r}=await this.load();if(!i.queryTopExtents||!((n=r==null?void 0:r.query)!=null&&n.supportsTopFeaturesQuery))throw new z(ar,"Layer source does not support queryTopExtents capability");const s=await ue(()=>import("./TopFeaturesQuery-CK4nCeQL.js"),[],import.meta.url);return i.queryTopExtents(s.default.from(e),t)}async queryTopFeatureCount(e,t){var n;const{source:i,capabilities:r}=await this.load();if(!i.queryTopCount||!((n=r==null?void 0:r.query)!=null&&n.supportsTopFeaturesQuery))throw new z(ar,"Layer source does not support queryFeatureCount capability");const s=await ue(()=>import("./TopFeaturesQuery-CK4nCeQL.js"),[],import.meta.url);return i.queryTopCount(s.default.from(e),t)}read(e,t){const i=e.featureCollection;if((i||e.type==="Feature Collection")&&(this.resourceInfo=e),i){const r=i.layers;r&&r.length===1&&(super.read(r[0],t),i.showLegend!=null&&super.read({showLegend:i.showLegend},t))}super.read(e,t),t&&t.origin==="service"&&(this.revert(["objectIdField","fields","timeInfo","dateFieldsTimeZone"],"service"),this.spatialReference||this.revert(["spatialReference"],"service"))}write(e,t){t={...t,origin:(t==null?void 0:t.origin)??void 0,writeLayerSchema:(t==null?void 0:t.writeLayerSchema)??this._hasMemorySource()};const{origin:i,layerContainerType:r,messages:s}=t;if(this.dynamicDataSource)return s==null||s.push(pw(this,"using a dynamic data source cannot be written to web scenes, web maps and feature service items")),null;if(this.isTable){if((i==="web-map"||i==="web-scene")&&r!=="tables")return s==null||s.push(pw(this,`a table source can only be written to tables, not ${r}`)),null;if(this._hasMemorySource())return s==null||s.push(pw(this,"using an in-memory table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&(i==="web-map"||i==="web-scene")&&r==="tables")return s==null||s.push(pw(this,"using a non-table source cannot be written to tables in web maps or web scenes")),null;return super.write(e,t)}clone(){if(this._hasMemorySource())throw new z(ar,`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(e){var t;return!!this.loaded&&(((t=this.source)==null?void 0:t.type)==="memory"||M0e(this,e))}async save(e){return this._debouncedSaveOperations($f.SAVE,e)}async saveAs(e,t){return this._debouncedSaveOperations($f.SAVE_AS,t,e)}_readEditingEnabled(e,t,i){var s;let r=(s=e.layerDefinition)==null?void 0:s.capabilities;return r?this._hasEditingCapability(r):(r=e.capabilities,t&&(i==null?void 0:i.origin)==="web-map"&&!this._hasMemorySource()&&r?this._hasEditingCapability(r):void 0)}_hasEditingCapability(e){return e.toLowerCase().split(",").map(t=>t.trim()).includes("editing")}_writeEditingEnabled(e,t,i,r){var s,n;if(!e){const a=(n=(s=this.capabilities)==null?void 0:s.operations)!=null&&n.supportsSync?"Query,Sync":"Query";ir("layerDefinition.capabilities",a,t),i&&!(r!=null&&r.writeLayerSchema)&&(t.capabilities=a)}}_fetchFirstValidLayerId(e){return Lt(this.url??"",{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:e}).then(t=>{const i=t.data;if(i)return this.findFirstValidLayerId(i)})}async initLayerProperties(e){var t;return this._set("source",e),e.sourceJSON&&(this.sourceJSON=e.sourceJSON,this.read(e.sourceJSON,{origin:"service",portalItem:this.portalItem,portal:(t=this.portalItem)==null?void 0:t.portal,url:this.parsedUrl})),this._verifySource(),this._verifyFields(),b5(this.renderer,this.fieldsIndex),zV(this.timeInfo,this.fieldsIndex),this._hasMemorySource()&&this.geometryType==="mesh"&&(this.capabilities.query.supportsReturnMesh=!0),A0e(this,{origin:"service"})}async hasDataChanged(){return Dfe(this)}async fetchPublishingStatus(){const e=this.source;return e!=null&&e.fetchPublishingStatus?e.fetchPublishingStatus():"unavailable"}_verifyFields(){var t,i;const e=((t=this.parsedUrl)==null?void 0:t.path)??"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+e+")"),this.isTable||this._hasMemorySource()||e.search(/\/FeatureServer\//i)!==-1||(i=this.fields)!=null&&i.some(r=>r.type==="geometry")||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+e+")")}_fixTemplates(e,t){e&&e.forEach(i=>{var s;const r=(s=i.prototype)==null?void 0:s.attributes;r&&t&&delete r[t]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new z("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new z("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}_initMemorySource(e){e.forEach(t=>{t.layer=this,t.sourceLayer=this}),this.addHandles([e.on("after-add",t=>{t.item.layer=this,t.item.sourceLayer=this}),e.on("after-remove",t=>{t.item.layer=null,t.item.sourceLayer=null})],"fl-source")}_resetMemorySource(e){e.forEach(t=>{t.layer=null,t.sourceLayer=null}),this.removeHandles("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}findFirstValidLayerId(e){return Array.isArray(e.layers)&&e.layers.length>0?e.layers[0].id:Array.isArray(e.tables)&&e.tables.length>0?e.tables[0].id:void 0}};c([p({clonable:!1,readOnly:!0})],Te.prototype,"_titleCreator",null),c([p(lpe)],Te.prototype,"attributeTableTemplate",void 0),c([le("service","capabilities")],Te.prototype,"readCapabilities",null),c([p({json:{origins:{"web-scene":{write:!1}},write:!0}})],Te.prototype,"charts",void 0),c([p({readOnly:!0})],Te.prototype,"createQueryVersion",null),c([p({json:{read:{source:"layerDefinition.copyrightText"}}})],Te.prototype,"copyright",void 0),c([p({json:{read:{source:"layerDefinition.displayField"}}})],Te.prototype,"displayField",void 0),c([p({types:zu,readOnly:!0})],Te.prototype,"defaultSymbol",void 0),c([p({type:to})],Te.prototype,"dynamicDataSource",void 0),c([p({type:Boolean})],Te.prototype,"editingEnabled",null),c([le(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],Te.prototype,"readEditingEnabled",null),c([le("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],Te.prototype,"readEditingEnabledFromWebMap",null),c([de(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],Te.prototype,"writeEditingEnabled",null),c([de("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],Te.prototype,"writeEditingEnabledToWebMap",null),c([p({readOnly:!0})],Te.prototype,"effectiveEditingEnabled",null),c([p({clonable:!1,readOnly:!0})],Te.prototype,"featureTitleFields",null),c([p({...rM.fields,json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:sM}}}}})],Te.prototype,"fields",void 0),c([p(rM.fieldsIndex)],Te.prototype,"fieldsIndex",void 0),c([p({type:xae,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],Te.prototype,"formTemplate",void 0),c([p({json:{read:{source:"layerDefinition.extent"}}})],Te.prototype,"fullExtent",void 0),c([p({json:{origins:{"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:sM,writer(e,t,i){const r=e?lR.toJSON(e):null;r&&ir(i,r,t)}}}},read:{source:"layerDefinition.geometryType",reader:lR.read}}})],Te.prototype,"geometryType",void 0),c([p({json:{read:{source:"layerDefinition.hasM"}}})],Te.prototype,"hasM",void 0),c([p({json:{read:{source:"layerDefinition.hasZ"}}})],Te.prototype,"hasZ",void 0),c([p(npe)],Te.prototype,"id",void 0),c([p({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],Te.prototype,"infoFor3D",void 0),c([p({json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],Te.prototype,"isTable",void 0),c([le("service","isTable",["type","geometryType"]),le("isTable",["layerDefinition.type","layerDefinition.geometryType"])],Te.prototype,"readIsTable",null),c([de("web-map","isTable")],Te.prototype,"writeIsTable",null),c([p(cT)],Te.prototype,"labelsVisible",void 0),c([p({type:[s1],json:{origins:{service:{name:"drawingInfo.labelingInfo",read:iM,write:!1},"web-scene":{name:"layerDefinition.drawingInfo.labelingInfo",read:iM,write:{enabled:!0,layerContainerTypes:Jt}}},name:"layerDefinition.drawingInfo.labelingInfo",read:iM,write:!0}})],Te.prototype,"labelingInfo",void 0),c([p((()=>{const e=j(spe);return e.json.origins["portal-item"]={write:{target:"layerDefinition.drawingInfo.transparency",writer(t,i,r){ir(r,eT(t),i)}}},e})())],Te.prototype,"opacity",void 0),c([p(ipe)],Te.prototype,"legendEnabled",void 0),c([p({type:["show","hide"],json:(()=>{const e=j(VB.json);return e.origins["portal-item"]={read:!1,write:!1},e})()})],Te.prototype,"listMode",void 0),c([le("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],Te.prototype,"readGlobalIdField",null),c([p({json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:sM}}}}})],Te.prototype,"objectIdField",void 0),c([le("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],Te.prototype,"readObjectIdField",null),c([p({type:["ArcGISFeatureLayer"],json:{write:{target:"layerType",ignoreOrigin:!0,layerContainerTypes:Jt}}})],Te.prototype,"operationalLayerType",void 0),c([p(rM.outFields)],Te.prototype,"outFields",void 0),c([p({readOnly:!0})],Te.prototype,"parsedUrl",null),c([p({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],Te.prototype,"path",void 0),c([p(uT)],Te.prototype,"popupEnabled",void 0),c([p({type:Th,json:{name:"popupInfo",write:!0}})],Te.prototype,"popupTemplate",void 0),c([p({readOnly:!0})],Te.prototype,"defaultPopupTemplate",null),c([p({types:n1,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:Xye,name:"layerDefinition.drawingInfo.renderer",write:{layerContainerTypes:Jt,overridePolicy:(e,t,i)=>({ignoreOrigin:i==null?void 0:i.writeLayerSchema})}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:(e,t,i)=>({ignoreOrigin:i==null?void 0:i.writeLayerSchema})}}})],Te.prototype,"renderer",null),c([le("service","renderer",["drawingInfo.renderer","defaultSymbol"]),le("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],Te.prototype,"readRenderer",null),c([p()],Te.prototype,"resourceInfo",void 0),c([p((()=>{const e=j(epe);return e.json.origins["portal-item"]={read:!1,write:!1},e})())],Te.prototype,"screenSizePerspectiveEnabled",void 0),c([p({clonable:!1})],Te.prototype,"source",null),c([lt("source")],Te.prototype,"castSource",null),c([le("portal-item","source",["featureSet"]),le("web-map","source",["featureSet"])],Te.prototype,"readSource",null),c([p({json:{read:{source:"layerDefinition.extent.spatialReference"}}})],Te.prototype,"spatialReference",void 0),c([p({type:Number})],Te.prototype,"subtypeCode",void 0),c([p({type:[MN]})],Te.prototype,"templates",void 0),c([le("templates",["editFieldsInfo","creatorField","editorField","templates"])],Te.prototype,"readTemplates",null),c([p({type:mW})],Te.prototype,"timeInfo",void 0),c([p()],Te.prototype,"title",void 0),c([le("service","title",["name"]),le("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],Te.prototype,"readTitle",null),c([le("web-map","title",["layerDefinition.name","title"])],Te.prototype,"readTitleFromWebMap",null),c([p({type:String})],Te.prototype,"sublayerTitleMode",void 0),c([p({json:{read:!1}})],Te.prototype,"type",void 0),c([p({type:String})],Te.prototype,"typeIdField",void 0),c([le("service","typeIdField"),le("typeIdField",["layerDefinition.typeIdField"])],Te.prototype,"readTypeIdField",null),c([p({type:[yW]})],Te.prototype,"types",void 0),c([le("service","types",["types"]),le("types",["layerDefinition.types"])],Te.prototype,"readTypes",null),c([p({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],Te.prototype,"visible",void 0),c([le("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],Te.prototype,"readVisible",null),Te=c([O("esri.layers.FeatureLayer")],Te);const gW=Te,tPe=Object.freeze(Object.defineProperty({__proto__:null,default:gW},Symbol.toStringTag,{value:"Module"}));async function vW(e,t){return await e.load(),F0e(e,t)}async function F0e(e,t){const i=[],r=(...n)=>{for(const a of n)a!=null&&(Array.isArray(a)?r(...a):ye.isCollection(a)?a.forEach(u=>r(u)):cl.isLoadable(a)&&i.push(a))};t(r);let s=null;if(await Kae(i,async n=>{const a=await X2(j0e(n)?n.loadAll():n.load());a.ok!==!1||s||(s=a)}),s)throw s.error;return e}function j0e(e){return"loadAll"in e&&typeof e.loadAll=="function"}async function U0e(e){if(!e)return;const t=e.includes("-vector")?e.slice(0,e.indexOf("-vector")):e.includes("-3d")?e.slice(0,e.indexOf("-3d")):e,i=await rB("esri/t9n/basemaps");return i[e]||i[t]}const PR={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return fi("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return fi("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return fi("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return fi("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return fi("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return fi("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get"dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return fi("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return fi("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return fi("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return fi("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return fi("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return fi("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return fi("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return fi("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-3d":{id:"streets-3d",is3d:!0,get thumbnailUrl(){return fi("esri/images/basemap/streets-3d.png")},baseMapLayers:[{id:"streets-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"streets-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"streets-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"osm-3d":{id:"osm-3d",is3d:!0,get thumbnailUrl(){return fi("esri/images/basemap/osm-3d.png")},baseMapLayers:[{id:"osm-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/8628d259c9d14bdc848771c23c513940/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap",visibility:!0,opacity:1},{id:"osm-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"gray-3d":{id:"gray-3d",is3d:!0,get thumbnailUrl(){return fi("esri/images/basemap/gray-3d.png")},baseMapLayers:[{id:"gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-dark-3d":{id:"streets-dark-3d",itemId:"8a4efa2c20484ec9b4557895e65736ff",is3d:!0,baseMapLayers:[{id:"streets-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Streets Night (for 3D)"},{id:"streets-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"streets-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"dark-gray-3d":{id:"dark-gray-3d",itemId:"a8b7322a5fe94002bb0f5e0eeb0c5c18",is3d:!0,baseMapLayers:[{id:"dark-gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Dark Gray Canvas (for 3D)"},{id:"dark-gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"dark-gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]}};let Va=class extends $e{constructor(t){super(t),this.apiKey=null,this.id=null,this.language=null,this.places=null,this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2",this.worldview=null}get languageParameter(){const t=this.language;let i=t==="local"||t==="global"?t:sB(t??ds())??"global";return i=i==="no"?"nb":i,i}};c([p()],Va.prototype,"apiKey",void 0),c([p()],Va.prototype,"id",void 0),c([p()],Va.prototype,"language",void 0),c([p()],Va.prototype,"places",void 0),c([p()],Va.prototype,"serviceUrl",void 0),c([p()],Va.prototype,"worldview",void 0),Va=c([O("esri.support.BasemapStyle")],Va);const z0e=Va,V0e=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wcs","wms","wmts"]),bW=new Set(["catalog","csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","knowledge-graph","map-image","map-notes","media","ogc-feature","oriented-imagery","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","web-tile","wcs","wfs","wms","wmts"]),G0e=new Set([...bW,"link-chart"]);function q0e(e){switch(e.layerContainerType){case"basemap":return V0e;case"operational-layers":return e.origin==="link-chart"?G0e:bW;default:return null}}function B0e(e,t){if(t.restrictedWebMapWriting){const i=q0e(t);return i==null||i.has(e.type)&&!dT(e)}return!0}function H0e(e,t){var i;if(t)if(dT(e)){const r=_2("featureCollection.layers",t),s=(i=r==null?void 0:r[0])==null?void 0:i.layerDefinition;s&&i9(e,s)}else e.type!=="group"&&i9(e,t)}function i9(e,t){"maxScale"in e&&(t.maxScale=yS(e.maxScale)??void 0),"minScale"in e&&(t.minScale=yS(e.minScale)??void 0)}function W0e(e,t){if(H0e(e,t),t&&(t.id=e.id,"blendMode"in e&&(t.blendMode=e.blendMode,t.blendMode==="normal"&&delete t.blendMode),t.opacity=yS(e.opacity)??void 0,t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&e.type!=="wmts"))if(dT(e)){const i=t.featureCollection;i&&(i.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function r9(e,t,i){if(!e.persistenceEnabled)return null;if(!("write"in e)||!e.write)return i!=null&&i.messages&&i.messages.push(new z("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null;if(dT(e)&&!e.isTable)t=e.resourceInfo;else if(B0e(e,i)){const r={};return e.write(r,i)?r:null}return t!=null&&W0e(e,t=j(t)),t}var u0;let Z0e=0,Cs=u0=class extends K.JSONSupportMixin(cl){constructor(e){super(e),this.id=null,this.portalItem=null,this.spatialReference=null,this.style=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+Z0e++,this.baseLayers=new ye,this.referenceLayers=new ye;const t=r=>{r.parent&&r.parent!==this&&"remove"in r.parent&&r.parent.remove(r),r.parent=this,r.type==="elevation"&&ne.getLogger(this).error(`Layer '${r.title}, id:${r.id}' of type '${r.type}' is not supported as a basemap layer and will therefore be ignored.`)},i=r=>{r.parent=null};this.addHandles([this.baseLayers.on("after-add",r=>t(r.item)),this.referenceLayers.on("after-add",r=>t(r.item)),this.baseLayers.on("after-remove",r=>i(r.item)),this.referenceLayers.on("after-remove",r=>i(r.item))])}initialize(){this.when().catch(e=>{ne.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.baseLayers.toArray();for(const i of e)i.destroy();const t=this.referenceLayers.toArray();for(const i of t)i.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),this.portalItem=Zt(this.portalItem)}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set baseLayers(e){this._set("baseLayers",hl(e,this._get("baseLayers")))}_writeBaseLayers(e,t,i){const r=[];e&&(i={...i,layerContainerType:"basemap"},this.baseLayers.forEach(s=>{const n=r9(s,i.webmap?i.webmap.getLayerJSONFromResourceInfo(s):null,i);n!=null&&r.push(n)}),this.referenceLayers.forEach(s=>{const n=r9(s,i.webmap?i.webmap.getLayerJSONFromResourceInfo(s):null,i);n!=null&&(s.type!=="scene"&&(n.isReference=!0),r.push(n))})),t.baseMapLayers=r}set referenceLayers(e){this._set("referenceLayers",hl(e,this._get("referenceLayers")))}writeTitle(e,t){t.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return vW(this,e=>{e(this.baseLayers,this.referenceLayers)})}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map(t=>iS(t)?t.clone():t),referenceLayers:this.referenceLayers.map(t=>iS(t)?t.clone():t)};return this.loaded&&(e.loadStatus="loaded"),new u0({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}write(e,t){var i;return e=e||{},t!=null&&t.origin||(t={origin:"web-map",...t}),super.write(e,t),!this.loaded&&((i=this.resourceInfo)!=null&&i.data.baseMapLayers)&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(r=>{const s=j(r);return s.url&&Yo(s.url)&&(s.url=`https:${s.url}`),s.templateUrl&&Yo(s.templateUrl)&&(s.templateUrl=`https:${s.templateUrl}`),s})),e}async _loadFromSource(e){const{resourceInfo:t,portalItem:i,style:r}=this;ei(e);const s=[];if(t){const n=t.context?t.context.url:null;if(s.push(this._loadLayersFromJSON(t.data,n,e)),t.data.id&&!t.data.title){const a=t.data.id;s.push(U0e(a).then(u=>{u&&this.read({title:u},t.context)}))}}else i?s.push(this._loadFromItem(i,e)):r&&s.push(this._loadFromStylesService(r,e));await Promise.all(s)}async _loadLayersFromJSON(e,t,i){var d,f;const r=(d=this.resourceInfo)==null?void 0:d.context,s=((f=this.portalItem)==null?void 0:f.portal)||(r==null?void 0:r.portal)||null,n=J0e[(r==null?void 0:r.origin)||""]??"web-map",{populateOperationalLayers:a}=await ue(async()=>{const{populateOperationalLayers:g}=await import("./layersCreator-CGEyCjIv.js");return{populateOperationalLayers:g}},__vite__mapDeps([190,20,19,18,21,17]),import.meta.url),u=[];if(ei(i),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const g={context:{...r,origin:n,url:t,portal:s,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},v=T=>n==="web-scene"&&T.layerType==="ArcGISSceneServiceLayer"||T.isReference,w=a(this.baseLayers,e.baseMapLayers.filter(T=>!v(T)),g);u.push(w);const S=a(this.referenceLayers,e.baseMapLayers.filter(v),g);u.push(S)}await Promise.allSettled(u)}async _loadFromItem(e,t){const i=await e.load(t),r=await i.fetchData("json",t),s=Or(e.itemUrl??"");return this._set("resourceInfo",{data:r.baseMap??{},context:{origin:Y0e[e.type||""]??"web-map",portal:e.portal||ms.getDefault(),url:s}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:r.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||ms.getDefault(),url:s}),this._loadLayersFromJSON(this.resourceInfo.data,s,t)}async _loadFromStylesService(e,t){const i=e.serviceUrl.endsWith("/webmaps")?e.serviceUrl.slice(0,-8):e.serviceUrl,r=`${i}/styles/${e.id}/self`,s=`${i}/webmaps/${e.id}`,[n,a]=await Promise.all([(await Lt(r,{query:{token:e.apiKey},signal:t==null?void 0:t.signal})).data,(await Lt(s,{query:{language:e.languageParameter,places:e.places,worldview:e.worldview,token:e.apiKey},signal:t==null?void 0:t.signal})).data]);this.thumbnailUrl??(this.thumbnailUrl=n.thumbnailUrl);const u=Or(s);if(this._set("resourceInfo",{data:a.baseMap??{},context:{origin:"web-map",url:u}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:a.spatialReference},this.resourceInfo.context),await this._loadLayersFromJSON(this.resourceInfo.data,u,t),e.apiKey)for(const d of[...this.baseLayers,...this.referenceLayers])"apiKey"in d&&(d.apiKey=e.apiKey)}static fromId(e){const t=PR[e];return t?t.itemId?new u0({portalItem:{id:t.itemId,portal:{url:"https://www.arcgis.com"}}}):u0.fromJSON(t,{origin:t.is3d?"web-scene":"web-map"}):null}};c([p({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(e,t,i,r){this._writeBaseLayers(e,t,r)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:ye}},writer(e,t,i,r){this._writeBaseLayers(e,t,r)}}}}}})],Cs.prototype,"baseLayers",null),c([p({type:String,json:{origins:{"web-scene":{write:!0}}}})],Cs.prototype,"id",void 0),c([p({type:D0})],Cs.prototype,"portalItem",void 0),c([p()],Cs.prototype,"referenceLayers",null),c([p({readOnly:!0})],Cs.prototype,"resourceInfo",void 0),c([p({type:He})],Cs.prototype,"spatialReference",void 0),c([p({type:z0e})],Cs.prototype,"style",void 0),c([p()],Cs.prototype,"thumbnailUrl",void 0),c([p({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],Cs.prototype,"title",void 0),c([de("title")],Cs.prototype,"writeTitle",null),Cs=u0=c([O("esri.Basemap")],Cs);const Y0e={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},J0e={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"},z0=Cs,X0e=Object.freeze(Object.defineProperty({__proto__:null,default:z0},Symbol.toStringTag,{value:"Module"}));var LR;let U_=LR=class extends K{constructor(e){super(e),this.type="none"}clone(){return new LR({type:this.type})}};c([Oe({none:"none",stayAbove:"stay-above"}),p({json:{write:{isRequired:!0}}})],U_.prototype,"type",void 0),U_=LR=c([O("esri.ground.NavigationConstraint")],U_);const Q0e=Symbol("GroundInstance");var wW,DR;let Ga=DR=class extends K.JSONSupportMixin(cl){constructor(e){super(e),this[wW]=!0,this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new ye;const t=r=>{r.parent&&r.parent!==this&&"remove"in r.parent&&r.parent.remove(r),r.parent=this,r.type!=="elevation"&&r.type!=="base-elevation"&&ne.getLogger(this).error(`Layer '${r.title}, id:${r.id}' of type '${r.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)},i=r=>{r.parent=null};this.addHandles([this.layers.on("after-add",r=>t(r.item)),this.layers.on("after-remove",r=>i(r.item))])}initialize(){this.when().catch(e=>{Cr(e)||ne.getLogger(this).error("#load()","Failed to load ground",e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.layers.removeAll();for(const t of e)Zt(t);this.layers.destroy()}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}get layers(){return this._get("layers")}set layers(e){this._set("layers",hl(e,this._get("layers")))}writeLayers(e,t,i,r){const s=[];e&&(r={...r,layerContainerType:"ground"},e.forEach(n=>{if("write"in n){const a={};oK(n)().write(a,r)&&s.push(a)}else r!=null&&r.messages&&r.messages.push(new z("layer:unsupported",`Layers (${n.title}, ${n.id}) of type '${n.declaredClass}' cannot be persisted in the ground`,{layer:n}))})),t.layers=s}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return vW(this,e=>{e(this.layers)})}async queryElevation(e,t){await this.load({signal:t==null?void 0:t.signal});const{ElevationQuery:i}=await ue(()=>import("./ElevationQuery-DcNlcY6R.js"),[],import.meta.url);ei(t);const r=new i,s=this.layers.filter(s9).toArray();return r.queryAll(s,e,t)}async createElevationSampler(e,t){await this.load({signal:t==null?void 0:t.signal});const{ElevationQuery:i}=await ue(()=>import("./ElevationQuery-DcNlcY6R.js"),[],import.meta.url);ei(t);const r=new i,s=this.layers.filter(s9).toArray();return r.createSamplerAll(s,e,t)}clone(){const e={opacity:this.opacity,surfaceColor:j(this.surfaceColor),navigationConstraint:j(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(e.loadStatus="loaded"),new DR({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}_loadFromSource(e){const t=this.resourceInfo;return t?this._loadLayersFromJSON(t.data,t.context,e):Promise.resolve()}async _loadLayersFromJSON(e,t,i){const r=(t==null?void 0:t.origin)||"web-scene",s=(t==null?void 0:t.portal)||null,n=(t==null?void 0:t.url)||null,{populateOperationalLayers:a}=await ue(async()=>{const{populateOperationalLayers:d}=await import("./layersCreator-CGEyCjIv.js");return{populateOperationalLayers:d}},__vite__mapDeps([190,20,19,18,21,17]),import.meta.url);ei(i);const u=[];if(e.layers&&Array.isArray(e.layers)){const d={context:{origin:r,url:n,portal:s,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};u.push(a(this.layers,e.layers,d))}await Promise.allSettled(u)}};function K0e(e){return e&&"createElevationSampler"in e}function s9(e){return e.type==="elevation"||K0e(e)}wW=Q0e,c([p({json:{read:!1,write:{isRequired:!0}}})],Ga.prototype,"layers",null),c([de("layers")],Ga.prototype,"writeLayers",null),c([p({readOnly:!0})],Ga.prototype,"resourceInfo",void 0),c([p({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:ht,read:{reader:uv,source:"transparency"},write:{writer:(e,t)=>{t.transparency=eT(e)},target:"transparency"}}})],Ga.prototype,"opacity",void 0),c([p({type:Ie,json:{type:[ht],write:(e,t)=>{t.surfaceColor=e.toJSON().slice(0,3)}}})],Ga.prototype,"surfaceColor",void 0),c([p({type:U_,json:{write:!0}})],Ga.prototype,"navigationConstraint",void 0),Ga=DR=c([O("esri.Ground")],Ga);const XS=Ga;let lf=class extends ye{constructor(t){super(t),this.getCollections=null}initialize(){this.addHandles(gz(()=>this._refresh(),Qo))}destroy(){this.getCollections=null}_refresh(){const t=this.getCollections!=null?this.getCollections():null;if(t==null)return void this.removeAll();let i=0;for(const r of t)r!=null&&(i=this._processCollection(i,r));this.splice(i,this.length)}_createNewInstance(t){return new ye(t)}_processCollection(t,i){if(!i)return t;const r=this.itemFilterFunction??(s=>!!s);for(const s of i)if(s){if(r(s)){const n=this.indexOf(s,t);n>=0?n!==t&&this.reorder(s,t):this.add(s,t),++t}if(this.getChildrenFunction){const n=this.getChildrenFunction(s);if(Array.isArray(n))for(const a of n)t=this._processCollection(t,a);else t=this._processCollection(t,n)}}return t}};c([p()],lf.prototype,"getCollections",void 0),c([p()],lf.prototype,"getChildrenFunction",void 0),c([p()],lf.prototype,"itemFilterFunction",void 0),lf=c([O("esri.core.CollectionFlattener")],lf);const bv=lf,fw=new WeakMap;function _W(e){return!e.destroyed&&(fw.has(e)||e.addHandles([ke(()=>{const t=e.parent;return!(!t||!("type"in t))&&(t.type==="catalog-dynamic-group"||_W(t))},t=>fw.set(e,t),as),pt(()=>fw.delete(e))]),fw.get(e))}function eve(e){return typeof e=="object"&&e!=null&&"loaded"in e&&e.loaded===!0&&"type"in e}function tve(e){var t,i;return!(!eve(e)||!((i=(t=fpe(e))==null?void 0:t.operations)!=null&&i.supportsEditing)||"editingEnabled"in e&&!ype(e)||_W(e))}const nM=()=>ne.getLogger("esri.support.basemapUtils");function ive(){return{}}function rve(e){for(const t in e){const i=e[t];Zt(i),delete e[t]}}function sve(e,t){let i;if(typeof e=="string"){const r=e in PR,s=!r&&e.includes("/");if(!r&&!s){if(bt.apiKey)nM().warn(`Unable to find basemap definition for: ${e}. See available styles at https://developers.arcgis.com/rest/basemap-styles/`);else{const n=Object.entries(PR).filter(([a,u])=>u.classic||u.is3d).map(([a])=>`"${a}"`).sort().join(", ");nM().warn(`Unable to find basemap definition for: ${e}. Try one of these: ${n}`)}return null}t&&(i=t[e]),i||(i=r?z0.fromId(e):new z0({style:{id:e}}),t&&(t[e]=i))}else i=Ci(z0,e);return i!=null&&i.destroyed&&(nM().warn("The provided basemap is already destroyed",{basemap:i}),i=null),i}function nve(e){return new bv({getCollections:()=>[e.tables,e.layers],getChildrenFunction:t=>{const i=[];return"tables"in t&&i.push(t.tables),"layers"in t&&i.push(t.layers),i},itemFilterFunction:t=>{const i=t.parent;return!!i&&"tables"in i&&i.tables.includes(t)}})}function oM(e){for(const t of e.values())t==null||t.destroy();e.clear()}const n9={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};function ove(e){let t=null;if(typeof e=="string")if(e in n9){const i=n9[e];t=new XS({resourceInfo:{data:{layers:[i]}}})}else ne.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${e}. Try "world-elevation"`);else t=Ci(XS,e);return t}function kR(e,t,i){let r,s;if(e)for(let n=0,a=e.length;n<a;n++){if(r=e.at(n),(r==null?void 0:r[t])===i)return r;if((r==null?void 0:r.type)==="group"&&(s=kR(r.layers,t,i),s))return s}}const ave=e=>{let t=class extends e{constructor(...i){super(...i),this.layers=new ye;const r=a=>{a.parent&&"remove"in a.parent&&a.parent.remove(a)},s=a=>{a.parent=this,this.layerAdded(a),a.type!=="elevation"&&a.type!=="base-elevation"||ne.getLogger(this).error(`Layer 'title:${a.title}, id:${a.id}' of type '${a.type}' is not supported as an operational layer and will therefore be ignored.`)},n=a=>{a.parent=null,this.layerRemoved(a)};this.addHandles([this.layers.on("before-add",a=>{if(a.item===this)return a.preventDefault(),void ne.getLogger(this).error("#add()","Cannot add layer to itself.");r(a.item)}),this.layers.on("after-add",a=>s(a.item)),this.layers.on("after-remove",a=>n(a.item))])}destroy(){const i=this.layers.toArray();for(const r of i)r.destroy();this.layers.destroy()}set layers(i){this._set("layers",hl(i,this._get("layers")))}add(i,r){const s=this.layers;if(r=s.getNextIndex(r),i instanceof TI){const n=i;n.parent===this?this.reorder(n,r):s.add(n,r)}else ta(i)?i.then(n=>{this.destroyed||this.add(n,r)}):ne.getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(i,r){const s=this.layers;let n=s.getNextIndex(r);i.slice().forEach(a=>{a.parent!==this?(s.add(a,n),n+=1):this.reorder(a,n)})}findLayerById(i){return kR(this.layers,"id",i)}findLayerByUid(i){return kR(this.layers,"uid",i)}remove(i){return this.layers.remove(i)}removeMany(i){return this.layers.removeMany(i)}removeAll(){return this.layers.removeAll()}reorder(i,r){return this.layers.reorder(i,r)}layerAdded(i){}layerRemoved(i){}};return c([p()],t.prototype,"layers",null),t=c([O("esri.support.LayersMixin")],t),t},lve=new Set(["feature","subtype-group"]);function FR(e,t,i){if(e)for(let r=0,s=e.length;r<s;r++){const n=e.at(r);if(n[t]===i)return n;if((n==null?void 0:n.type)==="group"){const a=FR(n.tables,t,i);if(a)return a}}}const uve=e=>{let t=class extends e{constructor(...i){super(...i),this.tables=new ye,this.addHandles([this.tables.on("after-add",r=>{const s=r.item;s.parent&&s.parent!==this&&"tables"in s.parent&&s.parent.tables.remove(s),s.parent=this,lve.has(s.type)||ne.getLogger(this).error(`Layer 'title:${s.title}, id:${s.id}' of type '${s.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",r=>{r.item.parent=null})])}destroy(){const i=this.tables.toArray();for(const r of i)r.destroy();this.tables.destroy()}set tables(i){this._set("tables",hl(i,this._get("tables")))}findTableById(i){return FR(this.tables,"id",i)}findTableByUid(i){return FR(this.tables,"uid",i)}};return c([p()],t.prototype,"tables",null),t=c([O("esri.support.TablesMixin")],t),t};let Xn=class extends uve(ave(ho.EventedMixin($e))){constructor(t){super(t),this.allLayers=new bv({getCollections:()=>{var i,r,s;return[(i=this.basemap)==null?void 0:i.baseLayers,(r=this.ground)==null?void 0:r.layers,this.layers,(s=this.basemap)==null?void 0:s.referenceLayers]},getChildrenFunction:i=>"layers"in i?i.layers:null}),this.allTables=nve(this),this.basemap=null,this.editableLayers=new bv({getCollections:()=>[this.allLayers],itemFilterFunction:tve}),this.ground=new XS,this._basemapCache=ive()}destroy(){rve(this._basemapCache),this._basemapCache=null,this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.basemap=Zt(this.basemap),Zt(this.ground),this._set("ground",null)}castBasemap(t){return sve(t,this._basemapCache)}castGround(t){return ove(t)??this._get("ground")}findLayerById(t){return this.allLayers.find(i=>i.id===t)}findTableById(t){return this.allTables.find(i=>i.id===t)}};c([p({readOnly:!0,dependsOn:[]})],Xn.prototype,"allLayers",void 0),c([p({readOnly:!0})],Xn.prototype,"allTables",void 0),c([p({type:z0,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],Xn.prototype,"basemap",void 0),c([lt("basemap")],Xn.prototype,"castBasemap",null),c([p({readOnly:!0})],Xn.prototype,"editableLayers",void 0),c([p({type:XS,nonNullable:!0})],Xn.prototype,"ground",void 0),c([lt("ground")],Xn.prototype,"castGround",null),c([p()],Xn.prototype,"undoRedo",void 0),Xn=c([O("esri.Map")],Xn);const SW=Xn;let Cd=class extends rt{constructor(t){super(t),this.row=0,this.column=0,this.rows=1,this.columns=1}equals(t){return t!=null&&this.row===t.row&&this.rows===t.rows&&this.column===t.column&&this.columns===t.columns}};c([p({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Cd.prototype,"row",void 0),c([p({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Cd.prototype,"column",void 0),c([p({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Cd.prototype,"rows",void 0),c([p({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Cd.prototype,"columns",void 0),Cd=c([O("esri.CameraLayout")],Cd);const TW=Cd;let AN=class{constructor(t,i){this.min=t,this.max=i,this.range=i-t}normalize(t,i=0,r=!1){return o9(this.range,this.min,this.max,t,i,r)}clamp(t,i=0){return bn(t-i,this.min,this.max)+i}monotonic(t,i,r){return t<i?i:i+jR(this.range,t-i,r)}minimalMonotonic(t,i,r){return o9(this.range,t,t+this.range,i,r)}center(t,i,r){return i=this.monotonic(t,i,r),this.normalize((t+i)/2,r)}diff(t,i,r){return this.monotonic(t,i,r)-t}shortestSignedDiff(t,i){t=this.normalize(t);const r=(i=this.normalize(i))-t,s=i<t?this.minimalMonotonic(t,i)-t:i-this.minimalMonotonic(i,t);return Math.abs(r)<Math.abs(s)?r:s}contains(t,i,r){return i=this.minimalMonotonic(t,i),(r=this.minimalMonotonic(t,r))>t&&r<i}};function o9(e,t,i,r,s=0,n=!1){return(r-=s)<t?r+=jR(e,t-r):r>i&&(r-=jR(e,r-i)),n&&r===i&&(r=t),r+s}function jR(e,t,i=0){return Math.ceil((t-i)/e)*e+i}const aPe=new AN(0,2*Math.PI),lPe=new AN(-Math.PI,Math.PI),cve=new AN(0,360);let No=class extends rt.ClonableMixin(K){constructor(...t){super(...t),this.position=new Be([0,0,0]),this.heading=0,this.tilt=0,this.fov=55,this.layout=new TW}normalizeCtorArgs(t,i,r,s){if(t&&typeof t=="object"&&("x"in t||Array.isArray(t))){const n={position:t};return i!=null&&(n.heading=i),r!=null&&(n.tilt=r),s!=null&&(n.fov=s),n}return t}writePosition(t,i,r,s){const n=t.clone();n.x=Gr(t.x||0),n.y=Gr(t.y||0),n.z=t.hasZ?Gr(t.z||0):t.z,i[r]=n.write({},s)}readPosition(t,i){const r=new Be;return r.read(t,i),r.x=Gr(r.x||0),r.y=Gr(r.y||0),r.z=r.hasZ?Gr(r.z||0):r.z,r}equals(t){return t!=null&&this.tilt===t.tilt&&this.heading===t.heading&&this.fov===t.fov&&this.position.equals(t.position)&&this.layout.equals(t.layout)}};c([p({type:Be,json:{write:{isRequired:!0}}})],No.prototype,"position",void 0),c([de("position")],No.prototype,"writePosition",null),c([le("position")],No.prototype,"readPosition",null),c([p({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),lt(e=>cve.normalize(Gr(e)))],No.prototype,"heading",void 0),c([p({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),lt(e=>bn(Gr(e),-180,180))],No.prototype,"tilt",void 0),c([p({type:Number,nonNullable:!0,json:{default:55,write:!0}}),lt(e=>bn(Gr(e,55),1,170))],No.prototype,"fov",void 0),c([p({type:TW,nonNullable:!0,json:{read:!1,write:!1}})],No.prototype,"layout",void 0),No=c([O("esri.Camera")],No);const dve=No;var UR;let bu=UR=class extends K{constructor(e){super(e),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(e){return(e%=360)<0&&(e+=360),e}clone(){return new UR({rotation:this.rotation,scale:this.scale,targetGeometry:this.targetGeometry!=null?this.targetGeometry.clone():null,camera:this.camera!=null?this.camera.clone():null})}};c([p({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:aM}}}}})],bu.prototype,"rotation",void 0),c([lt("rotation")],bu.prototype,"castRotation",null),c([p({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:aM}}}}})],bu.prototype,"scale",void 0),c([p({types:Wv,json:{read:mh,write:!0,origins:{"web-scene":{read:mh,write:{overridePolicy:aM}}}}})],bu.prototype,"targetGeometry",void 0),c([p({type:dve,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}})],bu.prototype,"camera",void 0),bu=UR=c([O("esri.Viewpoint")],bu);const gn=bu;function aM(){return{enabled:!this.camera}}var zR;let Po=zR=class extends K{constructor(e){super(e),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new zR({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};c([p({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Po.prototype,"cols",void 0),c([p({type:ht,json:{write:!0}})],Po.prototype,"level",void 0),c([p({type:String,json:{write:!0}})],Po.prototype,"levelValue",void 0),c([p({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Po.prototype,"origin",void 0),c([p({type:Number,json:{write:!0}})],Po.prototype,"resolution",void 0),c([p({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Po.prototype,"rows",void 0),c([p({type:Number,json:{write:!0}})],Po.prototype,"scale",void 0),Po=zR=c([O("esri.layers.support.LOD")],Po);const Cu=Po;let hve=class{constructor(t,i,r,s,n=void 0){this.id=t,this.level=i,this.row=r,this.col=s,this.extent=n}};var wu;const a9=new et({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let ur=wu=class extends K{static create(e={}){const{resolutionFactor:t=1,scales:i,size:r=256,spatialReference:s=He.WebMercator,numLODs:n=24}=e;if(!Ls(s)){const v=[];if(i)for(let w=0;w<i.length;w++){const S=i[w];v.push(new Cu({level:w,scale:S,resolution:S}))}else{let w=5e-4;for(let S=n-1;S>=0;S--)v.unshift(new Cu({level:S,scale:w,resolution:w})),w*=2}return new wu({dpi:96,lods:v,origin:new Be(0,0,s),size:[r,r],spatialReference:s})}const a=Br(s),u=e.origin?new Be({x:e.origin.x,y:e.origin.y,spatialReference:s}):new Be(a?{x:a.origin[0],y:a.origin[1],spatialReference:s}:{x:0,y:0,spatialReference:s}),d=96,f=1/(Sn(s)*39.37*d),g=[];if(i)for(let v=0;v<i.length;v++){const w=i[v],S=w*f;g.push(new Cu({level:v,scale:w,resolution:S}))}else{let v=Em(s)?512/r*5916575275917094e-7:256/r*591657527591555e-6;const w=Math.ceil(n/t);g.push(new Cu({level:0,scale:v,resolution:v*f}));for(let S=1;S<w;S++){const T=v/2**t,E=T*f;g.push(new Cu({level:S,scale:T,resolution:E})),v=T}}return new wu({dpi:d,lods:g,origin:u,size:[r,r],spatialReference:s})}constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:e,origin:t}=this;if(e&&t){const i=Br(e);return e.isWrappable&&!!i&&Math.abs(i.origin[0]-t.x)<=i.dx}return!1}readOrigin(e,t){return Be.fromJSON({spatialReference:t.spatialReference,...e})}set lods(e){let t=0,i=0;const r=[],s=this._levelToLOD={};e&&(t=-1/0,i=1/0,e.forEach(n=>{r.push(n.scale),t=n.scale>t?n.scale:t,i=n.scale<i?n.scale:i,s[n.level]=n})),this._set("scales",r),this._set("lods",e),this._initializeUpsampleLevels()}readSize(e,t){return[t.cols,t.rows]}writeSize(e,t){t.cols=e[0],t.rows=e[1]}zoomToScale(e){const t=this.scales;if(e<=0)return t[0];if(e>=t.length-1)return t[t.length-1];const i=Math.floor(e),r=i+1;return t[i]/(t[i]/t[r])**(e-i)}scaleToZoom(e){const t=this.scales,i=t.length-1;let r=0;for(;r<i;r++){const s=t[r],n=t[r+1];if(s<=e)return r;if(n===e)return r+1;if(s>e&&n<e)return r+Math.log(s/e)/Math.log(s/n)}return r}tileAt(e,t,i,r){const s=this.lodAt(e);if(!s)return null;let n,a;if(typeof t=="number")n=t,a=i;else if(Vi(t.spatialReference,this.spatialReference))n=t.x,a=t.y,r=i;else{const f=Y2(t,this.spatialReference);if(f==null)return null;n=f.x,a=f.y,r=i}const u=s.resolution*this.size[0],d=s.resolution*this.size[1];return r||(r=new hve(null,0,0,0,qr())),r.level=e,r.row=Math.floor((this.origin.y-a)/d+.001),r.col=Math.floor((n-this.origin.x)/u+.001),this.updateTileInfo(r),r}updateTileInfo(e,t=wu.ExtrapolateOptions.NONE){let i=this.lodAt(e.level);if(!i&&t===wu.ExtrapolateOptions.POWER_OF_TWO){const a=this.lods[this.lods.length-1];a.level<e.level&&(i=a)}if(!i)return;const r=e.level-i.level,s=i.resolution*this.size[0]/2**r,n=i.resolution*this.size[1]/2**r;e.id=`${e.level}/${e.row}/${e.col}`,e.extent||(e.extent=qr()),e.extent[0]=this.origin.x+e.col*s,e.extent[1]=this.origin.y-(e.row+1)*n,e.extent[2]=e.extent[0]+s,e.extent[3]=e.extent[1]+n}upsampleTile(e){const t=this._upsampleLevels[e.level];return!(!t||t.parentLevel===-1)&&(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),!0)}getTileBounds(e,t){const i=this.lodAt(t.level);if(i==null)return null;const{resolution:r}=i,s=r*this.size[0],n=r*this.size[1];return e[0]=this.origin.x+t.col*s,e[1]=this.origin.y-(t.row+1)*n,e[2]=e[0]+s,e[3]=e[1]+n,e}lodAt(e){var t;return((t=this._levelToLOD)==null?void 0:t[e])??null}clone(){return wu.fromJSON(this.write({}))}getCompatibleForVTL(e){if(this.size[0]!==this.size[1]||this.size[0]===256&&e===512)return null;const t=(this.size[0]===512&&e===256?-1:0)+(this.spatialReference.isGeographic?1:0);if(this.size[0]===e&&t===0)return this;const i=[],r=this.lods.length-t;for(let s=0;s<r;s++){const n=s+t,{scale:a,resolution:u}=n>=0?this.lods[n]:{scale:2*this.lods[0].scale,resolution:2*this.lods[0].resolution};i.push(new Cu({level:s,scale:a,resolution:u}))}return new wu({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:i})}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let t=null;for(let i=0;i<e.length;i++){const r=e[i];this._upsampleLevels[r.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/r.resolution:0},t=r}}};c([p({type:Number,json:{write:!0}})],ur.prototype,"compressionQuality",void 0),c([p({type:Number,json:{write:!0}})],ur.prototype,"dpi",void 0),c([p({type:String,json:{read:a9.read,write:a9.write,origins:{"web-scene":{read:!1,write:!1}}}})],ur.prototype,"format",void 0),c([p({readOnly:!0})],ur.prototype,"isWrappable",null),c([p({type:Be,json:{write:!0}})],ur.prototype,"origin",void 0),c([le("origin")],ur.prototype,"readOrigin",null),c([p({type:[Cu],value:null,json:{write:!0}})],ur.prototype,"lods",null),c([p({readOnly:!0})],ur.prototype,"scales",void 0),c([p({cast:e=>Array.isArray(e)?e:typeof e=="number"?[e,e]:[256,256]})],ur.prototype,"size",void 0),c([le("size",["rows","cols"])],ur.prototype,"readSize",null),c([de("size",{cols:{type:ht},rows:{type:ht}})],ur.prototype,"writeSize",null),c([p({type:He,json:{write:!0}})],ur.prototype,"spatialReference",void 0),ur=wu=c([O("esri.layers.support.TileInfo")],ur),function(e){var t;(t=e.ExtrapolateOptions||(e.ExtrapolateOptions={}))[t.NONE=0]="NONE",t[t.POWER_OF_TWO=1]="POWER_OF_TWO"}(ur||(ur={}));const pve=ur,z_={widthBreakpoint:{getValue(e){const t=e.viewSize[0],i=e.breakpoints,r=this.values;return t<=i.xsmall?r.xsmall:t<=i.small?r.small:t<=i.medium?r.medium:t<=i.large?r.large:r.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(e){const t=e.viewSize[1],i=e.breakpoints,r=this.values;return t<=i.xsmall?r.xsmall:t<=i.small?r.small:t<=i.medium?r.medium:t<=i.large?r.large:r.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(e){const t=e.viewSize,i=t[0],r=t[1],s=this.values;return r>=i?s.portrait:s.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},lM={xsmall:544,small:768,medium:992,large:1200};function fve(e){const t=e;return t&&t.xsmall<t.small&&t.small<t.medium&&t.medium<t.large}function uM(e,t){return t?z_[e].valueToClassName[t].split(" "):[]}const mve=e=>{let t=class extends e{constructor(...i){super(...i),this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=lM}initialize(){this.addHandles(ke(()=>[this.breakpoints,this.size],()=>this._updateClassNames(),Ar))}destroy(){this.destroyed||this._removeActiveClassNames()}set breakpoints(i){if(i!==this._get("breakpoints")){if(!fve(i)){const r=JSON.stringify(lM,null,2);console.warn("provided breakpoints are not valid, using defaults:"+r),i=lM}this._set("breakpoints",{...i})}}_updateClassNames(){if(!this.container)return;const i=Vr.acquire(),r=Vr.acquire();let s,n=!1;for(s in z_){const a=this[s],u=z_[s].getValue({viewSize:this.size,breakpoints:this.breakpoints});a!==u&&(n=!0,this[s]=u,uM(s,a).forEach(d=>r.push(d)),uM(s,u).forEach(d=>i.push(d)))}n&&(this._applyClassNameChanges(i,r),Vr.release(i),Vr.release(r))}_applyClassNameChanges(i,r){const s=this.container;s&&(r.forEach(n=>s.classList.remove(n)),i.forEach(n=>s.classList.add(n)))}_removeActiveClassNames(){const i=this.container;if(!i)return;let r;for(r in z_)uM(r,this[r]).forEach(s=>i.classList.remove(s))}};return c([p()],t.prototype,"breakpoints",null),c([p()],t.prototype,"orientation",void 0),c([p()],t.prototype,"widthBreakpoint",void 0),c([p()],t.prototype,"heightBreakpoint",void 0),t=c([O("esri.views.BreakpointsOwner")],t),t};function ON(e){return typeof e=="string"?document.getElementById(e):e??null}function l9(e,t){for(;;){const i=e.firstChild;if(!i)break;t.appendChild(i)}}let th=class extends $e{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll()}add(t,i,r={}){return this._installWatch(t,i,r,ke)}addWhen(t,i,r={}){return this._installWatch(t,i,r,wn)}addOnCollectionChange(t,i,{initial:r=!1,final:s=!1}={}){const n=++this._handleId;return this.addHandles([rc(t,"after-changes",this._createSyncUpdatingCallback(),Qo),rc(t,"change",i,{onListenerAdd:r?a=>i({added:a.toArray(),removed:[]}):void 0,onListenerRemove:s?a=>i({added:[],removed:a.toArray()}):void 0})],n),pt(()=>this.removeHandles(n))}addPromise(t){if(t==null)return t;const i=++this._handleId;this.addHandles(pt(()=>{this._pendingPromises.delete(t)&&(this._pendingPromises.size!==0||this.hasHandles(mw)||this._set("updating",!1))}),i),this._pendingPromises.add(t),this._set("updating",!0);const r=()=>this.removeHandles(i);return t.then(r,r),t}removeAll(){this._pendingPromises.clear(),this.removeAllHandles(),this._set("updating",!1)}_installWatch(t,i,r={},s){const n=++this._handleId;r.sync||this._installSyncUpdatingWatch(t,n);const a=s(t,i,r);return this.addHandles(a,n),pt(()=>this.removeHandles(n))}_installSyncUpdatingWatch(t,i){const r=this._createSyncUpdatingCallback(),s=ke(t,r,{sync:!0,equals:()=>!1});return this.addHandles(s,i),s}_createSyncUpdatingCallback(){return()=>{this.removeHandles(mw),++this._scheduleHandleId;const t=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this.addHandles(Nv(()=>{t===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this.removeHandles(mw))}),mw)}}};c([p({readOnly:!0})],th.prototype,"updating",void 0),th=c([O("esri.core.support.UpdatingHandles")],th);const mw=-42;/*!
 * @esri/arcgis-html-sanitizer - v4.1.0 - Tue Dec 03 2024 09:13:28 GMT-0500 (Eastern Standard Time)
 * Copyright (c) 2024 - Environmental Systems Research Institute, Inc.
 * Apache-2.0
 * 
 * js-xss
 * Copyright (c) 2012-2018 Zongmin Lei(雷宗民) <leizongmin@gmail.com>
 * http://ucdok.com
 * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var QS=function(){return QS=Object.assign||function(t){for(var i,r=1,s=arguments.length;r<s;r++){i=arguments[r];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},QS.apply(this,arguments)},VR={exports:{}},oi={},GR={exports:{}},Mh={};function EW(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function yve(e,t,i){}function gve(e,t,i){}var vve=/javascript\s*\:/img;function bve(e,t){return vve.test(t)?"":t}Mh.whiteList=EW();Mh.getDefaultWhiteList=EW;Mh.onAttr=yve;Mh.onIgnoreAttr=gve;Mh.safeAttrValue=bve;var wve={indexOf:function(e,t){var i,r;if(Array.prototype.indexOf)return e.indexOf(t);for(i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1},forEach:function(e,t,i){var r,s;if(Array.prototype.forEach)return e.forEach(t,i);for(r=0,s=e.length;r<s;r++)t.call(i,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},Ky=wve;function _ve(e,t){e=Ky.trimRight(e),e[e.length-1]!==";"&&(e+=";");var i=e.length,r=!1,s=0,n=0,a="";function u(){if(!r){var g=Ky.trim(e.slice(s,n)),v=g.indexOf(":");if(v!==-1){var w=Ky.trim(g.slice(0,v)),S=Ky.trim(g.slice(v+1));if(w){var T=t(s,a.length,w,S,g);T&&(a+=T+"; ")}}}s=n+1}for(;n<i;n++){var d=e[n];if(d==="/"&&e[n+1]==="*"){var f=e.indexOf("*/",n+2);if(f===-1)break;n=f+1,s=n+1,r=!1}else d==="("?r=!0:d===")"?r=!1:d===";"?r||u():d===`
`&&u()}return Ky.trim(a)}var Sve=_ve,yw=Mh,Tve=Sve;function u9(e){return e==null}function Eve(e){var t={};for(var i in e)t[i]=e[i];return t}function $W(e){e=Eve(e||{}),e.whiteList=e.whiteList||yw.whiteList,e.onAttr=e.onAttr||yw.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||yw.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||yw.safeAttrValue,this.options=e}$W.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,i=t.options,r=i.whiteList,s=i.onAttr,n=i.onIgnoreAttr,a=i.safeAttrValue,u=Tve(e,function(d,f,g,v,w){var S=r[g],T=!1;if(S===!0?T=S:typeof S=="function"?T=S(v):S instanceof RegExp&&(T=S.test(v)),T!==!0&&(T=!1),v=a(g,v),!!v){var E={position:f,sourcePosition:d,source:w,isWhite:T};if(T){var M=s(g,v,E);return u9(M)?g+":"+v:M}else{var M=n(g,v,E);if(!u9(M))return M}}});return u};var $ve=$W;(function(e,t){var i=Mh,r=$ve;function s(a,u){var d=new r(u);return d.process(a)}t=e.exports=s,t.FilterCSS=r;for(var n in i)t[n]=i[n]})(GR,GR.exports);var RN=GR.exports,CN={indexOf:function(e,t){var i,r;if(Array.prototype.indexOf)return e.indexOf(t);for(i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1},forEach:function(e,t,i){var r,s;if(Array.prototype.forEach)return e.forEach(t,i);for(r=0,s=e.length;r<s;r++)t.call(i,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,i=t.exec(e);return i?i.index:-1}},xve=RN.FilterCSS,Mve=RN.getDefaultWhiteList,KS=CN;function xW(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var MW=new xve;function Ave(e,t,i){}function Ove(e,t,i){}function Rve(e,t,i){}function Cve(e,t,i){}function AW(e){return e.replace(Nve,"&lt;").replace(Pve,"&gt;")}function Ive(e,t,i,r){if(i=PW(i),t==="href"||t==="src"){if(i=KS.trim(i),i==="#")return"#";if(!(i.substr(0,7)==="http://"||i.substr(0,8)==="https://"||i.substr(0,7)==="mailto:"||i.substr(0,4)==="tel:"||i.substr(0,11)==="data:image/"||i.substr(0,6)==="ftp://"||i.substr(0,2)==="./"||i.substr(0,3)==="../"||i[0]==="#"||i[0]==="/"))return""}else if(t==="background"){if(gw.lastIndex=0,gw.test(i))return""}else if(t==="style"){if(c9.lastIndex=0,c9.test(i)||(d9.lastIndex=0,d9.test(i)&&(gw.lastIndex=0,gw.test(i))))return"";r!==!1&&(r=r||MW,i=r.process(i))}return i=LW(i),i}var Nve=/</g,Pve=/>/g,Lve=/"/g,Dve=/&quot;/g,kve=/&#([a-zA-Z0-9]*);?/gim,Fve=/&colon;?/gim,jve=/&newline;?/gim,gw=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,c9=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,d9=/u\s*r\s*l\s*\(.*/gi;function OW(e){return e.replace(Lve,"&quot;")}function RW(e){return e.replace(Dve,'"')}function CW(e){return e.replace(kve,function(i,r){return r[0]==="x"||r[0]==="X"?String.fromCharCode(parseInt(r.substr(1),16)):String.fromCharCode(parseInt(r,10))})}function IW(e){return e.replace(Fve,":").replace(jve," ")}function NW(e){for(var t="",i=0,r=e.length;i<r;i++)t+=e.charCodeAt(i)<32?" ":e.charAt(i);return KS.trim(t)}function PW(e){return e=RW(e),e=CW(e),e=IW(e),e=NW(e),e}function LW(e){return e=OW(e),e=AW(e),e}function Uve(){return""}function zve(e,t){typeof t!="function"&&(t=function(){});var i=!Array.isArray(e);function r(a){return i?!0:KS.indexOf(e,a)!==-1}var s=[],n=!1;return{onIgnoreTag:function(a,u,d){if(r(a))if(d.isClosing){var f="[/removed]",g=d.position+f.length;return s.push([n!==!1?n:d.position,g]),n=!1,f}else return n||(n=d.position),"[removed]";else return t(a,u,d)},remove:function(a){var u="",d=0;return KS.forEach(s,function(f){u+=a.slice(d,f[0]),d=f[1]}),u+=a.slice(d),u}}}function Vve(e){for(var t="",i=0;i<e.length;){var r=e.indexOf("<!--",i);if(r===-1){t+=e.slice(i);break}t+=e.slice(i,r);var s=e.indexOf("-->",r);if(s===-1)break;i=s+3}return t}function Gve(e){var t=e.split("");return t=t.filter(function(i){var r=i.charCodeAt(0);return r===127?!1:r<=31?r===10||r===13:!0}),t.join("")}oi.whiteList=xW();oi.getDefaultWhiteList=xW;oi.onTag=Ave;oi.onIgnoreTag=Ove;oi.onTagAttr=Rve;oi.onIgnoreTagAttr=Cve;oi.safeAttrValue=Ive;oi.escapeHtml=AW;oi.escapeQuote=OW;oi.unescapeQuote=RW;oi.escapeHtmlEntities=CW;oi.escapeDangerHtml5Entities=IW;oi.clearNonPrintableCharacter=NW;oi.friendlyAttrValue=PW;oi.escapeAttrValue=LW;oi.onIgnoreTagStripAll=Uve;oi.StripTagBody=zve;oi.stripCommentTag=Vve;oi.stripBlankChar=Gve;oi.cssFilter=MW;oi.getDefaultCSSWhiteList=Mve;var _T={},Iu=CN;function qve(e){var t=Iu.spaceIndex(e),i;return t===-1?i=e.slice(1,-1):i=e.slice(1,t+1),i=Iu.trim(i).toLowerCase(),i.slice(0,1)==="/"&&(i=i.slice(1)),i.slice(-1)==="/"&&(i=i.slice(0,-1)),i}function Bve(e){return e.slice(0,2)==="</"}function Hve(e,t,i){var r="",s=0,n=!1,a=!1,u=0,d=e.length,f="",g="";e:for(u=0;u<d;u++){var v=e.charAt(u);if(n===!1){if(v==="<"){n=u;continue}}else if(a===!1){if(v==="<"){r+=i(e.slice(s,u)),n=u,s=u;continue}if(v===">"){r+=i(e.slice(s,n)),g=e.slice(n,u+1),f=qve(g),r+=t(n,r.length,f,g,Bve(g)),s=u+1,n=!1;continue}if(v==='"'||v==="'")for(var w=1,S=e.charAt(u-w);S.trim()===""||S==="=";){if(S==="="){a=v;continue e}S=e.charAt(u-++w)}}else if(v===a){a=!1;continue}}return s<e.length&&(r+=i(e.substr(s))),r}var Wve=/[^a-zA-Z0-9\\_:.-]/gim;function Zve(e,t){var i=0,r=0,s=[],n=!1,a=e.length;function u(w,S){if(w=Iu.trim(w),w=w.replace(Wve,"").toLowerCase(),!(w.length<1)){var T=t(w,S||"");T&&s.push(T)}}for(var d=0;d<a;d++){var f=e.charAt(d),g,v;if(n===!1&&f==="="){n=e.slice(i,d),i=d+1,r=e.charAt(i)==='"'||e.charAt(i)==="'"?i:Jve(e,d+1);continue}if(n!==!1&&d===r){if(v=e.indexOf(f,d+1),v===-1)break;g=Iu.trim(e.slice(r+1,v)),u(n,g),n=!1,d=v,i=d+1;continue}if(/\s|\n|\t/.test(f))if(e=e.replace(/\s|\n|\t/g," "),n===!1)if(v=Yve(e,d),v===-1){g=Iu.trim(e.slice(i,d)),u(g),n=!1,i=d+1;continue}else{d=v-1;continue}else if(v=Xve(e,d-1),v===-1){g=Iu.trim(e.slice(i,d)),g=h9(g),u(n,g),n=!1,i=d+1;continue}else continue}return i<e.length&&(n===!1?u(e.slice(i)):u(n,h9(Iu.trim(e.slice(i))))),Iu.trim(s.join(" "))}function Yve(e,t){for(;t<e.length;t++){var i=e[t];if(i!==" ")return i==="="?t:-1}}function Jve(e,t){for(;t<e.length;t++){var i=e[t];if(i!==" ")return i==="'"||i==='"'?t:-1}}function Xve(e,t){for(;t>0;t--){var i=e[t];if(i!==" ")return i==="="?t:-1}}function Qve(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function h9(e){return Qve(e)?e.substr(1,e.length-2):e}_T.parseTag=Hve;_T.parseAttr=Zve;var Kve=RN.FilterCSS,Kn=oi,DW=_T,e1e=DW.parseTag,t1e=DW.parseAttr,V_=CN;function vw(e){return e==null}function i1e(e){var t=V_.spaceIndex(e);if(t===-1)return{html:"",closing:e[e.length-2]==="/"};e=V_.trim(e.slice(t+1,-1));var i=e[e.length-1]==="/";return i&&(e=V_.trim(e.slice(0,-1))),{html:e,closing:i}}function r1e(e){var t={};for(var i in e)t[i]=e[i];return t}function s1e(e){var t={};for(var i in e)Array.isArray(e[i])?t[i.toLowerCase()]=e[i].map(function(r){return r.toLowerCase()}):t[i.toLowerCase()]=e[i];return t}function kW(e){e=r1e(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=Kn.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=s1e(e.whiteList||e.allowList):e.whiteList=Kn.whiteList,e.onTag=e.onTag||Kn.onTag,e.onTagAttr=e.onTagAttr||Kn.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||Kn.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||Kn.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||Kn.safeAttrValue,e.escapeHtml=e.escapeHtml||Kn.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new Kve(e.css))}kW.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,i=t.options,r=i.whiteList,s=i.onTag,n=i.onIgnoreTag,a=i.onTagAttr,u=i.onIgnoreTagAttr,d=i.safeAttrValue,f=i.escapeHtml,g=t.cssFilter;i.stripBlankChar&&(e=Kn.stripBlankChar(e)),i.allowCommentTag||(e=Kn.stripCommentTag(e));var v=!1;i.stripIgnoreTagBody&&(v=Kn.StripTagBody(i.stripIgnoreTagBody,n),n=v.onIgnoreTag);var w=e1e(e,function(S,T,E,M,R){var P={sourcePosition:S,position:T,isClosing:R,isWhite:Object.prototype.hasOwnProperty.call(r,E)},N=s(E,M,P);if(!vw(N))return N;if(P.isWhite){if(P.isClosing)return"</"+E+">";var k=i1e(M),U=r[E],Z=t1e(k.html,function(re,oe){var pe=V_.indexOf(U,re)!==-1,me=a(E,re,oe,pe);return vw(me)?pe?(oe=d(E,re,oe,g),oe?re+'="'+oe+'"':re):(me=u(E,re,oe,pe),vw(me)?void 0:me):me});return M="<"+E,Z&&(M+=" "+Z),k.closing&&(M+=" /"),M+=">",M}else return N=n(E,M,P),vw(N)?f(M):N},f);return v&&(w=v.remove(w)),w};var n1e=kW;(function(e,t){var i=oi,r=_T,s=n1e;function n(u,d){var f=new s(d);return f.process(u)}t=e.exports=n,t.filterXSS=n,t.FilterXSS=s,function(){for(var u in i)t[u]=i[u];for(var d in r)t[d]=r[d]}();function a(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}a()&&(self.filterXSS=e.exports)})(VR,VR.exports);var Sp=VR.exports,o1e=function(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},a1e=function(){function e(t,i){var r=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],article:["style"],aside:["style"],audio:["autoplay","controls","loop","muted","preload"],b:[],blockquote:["style"],br:[],code:["style"],dd:["style"],del:["style"],details:["open","style"],div:["align","aria-hidden","aria-label","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],footer:["style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],header:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],main:["style"],mark:["style"],nav:["style"],ol:[],p:["style"],pre:["style"],section:["style"],source:["media","src","type"],span:["aria-hidden","aria-label","style"],strong:[],sub:["style"],summary:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],time:["style"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.arcgisCSSWhiteList=QS(QS({},Sp.getDefaultCSSWhiteList()),{"align-items":!0,"align-self":!0,flex:!0,"flex-basis":!0,"flex-direction":!0,"flex-flow":!0,"flex-grow":!0,"flex-shrink":!0,"flex-wrap":!0,float:!0,gap:!0,grid:!0,"grid-area":!0,"grid-auto-columns":!0,"grid-auto-flow":!0,"grid-auto-rows":!0,"grid-column":!0,"grid-column-end":!0,"grid-column-start":!0,"grid-row":!0,"grid-row-end":!0,"grid-row-start":!0,"grid-template":!0,"grid-template-areas":!0,"grid-template-columns":!0,"grid-template-rows":!0,"justify-content":!0,"justify-items":!0,"justify-self":!0,"line-height":!0,overflow:!0}),this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(n,a,u,d){return n==="a"&&a==="href"||(n==="img"||n==="source")&&a==="src"?r.sanitizeUrl(u):Sp.safeAttrValue(n,a,u,d)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"};var s;t&&!i?s=t:t&&i?(s=Object.create(this.arcgisFilterOptions),s.css={whiteList:this.arcgisCSSWhiteList},Object.keys(t).forEach(function(n){if(n==="whiteList")s.whiteList=r._extendObjectOfArrays([r.arcgisWhiteList,t.whiteList||{}]);else if(n==="css"){var a=t.css.whiteList;a!=null&&t.css instanceof Object&&Object.keys(a).forEach(function(u){return s.css.whiteList[u]=a[u]})}else s[n]=t[n]})):(s=Object.create(this.arcgisFilterOptions),s.whiteList=this.arcgisWhiteList,s.css={whiteList:this.arcgisCSSWhiteList}),this.xssFilterOptions=s,this._xssFilter=new Sp.FilterXSS(s)}return e.prototype.sanitize=function(t,i){switch(i===void 0&&(i={}),typeof t){case"number":return isNaN(t)||!isFinite(t)?null:t;case"boolean":return t;case"string":return this._xssFilter.process(t);case"object":return this._iterateOverObject(t,i);default:return i.allowUndefined&&typeof t>"u"?void 0:null}},e.prototype.sanitizeUrl=function(t,i){var r=(i??{}).isProtocolRequired,s=r===void 0?!0:r,n=this._trim(t.substring(0,t.indexOf(":"))),a=t==="/",u=/^#/.test(t),d=n&&this.allowedProtocols.indexOf(n.toLowerCase())>-1;return a||u||d?Sp.escapeAttrValue(t):!n&&!s?Sp.escapeAttrValue("https://".concat(t)):""},e.prototype.sanitizeHTMLAttribute=function(t,i,r,s){return typeof this.xssFilterOptions.safeAttrValue=="function"?this.xssFilterOptions.safeAttrValue(t,i,r,s):Sp.safeAttrValue(t,i,r,s)},e.prototype.validate=function(t,i){i===void 0&&(i={});var r=this.sanitize(t,i);return{isValid:t===r,sanitized:r}},e.prototype.encodeHTML=function(t){var i=this;return String(t).replace(/[&<>"'\/]/g,function(r){return i._entityMap[r]})},e.prototype.encodeAttrValue=function(t){var i=/^[a-zA-Z0-9]$/;return String(t).replace(/[\x00-\xFF]/g,function(r,s){return i.test(r)?r:"&#x".concat(Number(t.charCodeAt(s)).toString(16),";")})},e.prototype._extendObjectOfArrays=function(t){var i={};return t.forEach(function(r){Object.keys(r).forEach(function(s){Array.isArray(r[s])&&Array.isArray(i[s])?i[s]=i[s].concat(r[s]):i[s]=r[s]})}),i},e.prototype._iterateOverObject=function(t,i){var r=this;i===void 0&&(i={});try{var s=!1,n=void 0;if(Array.isArray(t))n=t.reduce(function(u,d){var f=r.validate(d,i);return f.isValid?u.concat([d]):(s=!0,u.concat([f.sanitized]))},[]);else if(o1e(t)){var a=Object.keys(t);n=a.reduce(function(u,d){var f=t[d],g=r.validate(f,i);return g.isValid?u[d]=f:(s=!0,u[d]=g.sanitized),u},{})}else return i.allowUndefined&&typeof t>"u"?void 0:null;return s?n:t}catch{return null}},e.prototype._trim=function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},e}();const ST=new Map;function FW(){ST.clear()}function l1e(e){return ST.get(e)}function u1e(e,t){ST.set(e,t)}function cM(e){ST.delete(e)}function c1e(...e){const t=Vr.acquire();for(let r=0;r<e.length;r++){const s=e[r],n=typeof s;if(n==="string")t.push(s);else if(Array.isArray(s))t.push.apply(t,s);else if(n==="object")for(const a in s)s[a]&&t.push(a)}const i=t.join(" ");return Vr.release(t),i}(()=>{const e=new Map,t=new ResizeObserver(r=>{var s;FW();for(const n of r)(s=e.get(n.target))==null||s(n)}),i=(r,s,n)=>(e.set(r,s),t.observe(r,n),pt(()=>{t.unobserve(r),e.delete(r)}));return(r,s,n)=>{let a=null;return Av([ke(()=>typeof r=="function"?r():r,u=>{a==null||a.remove(),u&&(a=i(u,s,n))},as),pt(()=>a==null?void 0:a.remove())])}})();function d1e(e){const t=e==null?void 0:e.closest("[dir]");return t!==null&&t instanceof HTMLElement&&t.dir==="rtl"||document.dir==="rtl"}function hPe(e){const t="data-node-ref";this[e.getAttribute(t)]=null}function pPe(e){const t="data-node-ref";this[e.getAttribute(t)]=e}const h1e=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],p1e=h1e.reduce((e,t)=>(e[t]=[],e),{}),f1e=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],jW=new a1e({whiteList:p1e,onTagAttr:(e,t,i)=>{const r=`${t}="${i}"`;if(f1e.includes(t))return r},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function m1e(e){return e==="Enter"||e===" "}async function y1e(e,t){await oee(Iv(t));const i=typeof e=="function"?e():e;i&&("setFocus"in i&&typeof i.setFocus=="function"?await i.setFocus():i instanceof HTMLElement&&i.focus())}const UW="http://www.w3.org/",TT=`${UW}2000/svg`,zW=`${UW}1999/xlink`;let p9=[],IN=(e,t)=>{let i={};return Object.keys(e).forEach(r=>{i[r]=e[r]}),t&&Object.keys(t).forEach(r=>{i[r]=t[r]}),i},NN=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),VW=e=>{if(typeof e!="string")throw new Error("Style values must be strings")},g1e=(e,t,i)=>{if(t.vnodeSelector!==""){for(let r=i;r<e.length;r++)if(NN(e[r],t))return r}return-1},dM=(e,t,i,r)=>{let s=e[t];if(s.vnodeSelector==="")return;let n=s.properties;if(!(n&&(n.key===void 0?n.bind:n.key))){for(let a=0;a<e.length;a++)if(a!==t){let u=e[a];if(NN(u,s))throw new Error(`${i.vnodeSelector} had a ${s.vnodeSelector} child ${r==="added"?r:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}}},v1e=e=>{if(e.properties){let t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},qR=[],BR=!1,GW=e=>{(e.children||[]).forEach(GW),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},f9=()=>{BR=!1,qR.forEach(GW),qR.length=0},m9=e=>{qR.push(e),BR||(BR=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(f9,{timeout:16}):setTimeout(f9,16))},y9=e=>{let t=e.domNode;if(e.properties){let i=e.properties.exitAnimation;if(i)return t.style.pointerEvents="none",void i(t,()=>{t.parentNode&&(t.parentNode.removeChild(t),m9(e))},e.properties)}t.parentNode&&(t.parentNode.removeChild(t),m9(e))},b1e=(e,t,i)=>{if(!t)return;let r=i.eventHandlerInterceptor,s=Object.keys(t),n=s.length;for(let a=0;a<n;a++){let u=s[a],d=t[u];if(u==="className")throw new Error('Property "className" is not supported, use "class".');if(u==="class")WR(e,d,!0);else if(u==="classes"){let f=Object.keys(d),g=f.length;for(let v=0;v<g;v++){let w=f[v];d[w]&&e.classList.add(w)}}else if(u==="styles"){let f=Object.keys(d),g=f.length;for(let v=0;v<g;v++){let w=f[v],S=d[w];S&&(VW(S),i.styleApplyer(e,w,S))}}else if(u!=="key"&&d!=null){let f=typeof d;f==="function"?(u.lastIndexOf("on",0)===0&&(r&&(d=r(u,d,e,t)),u==="oninput"&&function(){let g=d;d=function(v){g.apply(this,[v]),v.target["oninput-value"]=v.target.value}}()),e[u]=d):i.namespace===TT?u==="href"?e.setAttributeNS(zW,u,d):e.setAttribute(u,d):f==="string"&&u!=="value"?u==="innerHTML"?e[u]=jW.sanitize(d):HR(e)&&u in e?e[u]=d:e.setAttribute(u,d):e[u]=d}}};function HR(e){if(!(e instanceof Element&&e.tagName.includes("-")))return!1;const t=window.customElements.get(e.tagName.toLowerCase());return!!t&&e instanceof t}let e2,w1e=(e,t,i)=>{if(t)for(let r of t)V0(r,e,void 0,i)},qW=(e,t,i)=>{w1e(e,t.children,i),t.text&&(e.textContent=t.text),b1e(e,t.properties,i),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,i,t.vnodeSelector,t.properties,t.children])},V0=(e,t,i,r)=>{let s,n=0,a=e.vnodeSelector,u=t.ownerDocument;if(a==="")s=e.domNode=u.createTextNode(e.text),i!==void 0?t.insertBefore(s,i):t.appendChild(s);else{for(let d=0;d<=a.length;++d){let f=a.charAt(d);if(d===a.length||f==="."||f==="#"){let g=a.charAt(n-1),v=a.slice(n,d);g==="."?s.classList.add(v):g==="#"?s.id=v:(v==="svg"&&(r=IN(r,{namespace:TT})),r.namespace!==void 0?s=e.domNode=u.createElementNS(r.namespace,v):(s=e.domNode=e.domNode||u.createElement(v),v==="input"&&e.properties&&e.properties.type!==void 0&&s.setAttribute("type",e.properties.type)),i!==void 0?t.insertBefore(s,i):s.parentNode!==t&&t.appendChild(s)),n=d+1}}qW(s,e,r)}},WR=(e,t,i)=>{t&&t.split(" ").forEach(r=>{r&&e.classList.toggle(r,i)})},_1e=(e,t,i,r)=>{if(!i)return;let s=!1,n=Object.keys(i),a=n.length;for(let u=0;u<a;u++){let d=n[u],f=i[d],g=t[d];if(d==="class")g!==f&&(WR(e,g,!1),WR(e,f,!0));else if(d==="classes"){let v=e.classList,w=Object.keys(f),S=w.length;for(let T=0;T<S;T++){let E=w[T],M=!!f[E];M!==!!g[E]&&(s=!0,M?v.add(E):v.remove(E))}}else if(d==="styles"){let v=Object.keys(f),w=v.length;for(let S=0;S<w;S++){let T=v[S],E=f[T];E!==g[T]&&(s=!0,E?(VW(E),r.styleApplyer(e,T,E)):r.styleApplyer(e,T,""))}}else if(f||typeof g!="string"||(f=""),d!=="value"||HR(e)){if(f!==g){let v=typeof f;v==="function"&&r.eventHandlerInterceptor||(r.namespace===TT?d==="href"?e.setAttributeNS(zW,d,f):e.setAttribute(d,f):v==="string"?d==="innerHTML"?e[d]=jW.sanitize(f):d==="role"&&f===""?e.removeAttribute(d):HR(e)&&d in e?e[d]=f:e.setAttribute(d,f):e[d]!==f&&(e[d]=f),s=!0)}}else{let v=e[d];v!==f&&(e["oninput-value"]?v===e["oninput-value"]:f!==g)&&(e[d]=f,e["oninput-value"]=void 0),f!==g&&(s=!0)}}return s},S1e=(e,t,i,r,s)=>{if(i===r)return!1;r=r||p9;let n,a=(i=i||p9).length,u=r.length,d=0,f=0,g=!1;for(;f<u;){let v=d<a?i[d]:void 0,w=r[f];if(v!==void 0&&NN(v,w))g=e2(v,w,s)||g,d++;else{let S=g1e(i,w,d+1);if(S>=0){for(n=d;n<S;n++)y9(i[n]),dM(i,n,e,"removed");g=e2(i[S],w,s)||g,d=S+1}else V0(w,t,d<a?i[d].domNode:void 0,s),v1e(w),dM(r,f,e,"added")}f++}if(a>d)for(n=d;n<a;n++)y9(i[n]),dM(i,n,e,"removed");return g};e2=(e,t,i)=>{let r=e.domNode,s=!1;if(e===t)return!1;let n=!1;if(t.vnodeSelector===""){if(t.text!==e.text){let a=r.ownerDocument.createTextNode(t.text);return r.parentNode.replaceChild(a,r),t.domNode=a,s=!0,s}t.domNode=r}else t.vnodeSelector.lastIndexOf("svg",0)===0&&(i=IN(i,{namespace:TT})),e.text!==t.text&&(n=!0,t.text===void 0?r.removeChild(r.firstChild):r.textContent=t.text),t.domNode=r,n=S1e(t,r,e.children,t.children,i)||n,n=_1e(r,e.properties,t.properties,i)||n,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[r,i,t.vnodeSelector,t.properties,t.children]);return n&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(r,t.properties,e.properties),s};let bw=(e,t)=>({getLastRender:()=>e,update:i=>{if(e.vnodeSelector!==i.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let r=e;e=i,e2(r,i,t)},domNode:e.domNode});const T1e={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,i)=>{t.charAt(0)==="-"?e.style.setProperty(t,i):e.style[t]=i}};let c0=e=>IN(T1e,e),qu={append:(e,t,i)=>(i=c0(i),V0(t,e,void 0,i),bw(t,i)),insertBefore:(e,t,i)=>(i=c0(i),V0(t,e.parentNode,e,i),bw(t,i)),merge:(e,t,i)=>(i=c0(i),t.domNode=e,qW(e,t,i),bw(t,i)),replace:(e,t,i)=>(i=c0(i),V0(t,e.parentNode,e,i),e.parentNode.removeChild(e),bw(t,i))},BW,E1e=(e,t)=>{let i=[];for(;e&&e!==t;)i.push(e),e=e.parentNode;return i};BW=Array.prototype.find?(e,t)=>e.find(t):(e,t)=>e.filter(t)[0];let $1e=(e,t)=>{let i=e;return t.forEach(r=>{i=i&&i.children?BW(i.children,s=>s.domNode===r):void 0}),i},x1e=(e,t,i)=>{let r=function(s){i("domEvent",s);let n=t(),a=E1e(s.currentTarget,n.domNode);a.reverse();let u,d=$1e(n.getLastRender(),a);return e.scheduleRender(),d&&(u=d.properties[`on${s.type}`].apply(d.properties.bind||this,arguments)),i("domEventProcessed",s),u};return(s,n,a,u)=>r},g9=e=>{let t,i,r=c0(e),s=r.performanceLogger,n=!0,a=!1,u=[],d=[],f=(v,w,S)=>{let T,E=()=>T;r.eventHandlerInterceptor=x1e(t,E,s),T=v(w,S(),r),u.push(T),d.push(S)},g=()=>{if(i=void 0,n){n=!1,s("renderStart",void 0);for(let v=0;v<u.length;v++){let w=d[v]();s("rendered",void 0),u[v].update(w),s("patched",void 0)}s("renderDone",void 0),n=!0}};return t={renderNow:g,scheduleRender:()=>{i||a||(i=requestAnimationFrame(g))},stop:()=>{i&&(cancelAnimationFrame(i),i=void 0),a=!0},resume:()=>{a=!1,n=!0,t.scheduleRender()},append:(v,w)=>{f(qu.append,v,w)},insertBefore:(v,w)=>{f(qu.insertBefore,v,w)},merge:(v,w)=>{f(qu.merge,v,w)},replace:(v,w)=>{f(qu.replace,v,w)},detach:v=>{for(let w=0;w<d.length;w++)if(d[w]===v)return d.splice(w,1),u.splice(w,1)[0];throw new Error("renderFunction was not found")}},t},_u=class extends $e{constructor(){super(...arguments),this.items=new ye,this._watchUpdatingTracking=new th,this._callbacks=new Map,this._projector=g9(),this._hiddenProjector=g9()}get needsRender(){return this.items.length>0}get updating(){var t;return((t=this._watchUpdatingTracking)==null?void 0:t.updating)??!1}initialize(){const t=document.createElement("div");t.className="esri-overlay-surface",this._set("surface",t),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),t.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(()=>this.items,i=>{for(const r of i.added){const s=()=>r.render();this._callbacks.set(r,s),this._projector.append(this.surface,s)}for(const r of i.removed){const s=this._projector.detach(this._callbacks.get(r));this.surface.removeChild(s.domNode),this._callbacks.delete(r)}})}addItem(t){this.items.add(t)}removeItem(t){this.items.remove(t)}destroy(){this.items.removeAll(),this._callbacks.forEach(t=>this._projector.detach(t)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(t){const i=this._hiddenSurface,r=this._hiddenProjector;let s;const n=()=>(s=t.render(),s);r.append(i,n),r.renderNow();const a={left:0,top:0,right:0,bottom:0};if(s!=null&&s.domNode){const u=s.domNode.getBoundingClientRect();a.left=u.left,a.top=u.top,a.right=u.right,a.bottom=u.bottom}for(r.detach(n);i.firstChild;)i.removeChild(i.firstChild);return a}overlaps(t,i){const r=this.computeBoundingRect(t),s=this.computeBoundingRect(i);return Math.max(r.left,s.left)<=Math.min(r.right,s.right)&&Math.max(r.top,s.top)<=Math.min(r.bottom,s.bottom)}get hasVisibleItems(){return this.items.some(t=>t.visible)}async prepare(){await document.fonts.load(this._fontString()).catch(()=>{})}renderCanvas(t,i){const r=!!(i!=null&&i.disableDecorations);if(!this.items.some(n=>n.visible&&!(r&&n.isDecoration)))return;const s=t.getContext("2d");s.save(),s.font=this._fontString(),this.items.forEach(n=>{r&&n.isDecoration||(s.save(),n.renderCanvas(s),s.restore())}),s.restore()}_fontString(){return`10px ${getComputedStyle(this.surface).fontFamily}`}};c([p({readOnly:!0})],_u.prototype,"surface",void 0),c([p({readOnly:!0})],_u.prototype,"items",void 0),c([p({readOnly:!0})],_u.prototype,"needsRender",null),c([p({readOnly:!0})],_u.prototype,"_watchUpdatingTracking",void 0),c([p({readOnly:!0})],_u.prototype,"updating",null),_u=c([O("esri.views.overlay.ViewOverlay")],_u);const v9=_u,hM=[0,0];function M1e(e){const t=(e.ownerDocument||window.document).defaultView,i=e.getBoundingClientRect();return hM[0]=i.left+((t==null?void 0:t.pageXOffset)??0),hM[1]=i.top+((t==null?void 0:t.pageYOffset)??0),hM}function b9(e){e&&(e.textContent="",e.parentNode&&e.parentNode.removeChild(e))}function A1e(e){const t=document.createElement("div");return e.appendChild(t),t}const Tp=16,eg=750,O1e=512,R1e=2,C1e=e=>{let t=class extends e{constructor(...i){super(...i),this._freqInfo={freq:Tp,time:eg},this._overlayRenderTaskHandle=null,this.height=0,this.messagesCommon=null,this.overlay=null,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.addHandles([ke(()=>this.cursor,r=>{const{surface:s}=this;s&&s.setAttribute("data-cursor",r)}),ke(()=>this.navigating,r=>{const{surface:s}=this;s&&s.setAttribute("data-navigating",r.toString())})])}initialize(){this.addHandles([ke(()=>this.ui,(i,r)=>this._handleUIChange(i,r),Ar),this.on("focus",()=>this.notifyChange("focused")),this.on("blur",()=>this.notifyChange("focused"))])}destroy(){var i;this.destroyed||((i=this.ui)==null||i.destroy(),this.container=null)}get container(){return this._get("container")??null}set container(i){const r=this._get("container"),s=ON(i);if(s||typeof i!="string"||ne.getLogger(this).error("#container",`element with id '${i}' not found`),r===s)return;if(this._stopMeasuring(),r&&(r.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay&&(this.overlay.destroy(),this._set("overlay",null)),this.root&&(b9(this.root),this._set("root",null)),this.userContent&&(l9(this.userContent,r),b9(this.userContent),this._set("userContent",null))),!s)return this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),void this._set("container",null);s.classList.add("esri-view");const n=document.createElement("div");n.className="esri-view-user-storage",l9(s,n),s.appendChild(n),this._set("userContent",n);const a=document.createElement("div");a.className="esri-view-root",s.insertBefore(a,s.firstChild),this._set("root",a);const u=document.createElement("div");u.className="esri-view-surface",u.setAttribute("role","application"),u.tabIndex=0,a.appendChild(u),this._set("surface",u);const d=new v9;a.appendChild(d.surface),this._set("overlay",d),this.addHandles(ke(()=>d.needsRender,f=>{f&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=Yf({render:()=>{var g;return(g=this.overlay)==null?void 0:g.render()}}):this._overlayRenderTaskHandle=Yt(this._overlayRenderTaskHandle)})),this.forceDOMReadyCycle(),this._set("container",s),this._startMeasuring()}get focused(){const i=document.activeElement===this.surface;return document.hasFocus()&&i}get size(){return[this.width,this.height]}blur(){var i;(i=this.surface)==null||i.blur()}focus(){var i;(i=this.surface)==null||i.focus()}pageToContainer(i,r,s){const n=this.position;return i-=n?n[0]:0,r-=n?n[1]:0,s?(s[0]=i,s[1]=r):s=[i,r],s}containerToPage(i,r,s){const n=this.position;return i+=n?n[0]:0,r+=n?n[1]:0,s?(s[0]=i,s[1]=r):s=[i,r],s}_handleUIChange(i,r){this.removeHandles("ui"),r&&r!==i&&r.destroy(),i&&(i.view=this,this.addHandles(ke(()=>this.root,s=>{i.container=s?A1e(s):null},Ar),"ui")),this._set("ui",i)}_stopMeasuring(){this.removeHandles("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const i=this._freqInfo;i.freq=Tp,i.time=eg;const r=Yf({prepare:a=>{const u=this._measure(),d=this._freqInfo;if(d.time+=a.deltaTime,u&&(d.freq=Tp,this._get("resizing")||this._set("resizing",!0)),d.time<d.freq)return;d.time=0;const f=this._position();d.freq=f||u?Tp:Math.min(eg,d.freq*R1e),!u&&d.freq>=O1e&&(r.pause(),this._get("resizing")&&this._set("resizing",!1))}}),s=new ResizeObserver(a=>{i.freq=Tp,i.time=eg,r.resume()});this.container!=null&&s.observe(this.container);const n=pt(()=>s.disconnect());this.addHandles([Cv(window,"resize",()=>{i.freq=Tp,i.time=eg,r.resume()}),n,r],"measuring"),this._measure(),this._position()}_measure(){const i=this.container,r=i?i.clientWidth:0,s=i?i.clientHeight:0;if(r===0||s===0)return this.suspended||this._set("suspended",!0),!1;const n=this.width,a=this.height;return r===n&&s===a?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",r),this._set("height",s),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:n,oldHeight:a,width:r,height:s}),!0)}_position(){const i=this.container,r=this.position,s=i&&M1e(i);return!!s&&(!r||s[0]!==r[0]||s[1]!==r[1])&&(this._set("position",[s[0],s[1]]),!0)}forceDOMReadyCycle(){}};return c([p()],t.prototype,"container",null),c([p({readOnly:!0})],t.prototype,"focused",null),c([p({readOnly:!0})],t.prototype,"height",void 0),c([p()],t.prototype,"messagesCommon",void 0),c([p({type:v9})],t.prototype,"overlay",void 0),c([p({readOnly:!0})],t.prototype,"position",void 0),c([p({readOnly:!0})],t.prototype,"resizing",void 0),c([p({readOnly:!0})],t.prototype,"root",void 0),c([p({value:null,readOnly:!0})],t.prototype,"size",null),c([p({readOnly:!0})],t.prototype,"surface",void 0),c([p({readOnly:!0})],t.prototype,"suspended",void 0),c([p({nonNullable:!0})],t.prototype,"ui",void 0),c([p({readOnly:!0})],t.prototype,"userContent",void 0),c([p({readOnly:!0})],t.prototype,"width",void 0),c([p()],t.prototype,"widthBreakpoint",void 0),t=c([O("esri.views.DOMContainer")],t),t},I1e=B("mac")?"Meta":"Control",N1e=new Set(["Alt","Control","Meta","Shift","Ctrl","Primary"]),P1e=e=>N1e.has(e);let L1e=class{constructor(t,i=[]){this.eventType=t,this.keyModifiers=i}matches(t){if(t.type!==this.eventType)return!1;if(this.keyModifiers.length===0)return!0;const i=t.modifiers;for(const r of this.keyModifiers)if(!i.has(r))return!1;return!0}},Gi=class{constructor(t){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=t}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const t in this._incoming){const i=this._incoming[t];for(const r of i)this._incomingEventMatches.push(r.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(t=>t.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(t){this._manager||(t.setEventCallback(i=>this._handleEvent(i)),t.setUninstallCallback(()=>this._onUninstall()),this._manager=t)}onUninstall(){}registerIncoming(t,i,r){let s;typeof i=="function"?(r=i,s=[]):s=i||[];const n=typeof t=="string"?new L1e(t,s):t,a=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},u=g=>{const v=this._incoming[g.match.eventType];if(v){const w=v.indexOf(g);v.splice(w,1),a(),this._manager&&this._manager.updateDependencies()}},d=new D1e(n,r,{onPause:u,onRemove:u,onResume:g=>{const v=this._incoming[g.match.eventType];v&&!v.includes(g)&&(v.push(g),a(),this._manager&&this._manager.updateDependencies())}});let f=this._incoming[n.eventType];return f||(f=[],this._incoming[n.eventType]=f),f.push(d),a(),this._manager&&this._manager.updateDependencies(),d}registerOutgoing(t){if(this._outgoing[t])throw new Error("There is already a callback registered for this outgoing InputEvent: "+t);const i=new k1e(t,{onEmit:(r,s,n,a)=>{var u;(u=this._manager)==null||u.emit(r.eventType,s,n,a)},onRemove:r=>{var s;delete this._outgoing[r.eventType],(s=this._manager)==null||s.updateDependencies()}});return this._outgoing[t]=i,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),i}startCapturingPointer(t){var i;(i=this._manager)==null||i.setPointerCapture(t,!0)}stopCapturingPointer(t){var i;(i=this._manager)==null||i.setPointerCapture(t,!1)}refreshHasPendingInputs(){var t;(t=this._manager)==null||t.refreshHasPendingInputs()}_onUninstall(){this._manager&&(this.onUninstall(),this._manager=null)}_handleEvent(t){var r;const i=this._incoming[t.type];if(i){for(const s of i)if(s.match.matches(t)&&((r=s.callback)==null||r.call(s,t),t.shouldStopPropagation()))break}}},D1e=class{constructor(t,i,r){this.match=t,this._callback=i,this._handler=r}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}},k1e=class{constructor(t,i){this.eventType=t,this._removed=!1,this._handler=i}emit(t,i,r){this._removed||this._handler.onEmit(this,t,i,r)}remove(){this._removed=!0,this._handler.onRemove(this)}},F1e=class extends Gi{constructor(t){super(!0),this._onChange=t,this._value="mouse",this._x=null,this._y=null,this.registerIncoming("pointer-move",i=>this._update(i.data))}_update(t){const i=t.native.pointerType==="touch"?"touch":"mouse",{x:r,y:s}=t;i===this._value&&this._x===r&&this._y===s||(this._value=i,this._x=r,this._y=s,this._onChange(i,r,s))}},j1e=class{constructor(t,i){this._observable=new kv,this._value=t,this._equalityFunction=i}get value(){return Pe(this._observable),this._value}set value(t){this._equalityFunction(t,this._value)||(this._value=t,this._observable.notify())}mutate(t){t(this._value),this._observable.notify()}};function dm(e,t=zU){return new j1e(e,t)}let U1e=class extends Gi{get multiTouchActive(){return this._multiTouchActive.value}constructor(){super(!0),this._activeTouchPointerIds=new Set,this._multiTouchActive=dm(!1),this._onPointerAdd=({data:t})=>{t.pointerType==="touch"&&(this._activeTouchPointerIds.add(t.native.pointerId),this._update())},this._onPointerRemove=({data:t})=>{t.pointerType==="touch"&&(this._activeTouchPointerIds.delete(t.native.pointerId),this._update())},this.registerIncoming("pointer-down",this._onPointerAdd),this.registerIncoming("pointer-up",this._onPointerRemove),this.registerIncoming("pointer-capture-lost",this._onPointerRemove),this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.value=this._activeTouchPointerIds.size>1}},z1e=class{constructor(t,i){this._owner=i,this._properties={},this._afterDispatchHandle=null;for(const r in t){const s=t[r],n=new oz(s,void 0,void 0,2,2);this._properties[r]={pool:n,acquired:[]}}this._afterDispatchHandle=bee(()=>this._release())}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const t in this._properties){const i=this._properties[t];for(const r of i.acquired)v4(r)||i.pool.release(r);i.pool.destroy(),i.pool=null,i.acquired=null}this._properties=null,this._owner=null}get(t){const i=this._owner._get(t),r=this._properties[t];let s=r.pool.acquire();for(r.acquired.push(s);s===i;)r.acquired.push(s),s=r.pool.acquire();return s}_release(){for(const t in this._properties){const i=this._properties[t];let r=0;for(const s of i.acquired)v4(s)?i.acquired[r++]=s:i.pool.release(s);i.acquired.length=r}}},on=class extends $e{constructor(t){super(t),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._handlersPriority=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=I1e,this._latestPointerType="mouse",this._propertiesPool=new z1e({latestPointerLocation:q1e},this),this.latestPointerLocation=null,this._paused=!1,this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const t=Object.keys(this._nameToGroup);for(const i of t)this.uninstallHandlers(i);this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(t=>t.handler.hasPendingInputs)}get latestPointerType(){return this._latestPointerType}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}get updating(){return this.hasPendingInputs||this._paused}installHandlers(t,i,r=Wu.INTERNAL){if(this._nameToGroup[t]||i.length===0)return;const s={name:t,handlers:i.map(n=>({handler:n,active:!0,removed:!1,priorityIndex:0,groupPriority:r,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[t]=s;for(let n=s.handlers.length-1;n>=0;n--){const a=s.handlers[n];this._handlers.push(a),a.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(u,d,f,g,v)=>{this._emitInputEvent(a.priorityIndex+1,u,d,f,v,g)},setPointerCapture:(u,d)=>{this._setPointerCapture(s,a,u,d)},setEventCallback:u=>{a.eventCallback=u},setUninstallCallback:u=>{a.uninstallCallback=u},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(t){const i=this._nameToGroup[t];i?(i.handlers.forEach(r=>{var s;r.removed=!0,(s=r.uninstallCallback)==null||s.call(r)}),delete this._nameToGroup[t],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):ne.getLogger(this).error("There is no InputHandler group registered under the name `"+t+"`")}hasHandlers(t){return this._nameToGroup[t]!==void 0}isModifierKeyDown(t){return this._activeKeyModifiers.has(t)}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const t=new Set,i=new Set;this._handlersPriority=[];for(let r=this._handlers.length-1;r>=0;r--){const s=this._handlers[r];s.priorityIndex=r,this._handlersPriority.push(s)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let r=this._handlersPriority.length-1;r>=0;r--){const s=this._handlersPriority[r];s.priorityIndex=r;let n=s.handler.hasSideEffects;if(!n){for(const a of s.handler.outgoingEventTypes)if(t.has(a)){n=!0;break}}if(n)for(const a of s.handler.incomingEventMatches){t.add(a.eventType);for(const u of a.keyModifiers)P1e(u)||i.add(u)}s.active=n}this._sourceEvents=t,this._keyModifiers=i,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(t,i,r){this._latestPointerType=t;const s=this._get("latestPointerLocation");if(s==null||s.x!==i||s.y!==r){const n=this._propertiesPool.get("latestPointerLocation");n.x=i,n.y=r,this._set("latestPointerLocation",n)}}_onEventReceived(t,i){if(t==="pointer-capture-lost"){const n=i;this._pointerCaptures.delete(n.native.pointerId)}this._updateKeyModifiers(t,i);const r=this.test.timestamp!=null?this.test.timestamp:i.native?i.native.timestamp:void 0,s=i.native?i.native.cancelable:void 0;this._emitInputEventFromSource(t,i,r,s)}_updateKeyModifiers(t,i){if(!i)return;let r=!1;const s=()=>{r||(this._activeKeyModifiers=new Set(this._activeKeyModifiers),r=!0)},n=(u,d)=>{d&&!this._activeKeyModifiers.has(u)?(s(),this._activeKeyModifiers.add(u)):!d&&this._activeKeyModifiers.has(u)&&(s(),this._activeKeyModifiers.delete(u))};if(t==="key-down"||t==="key-up"){const u=i.key;this._keyModifiers.has(u)&&n(u,t==="key-down")}const a=i.native;n("Alt",!!(a!=null&&a.altKey)),n("Control",!!(a!=null&&a.ctrlKey)),n("Ctrl",!!(a!=null&&a.ctrlKey)),n("Shift",!!(a!=null&&a.shiftKey)),n("Meta",!!(a!=null&&a.metaKey)),n("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new F1e((t,i,r)=>this._setLatestPointer(t,i,r)),this._multiTouchHandler=new U1e,this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],Wu.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,Wu.INTERNAL)}_setPointerCapture(t,i,r,s){const n=t.name+"-"+i.priorityIndex,a=this._pointerCaptures.get(r.pointerId)||new Set;this._pointerCaptures.set(r.pointerId,a),s?(a.add(n),a.size===1&&this.eventSource&&this.eventSource.setPointerCapture(r,!0)):a.has(n)&&(a.delete(n),a.size===0&&(this._pointerCaptures.delete(r.pointerId),this.eventSource&&this.eventSource.setPointerCapture(r,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(t=>!t.removed),this.updateDependencies()}_emitInputEventFromSource(t,i,r,s){this._emitInputEvent(0,t,i,r,s)}_emitInputEvent(t,i,r,s,n,a){const u=s!==void 0?s:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),d=n!==void 0&&n,f={event:new V1e(i,r,u,a||this._activeKeyModifiers,d),priorityIndex:t};this._currentPropagation?this._currentPropagation.events.push(f):this._doNewPropagation(f)}_doNewPropagation(t){this._currentPropagation={events:new zS,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:t.event.timestamp},this._currentPropagation.events.push(t),this._continuePropagation()}_continuePropagation(){var i,r,s;this._paused=!1;const t=this._currentPropagation;if(t){for(;t.events.length>0;){const{event:n,priorityIndex:a}=t.events.pop(),u=(i=n.data)==null?void 0:i.eventId;if(!(u!=null&&this._stoppedPropagationEventIds.has(u)))for(t.currentHandler=this._handlersPriority[a];t.currentHandler;){if(t.currentHandler.removed)t.needsHandlerGarbageCollect=!0;else{if(t.currentHandler.active&&!n.shouldStopPropagation()&&((s=(r=t.currentHandler).eventCallback)==null||s.call(r,n)),n.shouldStopPropagation()){u!=null&&this._stoppedPropagationEventIds.add(u);break}if(n.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:n,priorityIndex:t.currentHandler.priorityIndex+1})}t.currentHandler=this._handlersPriority[t.currentHandler.priorityIndex+1]}}t.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(t){const i=new zS;i.push(t);const r=this._currentPropagation;if(r){for(;r.events.length;)i.push(r.events.pop());r.events=i,r.currentHandler=null,this._paused=!0}}_compareHandlerPriority(t,i){if(t.handler.hasSideEffects!==i.handler.hasSideEffects)return t.handler.hasSideEffects?1:-1;if(t.groupPriority!==i.groupPriority)return t.groupPriority>i.groupPriority?-1:1;for(const r of t.handler.incomingEventMatches)for(const s of i.handler.incomingEventMatches){if(r.eventType!==s.eventType)continue;const n=r.keyModifiers.filter(a=>s.keyModifiers.includes(a));if(n.length===r.keyModifiers.length!=(n.length===s.keyModifiers.length))return r.keyModifiers.length>s.keyModifiers.length?-1:1}return t.priorityIndex>i.priorityIndex?-1:1}_sortHandlersPriority(t){const i=[];for(const r of t){let s=0;for(;s<i.length&&this._compareHandlerPriority(r,i[s])>=0;)s++;i.splice(s,0,r)}return i}get debug(){const t=i=>{const r=this._setPointerCapture;this._setPointerCapture=()=>{},i(),this._setPointerCapture=r};return{injectEvent:(i,r)=>{t(()=>this._onEventReceived(i,r))},disablePointerCapture:t}}};c([p({readOnly:!0})],on.prototype,"hasPendingInputs",null),c([p({constructOnly:!0})],on.prototype,"eventSource",void 0),c([p({constructOnly:!0})],on.prototype,"recognizers",void 0),c([p()],on.prototype,"_latestPointerType",void 0),c([p()],on.prototype,"latestPointerType",null),c([p()],on.prototype,"multiTouchActive",null),c([p({readOnly:!0})],on.prototype,"latestPointerLocation",void 0),c([p()],on.prototype,"_paused",void 0),c([p({readOnly:!0})],on.prototype,"updating",null),on=c([O("esri.views.input.InputManager")],on);let V1e=class{constructor(t,i,r,s,n){this.type=t,this.data=i,this.timestamp=r,this.modifiers=s,this.cancelable=n,this._propagationState=Nu.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=Nu.STOPPED}shouldStopPropagation(){return!!(this._propagationState&Nu.STOPPED)}async(t){this._propagationState|=Nu.PAUSED;const i=(r,s)=>{this._propagationState&=~Nu.PAUSED;const n=this._resumeCallback;if(this._resumeCallback=null,n&&n(),s)throw r;return r};return(typeof t=="function"?t():t).then(r=>i(r,!1),r=>i(r,!0))}shouldPausePropagation(t){return!!(this._propagationState&Nu.PAUSED)&&(this._resumeCallback=t,!0)}preventDefault(){this.data.native.preventDefault()}};var Nu;(function(e){e[e.NONE=0]="NONE",e[e.STOPPED=1]="STOPPED",e[e.PAUSED=2]="PAUSED"})(Nu||(Nu={}));const Wu={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};let G1e=class{};const q1e=G1e;function Ql(e){return e!=null&&"open"in e&&"declaredClass"in e}function w9(e){return e!=null&&"declaredClass"in e&&"dockOptions"in e}const B1e=e=>{let t=class extends e{constructor(){super(...arguments),this._popupSetupTask=null,this.popup={},this.popupEnabled=!0}initialize(){this.addHandles([ke(()=>[this.ui,this.popup],([i,r],s)=>{const n="popup",a="manual";if(s){const[u,d]=s;u&&Ql(d)&&(d.view=null,w9(d)&&u.remove(d,n))}i&&Ql(r)&&(r.view=this,w9(r)&&i.add(r,{key:n,position:a,internal:!0}))},Ar),this.on("click",i=>{this.popup&&this.popupEnabled&&(i.pointerType!=="mouse"||i.button===0)&&(Ql(this.popup)?this.popup.viewModel.handleViewClick(i):i.async(async()=>{await this.setupPopup(),Ql(this.popup)&&!this.destroyed&&this.ready&&this.popupEnabled&&this.popup.viewModel.handleViewClick(i)}))},Wu.WIDGET)]),MI(()=>this.ready&&this.popupEnabled&&!this.updating).then(()=>{ue(()=>import("./Popup-DYEwq8Z1.js").then(i=>i.P),__vite__mapDeps([191,4,192,27,193,194,175,35,195,196,188,83,81,82,15,14,16,11,2,197,198,128,199]),import.meta.url)})}destroy(){this.destroyed||this.closePopup()}async openPopup(i){if(Ql(this.popup))return this.popup.open(i);try{if(await this.setupPopup(),!this.popup)return void ne.getLogger(this).error(new z("view:null-popup","Popup is null and can't be opened"));this.popup.open(i)}catch{}}closePopup(){var i;(i=this._popupSetupTask)==null||i.abort(),Ql(this.popup)&&this.popup.close()}async fetchPopupFeatures(i,r){return await this.when(),this._popupHitsToFeatures(await this._getPopupHits(i,r),r)}async setupPopup(){var i;if((i=this._popupSetupTask)==null||i.abort(),this.popup&&!Ql(this.popup))return this._popupSetupTask=Hv(async r=>{const{default:s}=await ue(()=>import("./Popup-DYEwq8Z1.js").then(a=>a.P),__vite__mapDeps([191,4,192,27,193,194,175,35,195,196,188,83,81,82,15,14,16,11,2,197,198,128,199]),import.meta.url);if(ei(r),!this.popup||Ql(this.popup))return;const n=this.popup;delete n.open,delete n.close,this.popup=new s(n)}),this._popupSetupTask.promise}async _popupHitsToFeatures({location:i,hits:r},s){const n=[],a=[];let u=!1;const d=JK(s,B("popup-view-fetch-timeout")??W1e),f=w=>{const S=new H1e(w);return a.push(S),n.push(S.promise),S},g=w=>{const S=a.at(-1);return S&&S.layerView===w&&!u?S:f(w)};for(const w of r)"graphic"in w?(g(w.layerView).graphics.push(w.graphic),u=!1):(n.push(w.layerView.fetchPopupFeaturesAtLocation(w.mapPoint,d)),u=!0);a.map(w=>w.resolve(d));const v=YK(n).then(w=>w.filter(S=>!!S).flat());return{pendingFeatures:n,allGraphicsPromise:v,location:i}}async _getPopupHits(i,r){const{hits:s,location:n}=await this.popupHitTest(i);ei(r);const a=[];for(const u of s)if("graphic"in u){if(this._isValidPopupGraphic(u.graphic,r)){const d=this._isValidPopupGraphicsLayerView(u.layerView)?u.layerView:void 0;a.push({graphic:u.graphic,layerView:d})}}else this._isValidPopupLocationLayerView(u.layerView)&&a.push({mapPoint:u.mapPoint,layerView:u.layerView});return{hits:a,location:n}}_isValidPopupGraphic(i,r){return i&&!!i.getEffectivePopupTemplate(r==null?void 0:r.defaultPopupTemplateEnabled)}_isValidPopupGraphicsLayerView(i){return!i||(!("layer"in i)||!i.suspended)&&"fetchPopupFeaturesFromGraphics"in i}_isValidPopupLocationLayerView(i){return(!("layer"in i)||!i.suspended)&&"fetchPopupFeaturesAtLocation"in i}};return c([p()],t.prototype,"popup",void 0),c([p()],t.prototype,"popupEnabled",void 0),t=c([O("esri.views.PopupView")],t),t};let H1e=class{constructor(t){this.layerView=t,this._resolver=zs(),this.graphics=[]}get promise(){return this._resolver.promise}resolve(t){const{layerView:i,graphics:r,_resolver:s}=this;if(!i)return s.resolve(r),s.promise;let n;return i.fetchPopupFeaturesFromGraphics(r,t).catch(a=>(n=a,null)).then(a=>{a?s.resolve(a):s.reject(n)}),s.promise}};const W1e=5e3;let G0=class extends ye{constructor(t){super(t),this.addHandles([this.on("before-add",i=>{i.item==null&&i.preventDefault()}),this.on("after-add",i=>this._own(i.item)),this.on("after-remove",i=>this._release(i.item))])}get owner(){return this._get("owner")}set owner(t){t!==this._get("owner")&&(this._releaseAll(),this._set("owner",t),this._ownAll())}_ownAll(){for(const t of this.items)this._own(t)}_releaseAll(){for(const t of this.items)this._release(t)}_createNewInstance(t){return this.itemType?new(ye.ofType(this.itemType.Type))(t):new ye(t)}};function _9(e,t){return{type:e,cast:dq,set(i){const r=hl(i,this._get(t),e);r.owner=this,this._set(t,r)}}}c([p()],G0.prototype,"owner",null),G0=c([O("esri.core.support.OwningCollection")],G0);let t2=class extends G0{constructor(t){super(t),this.addHandles(this.on("before-add",i=>{i.item!=null&&i.item.parent===this.owner&&(ne.getLogger(this).warn("Analysis inside the collection must be unique. Not adding this element again."),i.preventDefault())}))}_own(t){t.parent=this.owner}_release(t){t.parent=null}};t2=c([O("esri.support.AnalysesCollection")],t2);let q0=class extends G0{_own(t){t.layer&&"remove"in t.layer&&t.layer!==this.owner&&t.layer.remove(t),t.layer=this.owner}_release(t){t.layer===this.owner&&(t.layer=null)}};c([DC({Type:nc,ensureType:Ci(nc)})],q0.prototype,"itemType",void 0),q0=c([O("esri.support.GraphicsCollection")],q0);let Su=class extends $e{constructor(t){super(t),this.view=null,this.baseLayerViews=new ye,this.referenceLayerViews=new ye,this._loadingHandle=ke(()=>{var i,r;return(r=(i=this.view)==null?void 0:i.map)==null?void 0:r.basemap},i=>{i&&i.load().catch(()=>{})},Ar)}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null);for(const t of this.baseLayerViews)t.destroy();this.baseLayerViews.length=0;for(const t of this.referenceLayerViews)t.destroy();this.referenceLayerViews.length=0}get suspended(){var t;return((t=this.view)==null?void 0:t.suspended)??!0}get updating(){var i,r,s;if((i=this.view)!=null&&i.suspended)return!1;const t=(s=(r=this.view)==null?void 0:r.map)==null?void 0:s.basemap;return!!(t!=null&&t.loaded)&&(this.baseLayerViews.some(n=>n.updating)||this.referenceLayerViews.some(n=>n.updating))}};c([p({constructOnly:!0})],Su.prototype,"view",void 0),c([p({readOnly:!0})],Su.prototype,"baseLayerViews",void 0),c([p({readOnly:!0})],Su.prototype,"referenceLayerViews",void 0),c([p({readOnly:!0})],Su.prototype,"suspended",null),c([p({type:Boolean,readOnly:!0})],Su.prototype,"updating",null),Su=c([O("esri.views.BasemapView")],Su);const Z1e=Su;function Y1e(e){return"tryRecycleWith"in e}function J1e(e){return e!=null&&typeof e=="object"&&"layerViews"in e}let X1e=class{constructor(t,i,r){this.layer=t,this.view=i,this.layerViewImporter=r,this._controller=new AbortController,this._deferred=zs(),this._started=!1,this.done=!1,this.promise=this._deferred.promise,yn(this._controller.signal,()=>{const s=new z("cancelled:layerview-create","layerview creation cancelled",{layer:t});this._deferred.reject(s)})}tryRecycle(t){if(!this.done||!this.layerView||!Y1e(this.layerView))return null;const i=this.layer.type,r=this._controller.signal;for(let s=0;s<t.length;s++){const n=t[s];if(n.type!==i)continue;const a=this.layerView.tryRecycleWith(n,{signal:r});if(a){t.splice(s,1),this.layer=n;const u=this.layerView,d=u.view;return this.promise=Promise.race([a.then(()=>(ei(this._controller.signal),n.emit("layerview-destroy",{view:d,layerView:u}),d.emit("layerview-destroy",{view:d,layerView:u}),n.emit("layerview-create",{view:d,layerView:u}),d.emit("layerview-create",{view:d,layerView:u}),u)),new Promise((f,g)=>yn(this._controller.signal,()=>g(Dt())))]),this.promise}}return null}destroy(){this._controller.abort();const{layerView:t}=this;if(t){const{layer:i,view:r}=this;i.emit("layerview-destroy",{view:r,layerView:t}),r.emit("layerview-destroy",{layer:i,layerView:t})}this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null,this._map=null}async start(){var s,n;if(this._started)return;this._started=!0;const{_controller:{signal:t},layer:i,view:r}=this;this._map=r.map;try{let a,u;if(await i.load({signal:t}),i.prefetchResources&&await i.prefetchResources({signal:t}),K1e(i))a=await i.createLayerView(r,{signal:t});else{if(!this.layerViewImporter.hasLayerViewModule(i))throw new z("layer:view-not-supported","No layerview implementation was found");const g=await this.layerViewImporter.importLayerView(i);ei(t),a="default"in g?new g.default({layer:i,view:r}):new g({layer:i,view:r})}const d=()=>{u=Yt(u),a.destroyed||a.destroy(),a.layer=null,a.parent=null,a.view=null,this.done=!0};u=yn(t,d),ei(t);try{await a.when()}catch(g){throw d(),g}if(!((n=(s=this._map)==null?void 0:s.allLayers)==null?void 0:n.includes(i)))return d(),void this._deferred.reject(new z("view:no-layerview-for-layer","The layer has been removed from the map",{layer:i}));this.layerView=a,i.emit("layerview-create",{view:r,layerView:a}),r.emit("layerview-create",{layer:i,layerView:a}),this.done=!0,this._deferred.resolve(a)}catch(a){i.emit("layerview-create-error",{view:r,error:a}),r.emit("layerview-create-error",{layer:i,error:a}),this.done=!0,this._deferred.reject(new z("layerview:create-error","layerview creation failed",{layer:i,error:a}))}}},an=class extends $e{constructor(t){super(t),this._layerLayerViewInfoMap=new Map,this._recyclingInfoMap=new Map,this._watchUpdatingTracking=new th,this.supportsGround=!0,this._preloadLayerViewModules=()=>{var r;const i=(r=this.view.map)==null?void 0:r.allLayers;if(i)for(const s of i)this.layerViewImporter.hasLayerViewModule(s)&&this.layerViewImporter.importLayerView(s)},this._reschedule=()=>this.destroyed?Promise.reject():(this._workPromise==null&&(this._workPromise=zs(),this._workPromise.promise.catch(()=>{})),this.removeHandles("reschedule"),this.addHandles(Nv(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{var d,f,g;if(this.destroyed)return;const i=this.view.map;if(this._map!==i&&(this.clear(),this._map=i),this._workPromise==null)return void this.notifyChange("updating");this.removeHandles("reschedule"),this.removeHandles("collection-change");const r=new Set,s=[],n=this.view.ready,a=v=>{if(v!=null){for(const w of v)if(w){r.add(w);const S=this._layerLayerViewInfoMap.get(w);S&&n?S.start():S||this._recyclingInfoMap.has(w)||s.push(w),"layers"in w&&w.layers&&a(w.layers)}}};for(const v of this._rootCollectionNames)a(Ho(this,v));for(const[v,w]of this._layerLayerViewInfoMap)if(!r.has(v)){this._layerLayerViewInfoMap.delete(w.layer);const S=w.tryRecycle(s);S?(this.notifyChange("updating"),this._recyclingInfoMap.set(w.layer,w),S.then(()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(w.layer),this._layerLayerViewInfoMap.set(w.layer,w),this._reschedule()}).catch(()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(w.layer),w.destroy(),this._reschedule()})):w.destroy()}for(const[v,w]of this._recyclingInfoMap)r.has(v)||(this.notifyChange("updating"),this._recyclingInfoMap.delete(w.layer),w.destroy());for(const v of s)this._createLayerView(v);this._refreshCollections();const u=[(d=i==null?void 0:i.ground)==null?void 0:d.layers,(f=i==null?void 0:i.basemap)==null?void 0:f.baseLayers,(g=i==null?void 0:i.basemap)==null?void 0:g.referenceLayers,i==null?void 0:i.layers].filter(v=>!!v);r.forEach(v=>"layers"in v&&u.push(v.layers)),this.addHandles(u.map(v=>this._watchUpdatingTracking.addOnCollectionChange(()=>v,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.addHandles([rc(()=>{var t,i;return(i=(t=this.view)==null?void 0:t.map)==null?void 0:i.allLayers},"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),ke(()=>{const t=this.view,i=t==null?void 0:t.map;return[i==null?void 0:i.basemap,i==null?void 0:i.ground,i==null?void 0:i.layers,t==null?void 0:t.ready]},()=>this._reschedule(),as)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),oM(this._recyclingInfoMap),oM(this._layerLayerViewInfoMap),this._watchUpdatingTracking.destroy(),this._map=null,this._workPromise!=null&&(this._workPromise.reject(Dt()),this._workPromise=null)}get _layersToLayerViews(){const t=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&t.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(t)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return this._workPromise!=null||this._watchUpdatingTracking.updating||xee(this._layerLayerViewInfoMap,t=>!t.done)||this._recyclingInfoMap.size>0}get updatingRemaining(){let t=0;for(const i of this._layerLayerViewInfoMap.values())i.done||++t;return t}clear(){this.destroyed||(oM(this._layerLayerViewInfoMap),this._refreshCollections())}async whenLayerView(t){if(await this._reschedule(),!this._layerLayerViewInfoMap.has(t)){if(this._recyclingInfoMap.has(t))return this._recyclingInfoMap.get(t).promise;throw new z("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:t})}return this._layerLayerViewInfoMap.get(t).promise}isCreatingLayerViewsForLayer(t,i){var n;this.commitProperty("updatingRemaining");const r=this._layerLayerViewInfoMap.get(t);if(!(r!=null&&r.done))return!0;const s=r.layerView;return!(!s||!i||s.parent===i)||!!(r.done&&s&&"layers"in t&&((n=t.layers)!=null&&n.length))&&t.layers.some(a=>this.isCreatingLayerViewsForLayer(a,s))}_refreshCollections(){for(const[t,i]of this._layersToLayerViews)this._populateLayerViewsOwners(Ho(this,t),Ho(this,i),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(t,i,r){if(!t||!i)return void(i&&i.removeAll());let s=0;for(const n of t){const a=this._layerLayerViewInfoMap.get(n);if(!(a!=null&&a.layerView))continue;const u=a.layerView;u.layer=n,u.parent=r,i.at(s)!==u&&i.splice(s,0,u),"layers"in n&&J1e(u)&&this._populateLayerViewsOwners(n.layers,u.layerViews,u),s+=1}s<i.length&&i.splice(s,i.length)}_createLayerView(t){t.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(t)&&this.layerViewImporter.importLayerView(t);const i=new X1e(t,this.view,this.layerViewImporter);i.promise.then(()=>this._refreshCollections(),r=>{r&&(Cr(r)||r.name==="cancelled:layerview-create")||ne.getLogger(this).error(`Failed to create layerview for layer title:'${t.title??"no title"}', id:'${t.id??"no id"}' of type '${t.type}'.`,{layer:t,error:r}),this._refreshCollections()}),this._layerLayerViewInfoMap.set(t,i),this.view.ready&&i.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};c([p()],an.prototype,"_workPromise",void 0),c([p({readOnly:!0})],an.prototype,"_watchUpdatingTracking",void 0),c([p({readOnly:!0})],an.prototype,"_layersToLayerViews",null),c([p({readOnly:!0})],an.prototype,"_rootCollectionNames",null),c([p()],an.prototype,"layerViewImporter",void 0),c([p()],an.prototype,"supportsGround",void 0),c([p({readOnly:!0})],an.prototype,"updating",null),c([p({readOnly:!0})],an.prototype,"updatingRemaining",null),c([p({constructOnly:!0})],an.prototype,"view",void 0),an=c([O("esri.views.LayerViewManager")],an);const Q1e=an;function K1e(e){return e.createLayerView!==TI.prototype.createLayerView}let Is=class extends $e{constructor(t){super(t),this.factor=1.5,this.offset=tr(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};c([p({type:Number})],Is.prototype,"factor",void 0),c([p({nonNullable:!0})],Is.prototype,"offset",void 0),c([p()],Is.prototype,"position",void 0),c([p({type:Number,range:{min:0}})],Is.prototype,"size",void 0),c([p()],Is.prototype,"maskUrl",void 0),c([p()],Is.prototype,"maskEnabled",void 0),c([p()],Is.prototype,"overlayUrl",void 0),c([p()],Is.prototype,"overlayEnabled",void 0),c([p({readOnly:!0})],Is.prototype,"version",null),c([p({type:Boolean})],Is.prototype,"visible",void 0),Is=c([O("esri.views.Magnifier")],Is);const HW=Is;let G_=class{constructor(t){this._observable=new kv,this._map=new Map(t)}get size(){return Pe(this._observable),this._map.size}clear(){this._map.size>0&&(this._map.clear(),this._observable.notify())}delete(t){const i=this._map.delete(t);return i&&this._observable.notify(),i}entries(){return Pe(this._observable),this._map.entries()}forEach(t,i){Pe(this._observable),this._map.forEach((r,s)=>t.call(i,r,s,this),i)}get(t){return Pe(this._observable),this._map.get(t)}has(t){return Pe(this._observable),this._map.has(t)}keys(){return Pe(this._observable),this._map.keys()}set(t,i){return this._map.set(t,i),this._observable.notify(),this}values(){return Pe(this._observable),this._map.values()}[Symbol.iterator](){return Pe(this._observable),this._map[Symbol.iterator]()}[Symbol.dispose](){this._observable.destroy()}get[Symbol.toStringTag](){return this._map[Symbol.toStringTag]}};function ww(e){return!!(e!=null&&typeof e=="object"&&"createQuery"in e&&e.createQuery&&"on"in e&&e.on)}let Lo=class extends ho.EventedAccessor{constructor(t){super(t),this._selectionMap=new G_,this._sources=new ye,this._trashCan=[],this._layerEditHandles=new ye,this._vizTaskId=0,this.showHighlight=!0,this.highlightName="default"}initialize(){this.addHandles([ke(()=>[this.view,this.showHighlight],()=>this._refreshVisualization()),rc(()=>this.sources,"change",i=>{const r=this._selectionMap;for(const s of i.removed)r.delete(s);this._refreshListeners(),this._refreshVisualization()},{onListenerAdd:()=>this._refreshListeners()})]);const t=new ye;this.view.when().then(()=>{this.view.map&&(this.view.map.allLayers.flatten(i=>"sublayers"in i&&i.sublayers?i.sublayers:null).forEach(i=>{(ww(i)&&!ppe(i)||_d(i))&&t.add(i)}),this.sources=t)})}destroy(){this._layerEditHandles.drain(Yt)}get selections(){return Array.from(this._selectionMap.entries()).map(t=>{const[i,r]=t;return{layer:i,selection:[...r.selection]}})}get count(){let t=0;for(const i of this._selectionMap.values())t+=i.selection.length;return t}get hasSelection(){return this.count>0}get sources(){return this._sources}set sources(t){hl(t,this._sources)}async getSelectedFeatures(t,i={},r="layerView"){const{view:s,selections:n}=this,a=(t!==void 0?n.filter(u=>t.includes(u.layer)):n).filter(u=>u.selection.length>0).map(async u=>{const{layer:d,selection:f}=u,g=_d(d)?d.parent:d;if(g==null||!T9(g))return null;if(r==="layer")return E9(g,f,i);if(S9(g))return null;const v=await s.whenLayerView(g).catch(()=>null);return v?E9(v,f,i):null});return(await Promise.all(a)).filter(u=>u!=null)}updateSelection(t){const i=new Map;for(const[n,a]of this._selectionMap)i.set(n,[...a.selection]);let r=!1;const s=t.current.concat(t.added);for(const n of s){const a=n.sourceLayer,u=n.getObjectId();if(this.sources.includes(a)&&(ww(a)||_d(a))&&u!==null){const d=Pv(i,a,()=>[]);d.includes(u)||(d.push(u),r=!0)}}for(const n of t.removed){const a=n.sourceLayer,u=n.getObjectId();if(this.sources.includes(a)&&(ww(a)||_d(a))&&u!==null){const d=i.get(a),f=d==null?void 0:d.indexOf(u);f!==void 0&&f>=0&&(d==null||d.splice(f,1),r=!0)}}if(r){const{_selectionMap:n,_trashCan:a}=this,u=[];for(const[d,f]of i){const g=n.get(d);g!==void 0&&a.push(g),n.set(d,{selection:f}),u.push({layer:d,selection:f,...Kk(g!==void 0?g.selection:[],f)})}this._onSelectionChange(u)}}setSelection(t,i){this._setSelection(t,i)}getSelection(t){const i=this._selectionMap.get(t);return i==null?void 0:i.selection}appendToSelection(t,i){const r=this._selectionMap.get(t),s=r!==void 0?[...r.selection]:[];for(const n of i)s.includes(n)||s.push(n);this._setSelection(t,s)}removeFromSelection(t,i){const r=this._selectionMap.get(t);if(!r)return;const s=[];for(const n of r.selection)i.includes(n)||s.push(n);this._setSelection(t,s)}toggleInSelection(t,i){const r=this._selectionMap.get(t);if(!r||r.selection.length===0)return void this._setSelection(t,i);const s=new Set(r.selection),n=new Set(i),a=dee(s,n);this._setSelection(t,Array.from(a))}clear(){const t=this._selectionMap.values();this._trashCan.push(...t);const i=[];for(const[r,s]of this._selectionMap.entries())i.push({layer:r,added:[],removed:[...s.selection],selection:[]});this._selectionMap.clear(),this._onSelectionChange(i)}_onSelectionChange(t){this._refreshVisualization(),this.emit("selection-change",{view:this.view,changes:t})}_refreshVisualization(){var a;if(this.view==null||this.sources==null)return;for(this._vizTaskId++;this._trashCan.length>0;){const u=this._trashCan.pop();(a=u==null?void 0:u.highlightHandle)==null||a.remove()}const{sources:t,view:i,_selectionMap:r,showHighlight:s}=this,n=this._vizTaskId;for(const u of t){const d=r.get(u),f=_d(u)?u.parent:u;if(f!=null&&T9(f)){if(S9(f))continue;i.whenLayerView(f).then(g=>{var v;(v=d==null?void 0:d.highlightHandle)==null||v.remove(),d!=null&&s&&n===this._vizTaskId&&"highlight"in g&&typeof g.highlight=="function"&&d.selection.length>0&&(d.highlightHandle=g.highlight(d.selection,this.highlightName))}).catch(()=>{var g;(g=d==null?void 0:d.highlightHandle)==null||g.remove()})}}}_refreshListeners(){this._layerEditHandles.drain(Yt);for(const t of this.sources){const i=_d(t)?t.parent:t;if(i!=null&&ww(i)){const r=i.on("edits",s=>{this._handleEditChanges(s,t)});this._layerEditHandles.push(r)}}}_handleEditChanges(t,i){if(t.deletedFeatures!==void 0&&t.deletedFeatures.length>0&&this._selectionMap.has(i)){const r=t.deletedFeatures.filter(s=>s.error==null).map(s=>s.objectId).filter(Ju);this.removeFromSelection(i,r)}}_setSelection(t,i){if(!this.sources.includes(t))throw new Error(`Cannot set selection on layer ${t.title} because it is not in 'sources'`);const r=this._selectionMap.get(t);if(r===void 0||!tbe(r,{selection:i})){r!==void 0&&this._trashCan.push(r),this._selectionMap.set(t,{selection:[...i]});const s={layer:t,selection:[...i],...Kk(r!==void 0?r.selection:[],i)};this._onSelectionChange([s])}}};c([p({readOnly:!0,nonNullable:!0})],Lo.prototype,"selections",null),c([p({readOnly:!0,nonNullable:!0})],Lo.prototype,"count",null),c([p({constructOnly:!0,nonNullable:!0})],Lo.prototype,"view",void 0),c([p({readOnly:!0,nonNullable:!0})],Lo.prototype,"hasSelection",null),c([p()],Lo.prototype,"showHighlight",void 0),c([p()],Lo.prototype,"sources",null),c([p()],Lo.prototype,"highlightName",void 0),Lo=c([O("esri.views.SelectionManager")],Lo);const S9=e=>{var t;return _d(e)?((t=e.parent)==null?void 0:t.isTable)===!0:e.isTable},ebe=e=>e.layer!==void 0,T9=e=>(e==null?void 0:e.when)!==void 0,tbe=(e,t)=>{if(e==null&&t==null)return!0;if(e!=null&&t==null||e==null&&t!=null)return!1;if(e!=null&&t!=null&&e.selection!=null&&t.selection!=null){const i=[...e.selection],r=[...t.selection];if(i.length!==r.length)return!1;i.sort(),r.sort();for(let s=0;s<i.length;s++)if(i[s]!==r[s])return!1}return!0},E9=async(e,t,i={})=>{let r;if(ebe(e)){const s=e;r=s===void 0?null:await s.queryFeatures(new pl({...i,objectIds:t})).then(n=>({data:n,layer:e.layer}))}else{const s=e;r=s===void 0?null:await s.queryFeatures(new pl({...i,objectIds:t})).then(n=>({data:n,layer:s}))}return r},ibe=Lo;let d0=class extends rt.ClonableMixin($e){constructor(t){super(t),this.accentColor=new Ie([255,127,0]),this.textColor=new Ie([255,255,255])}};c([p({type:Ie,nonNullable:!0})],d0.prototype,"accentColor",void 0),c([p({type:Ie,nonNullable:!0})],d0.prototype,"textColor",void 0),d0=c([O("esri.views.Theme")],d0);const ZR=d0;var $9;(function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right"})($9||($9={}));const WW=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],ZW={};function YW(e){return!!ZW[e]}function rbe(e){for(const t of e)if(!YW(t))return!1;return!0}WW.forEach(e=>{ZW[e]=!0});let JW=class{constructor(t){this._handlers=new Map,this._counter=0,this._handlerCounts=new Map,this.view=t,this.inputManager=null}connect(t){t&&this.disconnect(),this.inputManager=t,this._handlers.forEach(({handler:i,priority:r},s)=>{var n;return(n=this.inputManager)==null?void 0:n.installHandlers(s,[i],r)})}disconnect(){this.inputManager&&this._handlers.forEach((t,i)=>{var r;return(r=this.inputManager)==null?void 0:r.uninstallHandlers(i)}),this.inputManager=null}destroy(){this.disconnect(),this._handlers.clear(),this.view=null}on(t,i,r,s){const n=Array.isArray(t)?t:t.split(",");if(!rbe(n))return n.some(YW)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let a,u;Array.isArray(i)?u=i:(a=i,u=[]),typeof r=="function"?a=r:s=r,s=s??Wu.DEFAULT;const d=this._createUniqueGroupName(),f=new sbe(this.view,n,u,a);this._handlers.set(d,{handler:f,priority:s});for(const g of n){const v=this._handlerCounts.get(g)||0;this._handlerCounts.set(g,v+1)}return this.inputManager&&this.inputManager.installHandlers(d,[f],s),pt(()=>this._removeHandler(d,n))}hasHandler(t){return!!this._handlerCounts.get(t)}_removeHandler(t,i){if(this._handlers.has(t)){this._handlers.delete(t);for(const r of i){const s=this._handlerCounts.get(r);s===void 0||(s===1?this._handlerCounts.delete(r):this._handlerCounts.set(r,s-1))}}this.inputManager&&this.inputManager.uninstallHandlers(t)}_createUniqueGroupName(){return this._counter+=1,`viewEvents_${this._counter}`}},sbe=class extends Gi{constructor(t,i,r,s){super(!0),this._latestDragStart=void 0,this.view=t;for(const n of i)switch(n){case"click":this.registerIncoming("click",r,a=>s(abe(t,a)));break;case"double-click":this.registerIncoming("double-click",r,a=>s(lbe(t,a)));break;case"immediate-click":this.registerIncoming("immediate-click",r,a=>s(ube(t,a)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",r,a=>s(cbe(t,a)));break;case"hold":this.registerIncoming("hold",r,a=>s(dbe(t,a)));break;case"drag":this.registerIncoming("drag",r,a=>{const u=this._wrapDrag(a);u&&s(u)});break;case"key-down":this.registerIncoming("key-down",r,a=>s(hbe(a)));break;case"key-up":this.registerIncoming("key-up",r,a=>s(pbe(a)));break;case"pointer-down":this.registerIncoming("pointer-down",r,a=>s(tg(a,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",r,a=>s(tg(a,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",r,a=>s(tg(a,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",r,a=>s(fbe(a)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",r,a=>s(mbe(a)));break;case"pointer-enter":this.registerIncoming("pointer-enter",r,a=>s(tg(a,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",r,a=>s(tg(a,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",r,a=>{s(ybe(a))});break;case"focus":this.registerIncoming("focus",r,a=>{s(nbe(a))});break;case"blur":this.registerIncoming("blur",r,a=>{s(obe(a))})}}_wrapDrag(t){const i=t.data,{x:r,y:s}=i.center,{action:n,pointerType:a,button:u}=i;if(n==="start"&&(this._latestDragStart=i),!this._latestDragStart)return;const d=i.pointer.native,f=i.buttons,{cancelable:g,timestamp:v}=t,w={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};return n==="end"&&(this._latestDragStart=void 0),{type:"drag",action:n,x:r,y:s,origin:w,pointerType:a,button:u,buttons:f,radius:i.radius,angle:oG(i.angle),native:d,timestamp:v,cancelable:g,stopPropagation:()=>t.stopPropagation(),async:S=>t.async(S),preventDefault:()=>t.preventDefault()}}};function nbe(e){return{type:"focus",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}function obe(e){return{type:"blur",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}function abe(e,t){const{pointerType:i,button:r,buttons:s,x:n,y:a,native:u,eventId:d}=t.data,{cancelable:f,timestamp:g}=t;return{type:"click",pointerType:i,button:r,buttons:s,x:n,y:a,native:u,timestamp:g,screenPoint:tr(n,a),mapPoint:a1(e,n,a),eventId:d,cancelable:f,stopPropagation:()=>t.stopPropagation(),async:v=>t.async(v),preventDefault:()=>t.preventDefault()}}function lbe(e,t){const{pointerType:i,button:r,buttons:s,x:n,y:a,native:u,eventId:d}=t.data,{cancelable:f,timestamp:g}=t;return{type:"double-click",pointerType:i,button:r,buttons:s,x:n,y:a,native:u,timestamp:g,mapPoint:a1(e,n,a),eventId:d,cancelable:f,stopPropagation:()=>t.stopPropagation(),async:v=>t.async(v),preventDefault:()=>t.preventDefault()}}function ube(e,t){const{pointerType:i,button:r,buttons:s,x:n,y:a,native:u,eventId:d}=t.data,f=u.pointerId,{cancelable:g,timestamp:v}=t;return{type:"immediate-click",pointerId:f,pointerType:i,button:r,buttons:s,x:n,y:a,native:u,timestamp:v,mapPoint:a1(e,n,a),eventId:d,cancelable:g,stopPropagation:()=>t.stopPropagation(),async:w=>t.async(w),preventDefault:()=>t.preventDefault()}}function cbe(e,t){const{pointerType:i,button:r,buttons:s,x:n,y:a,native:u,eventId:d}=t.data,f=u.pointerId,{cancelable:g,timestamp:v}=t;return{type:"immediate-double-click",pointerId:f,pointerType:i,button:r,buttons:s,x:n,y:a,native:u,timestamp:v,mapPoint:a1(e,n,a),eventId:d,cancelable:g,stopPropagation:()=>t.stopPropagation(),async:w=>t.async(w),preventDefault:()=>t.preventDefault()}}function dbe(e,t){const{pointerType:i,button:r,buttons:s,x:n,y:a,native:u}=t.data,{cancelable:d,timestamp:f}=t;return{type:"hold",pointerType:i,button:r,buttons:s,x:n,y:a,native:u,timestamp:f,mapPoint:a1(e,n,a),cancelable:d,stopPropagation:()=>t.stopPropagation(),async:g=>t.async(g),preventDefault:()=>t.preventDefault()}}function a1(e,t,i){return e.toMap(tr(t,i),{exclude:[]})}function hbe(e){const{key:t,repeat:i,native:r}=e.data,{cancelable:s,timestamp:n}=e;return{type:"key-down",key:t,repeat:i,native:r,timestamp:n,cancelable:s,stopPropagation:()=>e.stopPropagation(),async:a=>e.async(a),preventDefault:()=>e.preventDefault()}}function pbe(e){const{key:t,native:i}=e.data,{cancelable:r,timestamp:s}=e;return{type:"key-up",key:t,native:i,timestamp:s,cancelable:r,stopPropagation:()=>e.stopPropagation(),async:n=>e.async(n),preventDefault:()=>e.preventDefault()}}function tg(e,t){const{x:i,y:r,button:s,buttons:n,native:a,eventId:u}=e.data,d=a.pointerId,f=a.pointerType,{cancelable:g,timestamp:v}=e;return{type:t,x:i,y:r,pointerId:d,pointerType:f,button:s,buttons:n,native:a,timestamp:v,eventId:u,cancelable:g,stopPropagation:()=>e.stopPropagation(),async:w=>e.async(w),preventDefault:()=>e.preventDefault()}}function fbe(e){const{x:t,y:i,buttons:r,native:s,eventId:n}=e.data.currentEvent,{button:a}=e.data.startEvent,u=e.data.startEvent.native.pointerId,d=e.data.startEvent.native.pointerType,f=e.data.action,g={x:e.data.startEvent.x,y:e.data.startEvent.y},{cancelable:v,timestamp:w}=e;return{type:"pointer-drag",x:t,y:i,pointerId:u,pointerType:d,button:a,buttons:r,action:f,origin:g,native:s,timestamp:w,eventId:n,cancelable:v,stopPropagation:()=>e.stopPropagation(),async:S=>e.async(S),preventDefault:()=>e.preventDefault()}}function mbe(e){const{cancelable:t,data:i,timestamp:r}=e,{x:s,y:n,deltaY:a,native:u}=i;return{type:"mouse-wheel",x:s,y:n,deltaY:a,native:u,timestamp:r,cancelable:t,stopPropagation:()=>e.stopPropagation(),async:d=>e.async(d),preventDefault:()=>e.preventDefault()}}function ybe(e){const{action:t,state:i,device:r}=e.data,{cancelable:s,timestamp:n}=e,{buttons:a,axes:u}=i;return{type:"gamepad",device:r,timestamp:n,action:t,buttons:a,axes:u,cancelable:s,stopPropagation:()=>e.stopPropagation(),async:d=>e.async(d),preventDefault:()=>e.preventDefault()}}var wv,x9,M9;(function(e){e[e.USER=0]="USER",e[e.MANAGER=1]="MANAGER"})(wv||(wv={})),function(e){e[e.None=0]="None",e[e.Unfocused=1]="Unfocused",e[e.Focused=2]="Focused",e[e.Unselected=4]="Unselected",e[e.Selected=8]="Selected",e[e.All=15]="All"}(x9||(x9={})),function(e){e[e.None=0]="None",e[e.Custom1=16]="Custom1",e[e.Custom2=32]="Custom2",e[e.Custom3=64]="Custom3",e[e.Custom4=128]="Custom4",e[e.Custom5=256]="Custom5",e[e.Custom6=512]="Custom6",e[e.Custom7=1024]="Custom7",e[e.Custom8=2048]="Custom8",e[e.Custom9=4096]="Custom9",e[e.Custom10=8192]="Custom10",e[e.Custom11=16384]="Custom11",e[e.Custom12=32768]="Custom12",e[e.All=65520]="All"}(M9||(M9={}));function gbe(e){return[e.on("before-add",t=>{const i=t.item;if(i==null||e.includes(i))return ne.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void t.preventDefault();i.onAdd()}),e.on("after-remove",t=>{const i=t.item;i.active&&(i.view.activeTool=null),i.destroy()})]}function YR(e){return e.visible&&e.getEditableFlag!=null&&e.getEditableFlag(wv.USER)&&e.getEditableFlag(wv.MANAGER)}function Do(e){return tr(e.x,e.y)}function XW(e,t){var r;const i=(r=e instanceof HTMLElement?e:e.surface)==null?void 0:r.getBoundingClientRect();return i?tr(t.clientX-i.left,t.clientY-i.top):tr(0,0)}function QW(e,t){return t instanceof Event?XW(e,t):Do(t)}function KW(e){if(e instanceof Event)return!0;if(typeof e=="object"&&"type"in e)switch(e.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}let vbe=class{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._externallyDragging=!1,this._revertToNullActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}hasFocusedManipulators(){return this._grabbedManipulators.size>0||this._draggedManipulators.size>0}handleInputEvent(t,i){const r=()=>t.stopPropagation();switch(t.type){case"pointer-move":O9(t.pointerType)&&this._pointerLocations.set(t.pointerId,{x:t.x,y:t.y,pointerType:t.pointerType});break;case"drag":this._grabbedManipulators.size>0?this._stopDrag=!0:t.action==="start"?this._externallyDragging=!0:t.action==="end"&&(this._externallyDragging=!1),this._stopDrag&&(r(),t.action==="end"&&(this._stopDrag=!1));break;case"pointer-down":{if(!R9(t))break;const s=Do(t),n=Ep(s,t.pointerType,i.forEachTool);if(n==null)break;const a=n.manipulator,u=n.tool;a==null||u==null||!a.interactive||a.grabbable&&a.grabbableForEvent(t)||!a.grabbing||a.dragging||this._releaseManipulatorBeforeDragging(a,t,i),a!=null&&u!=null&&a.interactive&&a.grabbable&&a.grabbableForEvent(t)&&!a.grabbing&&(this._grabbedManipulators.set(t.pointerId,{manipulator:a,tool:u,start:s,pointerType:t.pointerType}),this._grabbedManipulators.size===1&&i.activeTool==null&&(this._revertToNullActiveTool=!0,i.setActiveTool(n.tool)),a.grabbing=!0,a.events.emit("grab-changed",{action:"start",pointerType:t.pointerType,screenPoint:s}),r());break}case"pointer-up":this._draggedManipulators.has(t.pointerId)||this._handlePointerEnd(t,i);break;case"pointer-drag":{if(!R9(t))break;const s=this._grabbedManipulators.get(t.pointerId),n=s==null?void 0:s.manipulator,a=s==null?void 0:s.tool;if(n==null||a==null)break;const u=Do(t);u.x=bn(u.x,0,i.view.width),u.y=bn(u.y,0,i.view.height);const d=s.start,f=this._draggedManipulators.get(t.pointerId);switch(t.action){case"start":case"update":t.action!=="update"&&this._grabbedManipulators.size!==1||(n.dragging=!0,f?n.events.emit("drag",{action:"update",start:d,screenPoint:u}):n.events.emit("drag",{action:"start",start:d,screenPoint:u,pointerType:t.pointerType}),this._draggedManipulators.set(t.pointerId,{tool:a,manipulator:n,start:d}));break;case"end":n.dragging=!1,f&&n.events.emit("drag",{action:"end",start:d,screenPoint:u}),this._draggedManipulators.delete(t.pointerId),this._handlePointerEnd(t,i)}r();break}case"immediate-click":{const s=Do(t),n=Ep(s,t.pointerType,i.forEachTool);if(bbe(t)||i.forEachTool(f=>{if((n==null||n.tool!==f||f.automaticManipulatorSelection)&&f.manipulators){let g=!1;f.manipulators.forEach(({manipulator:v})=>{v.selected&&(v.selected=!1,g=!0)}),g&&f.onManipulatorSelectionChanged&&f.onManipulatorSelectionChanged()}}),n==null)break;const{manipulator:a,tool:u}=n;if(!a.interactive)break;a.selectable&&u.automaticManipulatorSelection&&(a.selected=!a.selected,u.onManipulatorSelectionChanged&&u.onManipulatorSelectionChanged());const d=t.native.shiftKey;a.events.emit("immediate-click",{screenPoint:s,button:t.button,pointerType:t.pointerType,shiftKey:d,stopPropagation:r}),pM(a,r);break}case"click":{const s=Do(t),n=Ep(s,t.pointerType,i.forEachTool),a=n==null?void 0:n.manipulator;if(a==null||!a.interactive)break;const u=t.native.shiftKey;a.events.emit(t.type,{screenPoint:s,button:t.button,pointerType:t.pointerType,shiftKey:u}),r();break}case"double-click":{const s=Do(t),n=Ep(s,t.pointerType,i.forEachTool),a=n!=null?n.manipulator:null;if(a==null||!a.interactive)break;const u=t.native.shiftKey;a.events.emit("double-click",{screenPoint:s,button:t.button,pointerType:t.pointerType,shiftKey:u,stopPropagation:r}),pM(a,r);break}case"immediate-double-click":{const s=Do(t),n=Ep(s,t.pointerType,i.forEachTool),a=n!=null?n.manipulator:null;if(a==null||!a.interactive)break;const u=t.native.shiftKey;a.events.emit("immediate-double-click",{screenPoint:s,button:t.button,pointerType:t.pointerType,shiftKey:u,stopPropagation:r}),t.pointerType==="mouse"&&pM(a,r);break}}this._onFocusChange(i.forEachTool)}_releaseManipulatorBeforeDragging(t,i,r){t.grabbing=!1,t.events.emit("grab-changed",{action:"end",pointerType:i.pointerType,screenPoint:Do(i)}),this._grabbedManipulators.forEach(({manipulator:s},n)=>{s===t&&this._grabbedManipulators.delete(n)}),this._afterManipulatorRelease(r.setActiveTool)}_handlePointerEnd(t,i){var s;const r=(s=this._grabbedManipulators.get(t.pointerId))==null?void 0:s.manipulator;r!=null&&r.grabbing&&(r.grabbing=!1,r.events.emit("grab-changed",{action:"end",pointerType:t.pointerType,screenPoint:Do(t)}),this._grabbedManipulators.delete(t.pointerId),this._afterManipulatorRelease(i.setActiveTool))}_onFocusChange(t){this._updateCursor(),this._updateFocusedManipulatorTools(t)}_updateCursor(){this._grabbedManipulators.size>0?this._cursor=A9(this._grabbedManipulators)||"grabbing":this._hoveredManipulators.size>0?this._cursor=A9(this._hoveredManipulators)||"pointer":this._cursor=null}_updateFocusedManipulatorTools(t){const i=new Set,r=new Set;this._grabbedManipulators.forEach(({tool:s})=>{i.add(s)}),this._hoveredManipulators.forEach(({tool:s})=>{r.add(s)}),t(s=>{s.hasGrabbedManipulators=i.has(s),s.hasHoveredManipulators=r.has(s);const n=this._grabbedManipulators.values(),a=nK(n,({tool:u})=>u===s);s.firstGrabbedManipulator=a!=null?a.manipulator:null})}clearPointers(t,{forEachTool:i,setActiveTool:r},s=!0,n){const a=(u,d)=>u===t&&(n==null||n===d);this._grabbedManipulators.forEach(({tool:u,manipulator:d,pointerType:f},g)=>{a(u,d)&&(this._grabbedManipulators.delete(g),d.grabbing=!1,d.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:f}))}),this._draggedManipulators.forEach(({tool:u,manipulator:d},f)=>{a(u,d)&&(this._draggedManipulators.delete(f),d.dragging=!1,d.events.emit("drag",{action:"cancel"}))}),s&&this._hoveredManipulators.forEach(({tool:u,manipulator:d},f)=>{a(u,d)&&(this._hoveredManipulators.delete(f),d.hovering=!1)}),this._afterManipulatorRelease(r),this._onFocusChange(i)}updateHoveredStateFromKnownPointers(t){this._pointerLocations.forEach((i,r)=>{this._updateHoveredStateForPointerAtScreenPosition(tr(i.x,i.y),r,i.pointerType,t)})}handleHoverEvent(t,i){const r=t.type;r!=="pointer-up"&&r!=="immediate-click"&&r!=="pointer-move"||!O9(t.pointerType)||(r!=="pointer-up"&&this._externallyDragging?this._clearHoveredManipulatorStates(t.pointerId):this._updateHoveredStateForPointerAtScreenPosition(Do(t),t.pointerId,t.pointerType,i))}_updateHoveredStateForPointerAtScreenPosition(t,i,r,s){var u;let n=Ep(t,r,s);const a=(u=this._hoveredManipulators.get(i))==null?void 0:u.manipulator;n==null||n.manipulator.interactive||(n=null),n!=null&&a===n.manipulator||(a!=null&&(a.hovering=!1),n!=null?(n.manipulator.hovering=!0,this._hoveredManipulators.set(i,n)):this._hoveredManipulators.delete(i),this._onFocusChange(s))}_afterManipulatorRelease(t){this._grabbedManipulators.size===0&&this._revertToNullActiveTool&&(t(null),this._revertToNullActiveTool=!1)}_clearHoveredManipulatorStates(t){this._hoveredManipulators.forEach(({manipulator:i},r)=>{t===r&&(this._hoveredManipulators.delete(t),i.hovering=!1)})}};function A9(e){for(const{manipulator:t}of e.values())if(t!=null&&t.interactive){if(t.grabbing&&t.grabCursor)return t.grabCursor;if(t.cursor)return t.cursor}return null}function Ep(e,t,i){let r=null;return i(s=>{if(s.manipulators==null||!YR(s))return!1;const n=s.manipulators.intersect(e,t);return n!=null&&(r={tool:s,manipulator:n},!0)}),r}function O9(e){return e==="mouse"}function R9(e){return e.pointerType!=="mouse"||e.button===0}function bbe(e){return!!e.native.shiftKey}function pM(e,t){e!=null&&e.consumesClicks&&t()}const C9="attached",fM="tools",wbe=1e3;let ko=class extends $e{constructor(t){super(t),this._updatingHandles=new th,this._clock=mm,this._manipulatorState=new vbe,this.tools=new ye,this.cursor=null,this._interacting=!1,this._interactingTimeout=wbe,this._interactingTimeoutHandle=null,this._forEachTool=i=>{for(const r of this.tools.items)if(i(r))return}}initialize(){this.addHandles([this.view.on(WW,t=>{this._handleInputEvent(t)},Wu.TOOL),...gbe(this.tools),this.tools.on("before-add",({item:t})=>{this._updateToolEditableFlag(t)}),this.tools.on("before-remove",({item:t})=>{this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs),this._updateCursor()}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.activeTool=null,this.tools.drain(t=>t.destroy()),this._clearInteractingTimeout(),this._interacting=!1,this._updatingHandles.destroy()}get _manipulatorStateEventArgs(){return{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:t=>{this.activeTool=t},view:this.view}}set activeTool(t){if(t!=null&&!this.view.ready)return void ne.getLogger(this).error("Cannot set active tool while view is not ready.");if(t===this.activeTool)return;const i=this.activeTool;this._set("activeTool",t),i!=null&&i.deactivate(),t!=null&&t.activate(),this._removeIncompleteTools(t);for(const r of this.tools){this._updateToolEditableFlag(r);const s=YR(r);this.activeTool!=null&&s||this._manipulatorState.clearPointers(r,this._manipulatorStateEventArgs,!s)}this._updateCursor()}get updating(){return this._updatingHandles.updating||this.tools.some(t=>t.updating)}get interacting(){return this._interacting}_clearInteractingTimeout(){this._interactingTimeoutHandle=Yt(this._interactingTimeoutHandle)}_startInteractingTimeout(){this._clearInteractingTimeout(),this._interactingTimeoutHandle=this._clock.setTimeout(()=>this._interacting=!1,this._interactingTimeout)}attach(){var t;this.view.type==="3d"?this.addHandles([ke(()=>{const{state:i}=this.view;return"camera"in i&&i.camera},()=>this._forEachManipulator(i=>i.onViewChange())),(t=this.view.elevationProvider)==null?void 0:t.on("elevation-change",i=>this._forEachManipulator(r=>r.onElevationChange(i)))],C9):this.addHandles(ke(()=>this.view.extent,()=>this._forEachManipulator(i=>i.onViewChange())))}detach(){this.activeTool=null,this.tools.removeAll(),this.removeHandles(C9),this._clearInteractingTimeout(),this._interacting=!1}_forEachManipulator(t){this._forEachTool(i=>{i.manipulators&&i.manipulators.forEach(({manipulator:r})=>t(r,i))})}_handleInputEvent(t){let i=!1;const r={...t,stopPropagation:()=>{i=!0,t.stopPropagation()}};this.activeTool!=null?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(r):this._forEachTool(s=>{!i&&s.visible&&s.handleInputEvent(r)}),!i&&t.type==="key-down"&&t.key==="Escape"&&this.activeTool&&(t.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(r,this._manipulatorStateEventArgs),i||this.activeTool==null||this.activeTool.handleInputEventAfter(r),this._manipulatorState.handleHoverEvent(r,this._forEachTool),this._updateCursor(),t.type==="pointer-move"&&(this._manipulatorState.hasFocusedManipulators()||this.activeTool)&&(this._interacting=!0,this._startInteractingTimeout())}_refreshToolWatchers(){this.removeHandles(fM),this._forEachTool(t=>{if(t instanceof $e){const i=ke(()=>[t.cursor,t.visible,t.editable],()=>{YR(t)||this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs),this._updateCursor()});this.addHandles(i,fM)}t.manipulators&&this.addHandles([t.manipulators.on("after-remove",i=>{this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs,!0,i.item.manipulator)}),t.manipulators.on("change",()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()})],fM)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateToolEditableFlag(t){var i;(i=t.setEditableFlag)==null||i.call(t,wv.MANAGER,this.activeTool==null||t===this.activeTool)}_updateCursor(){let t=this._manipulatorState.cursor;t==null&&this._forEachTool(i=>!(i.cursor==null||!i.visible)&&(t=i.cursor,!0)),this._get("cursor")!==t&&this._set("cursor",t)}_removeIncompleteTools(t){this.tools.filter(i=>(t==null||i!==t)&&!i.created&&i.removeIncompleteOnCancel).forEach(i=>{this.tools.remove(i)})}get test(){}};c([p({constructOnly:!0,nonNullable:!0})],ko.prototype,"view",void 0),c([p({value:null})],ko.prototype,"activeTool",null),c([p({readOnly:!0,type:ye})],ko.prototype,"tools",void 0),c([p({readOnly:!0})],ko.prototype,"cursor",void 0),c([p({readOnly:!0})],ko.prototype,"updating",null),c([p()],ko.prototype,"_interacting",void 0),c([p({readOnly:!0})],ko.prototype,"interacting",null),ko=c([O("esri.views.ToolViewManager")],ko);const _be=new Ie("cyan"),Sbe=1,Tbe=.25,Ebe=new Ie("black"),$be=.4,xbe=.2,zPe=.25,eZ="default",Mbe="temporary",Abe=new Ie("yellow");var JR;let Ns=JR=class extends $e{constructor(e){super(e),this.name=eZ,this.color=_be.clone(),this.haloColor=null,this.haloOpacity=Sbe,this.fillOpacity=Tbe,this.shadowColor=Ebe.clone(),this.shadowOpacity=$be,this.shadowDifference=xbe,this.haloWidth=2.1,this.haloBlur=.8/this.haloWidth}equals(e){return this.color.equals(e.color)&&(this.haloColor||this.color).equals(e.haloColor||e.color)&&this.haloOpacity===e.haloOpacity&&this.fillOpacity===e.fillOpacity&&this.haloWidth===e.haloWidth&&this.haloBlur===e.haloBlur&&this.shadowColor.equals(e.shadowColor)&&this.shadowOpacity===e.shadowOpacity&&this.shadowDifference===e.shadowDifference}clone(){var e,t;return new JR({...this,color:this.color.clone(),haloColor:(e=this.haloColor)==null?void 0:e.clone(),shadowColor:(t=this.shadowColor)==null?void 0:t.clone()})}assignFrom(e){var t;this.color=e.color.clone(),this.haloColor=(t=e.haloColor)==null?void 0:t.clone(),this.haloOpacity=e.haloOpacity,this.fillOpacity=e.fillOpacity,this.shadowColor=e.shadowColor.clone(),this.shadowDifference=e.shadowDifference,this.shadowOpacity=e.shadowOpacity,this.haloBlur=e.haloBlur,this.haloWidth=e.haloWidth}};c([p({type:String,constructOnly:!0,nonNullable:!0})],Ns.prototype,"name",void 0),c([p({type:Ie,nonNullable:!0})],Ns.prototype,"color",void 0),c([p({type:Ie})],Ns.prototype,"haloColor",void 0),c([p({nonNullable:!0})],Ns.prototype,"haloOpacity",void 0),c([p({nonNullable:!0})],Ns.prototype,"fillOpacity",void 0),c([p({type:Ie,nonNullable:!0})],Ns.prototype,"shadowColor",void 0),c([p({nonNullable:!0})],Ns.prototype,"shadowOpacity",void 0),c([p({nonNullable:!0})],Ns.prototype,"shadowDifference",void 0),c([p({nonNullable:!0})],Ns.prototype,"haloWidth",void 0),c([p({nonNullable:!0})],Ns.prototype,"haloBlur",void 0),Ns=JR=c([O("esri.views.support.HighlightOptions")],Ns);const Zu=Ns;function Obe(){return new(ye.ofType(Zu))([new Zu({name:eZ}),new Zu({name:Mbe,color:Abe})])}let uf=class extends $e{constructor(t){super(),this.nativeIndex=null,this._detectedDeviceType="unknown",t.mapping==="standard"?this._detectedDeviceType="standard":Rbe.test(t.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown",this.nativeIndex=t.index}get native(){const t=navigator.getGamepads?navigator.getGamepads():[];return this.nativeIndex!=null&&this.nativeIndex<t.length?t[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return Cbe[this.deviceType]}};c([p({nonNullable:!0,readOnly:!0})],uf.prototype,"nativeIndex",void 0),c([p({type:String,readOnly:!0})],uf.prototype,"deviceType",null),c([p({type:Number,readOnly:!0})],uf.prototype,"axisThreshold",null),uf=c([O("esri.views.input.gamepad.GamepadInputDevice")],uf);const PN=uf,Rbe=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),Cbe={standard:.15,spacemouse:.025,unknown:0};let h0=class extends $e{constructor(...t){super(...t),this.devices=new ye,this.enabledFocusMode="document"}};c([p({type:ye.ofType(PN),readOnly:!0})],h0.prototype,"devices",void 0),c([p({type:["document","view","none"]})],h0.prototype,"enabledFocusMode",void 0),h0=c([O("esri.views.input.gamepad.GamepadSettings")],h0);const Ibe=h0;let q_=class extends $e{constructor(){super(...arguments),this.gamepad=new Ibe}};c([p({readOnly:!0})],q_.prototype,"gamepad",void 0),q_=c([O("esri.views.input.Input")],q_);const Nbe=q_,tZ=()=>bt.respectPrefersReducedMotion&&window.matchMedia("(prefers-reduced-motion: reduce)").matches,mM=()=>p({type:["pan","rotate","zoom","none"],nonNullable:!0});let Id=class extends $e{constructor(t){super(t),this.dragPrimary="pan",this.dragSecondary="rotate",this.dragTertiary="zoom",this.mouseWheel="zoom"}};c([mM()],Id.prototype,"dragPrimary",void 0),c([mM()],Id.prototype,"dragSecondary",void 0),c([mM()],Id.prototype,"dragTertiary",void 0),c([p({type:["zoom","none"],nonNullable:!0})],Id.prototype,"mouseWheel",void 0),Id=c([O("esri.views.navigation.NavigationActionMap")],Id);const LN=Id;let Tu=class extends $e{constructor(t){super(t),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};c([p({type:Boolean,nonNullable:!0})],Tu.prototype,"enabled",void 0),c([p({type:PN})],Tu.prototype,"device",void 0),c([p({type:["pan","zoom"],nonNullable:!0})],Tu.prototype,"mode",void 0),c([p({type:["forward-down","forward-up"],nonNullable:!0})],Tu.prototype,"tiltDirection",void 0),c([p({type:Number,nonNullable:!0})],Tu.prototype,"velocityFactor",void 0),Tu=c([O("esri.views.navigation.gamepad.GamepadSettings")],Tu);const iZ=Tu;let Eu=class extends $e{constructor(t){super(t),this.actionMap=new LN,this.browserTouchPanEnabled=!0,this.gamepad=new iZ,this.momentumEnabled=!0}get effectiveMomentumEnabled(){return this.momentumEnabled&&!tZ()}get mouseWheelZoomEnabled(){return this.actionMap.mouseWheel==="zoom"}set mouseWheelZoomEnabled(t){rK(ne.getLogger(this),"mouseWheelZoomEnabled",{replacement:"actionMap.mouseWheel",version:"4.32",warnOnce:!0}),this.actionMap.mouseWheel=t?"zoom":"none"}};c([p({type:LN,nonNullable:!0})],Eu.prototype,"actionMap",void 0),c([p({type:Boolean})],Eu.prototype,"browserTouchPanEnabled",void 0),c([p({type:iZ,nonNullable:!0})],Eu.prototype,"gamepad",void 0),c([p({type:Boolean})],Eu.prototype,"momentumEnabled",void 0),c([p({type:Boolean})],Eu.prototype,"mouseWheelZoomEnabled",null),Eu=c([O("esri.views.navigation.Navigation")],Eu);const ET=Eu;function ZPe(e,t,i){const r=rZ(e),s=t,n=Pbe(r,s,i);if(r){const a=i1.deriveUnitFromSR(r,e.spatialReference).heightUnit;if(!i&&a!==r.heightUnit){const u=new z("layerview:unmatched-height-unit",`The vertical units of the layer must match the horizontal units (${a})`,{horizontalUnit:a});return new z("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:r,error:u})}}if(!Lbe(e)||n===os.Unsupported)return new z("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:r});switch(n){case os.Units:{const a=(r==null?void 0:r.heightUnit)||"unknown",u=(s==null?void 0:s.heightUnit)||"unknown",d=new z("layerview:incompatible-height-unit",`The vertical units of the layer (${a}) must match the vertical units of the scene (${u})`,{layerUnit:a,sceneUnit:u});return new z("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:r,sceneHeightModelInfo:s,error:d})}case os.HeightModel:{const a=(r==null?void 0:r.heightModel)||"unknown",u=(s==null?void 0:s.heightModel)||"unknown",d=new z("layerview:incompatible-height-model",`The height model of the layer (${a}) must match the height model of the scene (${u})`,{layerHeightModel:a,sceneHeightModel:u});return new z("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:r,sceneHeightModelInfo:s,error:d})}case os.CRS:{const a=(r==null?void 0:r.vertCRS)||"unknown",u=(s==null?void 0:s.vertCRS)||"unknown",d=new z("layerview:incompatible-vertical-datum",`The vertical datum of the layer (${a}) must match the vertical datum of the scene (${u})`,{layerDatum:a,sceneDatum:u});return new z("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:r,sceneHeightModelInfo:s,error:d})}}return null}function Pbe(e,t,i){if(!I9(e)||!I9(t))return os.Unsupported;if(e==null||t==null)return os.Ok;if(!i&&e.heightUnit!==t.heightUnit)return os.Units;if(e.heightModel!==t.heightModel)return os.HeightModel;switch(e.heightModel){case"gravity-related-height":return os.Ok;case"ellipsoidal":return e.vertCRS===t.vertCRS?os.Ok:os.CRS;default:return os.Unsupported}}var os;function I9(e){return e==null||e.heightModel!=null&&e.heightUnit!=null}function Lbe(e){return"heightModelInfo"in e&&e.heightModelInfo!=null||e.spatialReference!=null||!oZ(e)}function rZ(e){var r;if(e.type==="integrated-mesh-3dtiles")return null;const t=e.url?Tm(e.url):void 0;return!(((r=e.spatialReference)==null?void 0:r.vcsWkid)==null&&t!=null&&t.serverType==="ImageServer")&&sZ(e)&&e.heightModelInfo?e.heightModelInfo:oZ(e)?i1.deriveUnitFromSR(kbe,e.spatialReference):null}function sZ(e){return"heightModelInfo"in e}function nZ(e){if(e.type==="unknown"||!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"oriented-imagery":case"wfs":case"knowledge-graph-sublayer":return!0;default:return!1}}function oZ(e){return nZ(e)?!!(e.capabilities&&e.capabilities.data&&e.capabilities.data.supportsZ):aZ(e)}function Dbe(e){return e.layers!=null||aZ(e)||nZ(e)||sZ(e)}function aZ(e){switch(e.type){case"building-scene":case"elevation":case"integrated-mesh":case"integrated-mesh-3dtiles":case"point-cloud":case"scene":case"voxel":return!0;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"catalog":case"catalog-footprint":case"catalog-dynamic-group":case"csv":case"dimension":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"knowledge-graph":case"link-chart":case"knowledge-graph-sublayer":case"line-of-sight":case"map-image":case"map-notes":case"media":case"ogc-feature":case"open-street-map":case"oriented-imagery":case"parquet":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"video":case"viewshed":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}(function(e){e[e.Ok=0]="Ok",e[e.Units=1]="Units",e[e.HeightModel=2]="HeightModel",e[e.CRS=3]="CRS",e[e.Unsupported=4]="Unsupported"})(os||(os={}));const kbe=new i1({heightModel:"gravity-related-height"});var i2;(function(e){e[e.Global=1]="Global",e[e.Local=2]="Local"})(i2||(i2={}));let XR,yM=null;async function Fbe(e){yM||(yM=ue(()=>import("./geometryServiceUtils-DBe2a4eb.js"),__vite__mapDeps([200,201]),import.meta.url).then(t=>XR=t)),await yM,ei(e)}async function lZ(e,t,i,r){if(!e)return null;const s=e.spatialReference;return bc()||ea(s,t)?wc(e,t):XR?XR.projectGeometry(e,t,i,r):(await Promise.race([Fbe(r),uc(r)]),lZ(e,t,i,r))}let Ct=class extends $e{constructor(t){super(t),this.required={extent:!1,heightModelInfo:!1,tileInfo:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=Zf(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return this.userSpatialReference??this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return this.userSpatialReference==null||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){var r,s,n,a;const t=(r=this.map)==null?void 0:r.call(this),i=[];return this.priorityCollection!=null&&i.push(this.priorityCollection),i.push({parent:t==null?void 0:t.basemap,layers:(s=t==null?void 0:t.basemap)==null?void 0:s.baseLayers},{layers:t==null?void 0:t.layers},{parent:t==null?void 0:t.ground,layers:(n=t==null?void 0:t.ground)==null?void 0:n.layers},{parent:t==null?void 0:t.basemap,layers:(a=t==null?void 0:t.basemap)==null?void 0:a.referenceLayers}),i}get _spatialReferenceTask(){if(this.suspended)return this._get("_spatialReferenceTask")??{updating:!1};let t;if(this._collectLayers(this.mapCollections,r=>{const s=this._getSupportedSpatialReferences(r);if(s.length>0){const n=this._narrowDownSpatialReferenceCandidates(t,s);n!=null&&(t=n)}return(t==null?void 0:t.length)===1})&&(t==null?void 0:t.length)!==1)return{updating:!0};const i=this._pickSpatialReferenceCandidate(t);return{spatialReference:(i==null?void 0:i.spatialReference)??null,viewingMode:(i==null?void 0:i.viewingMode)??null,updating:!1}}get _tileInfoTask(){var n,a;if(!this.required.tileInfo)return this._get("_tileInfoTask")??{updating:!1};const t=(n=this.map)==null?void 0:n.call(this),i=this.spatialReference;if(!i)return{updating:this._spatialReferenceTask.updating};let r;const s=this._collectLayers([{parent:t==null?void 0:t.basemap,layers:(a=t==null?void 0:t.basemap)==null?void 0:a.baseLayers},{layers:t==null?void 0:t.layers}],u=>{var d;return!(!("tileInfo"in u)||!((d=u.tileInfo)!=null&&d.spatialReference.equals(i)))&&(r=u,!0)},u=>"tileInfo"in u);return r?{tileInfo:r.tileInfo,updating:!1}:{updating:s}}get _heightModelInfoTask(){var r;if(!this.required.heightModelInfo||this.suspended&&((r=this._get("_heightModelInfoTask"))!=null&&r.heightModelInfo))return this._get("_heightModelInfoTask")??{updating:!1};let t={};const i=this._collectLayers(this.mapCollections,s=>{var a,u;const n=rZ(s);return!!n&&(t={heightModelInfo:n,vcsWkid:(a=s.spatialReference)==null?void 0:a.vcsWkid,latestVcsWkid:(u=s.spatialReference)==null?void 0:u.latestVcsWkid},!0)},s=>Dbe(s));return{...t,updating:i}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const t=[],i=this._collectLayers(this.mapCollections,r=>{const s="fullExtents"in r&&r.fullExtents||(r.fullExtent!=null?[r.fullExtent]:[]),n=this.requiresExtentInSpatialReference?null:s[0],a=s.find(u=>u.spatialReference.equals(this.spatialReference))??n;if(a)return t.push({extent:a,layer:r}),!0;if(this._getSupportedSpatialReferences(r).length>0)for(const u of s)t.push({extent:u,layer:r});return!1});return{candidates:t,updating:i}}get _extentTask(){const{candidates:t,updating:i}=this._extentCandidatesTask;if(i)return{updating:i};if(t==null||t.length===0)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const r=this._pickExtentCandidate(t),s=this.spatialReference;return r.extent.equals(this._projectExtentTask.input)&&s.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:this._projectExtentTask.task!=null&&!this._projectExtentTask.task.finished}:(this._projectExtentTask.task!=null&&(this._projectExtentTask.task=Zf(this._projectExtentTask.task)),this._projectExtentTask={input:r.extent.clone(),output:null,spatialReference:s.clone(),task:Hv(async n=>{try{const a=await lZ(r.extent,s,"portalItem"in r.layer?r.layer.portalItem:void 0,n);this._projectExtentTask={...this._projectExtentTask,task:null,output:a}}catch{if(Us(n))return;this._projectExtentTask={...this._projectExtentTask,task:null}}})},{updating:!0})}_narrowDownSpatialReferenceCandidates(t,i){if(t==null)return i;const r=new Array;for(const s of t)for(const n of i){if(!s.spatialReference.equals(n.spatialReference))continue;const a=Ube(s.viewingMode,n.viewingMode);if(a!==!1){r.push({spatialReference:s.spatialReference,viewingMode:a});break}}return r.length>0?r:null}_pickSpatialReferenceCandidate(t){const i=this.defaultSpatialReference;return t==null||t.length<1?i?{spatialReference:i,viewingMode:null}:null:(i!=null&&t.length>1&&t.some(({spatialReference:r})=>r.equals(i))&&(t=t.filter(({spatialReference:r})=>r.equals(i))),t.length>1&&t.some(({viewingMode:r})=>r!==i2.Local)&&(t=t.filter(({viewingMode:r})=>r!==i2.Local)),t[0])}_getSupportedSpatialReferences(t){const i="supportedSpatialReferences"in t&&t.supportedSpatialReferences||(t.spatialReference?[t.spatialReference]:[]);if(i.length===0)return[];const r=[];for(const s of i){const n=this.getSpatialReferenceSupport(s,t);if(n!=null){const a=n.constraints??[{spatialReference:s,viewingMode:null}];for(const{spatialReference:u,viewingMode:d}of a)this.requiresExtentInSpatialReference&&this.userSpatialReference!=null&&!u.equals(this.userSpatialReference)||r.push({spatialReference:u,viewingMode:d})}}return r}_pickExtentCandidate(t){const i=this.spatialReference;return t.find(({extent:r})=>i.equals(r.spatialReference))||t[0]}_collectLayers(t,i,r=()=>!0){var n;switch(this._loadMaybe((n=this.map)==null?void 0:n.call(this))){case"loading":return!0;case"failed":return!1}const s=new jbe(r,i);for(const a of t)if(this._collectCollection(a,s),s.done||s.preloading===this.sourcePreloadCount)break;return s.updating}_collectCollection(t,i){if(t.layers){switch(this._loadMaybe(t.parent)){case"loading":return i.updating=!0,void++i.preloading;case"failed":return}for(const r of t.layers)if(i.layerFilter(r)){switch(this._loadMaybe(r)){case"failed":continue;case"loading":i.updating=!0,++i.preloading;break;case"loaded":if(i.updating||(i.done=i.pushLayer(r)),i.done||i.preloading===this.sourcePreloadCount)break;"layers"in r&&this._collectCollection({layers:r.layers},i)}if(i.done||i.preloading===this.sourcePreloadCount)break}}}_loadMaybe(t){return t&&"loadStatus"in t&&t.loadStatus!=null?t.loadStatus==="not-loaded"?(t.load().catch(i=>{Cr(i)}),"loading"):t.loadStatus:"loaded"}};c([p()],Ct.prototype,"required",void 0),c([p({constructOnly:!0})],Ct.prototype,"map",void 0),c([p({constructOnly:!0})],Ct.prototype,"getSpatialReferenceSupport",void 0),c([p()],Ct.prototype,"defaultSpatialReference",void 0),c([p()],Ct.prototype,"userSpatialReference",void 0),c([p()],Ct.prototype,"sourcePreloadCount",void 0),c([p()],Ct.prototype,"priorityCollection",void 0),c([p()],Ct.prototype,"requiresExtentInSpatialReference",void 0),c([p()],Ct.prototype,"suspended",void 0),c([p({readOnly:!0})],Ct.prototype,"ready",null),c([p({readOnly:!0})],Ct.prototype,"heightModelInfoReady",null),c([p({readOnly:!0})],Ct.prototype,"spatialReference",null),c([p({readOnly:!0})],Ct.prototype,"extent",null),c([p({readOnly:!0})],Ct.prototype,"heightModelInfo",null),c([p({readOnly:!0})],Ct.prototype,"vcsWkid",null),c([p({readOnly:!0})],Ct.prototype,"latestVcsWkid",null),c([p({readOnly:!0})],Ct.prototype,"viewingMode",null),c([p({readOnly:!0})],Ct.prototype,"tileInfo",null),c([p({readOnly:!0})],Ct.prototype,"mapCollections",null),c([p({readOnly:!0})],Ct.prototype,"_spatialReferenceTask",null),c([p({readOnly:!0})],Ct.prototype,"_tileInfoTask",null),c([p({readOnly:!0})],Ct.prototype,"_heightModelInfoTask",null),c([p({readOnly:!0})],Ct.prototype,"_extentCandidatesTask",null),c([p()],Ct.prototype,"_extentTask",null),c([p()],Ct.prototype,"_projectExtentTask",void 0),Ct=c([O("esri.views.support.DefaultsFromMap")],Ct);let jbe=class{constructor(t,i){this.layerFilter=t,this.pushLayer=i,this.preloading=-1,this.updating=!1,this.done=!1}};function Ube(e,t){return e!=null?t!=null?e===t&&e:e:t}let cf=class extends $e{constructor(t){super(t),this.featureTitleFields=!1,this.utilityNetworkFields=!1,this.globalIdField=!1}};c([p()],cf.prototype,"featureTitleFields",void 0),c([p()],cf.prototype,"utilityNetworkFields",void 0),c([p()],cf.prototype,"globalIdField",void 0),cf=c([O("esri.views.support.RequiredFieldsOptions")],cf);const zbe=cf;var p0;let Ee=p0=class extends ho.EventedMixin(qv.EsriPromiseMixin($e)){constructor(e){super(e),this._userSpatialReference=null,this._cursor=null,this.handles=new fm,this.updatingHandles=new th,this.allLayerViews=new bv({getCollections:()=>{var t,i,r;return[(t=this.basemapView)==null?void 0:t.baseLayerViews,(i=this.groundView)==null?void 0:i.layerViews,this.layerViews,(r=this.basemapView)==null?void 0:r.referenceLayerViews]},getChildrenFunction:Gbe}),this.groundView=null,this.basemapView=null,this.displayFilterEnabled=!0,this.fatalError=null,this.graphics=new q0,this.analyses=new t2,this.typeSpecificPreconditionsReady=!0,this.layerViews=new ye,this.magnifier=new HW,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this._readyStateWaitingTask=null,this.supportsGround=!0,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new Nbe,this.navigation=new ET,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new JW(this),this.persistableViewModels=new ye,this.requiredFieldsOptions=new zbe,this._isValid=!1,this._readyCycleForced=!1,this._lockedSpatialReference=null,this._userTimeZone=null,this._lockedTimeZone=null,this._userTimeExtent=null,this._lockedTimeExtent=null,this.theme=null,this.handles.add(ke(()=>this.preconditionsReady,t=>{var r,s;const i=this.ready;if(t?(this._lockedSpatialReference=this.spatialReference,this._lockedTimeZone=this.timeZone,this._lockedTimeExtent=this.timeExtent,p0.views.add(this)):(this._lockedSpatialReference=null,p0.views.remove(this)),this.notifyChange("spatialReference"),!t&&i)(r=this.toolViewManager)==null||r.detach(),this.analysisViewManager!=null&&this.analysisViewManager.detach(),(s=this.layerViewManager)==null||s.clear(),this._teardown();else if(t&&!i){try{this._startup()}catch(n){return void queueMicrotask(()=>{this.fatalError=new z("startup-error",null,n)})}this.analysisViewManager!=null&&this.analysisViewManager.attach(),this.toolViewManager.attach()}},Qo))}initialize(){this.addResolvingPromise(Promise.all([this.loadAsyncDependencies(),this.validate()]).then(()=>(this._isValid=!0,MI(()=>this.ready)))),this.basemapView=new Z1e({view:this}),this.layerViewManager=new Q1e({view:this,layerViewImporter:{importLayerView:e=>this.importLayerView(e),hasLayerViewModule:e=>this.hasLayerViewModule(e)},supportsGround:this.supportsGround}),this.toolViewManager=new ko({view:this}),this.selectionManager=new ibe({view:this}),this.addHandles([wn(()=>this.readyState==="map-content-error"&&!this.spatialReference,()=>{ne.getLogger(this).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}),ke(()=>this.initialExtentRequired,e=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:e},as),ke(()=>this.ready,e=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=e,this.defaultsFromMap.userSpatialReference=e?this.spatialReference:this._userSpatialReference)},Qo),ke(()=>this._userSpatialReference,e=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=e)},as)])}destroy(){var e,t;this.destroyed||(p0.views.remove(this),this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=Zt(this.graphics),this.analyses=Zt(this.analyses),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),Zt(this.analysisViewManager),this.toolViewManager=Zt(this.toolViewManager),this.layerViewManager=Zt(this.layerViewManager),this.selectionManager=Zt(this.selectionManager),this.basemapView=Zt(this.basemapView),(e=this.groundView)==null||e.destroy(),(t=this.layerViews)==null||t.forEach(i=>i.destroy()),this.layerViews.length=0,this.invalidate(),this._emitter.clear(),this.handles.destroy(),this.map=Zt(this.map),this.updatingHandles.destroy())}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return ne.getLogger(this).error("#toMap()","Not implemented on this instance of View"),null}get activeTool(){var e;return(e=this.toolViewManager)==null?void 0:e.activeTool}set activeTool(e){this.toolViewManager&&(this.toolViewManager.activeTool=e)}get animation(){return this._get("animation")}set animation(e){this._set("animation",e)}get center(){return null}get defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new Ct({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:(e,t)=>this.getSpatialReferenceSupport(e,t),...this.defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(e){this._set("extent",e)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get highlights(){return this._get("highlights")??Obe()}set highlights(e){this._set("highlights",hl(e,this._get("highlights"),ye.ofType(Zu)))}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){var e;return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||cl.isLoadable(this.map)&&!this.map.loaded||this.width===0||this.height===0||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._lockedSpatialReference&&!((e=this.defaultsFromMap)!=null&&e.ready)||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(e){e!==this._get("map")&&(e!=null&&e.destroyed&&(ne.getLogger(this).warn("#map","The provided map is already destroyed",{map:e}),e=null),cl.isLoadable(e)&&e.load().catch(()=>{}),this.constructed&&!this.destroyed&&(this.forceReadyCycle(),this._lockedSpatialReference=null),this._set("map",e))}get readyState(){var e,t,i,r;if(this.destroyed)return this._get("readyState");if(!this.map)return"missing-map";if("container"in this&&!this.container)return"missing-container";if(this.fatalError)return"rendering-error";if((((e=this.defaultsFromMap)==null?void 0:e.ready)??!1)&&!this.spatialReference){const s=!("loaded"in this.map)||this.map.loaded,n=this.map.ground.loaded,a=((t=this.map.basemap)==null?void 0:t.loaded)??!0;return s&&a&&n&&!((i=this.map)!=null&&i.allLayers.length)?"empty-map":(this._readyStateWaitingTask||(this._readyStateWaitingTask=Hv(u=>cz(B("view-readyState-waiting-delay"),null,u)),this.addHandles(this._readyStateWaitingTask),this.addHandles(this._readyStateWaitingTask,"ready-state-task")),(r=this._readyStateWaitingTask)!=null&&r.finished?"map-content-error":"loading")}return this._readyStateWaitingTask=Zf(this._readyStateWaitingTask),this.removeHandles("ready-state-task"),this.ready?"ready":"loading"}get spatialReference(){var t,i;const e=this._userSpatialReference||this._lockedSpatialReference||this.getDefaultSpatialReference()||null;if(e&&((i=(t=this.defaultsFromMap)==null?void 0:t.required)!=null&&i.heightModelInfo)){const r=e.clone();return r.vcsWkid=this.defaultsFromMap.vcsWkid,r.latestVcsWkid=this.defaultsFromMap.latestVcsWkid,r}return e}set spatialReference(e){const t=!Vi(e,this._get("spatialReference"));this._set("_userSpatialReference",e),t&&(this._set("spatialReference",e),this._spatialReferenceChanged(e))}_spatialReferenceChanged(e){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get timeExtent(){return this._userTimeExtent??this._lockedTimeExtent??this.getDefaultTimeExtent()??null}set timeExtent(e){this._userTimeExtent=e}get timeZone(){return this._userTimeZone??this._lockedTimeZone??this.getDefaultTimeZone()??Xo}set timeZone(e){this._userTimeZone=e,Coe(e)||ne.getLogger(this).warn("#timeZone",`the parsed value '${e}' may not be a valid IANA time zone`)}get tools(){var e;return(e=this.toolViewManager)==null?void 0:e.tools}get initialExtent(){var e;return(e=this.defaultsFromMap)==null?void 0:e.extent}get cursor(){var e;return((e=this.toolViewManager)==null?void 0:e.cursor)??this._cursor??"default"}set cursor(e){this._cursor=e,this.notifyChange("cursor")}get size(){return[this.width,this.height]}get effectiveTheme(){return this.theme??new ZR}whenLayerView(e){var t;return((t=this.layerViewManager)==null?void 0:t.whenLayerView(e))??Promise.reject()}getDefaultSpatialReference(){var e;return(e=this.defaultsFromMap)==null?void 0:e.spatialReference}getDefaultHeightModelInfo(){var e;return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??((e=this.defaultsFromMap)==null?void 0:e.heightModelInfo)??null}getDefaultTimeZone(){return null}getDefaultTimeExtent(){return null}importLayerView(e){throw new z("importLayerView() not implemented")}hasLayerViewModule(e){return!1}async validate(){}async loadAsyncDependencies(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(e){return this.getSpatialReferenceSupport(e)!=null}when(e,t){return this.isResolved()&&!this.ready&&ne.getLogger(this).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(e,t)}forceReadyCycle(){this.ready&&(wn(()=>this.destroyed||this.preconditionsReady===!1,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(e){this.toolViewManager.tools.add(e),this.activeTool=e}tryFatalErrorRecovery(){this.fatalError=null}};Ee.views=new ye,c([p()],Ee.prototype,"_userSpatialReference",void 0),c([p()],Ee.prototype,"activeTool",null),c([p({readOnly:!0})],Ee.prototype,"allLayerViews",void 0),c([p()],Ee.prototype,"groundView",void 0),c([p()],Ee.prototype,"animation",null),c([p()],Ee.prototype,"basemapView",void 0),c([p()],Ee.prototype,"center",null),c([p()],Ee.prototype,"defaultsFromMapSettings",null),c([p()],Ee.prototype,"defaultsFromMap",null),c([p()],Ee.prototype,"displayFilterEnabled",void 0),c([p()],Ee.prototype,"fatalError",void 0),c([p({type:kt})],Ee.prototype,"extent",null),c([p(_9(q0,"graphics"))],Ee.prototype,"graphics",void 0),c([p(_9(t2,"analyses"))],Ee.prototype,"analyses",void 0),c([p({readOnly:!0,type:i1})],Ee.prototype,"heightModelInfo",null),c([p({type:ye.ofType(Zu)})],Ee.prototype,"highlights",null),c([p({readOnly:!0})],Ee.prototype,"interacting",null),c([p({readOnly:!0})],Ee.prototype,"navigating",null),c([p({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_lockedSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],Ee.prototype,"preconditionsReady",null),c([p({readOnly:!0})],Ee.prototype,"typeSpecificPreconditionsReady",void 0),c([p({type:ye,readOnly:!0})],Ee.prototype,"layerViews",void 0),c([p()],Ee.prototype,"resolution",null),c([p({type:HW})],Ee.prototype,"magnifier",void 0),c([p({value:null,type:SW})],Ee.prototype,"map",null),c([p()],Ee.prototype,"padding",void 0),c([p({readOnly:!0})],Ee.prototype,"ready",void 0),c([p()],Ee.prototype,"_readyStateWaitingTask",void 0),c([p({readOnly:!0})],Ee.prototype,"readyState",null),c([p({type:He})],Ee.prototype,"spatialReference",null),c([p()],Ee.prototype,"stationary",null),c([p({readOnly:!0})],Ee.prototype,"supportsGround",void 0),c([p({type:dl})],Ee.prototype,"timeExtent",null),c([p({type:String,nonNullable:!0})],Ee.prototype,"timeZone",null),c([p()],Ee.prototype,"tools",null),c([p()],Ee.prototype,"toolViewManager",void 0),c([p({readOnly:!0})],Ee.prototype,"type",void 0),c([p({type:Number})],Ee.prototype,"scale",void 0),c([p({readOnly:!0})],Ee.prototype,"updating",void 0),c([p({readOnly:!0})],Ee.prototype,"initialExtentRequired",void 0),c([p({readOnly:!0})],Ee.prototype,"initialExtent",null),c([p()],Ee.prototype,"cursor",null),c([p({readOnly:!0})],Ee.prototype,"input",void 0),c([p({type:ET,nonNullable:!0})],Ee.prototype,"navigation",void 0),c([p()],Ee.prototype,"layerViewManager",void 0),c([p()],Ee.prototype,"analysisViewManager",void 0),c([p()],Ee.prototype,"selectionManager",void 0),c([p()],Ee.prototype,"width",void 0),c([p()],Ee.prototype,"height",void 0),c([p({readOnly:!0})],Ee.prototype,"resizing",void 0),c([p({value:null,readOnly:!0})],Ee.prototype,"size",null),c([p({readOnly:!0})],Ee.prototype,"suspended",void 0),c([p({readOnly:!0})],Ee.prototype,"viewEvents",void 0),c([p({readOnly:!0})],Ee.prototype,"persistableViewModels",void 0),c([p()],Ee.prototype,"_isValid",void 0),c([p()],Ee.prototype,"_readyCycleForced",void 0),c([p()],Ee.prototype,"_lockedSpatialReference",void 0),c([p()],Ee.prototype,"_userTimeZone",void 0),c([p()],Ee.prototype,"_lockedTimeZone",void 0),c([p()],Ee.prototype,"_userTimeExtent",void 0),c([p()],Ee.prototype,"_lockedTimeExtent",void 0),c([p({type:ZR})],Ee.prototype,"theme",void 0),c([p({readOnly:!0,type:ZR})],Ee.prototype,"effectiveTheme",null),Ee=p0=c([O("esri.views.View")],Ee);const gM=globalThis.$arcgis;gM&&!gM.views&&Object.defineProperty(gM,"views",{configurable:!1,enumerable:!0,writable:!1,value:Ee.views});const Vbe=Ee;function Gbe(e){return e.layerViews}function Bf(e,t){return e[0]=t[0],e[1]=t[1],e}function Qi(e,t,i){return e[0]=t,e[1]=i,e}function uZ(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e}function _v(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e}function cZ(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e}function dZ(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e}function qbe(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function Bbe(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function Hbe(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e}function Wbe(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e}function Zbe(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function l1(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e}function Ybe(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e}function $T(e,t){const i=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(i*i+r*r)}function r2(e,t){const i=t[0]-e[0],r=t[1]-e[1];return i*i+r*r}function s2(e){const t=e[0],i=e[1];return Math.sqrt(t*t+i*i)}function hZ(e){const t=e[0],i=e[1];return t*t+i*i}function pZ(e,t){return e[0]=-t[0],e[1]=-t[1],e}function Jbe(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function QR(e,t){const i=t[0],r=t[1];let s=i*i+r*r;return s>0&&(s=1/Math.sqrt(s),e[0]=t[0]*s,e[1]=t[1]*s),e}function fZ(e,t){return e[0]*t[0]+e[1]*t[1]}function mZ(e,t,i){const r=t[0]*i[1]-t[1]*i[0];return e[0]=e[1]=0,e[2]=r,e}function Xbe(e,t,i,r){const s=t[0],n=t[1];return e[0]=s+r*(i[0]-s),e[1]=n+r*(i[1]-n),e}function Qbe(e,t=1){const i=2*sT()*Math.PI;return e[0]=Math.cos(i)*t,e[1]=Math.sin(i)*t,e}function Kbe(e,t,i){const r=t[0],s=t[1];return e[0]=i[0]*r+i[2]*s,e[1]=i[1]*r+i[3]*s,e}function Bo(e,t,i){const r=t[0],s=t[1];return e[0]=i[0]*r+i[2]*s+i[4],e[1]=i[1]*r+i[3]*s+i[5],e}function ewe(e,t,i){const r=t[0],s=t[1];return e[0]=i[0]*r+i[3]*s+i[6],e[1]=i[1]*r+i[4]*s+i[7],e}function twe(e,t,i){const r=t[0],s=t[1];return e[0]=i[0]*r+i[4]*s+i[12],e[1]=i[1]*r+i[5]*s+i[13],e}function iwe(e,t,i,r){const s=t[0]-i[0],n=t[1]-i[1],a=Math.sin(r),u=Math.cos(r);return e[0]=s*u-n*a+i[0],e[1]=s*a+n*u+i[1],e}function rwe(e,t){const i=e[0],r=e[1],s=t[0],n=t[1];let a=i*i+r*r;a>0&&(a=1/Math.sqrt(a));let u=s*s+n*n;u>0&&(u=1/Math.sqrt(u));const d=(i*s+r*n)*a*u;return d>1?0:d<-1?Math.PI:Math.acos(d)}function swe(e){return"vec2("+e[0]+", "+e[1]+")"}function nwe(e,t){return e[0]===t[0]&&e[1]===t[1]}function owe(e,t){const i=e[0],r=e[1],s=t[0],n=t[1],a=Wr();return Math.abs(i-s)<=a*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(r-n)<=a*Math.max(1,Math.abs(r),Math.abs(n))}function awe(e,t,i,r,s){let n=t[0]-i[0],a=t[1]-i[1];const u=(r[0]*n+r[1]*a)*(s-1);return n=r[0]*u,a=r[1]*u,e[0]=t[0]+n,e[1]=t[1]+a,e}const lwe=s2,DN=_v,uwe=cZ,cwe=dZ,dwe=$T,hwe=r2,pwe=hZ;Object.freeze(Object.defineProperty({__proto__:null,add:uZ,angle:rwe,ceil:qbe,copy:Bf,cross:mZ,dist:dwe,distance:$T,div:cwe,divide:dZ,dot:fZ,equals:owe,exactEquals:nwe,floor:Bbe,inverse:Jbe,len:lwe,length:s2,lerp:Xbe,max:Wbe,min:Hbe,mul:uwe,multiply:cZ,negate:pZ,normalize:QR,projectAndScale:awe,random:Qbe,rotate:iwe,round:Zbe,scale:l1,scaleAndAdd:Ybe,set:Qi,sqrDist:hwe,sqrLen:pwe,squaredDistance:r2,squaredLength:hZ,str:swe,sub:DN,subtract:_v,transformMat2:Kbe,transformMat2d:Bo,transformMat3:ewe,transformMat4:twe},Symbol.toStringTag,{value:"Module"}));function si(){return[0,0]}function fwe(e){return[e[0],e[1]]}function u1(e,t){return[e,t]}function mwe(e,t){return[e,t]}function ywe(e,t=si()){const i=Math.min(2,e.length);for(let r=0;r<i;++r)t[r]=e[r];return t}function gwe(e,t){return new Float64Array(e,t,2)}function yZ(){return si()}function gZ(){return u1(1,1)}function vZ(){return u1(1,0)}function bZ(){return u1(0,1)}const vwe=yZ(),bwe=gZ(),wwe=vZ(),_we=bZ();Object.freeze(Object.defineProperty({__proto__:null,ONES:bwe,UNIT_X:wwe,UNIT_Y:_we,ZEROS:vwe,clone:fwe,create:si,createView:gwe,freeze:mwe,fromArray:ywe,fromValues:u1,ones:gZ,unitX:vZ,unitY:bZ,zeros:yZ},Symbol.toStringTag,{value:"Module"}));function Swe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Twe(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function Ewe(e,t,i,r,s,n,a){return e[0]=t,e[1]=i,e[2]=r,e[3]=s,e[4]=n,e[5]=a,e}function kN(e,t){const i=t[0],r=t[1],s=t[2],n=t[3],a=t[4],u=t[5];let d=i*n-r*s;return d?(d=1/d,e[0]=n*d,e[1]=-r*d,e[2]=-s*d,e[3]=i*d,e[4]=(s*u-n*a)*d,e[5]=(r*a-i*u)*d,e):null}function $we(e){return e[0]*e[3]-e[1]*e[2]}function wZ(e,t,i){const r=t[0],s=t[1],n=t[2],a=t[3],u=t[4],d=t[5],f=i[0],g=i[1],v=i[2],w=i[3],S=i[4],T=i[5];return e[0]=r*f+n*g,e[1]=s*f+a*g,e[2]=r*v+n*w,e[3]=s*v+a*w,e[4]=r*S+n*T+u,e[5]=s*S+a*T+d,e}function xT(e,t,i){const r=t[0],s=t[1],n=t[2],a=t[3],u=t[4],d=t[5],f=Math.sin(i),g=Math.cos(i);return e[0]=r*g+n*f,e[1]=s*g+a*f,e[2]=r*-f+n*g,e[3]=s*-f+a*g,e[4]=u,e[5]=d,e}function FN(e,t,i){const r=t[0],s=t[1],n=t[2],a=t[3],u=t[4],d=t[5],f=i[0],g=i[1];return e[0]=r*f,e[1]=s*f,e[2]=n*g,e[3]=a*g,e[4]=u,e[5]=d,e}function Sv(e,t,i){const r=t[0],s=t[1],n=t[2],a=t[3],u=t[4],d=t[5],f=i[0],g=i[1];return e[0]=r,e[1]=s,e[2]=n,e[3]=a,e[4]=r*f+n*g+u,e[5]=s*f+a*g+d,e}function _Z(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=i,e[2]=-i,e[3]=r,e[4]=0,e[5]=0,e}function SZ(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function jN(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function xwe(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function Mwe(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+1)}function Awe(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e}function TZ(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e}function Owe(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e}function Rwe(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e[3]=t[3]+i[3]*r,e[4]=t[4]+i[4]*r,e[5]=t[5]+i[5]*r,e}function Cwe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function Iwe(e,t){const i=e[0],r=e[1],s=e[2],n=e[3],a=e[4],u=e[5],d=t[0],f=t[1],g=t[2],v=t[3],w=t[4],S=t[5],T=Wr();return Math.abs(i-d)<=T*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(r-f)<=T*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(s-g)<=T*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(n-v)<=T*Math.max(1,Math.abs(n),Math.abs(v))&&Math.abs(a-w)<=T*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(u-S)<=T*Math.max(1,Math.abs(u),Math.abs(S))}const Nwe=wZ,Pwe=TZ;Object.freeze(Object.defineProperty({__proto__:null,add:Awe,copy:Swe,determinant:$we,equals:Iwe,exactEquals:Cwe,frob:Mwe,fromRotation:_Z,fromScaling:SZ,fromTranslation:jN,identity:Twe,invert:kN,mul:Nwe,multiply:wZ,multiplyScalar:Owe,multiplyScalarAndAdd:Rwe,rotate:xT,scale:FN,set:Ewe,str:xwe,sub:Pwe,subtract:TZ,translate:Sv},Symbol.toStringTag,{value:"Module"}));function al(){return[1,0,0,1,0,0]}function Lwe(e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function Dwe(e,t,i,r,s,n){return[e,t,i,r,s,n]}function kwe(e,t){return new Float64Array(e,t,6)}const Fwe=al();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:Fwe,clone:Lwe,create:al,createView:kwe,fromValues:Dwe},Symbol.toStringTag,{value:"Module"}));const _w={102100:{maxX:20037508342788905e-9,minX:-20037508342788905e-9,plus180Line:new no({paths:[[[20037508342788905e-9,-20037508342788905e-9],[20037508342788905e-9,20037508342788905e-9]]],spatialReference:He.WebMercator}),minus180Line:new no({paths:[[[-20037508342788905e-9,-20037508342788905e-9],[-20037508342788905e-9,20037508342788905e-9]]],spatialReference:He.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new no({paths:[[[180,-180],[180,180]]],spatialReference:He.WGS84}),minus180Line:new no({paths:[[[-180,-180],[-180,180]]],spatialReference:He.WGS84})}};function Zd(e,t){return Math.ceil((e-t)/(2*t))}function EZ(e,t){const i=B0(e);for(const r of i)for(const s of r)s[0]+=t;return e}function B0(e){return Kd(e)?e.rings:e.paths}function QPe(e,t){return t?{...t,query:{...e??{},...t.query}}:{query:e}}function jwe(e){return typeof e=="string"?Or(e):j(e)}function Uwe(e,t,i){const r={};for(const s in e){if(s==="declaredClass")continue;const n=e[s];if(n!=null&&typeof n!="function")if(Array.isArray(n))r[s]=n.map(a=>Uwe(a));else if(typeof n=="object")if(n.toJSON){const a=n.toJSON(i==null?void 0:i[s]);r[s]=t?a:JSON.stringify(a)}else r[s]=t?n:JSON.stringify(n);else r[s]=n}return r}async function zwe(e,t,i,r){const s=jwe(e),n=t[0].spatialReference,a={...r,responseType:"json",query:{...s.query,f:"json",sr:xV(n),target:JSON.stringify({geometryType:PI(t[0]),geometries:t}),cutter:JSON.stringify(i)}},u=await Lt(s.path+"/cut",a),{cutIndexes:d,geometries:f=[]}=u.data;return{cutIndexes:d,geometries:f.map(g=>{const v=mh(g);return v.spatialReference=n,v})}}function Vwe(e){return{geometryType:PI(e[0]),geometries:e.map(t=>t.toJSON())}}function Gwe(e,t,i){const r=jle(t);return e.map(s=>{const n=r.fromJSON(s);return n.spatialReference=i,n})}async function qwe(e,t,i){const r=typeof e=="string"?Or(e):e,s=t[0].spatialReference,n=PI(t[0]),a={...i,query:{...r.query,f:"json",sr:xV(s),geometries:JSON.stringify(Vwe(t))}},{data:u}=await Lt(r.path+"/simplify",a);return Gwe(u.geometries,n,s)}const $Z=()=>ne.getLogger("esri.geometry.support.normalizeUtils");function Bwe(e){return e.type==="polygon"}function Hwe(e){return e[0].type==="polygon"}function Wwe(e){return e[0].type==="polyline"}function N9(e){const t=[];let i=0,r=0;for(let s=0;s<e.length;s++){const n=e[s];let a=null;for(let u=0;u<n.length;u++)a=n[u],t.push(a),u===0?(i=a[0],r=i):(i=Math.min(i,a[0]),r=Math.max(r,a[0]));a&&t.push([(i+r)/2,0])}return t}function Zwe(e,t){if(!(e instanceof no||e instanceof fo)){const s="straightLineDensify: the input geometry is neither polyline nor polygon";throw $Z().error(s),new z(s)}const i=B0(e),r=[];for(const s of i){const n=[];r.push(n),n.push([s[0][0],s[0][1]]);for(let a=0;a<s.length-1;a++){const u=s[a][0],d=s[a][1],f=s[a+1][0],g=s[a+1][1],v=Math.sqrt((f-u)*(f-u)+(g-d)*(g-d)),w=(g-d)/v,S=(f-u)/v,T=v/t;if(T>1){for(let P=1;P<=T-1;P++){const N=P*t,k=S*N+u,U=w*N+d;n.push([k,U])}const E=(v+Math.floor(T-1)*t)/2,M=S*E+u,R=w*E+d;n.push([M,R])}n.push([f,g])}}return Bwe(e)?new fo({rings:r,spatialReference:e.spatialReference}):new no({paths:r,spatialReference:e.spatialReference})}function P9(e,t,i){if(t){const r=Zwe(e,1e6);e=_f(r,!0)}return i&&(e=EZ(e,i)),e}function L9(e,t,i){if(Array.isArray(e)){const r=e[0];if(r>t){const s=Zd(r,t);e[0]=r+s*(-2*t)}else if(r<i){const s=Zd(r,i);e[0]=r+s*(-2*i)}}else{const r=e.x;if(r>t){const s=Zd(r,t);e=e.clone().offset(s*(-2*t),0)}else if(r<i){const s=Zd(r,i);e=e.clone().offset(s*(-2*i),0)}}return e}function Ywe(e,t){let i=-1;for(let r=0;r<t.cutIndexes.length;r++){const s=t.cutIndexes[r],n=t.geometries[r],a=B0(n);for(let u=0;u<a.length;u++){const d=a[u];d.some(f=>{if(f[0]<180)return!0;{let g=0;for(let w=0;w<d.length;w++){const S=d[w][0];g=S>g?S:g}g=Number(g.toFixed(9));const v=-360*Zd(g,180);for(let w=0;w<d.length;w++){const S=n.getPoint(u,w);n.setPoint(u,w,S.clone().offset(v,0))}return!0}})}if(s===i){if(Hwe(e))for(const u of B0(n))e[s]=e[s].addRing(u);else if(Wwe(e))for(const u of B0(n))e[s]=e[s].addPath(u)}else i=s,e[s]=n}return e}async function Jwe(e,t,i){if(!Array.isArray(e))return Jwe([e],t);t&&typeof t!="string"&&$Z().warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const r=typeof t=="string"?t:(t==null?void 0:t.url)??bt.geometryServiceUrl;let s,n,a,u,d,f,g,v,w=0;const S=[],T=[];for(const k of e)if(k!=null)if(s||(s=k.spatialReference,n=Br(s),a=s.isWebMercator,f=a?102100:4326,u=_w[f].maxX,d=_w[f].minX,g=_w[f].plus180Line,v=_w[f].minus180Line),n)if(k.type==="mesh")T.push(k);else if(k.type==="point")T.push(L9(k.clone(),u,d));else if(k.type==="multipoint"){const U=k.clone();U.points=U.points.map(Z=>L9(Z,u,d)),T.push(U)}else if(k.type==="extent"){const U=k.clone()._normalize(!1,!1,n);T.push(U.rings?new fo(U):U)}else if(k.extent){const U=k.extent,Z=Zd(U.xmin,d)*(2*u);let re=Z===0?k.clone():EZ(k.clone(),Z);U.offset(Z,0);let{xmin:oe,xmax:pe}=U;oe=Number(oe.toFixed(9)),pe=Number(pe.toFixed(9)),U.intersects(g)&&pe!==u?(w=pe>w?pe:w,re=P9(re,a),S.push(re),T.push("cut")):U.intersects(v)&&oe!==d?(w=pe*(2*u)>w?pe*(2*u):w,re=P9(re,a,360),S.push(re),T.push("cut")):T.push(re)}else T.push(k.clone());else T.push(k);else T.push(k);let E=Zd(w,u),M=-90;const R=E,P=new no;for(;E>0;){const k=360*E-180;P.addPath([[k,M],[k,-1*M]]),M*=-1,E--}if(S.length>0&&R>0){const k=Ywe(S,await zwe(r,S,P,i)),U=[],Z=[];for(let pe=0;pe<T.length;pe++){const me=T[pe];if(me!=="cut")Z.push(me);else{const _e=k.shift(),we=e[pe];we!=null&&we.type==="polygon"&&we.rings&&we.rings.length>1&&_e.rings.length>=we.rings.length?(U.push(_e),Z.push("simplify")):Z.push(a?Qd(_e):_e)}}if(!U.length)return Z;const re=await qwe(r,U,i),oe=[];for(let pe=0;pe<Z.length;pe++){const me=Z[pe];me!=="simplify"?oe.push(me):oe.push(a?Qd(re.shift()):re.shift())}return oe}const N=[];for(let k=0;k<T.length;k++){const U=T[k];if(U!=="cut")N.push(U);else{const Z=S.shift();N.push(a===!0?Qd(Z):Z)}}return N}function Xwe(e){if(!e)return null;const t=e.extent;if(!t)return null;const i=e.spatialReference&&Br(e.spatialReference);if(!i)return t;const[r,s]=i.valid,n=2*s,{width:a}=t;let u,{xmin:d,xmax:f}=t;if([d,f]=[f,d],e.type==="extent"||a===0||a<=s||a>n||d<r||f>s)return t;switch(e.type){case"polygon":if(!(e.rings.length>1))return t;u=N9(e.rings);break;case"polyline":if(!(e.paths.length>1))return t;u=N9(e.paths);break;case"multipoint":u=e.points}const g=t.clone();for(let v=0;v<u.length;v++){let w=u[v][0];w<0?(w+=s,f=Math.max(w,f)):(w-=s,d=Math.min(w,d))}return g.xmin=d,g.xmax=f,g.width<a?(g.xmin-=s,g.xmax-=s,g):t}function UN(e,t,i){const r=Br(i);if(r==null)return e;const[s,n]=r.valid,a=2*n;let u=0,d=0;t>n?u=Math.ceil(Math.abs(t-n)/a):t<s&&(u=-Math.ceil(Math.abs(t-s)/a)),e>n?d=Math.ceil(Math.abs(e-n)/a):e<s&&(d=-Math.ceil(Math.abs(e-s)/a));let f=e+(u-d)*a;const g=f-t;return g>n?f-=a:g<s&&(f+=a),f}function KPe(e,t){const i=Br(t);if(i){const[r,s]=i.valid,n=s-r;if(e<r)for(;e<r;)e+=n;if(e>s)for(;e>s;)e-=n}return e}const xZ=96,MZ=39.37,Qwe=180/Math.PI;function AZ(e){return e.wkid?e:e.spatialReference||He.WGS84}function zN(e,t){return t.type?Qi(e,t.x,t.y):Bf(e,t)}function OZ(e){return Sn(e)}function MT(e,t,i=0){let r=e.width,s=e.height;if(i!==0){const u=V2(i),d=Math.abs(Math.cos(u)),f=Math.abs(Math.sin(u));r=e.width*d+e.height*f,s=e.width*f+e.height*d}const n=Math.max(1,t[0]),a=Math.max(1,t[1]);return Math.max(r/n,s/a)*o_e(e.spatialReference)}async function f0(e,t,i,r){var u,d,f;let s,n;if(!e||Array.isArray(e)&&!e.length)return null;if(ye.isCollection(e)&&(e=e.toArray()),Array.isArray(e)&&e.length&&typeof e[0]=="object"){const g=e.every(S=>"attributes"in S),v=e.some(S=>!S.geometry);let w=e;if(g&&v&&t&&t.allLayerViews){const S=new Map;for(const R of e){const P=R.layer,N=S.get(P)||[],k=R.attributes[P.objectIdField];k!=null&&N.push(k),S.set(P,N)}const T=[];S.forEach((R,P)=>{var k;const N=(k=t.allLayerViews)==null?void 0:k.find(U=>U.layer.id===P.id);if(N&&"queryFeatures"in N){const U=P.createQuery();U.objectIds=R,U.returnGeometry=!0,T.push(N.queryFeatures(U))}});const E=await Promise.all(T),M=[];for(const R of E)if(R&&R.features&&R.features.length)for(const P of R.features)P.geometry!=null&&M.push(P.geometry);w=M}for(const S of w)r=await f0(S,t,i,r);return r}if(Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number")s=new Be(e);else if(e instanceof yl)s=e;else if("geometry"in e){if(e.geometry)s=e.geometry;else if(e.layer){const g=e.layer,v=(u=t.allLayerViews)==null?void 0:u.find(w=>w.layer.id===g.id);if(v&&"queryFeatures"in v){const w=g.createQuery();w.objectIds=[e.attributes[g.objectIdField]],w.returnGeometry=!0;const S=await v.queryFeatures(w);s=(f=(d=S==null?void 0:S.features)==null?void 0:d[0])==null?void 0:f.geometry}}}if(s==null)return null;switch(s.type){case"point":n=new kt({xmin:s.x,ymin:s.y,xmax:s.x,ymax:s.y,spatialReference:s.spatialReference});break;case"extent":case"multipoint":case"polygon":case"polyline":n=Xwe(s);break;default:n=s.extent}if(!n)return null;bc()||ea(n.spatialReference,i)||await uc();const a=wc(n,i);if(!a)return null;if(r){const g=a.center,v=g.clone();v.x=UN(g.x,r.center.x,i),v.x!==g.x&&a.centerAt(v),r=r.union(a)}else r=a;return r}function Kwe(e){var t;if(e&&(!Array.isArray(e)||typeof e[0]!="number")&&(typeof e=="object"||Array.isArray(e)&&typeof e[0]=="object")){if("layer"in e&&((t=e.layer)==null?void 0:t.minScale)!=null&&e.layer.maxScale!=null){const i=e.layer;return{min:i.minScale,max:i.maxScale}}if(Array.isArray(e)&&e.length&&e.every(i=>"layer"in i)){let i=0,r=0;for(const s of e){const n=s.layer;n!=null&&n.minScale&&n.maxScale&&(i=n.minScale<i?n.minScale:i,r=n.maxScale>r?n.maxScale:r)}return i&&r?{min:i,max:r}:null}}}function D9(e,t){const i=AZ(e);return Vi(i,t)||i.imageCoordinateSystem||t.imageCoordinateSystem?e:wc(e,t)}async function e_e(e,t){var M;if(!e||!t)return new gn({targetGeometry:new Be,scale:0,rotation:0});let i=t.spatialReference;const{constraints:r,padding:s,viewpoint:n,size:a}=t,u=[s?a[0]-s.left-s.right:a[0],s?a[1]-s.top-s.bottom:a[1]];let d=null;e instanceof gn?d=e:e.viewpoint?d=e.viewpoint:e.target&&e.target.declaredClass==="esri.Viewpoint"&&(d=e.target);let f=null;d!=null&&d.targetGeometry?f=d.targetGeometry:e instanceof kt?f=e:e instanceof yl?f=await f0(e,t,i):e&&(f=await f0(e.center,t,i)||await f0(e.target,t,i)||await f0(e,t,i)),!f&&(n!=null&&n.targetGeometry)?f=n.targetGeometry:!f&&t.extent&&(f=t.extent),i||(i=AZ(t.spatialReference||t.extent||f)),bc()||Vi(f.spatialReference,i)||ea(f.spatialReference,i)||await uc();const g=D9(f,i),v="center"in g?g.center:g;t.pickClosestTarget!==!1&&v.type==="point"&&((M=n.targetGeometry)==null?void 0:M.type)==="point"&&(v.x=UN(v.x,n.targetGeometry.x,v.spatialReference));let w=0;d?w=d.rotation:e.hasOwnProperty("rotation")?w=e.rotation:n&&(w=n.rotation);let S=0;S=(d==null?void 0:d.targetGeometry)!=null&&d.targetGeometry.type==="point"?d.scale:"scale"in e&&e.scale?e.scale:"zoom"in e&&e.zoom!==-1&&r&&r.effectiveLODs?r.zoomToScale(e.zoom):Array.isArray(f)||f.type==="point"||f.type==="extent"&&f.width===0&&f.height===0?n.scale:MT(D9(f.extent,i),u,w);const T=Kwe(e.target??e);T&&(T.min&&T.min<S?S=T.min:T.max&&T.max>S&&(S=T.max));let E=new gn({targetGeometry:v,scale:S,rotation:w});return r&&(E=r.fit(E),r.constrainByGeometry(E),r.rotationEnabled||(E.rotation=n.rotation)),E}function Mr(e,t){const i=e.targetGeometry,r=t.targetGeometry;return i.x=r.x,i.y=r.y,i.spatialReference=r.spatialReference,e.scale=t.scale,e.rotation=t.rotation,e}function t_e(e,t,i){return i?Qi(e,.5*(t[0]-i.right+i.left),.5*(t[1]-i.bottom+i.top)):l1(e,t,.5)}const i_e=function(){const e=si();return function(t,i,r){const s=i.targetGeometry;zN(e,s);const n=.5*Nm(i);return t.xmin=e[0]-n*r[0],t.ymin=e[1]-n*r[1],t.xmax=e[0]+n*r[0],t.ymax=e[1]+n*r[1],t.spatialReference=s.spatialReference,t}}();function r_e(e,t,i,r,s){var n;return KR(e,t,i.center),e.scale=MT(i,r),(n=s==null?void 0:s.constraints)==null||n.constrain(e),e}function s_e(e,t,i,r){return qN(e,t,i,r),kN(e,e)}const RZ=function(){const e=si();return function(t,i,r){return DN(t,a_e(t,i),t_e(e,i,r))}}(),n_e=function(){const e=al(),t=si();return function(i,r,s,n){const a=Nm(r),u=VN(r);return Qi(t,a,a),SZ(e,t),xT(e,e,u),Sv(e,e,RZ(t,s,n)),Sv(e,e,[0,n.top-n.bottom]),Qi(i,e[4],e[5])}}();function Nm(e){var t;return e.scale*CZ((t=e.targetGeometry)==null?void 0:t.spatialReference)}function CZ(e){return Ls(e)?1/(OZ(e)*MZ*xZ):1}function VN(e){return YI(e.rotation)||0}function o_e(e){return Ls(e)?OZ(e)*MZ*xZ:1}function a_e(e,t){return l1(e,t,.5)}const GN=function(){const e=si(),t=si(),i=si();return function(r,s,n,a,u,d){return pZ(e,s),l1(t,n,.5*d),Qi(i,1/a*d,-1/a*d),jN(r,t),u&&xT(r,r,u),FN(r,r,i),Sv(r,r,e),r}}(),qN=function(){const e=si();return function(t,i,r,s){const n=Nm(i),a=VN(i);return zN(e,i.targetGeometry),GN(t,e,r,n,a,s)}}(),l_e=function(){const e=si();return function(t,i,r,s){const n=Nm(i);return zN(e,i.targetGeometry),GN(t,e,r,n,0,s)}}();function IZ(e){const t=Br(e);return t?t.valid[1]-t.valid[0]:0}function u_e(e,t){return Math.round(IZ(e)/t)}const c_e=function(){const e=si(),t=si(),i=[0,0,0];return function(r,s,n){_v(e,r,s),QR(e,e),_v(t,r,n),QR(t,t),mZ(i,e,t);let a=Math.acos(fZ(e,t)/(s2(e)*s2(t)))*Qwe;return i[2]<0&&(a=-a),isNaN(a)&&(a=0),a}}(),d_e=function(){const e=si();return function(t,i,r,s){const n=t.targetGeometry;return Mr(t,i),n_e(e,i,r,s),n.x+=e[0],n.y+=e[1],t}}(),KR=function(e,t,i){Mr(e,t);const r=e.targetGeometry;return r.x=i.x,r.y=i.y,r.spatialReference=i.spatialReference,e},h_e=function(){const e=si();return function(t,i,r,s,n){n||(n="center"),DN(e,r,s),l1(e,e,.5);const a=e[0],u=e[1];switch(n){case"center":Qi(e,0,0);break;case"left":Qi(e,-a,0);break;case"top":Qi(e,0,u);break;case"right":Qi(e,a,0);break;case"bottom":Qi(e,0,-u);break;case"top-left":Qi(e,-a,u);break;case"bottom-left":Qi(e,-a,-u);break;case"top-right":Qi(e,a,u);break;case"bottom-right":Qi(e,a,-u)}return AT(t,i,e),t}}();function eLe(e,t,i){return Mr(e,t),e.rotation+=i,e}function p_e(e,t,i){return Mr(e,t),e.rotation=i,e}const f_e=function(){const e=si();return function(t,i,r,s,n){return Mr(t,i),isNaN(r)||r===0||(PZ(e,s,i,n),t.scale=i.scale*r,LZ(e,e,t,n),AT(t,t,Qi(e,e[0]-s[0],s[1]-e[1]))),t}}();function k9(e,t,i){return Mr(e,t),e.scale=i,e}const NZ=function(){const e=si();return function(t,i,r,s,n,a){return Mr(t,i),isNaN(r)||r===0||(PZ(e,n,i,a),t.scale=i.scale*r,t.rotation+=s,LZ(e,e,t,a),AT(t,t,Qi(e,e[0]-n[0],n[1]-e[1]))),t}}(),tLe=function(){const e=si(),t=si();return function(i,r,s,n,a,u,d){return RZ(t,u,d),uZ(e,a,t),n?NZ(i,r,s,n,e,u):f_e(i,r,s,e,u)}}(),PZ=function(){const e=al();return function(t,i,r,s){return Bo(t,i,s_e(e,r,s,1))}}(),LZ=function(){const e=al();return function(t,i,r,s){return Bo(t,i,qN(e,r,s,1))}}(),AT=function(){const e=si(),t=al();return function(i,r,s){Mr(i,r);const n=Nm(r),a=i.targetGeometry;return _Z(t,VN(r)),FN(t,t,u1(n,n)),Bo(e,s,t),a.x+=e[0],a.y+=e[1],i}}();function DZ(){const e=new Float32Array(6);return e[0]=1,e[3]=1,e}function m_e(e){const t=new Float32Array(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function y_e(e,t,i,r,s,n){const a=new Float32Array(6);return a[0]=e,a[1]=t,a[2]=i,a[3]=r,a[4]=s,a[5]=n,a}function g_e(e,t){return new Float32Array(e,t,6)}function kZ(e,t,i,r){const s=t[r],n=t[r+1];e[r]=i[0]*s+i[2]*n+i[4],e[r+1]=i[1]*s+i[3]*n+i[5]}function v_e(e,t,i,r=0,s=0,n=2){const a=s||t.length/n;for(let u=r;u<a;u++)kZ(e,t,i,u*n)}Object.freeze(Object.defineProperty({__proto__:null,clone:m_e,create:DZ,createView:g_e,fromValues:y_e,transform:kZ,transformMany:v_e},Symbol.toStringTag,{value:"Module"}));function b_e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function w_e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function FZ(e,t,i,r,s,n,a,u,d,f){return e[0]=t,e[1]=i,e[2]=r,e[3]=s,e[4]=n,e[5]=a,e[6]=u,e[7]=d,e[8]=f,e}function jZ(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function __e(e,t){if(e===t){const i=t[1],r=t[2],s=t[5];e[1]=t[3],e[2]=t[6],e[3]=i,e[5]=t[7],e[6]=r,e[7]=s}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function S_e(e,t){const i=t[0],r=t[1],s=t[2],n=t[3],a=t[4],u=t[5],d=t[6],f=t[7],g=t[8],v=g*a-u*f,w=-g*n+u*d,S=f*n-a*d;let T=i*v+r*w+s*S;return T?(T=1/T,e[0]=v*T,e[1]=(-g*r+s*f)*T,e[2]=(u*r-s*a)*T,e[3]=w*T,e[4]=(g*i-s*d)*T,e[5]=(-u*i+s*n)*T,e[6]=S*T,e[7]=(-f*i+r*d)*T,e[8]=(a*i-r*n)*T,e):null}function T_e(e,t){const i=t[0],r=t[1],s=t[2],n=t[3],a=t[4],u=t[5],d=t[6],f=t[7],g=t[8];return e[0]=a*g-u*f,e[1]=s*f-r*g,e[2]=r*u-s*a,e[3]=u*d-n*g,e[4]=i*g-s*d,e[5]=s*n-i*u,e[6]=n*f-a*d,e[7]=r*d-i*f,e[8]=i*a-r*n,e}function E_e(e){const t=e[0],i=e[1],r=e[2],s=e[3],n=e[4],a=e[5],u=e[6],d=e[7],f=e[8];return t*(f*n-a*d)+i*(-f*s+a*u)+r*(d*s-n*u)}function BN(e,t,i){const r=t[0],s=t[1],n=t[2],a=t[3],u=t[4],d=t[5],f=t[6],g=t[7],v=t[8],w=i[0],S=i[1],T=i[2],E=i[3],M=i[4],R=i[5],P=i[6],N=i[7],k=i[8];return e[0]=w*r+S*a+T*f,e[1]=w*s+S*u+T*g,e[2]=w*n+S*d+T*v,e[3]=E*r+M*a+R*f,e[4]=E*s+M*u+R*g,e[5]=E*n+M*d+R*v,e[6]=P*r+N*a+k*f,e[7]=P*s+N*u+k*g,e[8]=P*n+N*d+k*v,e}function eC(e,t,i){const r=t[0],s=t[1],n=t[2],a=t[3],u=t[4],d=t[5],f=t[6],g=t[7],v=t[8],w=i[0],S=i[1];return e[0]=r,e[1]=s,e[2]=n,e[3]=a,e[4]=u,e[5]=d,e[6]=w*r+S*a+f,e[7]=w*s+S*u+g,e[8]=w*n+S*d+v,e}function UZ(e,t,i){const r=t[0],s=t[1],n=t[2],a=t[3],u=t[4],d=t[5],f=t[6],g=t[7],v=t[8],w=Math.sin(i),S=Math.cos(i);return e[0]=S*r+w*a,e[1]=S*s+w*u,e[2]=S*n+w*d,e[3]=S*a-w*r,e[4]=S*u-w*s,e[5]=S*d-w*n,e[6]=f,e[7]=g,e[8]=v,e}function $_e(e,t,i){const r=i[0],s=i[1],n=i[2];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=s*t[3],e[4]=s*t[4],e[5]=s*t[5],e[6]=n*t[6],e[7]=n*t[7],e[8]=n*t[8],e}function x_e(e,t,i){const r=i[0],s=i[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=s*t[3],e[4]=s*t[4],e[5]=s*t[5],e}function M_e(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function A_e(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=i,e[2]=0,e[3]=-i,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function O_e(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function R_e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function C_e(e,t){const i=t[0],r=t[1],s=t[2],n=t[3],a=i+i,u=r+r,d=s+s,f=i*a,g=r*a,v=r*u,w=s*a,S=s*u,T=s*d,E=n*a,M=n*u,R=n*d;return e[0]=1-v-T,e[3]=g-R,e[6]=w+M,e[1]=g+R,e[4]=1-f-T,e[7]=S-E,e[2]=w-M,e[5]=S+E,e[8]=1-f-v,e}function I_e(e,t){const i=t[0],r=t[1],s=t[2],n=t[4],a=t[5],u=t[6],d=t[8],f=t[9],g=t[10],v=g*a-u*f,w=-g*n+u*d,S=f*n-a*d,T=i*v+r*w+s*S;if(!T)return null;const E=1/T;return e[0]=v*E,e[1]=(-g*r+s*f)*E,e[2]=(u*r-s*a)*E,e[3]=w*E,e[4]=(g*i-s*d)*E,e[5]=(-u*i+s*n)*E,e[6]=S*E,e[7]=(-f*i+r*d)*E,e[8]=(a*i-r*n)*E,e}function N_e(e,t){const i=t[0],r=t[1],s=t[2],n=t[3],a=t[4],u=t[5],d=t[6],f=t[7],g=t[8],v=t[9],w=t[10],S=t[11],T=t[12],E=t[13],M=t[14],R=t[15],P=i*u-r*a,N=i*d-s*a,k=i*f-n*a,U=r*d-s*u,Z=r*f-n*u,re=s*f-n*d,oe=g*E-v*T,pe=g*M-w*T,me=g*R-S*T,_e=v*M-w*E,we=v*R-S*E,Ye=w*R-S*M;let Ce=P*Ye-N*we+k*_e+U*me-Z*pe+re*oe;return Ce?(Ce=1/Ce,e[0]=(u*Ye-d*we+f*_e)*Ce,e[1]=(d*me-a*Ye-f*pe)*Ce,e[2]=(a*we-u*me+f*oe)*Ce,e[3]=(s*we-r*Ye-n*_e)*Ce,e[4]=(i*Ye-s*me+n*pe)*Ce,e[5]=(r*me-i*we-n*oe)*Ce,e[6]=(E*re-M*Z+R*U)*Ce,e[7]=(M*k-T*re-R*N)*Ce,e[8]=(T*Z-E*k+R*P)*Ce,e):null}function P_e(e,t,i){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/i,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function L_e(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function D_e(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2)}function k_e(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e[6]=t[6]+i[6],e[7]=t[7]+i[7],e[8]=t[8]+i[8],e}function zZ(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e[6]=t[6]-i[6],e[7]=t[7]-i[7],e[8]=t[8]-i[8],e}function F_e(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*i,e}function j_e(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e[3]=t[3]+i[3]*r,e[4]=t[4]+i[4]*r,e[5]=t[5]+i[5]*r,e[6]=t[6]+i[6]*r,e[7]=t[7]+i[7]*r,e[8]=t[8]+i[8]*r,e}function U_e(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function z_e(e,t){const i=e[0],r=e[1],s=e[2],n=e[3],a=e[4],u=e[5],d=e[6],f=e[7],g=e[8],v=t[0],w=t[1],S=t[2],T=t[3],E=t[4],M=t[5],R=t[6],P=t[7],N=t[8],k=Wr();return Math.abs(i-v)<=k*Math.max(1,Math.abs(i),Math.abs(v))&&Math.abs(r-w)<=k*Math.max(1,Math.abs(r),Math.abs(w))&&Math.abs(s-S)<=k*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(n-T)<=k*Math.max(1,Math.abs(n),Math.abs(T))&&Math.abs(a-E)<=k*Math.max(1,Math.abs(a),Math.abs(E))&&Math.abs(u-M)<=k*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(d-R)<=k*Math.max(1,Math.abs(d),Math.abs(R))&&Math.abs(f-P)<=k*Math.max(1,Math.abs(f),Math.abs(P))&&Math.abs(g-N)<=k*Math.max(1,Math.abs(g),Math.abs(N))}function V_e(e){const t=Wr(),i=e[0],r=e[1],s=e[2],n=e[3],a=e[4],u=e[5],d=e[6],f=e[7],g=e[8];return Math.abs(1-(i*i+n*n+d*d))<=t&&Math.abs(1-(r*r+a*a+f*f))<=t&&Math.abs(1-(s*s+u*u+g*g))<=t}const G_e=BN,q_e=zZ;Object.freeze(Object.defineProperty({__proto__:null,add:k_e,adjoint:T_e,copy:w_e,determinant:E_e,equals:z_e,exactEquals:U_e,frob:D_e,fromMat2d:R_e,fromMat4:b_e,fromQuat:C_e,fromRotation:A_e,fromScaling:O_e,fromTranslation:M_e,identity:jZ,invert:S_e,isOrthoNormal:V_e,mul:G_e,multiply:BN,multiplyScalar:F_e,multiplyScalarAndAdd:j_e,normalFromMat4:N_e,normalFromMat4Legacy:I_e,projection:P_e,rotate:UZ,scale:$_e,scaleByVec2:x_e,set:FZ,str:L_e,sub:q_e,subtract:zZ,translate:eC,transpose:__e},Symbol.toStringTag,{value:"Module"}));function B_(){const e=new Float32Array(9);return e[0]=1,e[4]=1,e[8]=1,e}function B_e(e){const t=new Float32Array(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function H_e(e,t,i,r,s,n,a,u,d){const f=new Float32Array(9);return f[0]=e,f[1]=t,f[2]=i,f[3]=r,f[4]=s,f[5]=n,f[6]=a,f[7]=u,f[8]=d,f}function W_e(e,t){return new Float32Array(e,t,9)}Object.freeze(Object.defineProperty({__proto__:null,clone:B_e,create:B_,createView:W_e,fromValues:H_e},Symbol.toStringTag,{value:"Module"}));function VZ(){return new Float32Array(2)}function Z_e(e){const t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t}function hm(e,t){const i=new Float32Array(2);return i[0]=e,i[1]=t,i}function Y_e(e,t){return new Float32Array(e,t,2)}function GZ(){return VZ()}function qZ(){return hm(1,1)}function BZ(){return hm(1,0)}function HZ(){return hm(0,1)}const J_e=GZ(),X_e=qZ(),Q_e=BZ(),K_e=HZ();Object.freeze(Object.defineProperty({__proto__:null,ONES:X_e,UNIT_X:Q_e,UNIT_Y:K_e,ZEROS:J_e,clone:Z_e,create:VZ,createView:Y_e,fromValues:hm,ones:qZ,unitX:BZ,unitY:HZ,zeros:GZ},Symbol.toStringTag,{value:"Module"}));function eSe(e){return e instanceof Float32Array&&e.length>=2}function tSe(e){return Array.isArray(e)&&e.length>=2}function vM(e){return eSe(e)||tSe(e)}var tC;const Ta=[0,0];let qa=tC=class extends K{constructor(e){super(e),this._viewpoint2D={center:si(),rotation:0,scale:0,spatialReference:void 0},this.center=[0,0],this.extent=new kt,this.id=0,this.inverseTransform=al(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=al(),this.transformNoRotation=al(),this.displayMat3=B_(),this.displayViewMat3=B_(),this.viewMat3=B_(),this.viewMat2d=DZ(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(e){this._set("pixelRatio",e),this._update()}set size(e){this._set("size",e),this._update()}set viewpoint(e){if(e){const t=this._viewpoint2D,i=e.targetGeometry;t.center[0]=i.x,t.center[1]=i.y,t.rotation=e.rotation,t.scale=e.scale,t.spatialReference=i.spatialReference}this._update()}get visibleArea(){const[e,t]=this.size;return[this.toMap([0,0],0,0),this.toMap([0,0],0,t),this.toMap([0,0],e,t),this.toMap([0,0],e,0)]}copy(e){const t=this.size,i=this.viewpoint;return i&&t?(this.viewpoint=Mr(i,e.viewpoint),this._set("size",Bf(t,e.size))):(this.viewpoint=e.viewpoint.clone(),this._set("size",[e.size[0],e.size[1]])),this._set("pixelRatio",e.pixelRatio),this}clone(){return new tC({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(e,t,i){return vM(t)?Bo(e,t,this.inverseTransform):(Ta[0]=t,Ta[1]=i,Bo(e,Ta,this.inverseTransform))}toScreen(e,t,i){return vM(t)?Bo(e,t,this.transform):(Ta[0]=t,Ta[1]=i,Bo(e,Ta,this.transform))}toScreenNoRotation(e,t,i){return vM(t)?Bo(e,t,this.transformNoRotation):(Ta[0]=t,Ta[1]=i,Bo(e,Ta,this.transformNoRotation))}wrapMapCoordinate(e,t){Bf(e,t);const[i]=t,[r]=this.center,{extent:s,spatialReference:n}=this;let{xmin:a,xmax:u}=s;if(n.isWrappable){const d=IZ(n)/2;a=Math.max(a,r-d),u=Math.min(u,r+d)}return(i<a||i>u)&&(e[0]=UN(i,r,n)),e}getScreenTransform(e,t){const{center:i}=this._viewpoint2D,r=this._get("pixelRatio")||1,s=this._get("size");return GN(e,i,s,t,0,r),e}_update(){const{center:e,spatialReference:t,scale:i,rotation:r}=this._viewpoint2D,s=this._get("pixelRatio")||1,n=this._get("size"),a=new gn({targetGeometry:new Be(e[0],e[1],t),scale:i,rotation:r});if(this._set("viewpoint",a),!n||!t||!i)return;this.resolution=Nm(a),this.rotation=r,this.scale=i,this.spatialReference=t,Bf(this.center,e);const u=n[0]!==0?2/n[0]:0,d=n[1]!==0?-2/n[1]:0;FZ(this.displayMat3,u,0,0,0,d,0,-1,1,1);const f=jZ(this.viewMat3),g=hm(n[0]/2,n[1]/2),v=hm(-n[0]/2,-n[1]/2),w=YI(r);eC(f,f,g),UZ(f,f,w),eC(f,f,v),BN(this.displayViewMat3,this.displayMat3,f);const S=jN(this.viewMat2d,g);return xT(S,S,w),Sv(S,S,v),i_e(this.extent,a,n),qN(this.transform,a,n,s),kN(this.inverseTransform,this.transform),l_e(this.transformNoRotation,a,n,s),this.worldScreenWidth=u_e(this.spatialReference,this.resolution),this._set("id",this.id+1),this.notifyChange("visibleArea"),this}};c([p({readOnly:!0})],qa.prototype,"id",void 0),c([p({value:1,json:{write:!0}})],qa.prototype,"pixelRatio",null),c([p({json:{write:!0}})],qa.prototype,"size",null),c([p()],qa.prototype,"spatialReference",void 0),c([p({type:gn,json:{write:!0}})],qa.prototype,"viewpoint",null),c([p({readOnly:!0})],qa.prototype,"visibleArea",null),qa=tC=c([O("esri.views.2d.ViewState")],qa);const F9=qa;var iC,rC;let tl=iC=class extends $e{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new iC({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};c([p()],tl.prototype,"left",void 0),c([p()],tl.prototype,"top",void 0),c([p()],tl.prototype,"right",void 0),c([p()],tl.prototype,"bottom",void 0),tl=iC=c([O("esri.views.2d.PaddedViewState.Padding")],tl);let df=rC=class extends F9{constructor(...e){super(...e),this.paddedViewState=new F9,this._updateContent=(()=>{const t=si();return()=>{const i=this._get("size"),r=this._get("padding");if(!i||!r)return;const s=this.paddedViewState;Qi(t,r.left+r.right,r.top+r.bottom),_v(t,i,t),Bf(s.size,t);const n=s.viewpoint;n&&(this.viewpoint=n)}})(),this.addHandles(ke(()=>[this.size,this.padding],()=>this._updateContent(),Qo)),this.padding=new tl,this.size=[0,0]}set padding(e){this._set("padding",e||new tl)}set viewpoint(e){if(e){this.paddedViewState.viewpoint=e;let t=e;const i=this._get("padding");i&&(t=d_e(e.clone(),e,this._get("size"),i));const{targetGeometry:r,rotation:s,scale:n}=t,{x:a,y:u,spatialReference:d}=r,f=this._viewpoint2D;f.center[0]=a,f.center[1]=u,f.rotation=s,f.scale=n,f.spatialReference=d,this._update()}}clone(){return new rC({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};c([p()],df.prototype,"paddedViewState",void 0),c([p({type:tl})],df.prototype,"padding",null),c([p()],df.prototype,"viewpoint",null),df=rC=c([O("esri.views.2d.PaddedViewState")],df);const HN=df;var cr;(function(e){e[e.ANIMATING=0]="ANIMATING",e[e.INTERACTING=1]="INTERACTING",e[e.IDLE=2]="IDLE"})(cr||(cr={}));const WZ=Symbol("Yield");let iSe=class{constructor(){this._tasks=new Array,this._runningTasks=dm(0)}get length(){return this._tasks.length}get running(){return this._runningTasks.value>0}destroy(){this.cancelAll()}runTask(t){if(this.length===0)return WZ;for(;!t.done&&this._process(t);)t.madeProgress()}push(t,i,r){return++this._runningTasks.value,new Promise((s,n)=>this._tasks.push(new j9(s,n,t,i,r))).finally(()=>--this._runningTasks.value)}unshift(t,i,r){return++this._runningTasks.value,new Promise((s,n)=>this._tasks.unshift(new j9(s,n,t,i,r))).finally(()=>--this._runningTasks.value)}_process(t){var r;if(this._tasks.length===0)return!1;const i=this._tasks.shift();try{const s=Us(i.signal);if(s&&!i.abortCallback)i.reject(Dt());else{const n=s?(r=i.abortCallback)==null?void 0:r.call(i,Dt()):i.callback(t);ta(n)?n.then(i.resolve,i.reject):i.resolve(n)}}catch(s){i.reject(s)}return!0}cancelAll(){const t=Dt();for(const i of this._tasks)if(i.abortCallback){const r=i.abortCallback(t);i.resolve(r)}else i.reject(t);this._tasks.length=0}},j9=class{constructor(t,i,r,s=void 0,n=void 0){this.resolve=t,this.reject=i,this.callback=r,this.signal=s,this.abortCallback=n}},m0=class extends $e{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};c([p()],m0.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),c([p()],m0.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0),m0=c([O("esri.views.support.debugFlags")],m0);const rSe=new m0;function sSe(){return new n2.Scheduler}var Je;(function(e){e.RESOURCE_CONTROLLER_IMMEDIATE="immediate",e.RESOURCE_CONTROLLER="schedule",e.SLIDE="slide",e.STREAM_DATA_LOADER="stream loader",e.ELEVATION_QUERY="elevation query",e.TERRAIN_SURFACE="terrain",e.SURFACE_GEOMETRY_UPDATES="surface geometry updates",e.LOD_RENDERER="LoD renderer",e.GRAPHICS_CORE="Graphics3D",e.I3S_CONTROLLER="I3S",e.POINT_CLOUD_LAYER="point cloud",e.FEATURE_TILE_FETCHER="feature fetcher",e.OVERLAY="overlay",e.STAGE="stage",e.GRAPHICS_DECONFLICTOR="graphics deconflictor",e.FILTER_VISIBILITY="Graphics3D filter visibility",e.SCALE_VISIBILITY="Graphics3D scale visibility",e.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",e.POINT_OF_INTEREST_FREQUENT="POI frequent",e.POINT_OF_INTEREST_INFREQUENT="POI infrequent",e.LABELER="labeler",e.FEATURE_QUERY_ENGINE="feature query",e.FEATURE_TILE_TREE="feature tile tree",e.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",e.ELEVATION_ALIGNMENT="elevation alignment",e.ELEVATION_ALIGNMENT_SCENE="elevation alignment scene",e.TEXT_TEXTURE_ATLAS="text texture atlas",e.TEXTURE_UNLOAD="texture unload",e.LINE_OF_SIGHT_TOOL="line of sight tool",e.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",e.ELEVATION_PROFILE="elevation profile",e.SNAPPING="snapping",e.SHADOW_ACCUMULATOR="shadow accumulator",e.CLOUDS_GENERATOR="clouds generator",e.MAPVIEW_FETCH_QUEUE="mapview fetch queue",e.MAPVIEW_LAYERVIEW_UPDATE="mapview layerview update",e.MAPVIEW_VECTOR_TILE_PARSING_QUEUE="mapview vector tile parsing queue",e[e.NONE=0]="NONE",e[e.TEST_PRIO=1]="TEST_PRIO"})(Je||(Je={}));const un=0,U9=new Map([[Je.RESOURCE_CONTROLLER_IMMEDIATE,un],[Je.RESOURCE_CONTROLLER,4],[Je.SLIDE,un],[Je.STREAM_DATA_LOADER,un],[Je.ELEVATION_QUERY,un],[Je.TERRAIN_SURFACE,1],[Je.SURFACE_GEOMETRY_UPDATES,1],[Je.LOD_RENDERER,2],[Je.GRAPHICS_CORE,2],[Je.I3S_CONTROLLER,2],[Je.POINT_CLOUD_LAYER,2],[Je.FEATURE_TILE_FETCHER,2],[Je.CLOUDS_GENERATOR,2],[Je.OVERLAY,4],[Je.STAGE,4],[Je.GRAPHICS_DECONFLICTOR,4],[Je.FILTER_VISIBILITY,4],[Je.SCALE_VISIBILITY,4],[Je.FRUSTUM_VISIBILITY,4],[Je.POINT_OF_INTEREST_FREQUENT,6],[Je.POINT_OF_INTEREST_INFREQUENT,30],[Je.LABELER,8],[Je.FEATURE_QUERY_ENGINE,8],[Je.FEATURE_TILE_TREE,16],[Je.FEATURE_TILE_TREE_ACTIVE,un],[Je.ELEVATION_ALIGNMENT,12],[Je.ELEVATION_ALIGNMENT_SCENE,14],[Je.TEXT_TEXTURE_ATLAS,12],[Je.TEXTURE_UNLOAD,12],[Je.LINE_OF_SIGHT_TOOL,16],[Je.LINE_OF_SIGHT_TOOL_INTERACTIVE,un],[Je.SNAPPING,un],[Je.SHADOW_ACCUMULATOR,30],[Je.MAPVIEW_FETCH_QUEUE,un],[Je.MAPVIEW_LAYERVIEW_UPDATE,2],[Je.MAPVIEW_VECTOR_TILE_PARSING_QUEUE,un]]);function z9(e){return U9.has(e)?U9.get(e):typeof e=="number"?e:1}const nSe=6.5,V9=1,oSe=30,aSe=1e3/30,lSe=100,G9=.9;var n2,Wc;(function(e){class t{get updating(){return this._updating.value}_updatingChanged(){this._updating.value=this._tasks.some(n=>n.needsUpdate)}constructor(){this._updating=dm(!0),this._microTaskQueued=!1,this._frameNumber=0,this.performanceInfo={total:new S0("total"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=new r,this._state=cr.INTERACTING,this._tasks=new Jd,this._runQueue=new Jd,this._load=0,this._idleStateCallbacks=new Jd,this._idleUpdatesStartFired=!1,this._forceTask=!1,this._debug=!1,this._debugHandle=ke(()=>rSe.SCHEDULER_LOG_SLOW_TASKS,n=>this._debug=n,Ar);for(const n of Object.keys(Je))this.performanceInfo.tasks.set(Je[n],new S0(Je[n]))}destroy(){this._tasks.toArray().forEach(n=>n.remove()),this._tasks.clear(),Yt(this._debugHandle),this._microTaskQueued=!1,this._updatingChanged()}taskRunningChanged(n){this._updatingChanged(),n&&this._budget.remaining>0&&!this._microTaskQueued&&(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.remaining>0&&this._schedule()&&this._runFrame())}))}registerTask(n,a){const u=new i(this,n,a);return this._tasks.push(u),this._updatingChanged(),this.performanceInfo.tasks.has(n)||this.performanceInfo.tasks.set(n,new S0(n)),u}registerIdleStateCallbacks(n,a){const u={idleBegin:n,idleEnd:a};this._idleStateCallbacks.push(u),this.state===cr.IDLE&&this._idleUpdatesStartFired&&u.idleBegin();const d=this;return{remove:()=>this._removeIdleStateCallbacks(u),set idleBegin(f){d._idleUpdatesStartFired&&(u.idleEnd(),d._state===cr.IDLE&&f()),u.idleBegin=f},set idleEnd(f){u.idleEnd=f}}}get load(){return this._load}set state(n){this._state!==n&&(this._state=n,this.state!==cr.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll(a=>a.idleEnd())))}get state(){return this._state}frame(n){this._startFrameTaskTimes();const a=this._updateBudget(n);if(a){const u=this._budget.now();this._runFrame(),this._recordFrameTaskTimes(this._budget.now()-u)}else this._recordFrameTaskTimes(0);return a}_updateBudget(n){this._test&&(this._test.usedBudget=0),++this._frameNumber;let a=nSe,u=n.frameDuration,d=V9;switch(this.state){case cr.IDLE:a=0,u=Math.max(lSe,n.frameDuration),d=oSe;break;case cr.INTERACTING:u=Math.max(aSe,n.frameDuration);case cr.ANIMATING:}return u=u-n.elapsedFrameTime-a,this.state!==cr.IDLE&&u<V9&&!this._forceTask?(this._forceTask=!0,!1):(u=Math.max(u,d),this._budget.reset(u,this.state),this._updateLoad(),this._schedule())}_runFrame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case cr.IDLE:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll(n=>n.idleBegin())),this._runIdle();break;case cr.INTERACTING:this._runInteracting();break;default:this._runAnimating()}this._test&&(this._test.usedBudget=this._budget.elapsed)}stopFrame(){this._budget.reset(0,this._state),this._budget.madeProgress()}_removeIdleStateCallbacks(n){this._idleUpdatesStartFired&&n.idleEnd(),this._idleStateCallbacks.removeUnordered(n)}removeTask(n){this._tasks.removeUnordered(n),this._runQueue.removeUnordered(n),this._updatingChanged()}_updateTask(n){this._tasks.forAll(a=>{a.name===n&&a.setPriority(n)})}_getState(n){if(this._runQueue.some(u=>u.name===n))return Wc.SCHEDULED;let a=Wc.IDLE;return this._tasks.forAll(u=>{u.name===n&&u.needsUpdate&&(u.schedulePriority<=1?a=Wc.READY:a!==Wc.READY&&(a=Wc.WAITING))}),a}_getRuntime(n){let a=0;return this._tasks.forAll(u=>{u.name===n&&(a+=u.runtime)}),a}_resetRuntimes(){this._tasks.forAll(n=>n.runtime=0)}_getRunning(){const n=new Map;if(this._tasks.forAll(u=>{u.needsUpdate&&n.set(u.name,(n.get(u.name)||0)+1)}),n.size===0)return null;let a="";return n.forEach((u,d)=>{a+=u>1?` ${u}x ${d}`:` ${d}`}),a}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const n=this._tasks.reduce((a,u)=>u.needsUpdate?++a:a,0);this._load=this._load*G9+n*(1-G9)}_schedule(){for(this._runQueue.filterInPlace(n=>!!n.needsUpdate||(n.schedulePriority=n.basePriority,!1)),this._tasks.forAll(n=>{n.basePriority===un&&n.needsUpdate&&!this._runQueue.includes(n)&&n.blockFrame!==this._frameNumber&&this._runQueue.unshift(n)});this._runQueue.length===0;){let n=!1,a=0;if(this._tasks.forAll(u=>{u.needsUpdate&&u.schedulePriority!==0&&u.basePriority!==un&&u.blockFrame!==this._frameNumber&&(n=!0,a=Math.max(a,u.basePriority),u.schedulePriority===1?(u.schedulePriority=0,this._runQueue.push(u)):--u.schedulePriority)}),!n)return this._updatingChanged(),!1}return this._updatingChanged(),!0}_run(){do for(;this._runQueue.length>0;){const n=this._budget.now(),a=this._runQueue.pop();this._budget.resetProgress();try{a.task.runTask(this._budget)===WZ&&(a.blockFrame=this._frameNumber)}catch(d){ne.getLogger("esri.views.support.Scheduler").error(`Exception in task "${a.name}"`,d),a.blockFrame=this._frameNumber}!this._budget.hasProgressed&&a.blockFrame!==this._frameNumber&&a.needsUpdate&&(a.name,Je.I3S_CONTROLLER,a.blockFrame=this._frameNumber),a.schedulePriority=a.basePriority;const u=this._budget.now()-n;if(a.runtime+=u,this._frameTaskTimes.set(a.priority,this._frameTaskTimes.get(a.priority)+u),this._budget.remaining<=0)return void this._updatingChanged()}while(this._schedule());this._updatingChanged()}_startFrameTaskTimes(){for(const n of Object.keys(Je))this._frameTaskTimes.set(Je[n],0)}_recordFrameTaskTimes(n){this._frameTaskTimes.forEach((a,u)=>this.performanceInfo.tasks.get(u).push(a)),this.performanceInfo.total.push(n)}get test(){return this._test}}e.Scheduler=t;class i{get task(){return this._task.value}get updating(){return this._queue.running}constructor(n,a,u){this._scheduler=n,this.name=a,this.blockFrame=0,this.runtime=0,this._queue=new iSe,this._handles=new fm,this._basePriority=z9(a),this.schedulePriority=this._basePriority,this._task=dm(u??this._queue),this._handles.add(wn(()=>this.task.running,d=>n.taskRunningChanged(d)))}remove(){this.processQueue(ZZ),this._scheduler.removeTask(this),this.schedule=q9.schedule,this.reschedule=q9.reschedule,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(n){if(this.name===n)return;this.name=n;const a=z9(n);this._basePriority!==un&&this.schedulePriority===0||(this.schedulePriority=a),this._basePriority=a}get priority(){return this.name}set priority(n){this.setPriority(n)}get needsUpdate(){return this.updating||this.task.running}schedule(n,a,u){return this._queue.push(n,a,u)}reschedule(n,a,u){return this._queue.unshift(n,a,u)}processQueue(n){return this._queue.runTask(n)}}class r{constructor(){this._begin=typeof performance<"u"?performance.now():0,this._budget=0,this._state=cr.IDLE,this._done=!1,this._progressed=!1,this._enabled=!0}run(n){return!this.done&&(n()===!0&&this.madeProgress(),!0)}get done(){return this._done}get budget(){return this._budget}madeProgress(){return this._progressed=!0,this._done=this.elapsed>=this._budget&&this._enabled,this._done}get state(){return this._state}get enabled(){return this._enabled}set enabled(n){this._enabled=n}reset(n,a){this._begin=this.now(),this._budget=n,this._state=a,this.resetProgress()}get remaining(){return Math.max(this._budget-this.elapsed,0)}now(){return performance.now()}get elapsed(){return this.now()-this._begin}resetProgress(){this._progressed=!1,this._done=!1}get hasProgressed(){return this._progressed}}e.Budget=r})(n2||(n2={})),function(e){e.SCHEDULED="s",e.READY="r",e.WAITING="w",e.IDLE="i"}(Wc||(Wc={}));const ZZ=(()=>{const e=new n2.Budget;return e.enabled=!1,e})();let uSe=class{remove(){}processQueue(){}schedule(t,i,r){try{if(Us(i)){const s=Dt();return r?Promise.resolve(r(s)):Promise.reject(s)}return HM(t(ZZ))}catch(s){return Promise.reject(s)}}reschedule(t,i,r){return this.schedule(t,i,r)}};const q9=new uSe;let cSe=class{constructor(t){this.view=t,this._stationaryHandle=null,this._frameTaskHandle=null,this._updateParameters=null,this._updateRequested=!1,this._scheduler=sSe(),this._schedulerHandle=wn(()=>this._scheduler.updating,()=>this.requestFrame()),this.stationary=!0,this.prepare=()=>{var i;this._updateParameters&&(this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions,this._updateParameters.targetState.copy(this.view.state),((i=this.view.animation)==null?void 0:i.target)==null||ta(this.view.animation.target)||(this._updateParameters.targetState.viewpoint=this.view.animation.target))},this.update=i=>{var u,d,f;if(this._updateRequested=!1,(u=this.view)==null?void 0:u.destroyed)return;const{allLayerViews:r,graphicsView:s,labelManager:n,state:{id:a}}=this.view;r==null||r.forEach(this._updateLayerView,this),n!=null&&(n.lastUpdateId!==a&&(n.viewChange(),n.lastUpdateId=a),n.updateRequested&&n.processUpdate(this._updateParameters)),s!=null&&(s.lastUpdateId!==a&&(s.viewChange(),s.lastUpdateId=a),s.updateRequested&&s.processUpdate(this._updateParameters)),(d=this.view.graphicsTileStore)==null||d.setViewState(this._updateParameters.state),this.view.animation?this._scheduler.state=cr.ANIMATING:this.view.interacting?this._scheduler.state=cr.INTERACTING:this._scheduler.state=cr.IDLE,this._scheduler.frame(i)||this._updateRequested||this._scheduler.state!==cr.IDLE||((f=this._frameTaskHandle)==null||f.pause())}}destroy(){this.stop(),this._schedulerHandle.remove(),this._scheduler.destroy()}get scheduler(){return this._scheduler}start(){if(this._frameTaskHandle)return;const t=this.view;this.stationary=t.stationary,this._updateParameters={state:t.state,targetState:new HN,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:t.renderingOptions},this._stationaryHandle=ke(()=>t.stationary,i=>{this.stationary=i,this.requestFrame()}),this._frameTaskHandle=Yf(this),this.requestUpdate()}stop(){var t;this._frameTaskHandle&&(this._updateRequested=!1,(t=this._stationaryHandle)==null||t.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(t){var s;if(!t.attached)return void this.requestUpdate();const i=this.view.state,r=t.lastUpdateId;r!=null&&(this.stationary||t.moving)||(t.moving=!0),r!==i.id&&t.viewChange(),this.stationary&&t.moving&&(t.moving=!1,t.moveEnd()),t.lastUpdateId=i.id,t.updateRequested&&t.processUpdate(this._updateParameters),"layerViews"in t&&((s=t.layerViews)==null||s.forEach(this._updateLayerView,this))}},$u=class extends qv{constructor(t){super(t),this.state="running",this.target=null,this._resolver=null}initialize(){this._resolver=zs(),this.addResolvingPromise(this._resolver.promise)}get done(){return this.state==="finished"||this.state==="stopped"}stop(){var t;this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","stopped"),(t=this._resolver)==null||t.reject(new z("ViewAnimation stopped")))}finish(){var t;this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","finished"),(t=this._resolver)==null||t.resolve())}update(t,i){i||(i=ta(t)?"waiting-for-target":"running"),this._set("target",t),this._set("state",i)}};c([p({readOnly:!0})],$u.prototype,"done",null),c([p({readOnly:!0,type:String})],$u.prototype,"state",void 0),c([p()],$u.prototype,"target",void 0),$u=c([O("esri.views.ViewAnimation")],$u),function(e){e.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}}($u||($u={}));const sC=$u;let H_=class extends $e{constructor(t){super(t),this._gotoTask=null}destroy(){this._gotoTask=null}async goTo(t,i){if(!t)return void ne.getLogger(this).error("#goTo()","target cannot be null or undefined");const r=new sC;this.view.animation=r,await MI(()=>this.view.ready,i);const s={...i,animate:(i==null?void 0:i.animate)??!tZ(),animationMode:(i==null?void 0:i.animationMode)??"auto"},{extent:n,spatialReference:a,size:u,viewpoint:d,constraints:f,padding:g,allLayerViews:v}=this.view,w=e_e(t,{extent:n,spatialReference:a,size:u,viewpoint:d,constraints:f,padding:g,allLayerViews:v,pickClosestTarget:(i==null?void 0:i.pickClosestTarget)??!0});return r==null||r.update(w),this._gotoTask={},s.animate?this._gotoAnimated(w,s):this._gotoImmediate(w,s)}_gotoImmediate(t,i){const r=this._gotoTask,s=this.view.animation,n=t.then(a=>{if(ei(i),r!==this._gotoTask)throw new z("view:goto-interrupted","Goto was interrupted");this.view.viewpoint=s.target=a,s.finish()});return this._cancellableGoTo(r,s,n,i)}_gotoAnimated(t,i){const r=this._gotoTask,s=this.view.animation;if(!s)return Promise.resolve();const n=t.then(a=>{if(ei(i),r!==this._gotoTask)throw new z("view:goto-interrupted","Goto was interrupted");return s.update(a),this.view.animationManager.animate(s,this.view.viewpoint,i),s.when().then(()=>{},()=>{})});return this._cancellableGoTo(r,s,n,i)}_cancellableGoTo(t,i,r,s){const n=()=>t===this._gotoTask;return uz(r,s).finally(()=>{n()&&(i.done||i.stop())})}};c([p({constructOnly:!0})],H_.prototype,"view",void 0),H_=c([O("esri.views.2d.GoToManager")],H_);function dSe(e,t){const{spatialReference:i}=t,r=[t.x,t.y];let s,n,a,u;const d=[0,0],f=hSe(e);for(let w=0;w<f.length;w++){const S=f[w];for(let T=0;T<S.length-1;T++){ale(d,r,S,T);const E=$T(r,d);(s==null||E<s)&&(s=E,n=[...d],a=w,u=T)}}if(s==null||!n||a==null||u==null)throw new z("nearest-coordinate:failed","Failed to find the nearest coordinate");const[g,v]=n;return{coordinate:new Be({x:g,y:v,spatialReference:i}),distance:s}}function hSe(e){switch(e.type){case"extent":return[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]];case"polygon":return e.rings;case"polyline":return e.paths}}var nC;let Gd=nC=class extends Gv.NumericIdentifiableMixin($e){constructor(e){super(e),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if(this.geometry==null||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return wc(this.geometry,this.spatialReference)}catch(e){return ne.getLogger(this).error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:e}),null}return this.geometry}constrain(e,t){if(this.normalizedGeometry==null)return e;const i=e.targetGeometry;if(this.normalizedGeometry.type==="extent"?Bv(this.normalizedGeometry,i):_I(this.normalizedGeometry,i))return e;const{coordinate:r}=dSe(this.normalizedGeometry,i);return r&&(e.targetGeometry=r),e}clone(){var e,t;return new nC({geometry:(e=this.geometry)==null?void 0:e.clone(),spatialReference:(t=this.spatialReference)==null?void 0:t.clone()})}};c([p({constructOnly:!0})],Gd.prototype,"geometry",void 0),c([p({readOnly:!0})],Gd.prototype,"normalizedGeometry",null),c([p({constructOnly:!0})],Gd.prototype,"spatialReference",void 0),Gd=nC=c([O("esri.views.2d.constraints.GeometryConstraint")],Gd);var oC;let y0=oC=class extends Gv.NumericIdentifiableMixin($e){constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(e,t){return this.enabled&&t&&(this.rotationEnabled||(e.rotation=t.rotation)),e}clone(){return new oC({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};c([p()],y0.prototype,"enabled",void 0),c([p()],y0.prototype,"rotationEnabled",void 0),y0=oC=c([O("esri.views.2d.constraints.RotationConstraint")],y0);const YZ=y0;var aC;let ns=aC=class extends Gv.NumericIdentifiableMixin($e){constructor(e){super(e),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let e,{lods:t,minScale:i,maxScale:r,minZoom:s,maxZoom:n}=this,a=-1,u=-1,d=!1,f=!1;if(i!==0&&r!==0&&i<r&&([i,r]=[r,i]),!(t!=null&&t.length))return this._set("effectiveMinScale",i),void this._set("effectiveMaxScale",r);t=t.map(g=>g.clone()),t.sort((g,v)=>v.scale-g.scale),t.forEach((g,v)=>g.level=v);for(const g of t)!d&&i>0&&i>=g.scale&&(a=g.level,d=!0),!f&&r>0&&r>=g.scale&&(u=e?e.level:-1,f=!0),e=g;s===-1&&(s=i===0?0:a),n===-1&&(n=r===0?t.length-1:u),s=Math.max(s,0),s=Math.min(s,t.length-1),n=Math.max(n,0),n=Math.min(n,t.length-1),s>n&&([s,n]=[n,s]),i=t[s].scale,r=t[n].scale,t.splice(0,s),t.splice(n-s+1,t.length),t.forEach((g,v)=>{this._lodByScale[g.scale]=g,this._scales[v]=g.scale}),this._set("effectiveLODs",t),this._set("effectiveMinZoom",s),this._set("effectiveMaxZoom",n),this._set("effectiveMinScale",i),this._set("effectiveMaxScale",r)}constrain(e,t){if(t&&e.scale===t.scale)return e;const i=this.effectiveMinScale,r=this.effectiveMaxScale,s=e.targetGeometry,n=t&&t.targetGeometry,a=r!==0&&e.scale<r,u=i!==0&&e.scale>i;if(a||u){const d=u?i:r;if(t&&n){const f=(d-t.scale)/(e.scale-t.scale);s.x=n.x+(s.x-n.x)*f,s.y=n.y+(s.y-n.y)*f}e.scale=d}return this.snapToZoom&&this.effectiveLODs&&(e.scale=this._getClosestScale(e.scale)),e}fit(e){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(e,null);const t=this.scaleToZoom(e.scale),i=Math.abs(t-Math.floor(t));return e.scale=this.zoomToScale(i>.99?Math.round(t):Math.floor(t)),e}zoomToScale(e){if(!this.effectiveLODs)return 0;e-=this.effectiveMinZoom,e=Math.max(0,e);const t=this._scales;if(e<=0)return t[0];if(e>=t.length)return t[t.length-1];const i=Math.floor(e),r=Math.ceil(e);return t[i]+(e-i)*(t[r]-t[i])}scaleToZoom(e){if(!this.effectiveLODs)return-1;const t=this._scales;let i,r;if(e>=t[0])return this.effectiveMinZoom;if(e<=t[t.length-1])return this.effectiveMaxZoom;for(let s=0;s<t.length-1;s++){if(i=t[s],r=t[s+1],r===e)return s+this.effectiveMinZoom+1;if(i>e&&r<e)return s+this.effectiveMinZoom+1-(e-r)/(i-r)}return-1}snapToClosestScale(e){if(!this.effectiveLODs)return e;const t=this.scaleToZoom(e);return this.zoomToScale(Math.round(t))}snapToNextScale(e,t=.5){if(!this.effectiveLODs)return e*t;const i=Math.round(this.scaleToZoom(e));return this.zoomToScale(i+1)}snapToPreviousScale(e,t=2){if(!this.effectiveLODs)return e*t;const i=Math.round(this.scaleToZoom(e));return this.zoomToScale(i-1)}clone(){return new aC({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(e){return this._lodByScale[e]||(e=this._scales.reduce((t,i)=>Math.abs(i-e)<=Math.abs(t-e)?i:t,this._scales[0])),this._lodByScale[e].scale}};c([p({readOnly:!0})],ns.prototype,"effectiveLODs",void 0),c([p({readOnly:!0})],ns.prototype,"effectiveMinZoom",void 0),c([p({readOnly:!0})],ns.prototype,"effectiveMaxZoom",void 0),c([p({readOnly:!0})],ns.prototype,"effectiveMinScale",void 0),c([p({readOnly:!0})],ns.prototype,"effectiveMaxScale",void 0),c([p()],ns.prototype,"lods",void 0),c([p()],ns.prototype,"minZoom",void 0),c([p()],ns.prototype,"maxZoom",void 0),c([p()],ns.prototype,"minScale",void 0),c([p()],ns.prototype,"maxScale",void 0),c([p()],ns.prototype,"snapToZoom",void 0),ns=aC=c([O("esri.views.2d.constraints.ZoomConstraint")],ns);const JZ=ns,pSe={base:null,key:"type",typeMap:{extent:kt,polygon:fo}};let hi=class extends $e{constructor(t){super(t),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0,this.customConstraints=new ye}destroy(){this.view=null}get effectiveLODs(){return this._zoom.effectiveLODs}get effectiveMinScale(){return this._zoom.effectiveMinScale}get effectiveMaxScale(){return this._zoom.effectiveMaxScale}get effectiveMinZoom(){return this._zoom.effectiveMinZoom}get effectiveMaxZoom(){return this._zoom.effectiveMaxZoom}set geometry(t){t?this._set("geometry",t):this._set("geometry",null)}get version(){var t,i,r;return`${(t=this._zoom)==null?void 0:t.uid}/${(i=this._rotation)==null?void 0:i.uid}/${(r=this._geometry)==null?void 0:r.uid}`}get _geometry(){var i,r;const t=this._get("_geometry");return t&&this.geometry===t.geometry&&((i=this.view)==null?void 0:i.constraintsInfo.spatialReference)===t.spatialReference?t:new Gd({geometry:this.geometry,spatialReference:(r=this.view)==null?void 0:r.constraintsInfo.spatialReference})}get _rotation(){return new YZ({rotationEnabled:this.rotationEnabled})}get _zoom(){var d;const t=this._get("_zoom"),i=this.lods||((d=this.view)==null?void 0:d.constraintsInfo.lods),r=this.minZoom,s=this.maxZoom,n=this.minScale,a=this.maxScale,u=this.snapToZoom;return t&&t.lods===i&&t.minZoom===r&&t.maxZoom===s&&t.minScale===n&&t.maxScale===a&&t.snapToZoom===u?t:new JZ({lods:i,minZoom:r,maxZoom:s,minScale:n,maxScale:a,snapToZoom:u})}canZoomInTo(t){const i=this.effectiveMaxScale;return i===0||t>=i}canZoomOutTo(t){const i=this.effectiveMinScale;return i===0||t<=i}constrain(t,i){return this._zoom.constrain(t,i),this._rotation.constrain(t,i),this._geometry.constrain(t,i),this.customConstraints.forEach(r=>r.constrain(t,i)),t}constrainByGeometry(t){return this._geometry.constrain(t),this.customConstraints.forEach(i=>{var r;return(r=i.applyPanConstraint)==null?void 0:r.call(i,t)}),t}fit(t){return this._zoom.fit(t)}zoomToScale(t){return this._zoom.zoomToScale(t)}scaleToZoom(t){return this._zoom.scaleToZoom(t)}snapScale(t){return this._zoom.snapToClosestScale(t)}snapToNextScale(t){return this._zoom.snapToNextScale(t)}snapToPreviousScale(t){return this._zoom.snapToPreviousScale(t)}};c([p({readOnly:!0})],hi.prototype,"effectiveLODs",null),c([p({readOnly:!0})],hi.prototype,"effectiveMinScale",null),c([p({readOnly:!0})],hi.prototype,"effectiveMaxScale",null),c([p({readOnly:!0})],hi.prototype,"effectiveMinZoom",null),c([p({readOnly:!0})],hi.prototype,"effectiveMaxZoom",null),c([p({types:pSe,value:null})],hi.prototype,"geometry",null),c([p({type:[Cu]})],hi.prototype,"lods",void 0),c([p()],hi.prototype,"minScale",void 0),c([p()],hi.prototype,"maxScale",void 0),c([p()],hi.prototype,"minZoom",void 0),c([p()],hi.prototype,"maxZoom",void 0),c([p()],hi.prototype,"rotationEnabled",void 0),c([p()],hi.prototype,"snapToZoom",void 0),c([p({type:ye})],hi.prototype,"customConstraints",void 0),c([p()],hi.prototype,"view",void 0),c([p({readOnly:!0})],hi.prototype,"version",null),c([p({type:Gd,readOnly:!0})],hi.prototype,"_geometry",null),c([p({type:YZ})],hi.prototype,"_rotation",null),c([p({readOnly:!0,type:JZ})],hi.prototype,"_zoom",null),hi=c([O("esri.views.2d.MapViewConstraints")],hi);const B9=hi;let Sr=class extends $e{constructor(t){super(t),this.constraints=null,this.ready=!1,this.resizeAlign="center",this.addHandles([ke(()=>{var i;return(i=this.constraints)==null?void 0:i.version},i=>{this.constraints&&i&&this.ready&&(this.state.viewpoint=this.constraints.fit(this.state.paddedViewState.viewpoint))},Qo)])}get center(){if(!this.ready)return this._get("center");const{center:t,spatialReference:i}=this.state.paddedViewState;return this.state.commitProperty("id"),new Be({x:t[0],y:t[1],spatialReference:i})}set center(t){if(t==null)return;if(!this.ready)return void this._set("center",t);let i;try{i=this._project(t,this.state.spatialReference)}catch(s){return void ne.getLogger(this).error(new z("mapview:invalid-center","could not project the value in the view's spatial reference",{input:t,error:s}))}const r=this.viewpoint;KR(r,r,i),this.viewpoint=r}get extent(){return this.ready?(this.state.commitProperty("id"),this.state.paddedViewState.extent.clone()):this._get("extent")}set extent(t){if(t==null)return;if(!t.width||!t.height)return void ne.getLogger(this).error(new z("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",t),this._set("center",void 0),this._set("viewpoint",void 0),this._set("scale",void 0),void this._set("zoom",void 0);let i;try{i=this._project(t,this.state.spatialReference)}catch(s){return void ne.getLogger(this).error(new z("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:s}))}const r=this.viewpoint;r_e(r,r,i,this.state.size,{constraints:this.constraints}),this.viewpoint=r}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(t){this.ready?(this.state.padding=t,this._set("padding",this.state.padding)):this._set("padding",t)}get resolution(){return this.ready?(this.state.commitProperty("id"),this.state.resolution):0}get rotation(){return this.ready?(this.state.commitProperty("id"),this.state.rotation):this._get("rotation")}set rotation(t){if(isNaN(t))return;if(!this.ready)return void this._set("rotation",t);const i=this.viewpoint;p_e(i,i,t),this.viewpoint=i}get scale(){return this.ready?(this.state.commitProperty("id"),this.state.scale):this._get("scale")}set scale(t){if(!t||isNaN(t))return;if(!this.ready){this._set("scale",t),this._set("zoom",void 0);const r=this._get("extent");return void(r&&(this._set("extent",void 0),this._set("center",r.center)))}const i=this.viewpoint;k9(i,i,t),this.viewpoint=i}get viewpoint(){return this.ready?this.state.paddedViewState.viewpoint.clone():this._get("viewpoint")}set viewpoint(t){var n;if(t==null)return;if(!this.ready)return this._set("viewpoint",t),this._set("extent",void 0),this._set("center",void 0),this._set("zoom",void 0),void this._set("scale",void 0);let i,r;try{i=this._project(t,this.state.spatialReference),!t.scale||isNaN(t.scale)?r=new z("mapview:invalid-viewpoint",`invalid scale value of ${t.scale}`):t.targetGeometry==null&&(r=new z("mapview:invalid-viewpoint","geometry not defined"))}catch(a){r=new z("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:a})}if(r)return void ne.getLogger(this).error(r);this._scaleBeforeChangingSpatialReference=null;const s=new gn({targetGeometry:new Be,scale:0,rotation:0});Mr(s,i),(n=this.constraints)==null||n.constrain(s,this.state.paddedViewState.viewpoint),this.state.viewpoint=s,this._set("viewpoint",s)}get visibleArea(){return this.ready?this.state.visibleArea:null}get zoom(){var t;return this.ready?((t=this.constraints)==null?void 0:t.scaleToZoom(this.scale))??-1:this._get("zoom")}set zoom(t){var s,n;if(!(t>=0))return;if(!this.ready){this._set("zoom",t),this._set("scale",void 0);const a=this._get("extent");return void(a&&(this._set("extent",void 0),this._set("center",a.center)))}const i=((s=this.constraints)==null?void 0:s.zoomToScale(t))??0;if(!i)return void this._set("zoom",-1);const r=this.viewpoint;k9(r,r,i),this.viewpoint=r,this._set("zoom",((n=this.constraints)==null?void 0:n.scaleToZoom(this.scale))??-1)}getUserStartupOptions(t){if(!t[0]&&!t[1])return{center:void 0,rotation:void 0,scale:void 0};const{padding:i,constraints:r}=this,s=this._get("center"),n=this._get("extent"),a=this._get("scale"),u=this._get("rotation"),d=this._get("viewpoint"),f=this._get("zoom"),g=f!=null&&r!=null&&r.zoomToScale(f)||void 0;let v,w,S;const T=d==null?void 0:d.rotation,E=d==null?void 0:d.targetGeometry;(E==null?void 0:E.type)==="extent"?v=E:(E==null?void 0:E.type)==="point"&&(w=E,S=d==null?void 0:d.scale);const M=n??v;return{center:s??w??(M==null?void 0:M.center),rotation:u??T,scale:(a??g??S??(M&&MT(M,[t[0]-i.left-i.right,t[1]-i.top-i.bottom])))||void 0}}startup(t,i,r,s){var a;const n=t.targetGeometry;try{this._project(t,r)}catch(u){ne.getLogger(this).warn(new vn("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:n.toJSON(),spatialReference:r,error:u})),t.targetGeometry=s||new Be({x:0,y:0,spatialReference:r})}(a=this.constraints)==null||a.fit(t),this._set("state",new HN({padding:this.padding,size:i,viewpoint:t})),this._set("ready",!0)}teardown(){this._set("ready",!1);const{center:[t,i],spatialReference:r,rotation:s,scale:n}=this.state.paddedViewState,a=new Be({x:t,y:i,spatialReference:r});this._set("viewpoint",null),this._set("extent",null),this._set("center",a),this._set("zoom",-1),this._set("rotation",s),this._set("scale",n),this._set("state",null)}changeSpatialReference(t){var d;const i=this.state.paddedViewState.clone();if(this._scaleBeforeChangingSpatialReference==null)this._scaleBeforeChangingSpatialReference=i.scale;else{const f=i.viewpoint.clone();f.scale=this._scaleBeforeChangingSpatialReference,i.viewpoint=f}const r=i.clone(),[s,n]=i.center;let a=null;try{a=this._project(new Be({x:s,y:n,spatialReference:i.spatialReference}),t)}catch(f){sI()||ne.getLogger(this).warn(new vn("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:a==null?void 0:a.toJSON(),spatialReference:t,error:f}))}a||(a=new Be({x:0,y:0,spatialReference:t}));const u=KR(new gn({targetGeometry:new Be,scale:0,rotation:0}),i.viewpoint,a);r.viewpoint=u;try{const g=[i.size[0]/2,i.size[1]/2],v=[g[0]+20,g[1]],w=i.toMap([0,0],v),{x:S,y:T}=this._project(new Be({x:w[0],y:w[1],spatialReference:i.spatialReference}),t);w[0]=S,w[1]=T,r.toScreen(w,w);const E=c_e(g,w,v),M=Math.hypot(w[0]-g[0],w[1]-g[1])/20;!Number.isFinite(M)||Math.abs(M)>4?(u.rotation=0,u.targetGeometry=new Be({x:0,y:0,spatialReference:t})):(u.scale*=M,u.scale>B("mapview-srswitch-adjust-rotation-scale-threshold")?u.rotation=0:u.rotation+=Number.isFinite(E)?E:0)}catch{}(d=this._get("constraints"))==null||d.constrain(u,void 0),this._get("state").viewpoint=u}resize(t,i){var a;if(!this.ready)return;const r=this.state;let s=this.state.paddedViewState.viewpoint;const n=this.state.paddedViewState.size.slice();r.size=[t,i],h_e(s,s,n,this.state.paddedViewState.size,this.resizeAlign),s=((a=this.constraints)==null?void 0:a.constrain(s,void 0))??s,this.state.viewpoint=s}toMap(t){if(!this.ready)return null;const i=[0,0],[r,s]=this.state.toMap(i,[t.x,t.y]),n=this.state.spatialReference;return new Be({x:r,y:s,spatialReference:n})}toScreen(t,i){if(!this.ready)return null;const r=this._project(t,this.state.spatialReference),s=[r.x,r.y];return(i==null?void 0:i.pickClosestTarget)===!1||this.state.paddedViewState.wrapMapCoordinate(s,s),this.state.toScreen(s,s),tr(s[0],s[1])}_project(t,i){var n;const r=(t==null?void 0:t.targetGeometry)||t;if(!i)return t;if(!r)return null;if(i.imageCoordinateSystem||(n=r.spatialReference)!=null&&n.imageCoordinateSystem||Vi(i,r.spatialReference))return t;const s=wc(r,i);if(!s)throw new z("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:r,spatialReference:i});return fSe(t)?(t.targetGeometry=s,t):s}};function fSe(e){return(e==null?void 0:e.declaredClass)==="esri.Viewpoint"}c([p({type:Be})],Sr.prototype,"center",null),c([p()],Sr.prototype,"constraints",void 0),c([p({type:kt})],Sr.prototype,"extent",null),c([p({value:{top:0,right:0,bottom:0,left:0},cast:e=>({top:0,right:0,bottom:0,left:0,...e})})],Sr.prototype,"padding",null),c([p()],Sr.prototype,"ready",void 0),c([p()],Sr.prototype,"resizeAlign",void 0),c([p({readOnly:!0})],Sr.prototype,"resolution",null),c([p({type:Number})],Sr.prototype,"rotation",null),c([p({type:Number})],Sr.prototype,"scale",null),c([p({readOnly:!0})],Sr.prototype,"state",void 0),c([p({type:gn})],Sr.prototype,"viewpoint",null),c([p({readOnly:!0})],Sr.prototype,"visibleArea",null),c([p()],Sr.prototype,"zoom",null),Sr=c([O("esri.views.2d.ViewStateManager")],Sr);function XZ(e,t){switch(t){case"primary":return e.pointerType==="touch"||e.button===0;case"secondary":return e.pointerType!=="touch"&&e.button===2;case"tertiary":return e.pointerType!=="touch"&&e.button===1}}function QZ(e,t){return t.some(i=>XZ(e,i))}function H9(e,{dragPrimary:t,dragSecondary:i,dragTertiary:r}){return[{key:"primary",value:t},{key:"secondary",value:i},{key:"tertiary",value:r}].filter(s=>s.value===e).map(s=>s.key)}let W9=class extends Gi{constructor(t,i){super(!0),this._view=t,this.registerIncoming("double-click",i,r=>this._handleDoubleClick(r,i))}_handleDoubleClick(t,i){XZ(t.data,"primary")&&(t.stopPropagation(),i?this._view.mapViewNavigation.zoomOut([t.data.x,t.data.y]):this._view.mapViewNavigation.zoomIn([t.data.x,t.data.y]))}},mSe=class extends Gi{constructor(t,i,r){super(!0),this.view=t,this.pointerType=i,this.registerIncoming("double-tap-drag",r,s=>this._handleDoubleTapDrag(s))}_handleDoubleTapDrag(t){const{data:i}=t,{pointerType:r}=i;if(r!==this.pointerType)return;t.stopPropagation();const{action:s,delta:n}=i,{view:a}=this,{mapViewNavigation:u}=a;switch(s){case"begin":{const{scale:d}=a;this._startScale=d,this._currentScale=d,this._previousDelta=n,u.begin();break}case"update":{if(this._previousDelta.y===n.y)return;this._previousDelta=n;const d=1.015**n.y,f=this._startScale*d,g=f/this._currentScale;u.setViewpointImmediate(g),this._currentScale=f;break}case"end":{const{constraints:d}=a,{effectiveLODs:f,snapToZoom:g}=d;if(!g||!f)return void u.end();const v=d.snapScale(this._currentScale),w=(n.y>0?Math.max(v,d.snapToPreviousScale(this._startScale)):Math.min(v,d.snapToNextScale(this._startScale)))/this._currentScale;u.zoom(w).then(()=>{u.end()});break}}}},OT=class{constructor(t){this._callbacks=t,this._currentCount=0,this._callbacks.condition||(this._callbacks.condition=()=>!0)}handle(t){const i=t.data,r=i.pointers.size;switch(i.action){case"start":this._currentCount=r,this._emitStart(t);break;case"added":this._emitEnd(this._previousEvent),this._currentCount=r,this._emitStart(t);break;case"update":this._emitUpdate(t);break;case"removed":this._startEvent&&this._emitEnd(this._previousEvent),this._currentCount=r,this._emitStart(t);break;case"end":this._emitEnd(t),this._currentCount=0}this._previousEvent=t}_emitStart(t){var i,r;this._startEvent=t,(r=(i=this._callbacks).condition)!=null&&r.call(i,this._currentCount,t)&&this._callbacks.start(this._currentCount,t,this._startEvent)}_emitUpdate(t){var i,r;(r=(i=this._callbacks).condition)!=null&&r.call(i,this._currentCount,t)&&this._callbacks.update(this._currentCount,t,this._startEvent)}_emitEnd(t){var i,r;(r=(i=this._callbacks).condition)!=null&&r.call(i,this._currentCount,t)&&this._callbacks.end(this._currentCount,t,this._startEvent),this._startEvent=null}},ySe=class extends Gi{constructor(t,i,r){super(!0),this.view=t,this.pointerActions=i,this.registerIncoming("drag",r,s=>this._handleDrag(s)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation())}onInstall(t){super.onInstall(t),this._dragEventSeparator=new OT({start:(i,r)=>{this.view.mapViewNavigation.pan.begin(this.view,r.data),r.stopPropagation()},update:(i,r)=>{this.view.mapViewNavigation.pan.update(this.view,r.data),r.stopPropagation()},end:(i,r)=>{this.view.mapViewNavigation.pan.end(this.view,r.data),r.stopPropagation()},condition:(i,r)=>i===1&&QZ(r.data,this.pointerActions)})}_handleDrag(t){const i=this.view.mapViewNavigation;i.pinch.zoomMomentum||i.pinch.rotateMomentum?this.stopMomentumNavigation():this._dragEventSeparator.handle(t)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}},gSe=class extends Gi{constructor(t,i,r){super(!0),this._view=t,this.pointerActions=i;const s=this._view.mapViewNavigation;this._dragEventSeparator=new OT({start:(n,a)=>{s.rotate.begin(this._view,a.data),a.stopPropagation()},update:(n,a)=>{s.rotate.update(this._view,a.data),a.stopPropagation()},end:(n,a)=>{s.rotate.end(),a.stopPropagation()},condition:(n,a)=>n===1&&QZ(a.data,this.pointerActions)}),this.registerIncoming("drag",r,n=>this._dragEventSeparator.handle(n))}};function KZ(e){const t=e[0],i=e[1],r=e[2];return Math.sqrt(t*t+i*i+r*r)}function vSe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function bSe(e,t,i,r){return e[0]=t,e[1]=i,e[2]=r,e}function wSe(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e}function eY(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e}function tY(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],e}function iY(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e[2]=t[2]/i[2],e}function _Se(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function SSe(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function TSe(e,t){return e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e}function ESe(e,t){return e[0]=Math.sign(t[0]),e[1]=Math.sign(t[1]),e[2]=Math.sign(t[2]),e}function $Se(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e[2]=Math.min(t[2],i[2]),e}function xSe(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e[2]=Math.max(t[2],i[2]),e}function MSe(e,t=0,i=1){return e[0]=Math.min(Math.max(e[0],t),i),e[1]=Math.min(Math.max(e[1],t),i),e[2]=Math.min(Math.max(e[2],t),i),e}function ASe(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function rY(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function OSe(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e}function sY(e,t){const i=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2];return Math.sqrt(i*i+r*r+s*s)}function nY(e,t){const i=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2];return i*i+r*r+s*s}function oY(e){const t=e[0],i=e[1],r=e[2];return t*t+i*i+r*r}function RSe(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function CSe(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function lC(e,t){const i=t[0],r=t[1],s=t[2];let n=i*i+r*r+s*s;return n>0&&(n=1/Math.sqrt(n),e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n),e}function aY(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function ISe(e,t,i){const r=t[0],s=t[1],n=t[2],a=i[0],u=i[1],d=i[2];return e[0]=s*d-n*u,e[1]=n*a-r*d,e[2]=r*u-s*a,e}function NSe(e,t,i){const r=t[0],s=t[1],n=t[2],a=i[0],u=i[1],d=i[2],f=s*d-n*u,g=n*a-r*d,v=r*u-s*a,w=Math.sqrt(f*f+g*g+v*v);return e[0]=f/w,e[1]=g/w,e[2]=v/w,e}function PSe(e,t,i,r){const s=t[0],n=t[1],a=t[2];return e[0]=s+r*(i[0]-s),e[1]=n+r*(i[1]-n),e[2]=a+r*(i[2]-a),e}function LSe(e,t,i,r,s,n){const a=n*n,u=a*(2*n-3)+1,d=a*(n-2)+n,f=a*(n-1),g=a*(3-2*n);return e[0]=t[0]*u+i[0]*d+r[0]*f+s[0]*g,e[1]=t[1]*u+i[1]*d+r[1]*f+s[1]*g,e[2]=t[2]*u+i[2]*d+r[2]*f+s[2]*g,e}function DSe(e,t,i,r,s,n){const a=1-n,u=a*a,d=n*n,f=u*a,g=3*n*u,v=3*d*a,w=d*n;return e[0]=t[0]*f+i[0]*g+r[0]*v+s[0]*w,e[1]=t[1]*f+i[1]*g+r[1]*v+s[1]*w,e[2]=t[2]*f+i[2]*g+r[2]*v+s[2]*w,e}function kSe(e,t=1){const i=sT,r=2*i()*Math.PI,s=2*i()-1,n=Math.sqrt(1-s*s)*t;return e[0]=Math.cos(r)*n,e[1]=Math.sin(r)*n,e[2]=s*t,e}function FSe(e,t,i){const r=t[0],s=t[1],n=t[2];return e[0]=i[0]*r+i[4]*s+i[8]*n+i[12],e[1]=i[1]*r+i[5]*s+i[9]*n+i[13],e[2]=i[2]*r+i[6]*s+i[10]*n+i[14],e}function jSe(e,t,i){const r=t[0],s=t[1],n=t[2];return e[0]=r*i[0]+s*i[3]+n*i[6],e[1]=r*i[1]+s*i[4]+n*i[7],e[2]=r*i[2]+s*i[5]+n*i[8],e}function USe(e,t,i){const r=i[0],s=i[1],n=i[2],a=i[3],u=t[0],d=t[1],f=t[2],g=s*f-n*d,v=n*u-r*f,w=r*d-s*u,S=s*w-n*v,T=n*g-r*w,E=r*v-s*g,M=2*a;return e[0]=u+g*M+2*S,e[1]=d+v*M+2*T,e[2]=f+w*M+2*E,e}function zSe(e,t,i,r){const s=[],n=[];return s[0]=t[0]-i[0],s[1]=t[1]-i[1],s[2]=t[2]-i[2],n[0]=s[0],n[1]=s[1]*Math.cos(r)-s[2]*Math.sin(r),n[2]=s[1]*Math.sin(r)+s[2]*Math.cos(r),e[0]=n[0]+i[0],e[1]=n[1]+i[1],e[2]=n[2]+i[2],e}function VSe(e,t,i,r){const s=[],n=[];return s[0]=t[0]-i[0],s[1]=t[1]-i[1],s[2]=t[2]-i[2],n[0]=s[2]*Math.sin(r)+s[0]*Math.cos(r),n[1]=s[1],n[2]=s[2]*Math.cos(r)-s[0]*Math.sin(r),e[0]=n[0]+i[0],e[1]=n[1]+i[1],e[2]=n[2]+i[2],e}function GSe(e,t,i,r){const s=[],n=[];return s[0]=t[0]-i[0],s[1]=t[1]-i[1],s[2]=t[2]-i[2],n[0]=s[0]*Math.cos(r)-s[1]*Math.sin(r),n[1]=s[0]*Math.sin(r)+s[1]*Math.cos(r),n[2]=s[2],e[0]=n[0]+i[0],e[1]=n[1]+i[1],e[2]=n[2]+i[2],e}function qSe(e,t){lC(Z9,e),lC(Y9,t);const i=aY(Z9,Y9);return i>1?0:i<-1?Math.PI:Math.acos(i)}const Z9=fc(),Y9=fc();function BSe(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function HSe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function WSe(e,t){if(e===t)return!0;const i=e[0],r=e[1],s=e[2],n=t[0],a=t[1],u=t[2],d=Wr();return Math.abs(i-n)<=d*Math.max(1,Math.abs(i),Math.abs(n))&&Math.abs(r-a)<=d*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(s-u)<=d*Math.max(1,Math.abs(s),Math.abs(u))}function ZSe(e,t,i){const r=i[0]-t[0],s=i[1]-t[1],n=i[2]-t[2];let a=r*r+s*s+n*n;return a>0?(a=1/Math.sqrt(a),e[0]=r*a,e[1]=s*a,e[2]=n*a,e):(e[0]=0,e[1]=0,e[2]=0,e)}const YSe=eY,JSe=tY,XSe=iY,QSe=sY,KSe=nY,e2e=KZ,t2e=oY;Object.freeze(Object.defineProperty({__proto__:null,abs:TSe,add:wSe,angle:qSe,bezier:DSe,ceil:_Se,clamp:MSe,copy:vSe,cross:ISe,crossAndNormalize:NSe,direction:ZSe,dist:QSe,distance:sY,div:XSe,divide:iY,dot:aY,equals:WSe,exactEquals:HSe,floor:SSe,hermite:LSe,inverse:CSe,len:e2e,length:KZ,lerp:PSe,max:xSe,min:$Se,mul:JSe,multiply:tY,negate:RSe,normalize:lC,random:kSe,rotateX:zSe,rotateY:VSe,rotateZ:GSe,round:ASe,scale:rY,scaleAndAdd:OSe,set:bSe,sign:ESe,sqrDist:KSe,sqrLen:t2e,squaredDistance:nY,squaredLength:oY,str:BSe,sub:YSe,subtract:eY,transformMat3:jSe,transformMat4:FSe,transformQuat:USe},Symbol.toStringTag,{value:"Module"}));function kn(e){let t=e*e;return e<0&&(t*=-1),t}function i2e(e){return e.translation[0]=0,e.translation[1]=0,e.translation[2]=0,e.heading=0,e.tilt=0,e}function r2e(e,t,i){const r=i,s=e.state,n=e.device,a=t.tiltDirection==="forward-down"?1:-1,u=1;return n.deviceType==="standard"?(r.translation[0]=kn(s.axes[0]),r.translation[1]=kn(s.axes[1]),r.translation[2]=kn(s.buttons[7])-kn(s.buttons[6]),r.heading=kn(s.axes[2]),r.tilt=kn(s.axes[3])):n.deviceType==="spacemouse"&&(r.translation[0]=1.2*kn(s.axes[0]),r.translation[1]=1.2*kn(s.axes[1]),r.translation[2]=2*-kn(s.axes[2]),r.heading=1.2*kn(s.axes[5]),r.tilt=1.2*kn(s.axes[3])),r.tilt*=a,rY(r.translation,r.translation,u),r}function s2e(e){return e.translation[0]===0&&e.translation[1]===0&&e.translation[2]===0&&e.heading===0&&e.tilt===0&&e.zoom===0}let n2e=class extends Gi{constructor(t){super(!0),this._view=t,this._frameTask=null,this._watchHandles=new fm,this._currentDevice=null,this._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this._handle=this.registerIncoming("gamepad",i=>this._handleGamePadEvent(i)),this._handle.pause()}onInstall(t){super.onInstall(t),this._watchHandles.add([ke(()=>{var i;return(i=this._view.navigation.gamepad)==null?void 0:i.enabled},i=>{i?(this._handle.resume(),this._frameTask||(this._frameTask=Yf({update:r=>this._frameUpdate(r.deltaTime)}))):(this._handle.pause(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null))},Ar)])}onUninstall(){this._watchHandles.removeAll(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null),super.onUninstall()}_handleGamePadEvent(t){var r;const i=this._view.navigation.gamepad.device;i&&t.data.device!==i||this._currentDevice&&this._currentDevice!==t.data.device||(t.data.action==="end"?(this._currentDevice=null,i2e(this._transformation)):(this._currentDevice=t.data.device,r2e(t.data,this._view.navigation.gamepad,this._transformation)),(r=this._frameTask)==null||r.resume())}_frameUpdate(t){var v;const i=this._transformation;if(s2e(i))return void((v=this._frameTask)==null?void 0:v.pause());const r=this._view.viewpoint.clone(),s=this._view.navigation.gamepad.velocityFactor,n=a2e*s*t;AT(r,r,[i.translation[0]*n,-i.translation[1]*n]);const a=1+i.translation[2]*l2e*t,u=this._view.constraints.rotationEnabled?-i.heading*o2e*t:0,d=this._view.size,f=[d[0]/2,d[1]];NZ(r,r,a,u,f,d);const g=this._view.constraints.constrain(r,this._view.viewpoint);this._view.viewpoint=g}};const o2e=.06,a2e=.7,l2e=6e-4;function lY(e){const t=()=>e(document.visibilityState==="visible");return document.addEventListener("visibilitychange",t),pt(()=>document.removeEventListener("visibilitychange",t))}let u2e=class extends Gi{constructor(t,i,r){super(!0),this.view=t,this.keys=i,this._isSticky=!1,this._pressedKeys=new Set,this._timeout=void 0,this._currentDirection=void 0,this._stickyKeyDuration=200,this._handleKey=s=>{const n=this._keyMap[s.data.key];if(s.modifiers.has("Meta")||s.modifiers.has("Control"))return void this._stopMovement();if(n==null)return;s.stopPropagation(),s.preventDefault();const a=s.type==="key-down";if(this._pressedKeys[a?"add":"delete"](n),a){if(this._direction===n)return;this._direction=n,this._isSticky=!1,this._setTimeout(()=>{this._isSticky&&this._handlePopKey()})}else{const u=this._timeout===void 0,d=this._pressedKeys.size>0;u||d?this._handlePopKey():this._isSticky=!0}},this._handlePopKey=()=>{this._direction=Array.from(this._pressedKeys).pop(),this._direction==null&&this._stopMovement()},this._stopMovement=()=>{this._isSticky=!1,this._direction=void 0,this._pressedKeys.clear(),this._setTimeout(void 0)},this._keyMap={[i.left]:"left",[i.right]:"right",[i.up]:"up",[i.down]:"down"},this.registerIncoming("key-down",r,this._handleKey),this.registerIncoming("key-up",r,this._handleKey),this.registerIncoming("blur",r,this._stopMovement),this._visibilityHandle=lY(s=>s?null:this._stopMovement())}onUninstall(){var t;this._stopMovement(),(t=this._visibilityHandle)==null||t.remove()}get _direction(){return this._currentDirection}set _direction(t){const i=this._currentDirection!=null;if(t!=null){if(i||this.view.mapViewNavigation.begin(),this._currentDirection!==t)switch(t){case"left":this.view.mapViewNavigation.continuousPanLeft();break;case"right":this.view.mapViewNavigation.continuousPanRight();break;case"up":this.view.mapViewNavigation.continuousPanUp();break;case"down":this.view.mapViewNavigation.continuousPanDown()}}else i&&this.view.mapViewNavigation.stop();this._currentDirection=t}_setTimeout(t){clearTimeout(this._timeout),this._timeout=t===void 0?void 0:setTimeout(()=>{this._timeout=void 0,t()},this._stickyKeyDuration)}},c2e=class extends Gi{constructor(t,i,r){super(!0),this.view=t,this.keys=i,this._keyToDirection=new Map,this._pressed=!1,this._addKeysMapping(i),this.registerIncoming("key-down",r,s=>this._handleKeyDown(s)),this.registerIncoming("key-up",r,s=>this._handleKeyUp(s)),this.registerIncoming("blur",r,()=>this._handleStop()),this._visibilityHandle=lY(s=>s?null:this._handleStop())}onUninstall(){var t;(t=this._visibilityHandle)==null||t.remove(),this._handleStop()}_addKeysMapping(t){this._addKeyMapping(t.clockwise,"clockwise"),this._addKeyMapping(t.counterClockwise,"counterClockwise"),this._addKeyMapping(t.reset,"reset")}_addKeyMapping(t,i){for(const r of t)this._keyToDirection.set(r,i)}_handleKeyDown(t){t.data.repeat||this._handleKey(t,!0)}_handleKeyUp(t){this._handleKey(t,!1)}_handleStop(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(t,i){const r=t.modifiers;if(r.size>0&&!r.has("Shift")||!this.view.constraints.rotationEnabled)return;const s=this._keyToDirection.get(t.data.key);if(this._pressed=s!=null,this._pressed){if(t.preventDefault(),i)switch(this.view.mapViewNavigation.begin(),s){case"clockwise":this.view.mapViewNavigation.continuousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continuousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();t.stopPropagation()}}};var xf;(function(e){e[e.IN=0]="IN",e[e.OUT=1]="OUT"})(xf||(xf={}));let d2e=class extends Gi{constructor(t,i,r){super(!0),this.view=t,this.keys=i,this._keysToZoomAction={},this.registerIncoming("key-down",r,s=>this._handleKeyDown(s)),i.zoomIn.forEach(s=>this._keysToZoomAction[s]=xf.IN),i.zoomOut.forEach(s=>this._keysToZoomAction[s]=xf.OUT)}_handleKeyDown(t){this._handleKey(t)}_handleKey(t){const i=t.modifiers;if(i.size>0&&!i.has("Shift"))return;const{key:r}=t.data;if(!(r in this._keysToZoomAction))return;const s=this._keysToZoomAction[r],{mapViewNavigation:n}=this.view;let a=null;switch(s){case xf.IN:a=n.zoomIn();break;case xf.OUT:a=n.zoomOut();break;default:return}n.begin(),a.then(()=>n.end()),t.stopPropagation()}};const h2e=.6;let p2e=class extends Gi{constructor(t,i){super(!0),this._view=t,this._canZoom=!0,this.registerIncoming("mouse-wheel",i,r=>this._handleMouseWheel(r))}_handleMouseWheel(t){if(this._view.navigation.actionMap.mouseWheel!=="zoom"||(t.preventDefault(),t.stopPropagation(),!this._canZoom))return;const i=this._view.mapViewNavigation,{x:r,y:s,deltaY:n}=t.data,a=1/h2e**(1/60*n),u=i.zoom(a,[r,s]);u&&(this._canZoom=!1,u.catch(()=>{}).then(()=>{this._canZoom=!0,i.end()}))}},f2e=class extends Gi{constructor(t){super(!0),this.view=t,this.registerIncoming("drag",r=>this._handleDrag(r)),this.registerIncoming("pointer-down",()=>this._stopMomentumNavigation());const i=this.view.mapViewNavigation;this._dragEventSeparator=new OT({start:(r,s)=>{i.pinch.begin(this.view,s.data),s.stopPropagation()},update:(r,s)=>{i.pinch.update(this.view,s.data),s.stopPropagation()},end:(r,s)=>{i.pinch.end(this.view),s.stopPropagation()},condition:r=>r>=2})}_handleDrag(t){this._dragEventSeparator.handle(t)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}};function J9(e){const t=e.native;return t?{buttons:t.buttons.map(i=>i.pressed?i.value||1:0),axes:t.axes.map(i=>g2e(i,e.axisThreshold))}:{buttons:[],axes:[]}}function m2e(e,t){if(e.axes.length!==t.axes.length||e.buttons.length!==t.buttons.length)return!1;for(let i=0;i<e.axes.length;i++)if(e.axes[i]!==t.axes[i])return!1;for(let i=0;i<e.buttons.length;i++)if(e.buttons[i]!==t.buttons[i])return!1;return!0}function y2e(e){for(let t=0;t<e.axes.length;t++)if(e.axes[t]!==0)return!1;for(let t=0;t<e.buttons.length;t++)if(e.buttons[t]!==0)return!1;return!0}function g2e(e,t){const i=Math.abs(e);return i<t?0:Math.sign(e)*(i-t)/(1-t)}let v2e=class{constructor(t,i){this._element=t,this._input=i,this._hasEventListeners=!1,this._onConnectGamepad=n=>{this._connectGamepad(n.gamepad)},this._onDisconnectGamepad=n=>{const a=n.gamepad,u=a.index,d=this._inputDevices[u];d&&(this._emitGamepadEvent(a,J9(d),!1),this._inputDevices.splice(u,1),this._latestUpdate.splice(u,1),this._input.gamepad.devices.remove(d),this.ensurePollingState())},this._frameTask=null,this._latestUpdate=new Array,this._inputDevices=new Array,this._callback=null;const r="getGamepads"in window.navigator,s=window.isSecureContext;this.supported=r&&s,this.supported&&(X9(n=>this._connectGamepad(n)),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(t){this._hasEventListeners!==t&&(this._hasEventListeners=t,this.ensurePollingState())}get _eventsEnabled(){return this.supported&&this._inputDevices.length>0&&this._hasEventListeners}set onEvent(t){this._callback=t}_connectGamepad(t){const i=new PN(t);i.deviceType!=="unknown"&&(this._inputDevices[t.index]=i,this._input.gamepad.devices.add(i)),this.ensurePollingState()}ensurePollingState(){this._eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){this._frameTask==null&&(this._frameTask=Yf({update:()=>this._readGamepadState()}))}_stopPolling(){this._frameTask!=null&&(this._frameTask.remove(),this._frameTask=null,this._latestUpdate=new Array)}_readGamepadState(){const t=document.hasFocus(),i=this._element.contains(document.activeElement),r=this._input.gamepad.enabledFocusMode==="document"&&!t||this._input.gamepad.enabledFocusMode==="view"&&!i;X9(s=>{const n=this._inputDevices[s.index];if(!n)return;const a=this._latestUpdate[s.index],u=J9(n),d=r||y2e(u);a&&(a.timestamp===s.timestamp||!a.active&&d||m2e(a.state,u))||this._emitGamepadEvent(s,u,!d)})}_emitGamepadEvent(t,i,r){const s=this._latestUpdate[t.index],n=s&&s.active;if(!n&&!r)return;const a=!n&&r?"start":n&&r?"update":"end";this._latestUpdate[t.index]={timestamp:t.timestamp,state:i,active:r},this._callback&&this._callback({device:this._inputDevices[t.index],state:i,action:a})}};function b2e(e){if(!e||!e.connected)return!1;for(let t=0;t<e.axes.length;t++)if(isNaN(e.axes[t]))return!1;return!0}function X9(e){for(const t of navigator.getGamepads())b2e(t)&&e(t)}const Q9=B("edge"),w2e=B("chrome"),_2e=B("ff"),S2e=B("safari"),K9="esri-view-surface",$p={touchNone:`${K9}--touch-none`,touchPan:`${K9}--touch-pan`};let uY=class cY{constructor(t,i){this._active={},this._callback=()=>{},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=t,t.getAttribute("tabindex")||t.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new v2e(t,i),this._gamepadSource.onEvent=r=>this._callback("gamepad",r)}destroy(){this._callback=()=>{},this.activeEvents=null,this._activePointerCaptures.forEach(t=>this._releasePointerCaptureSafe(t)),this._activePointerCaptures.clear(),this._gamepadSource=Zt(this._gamepadSource),this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(t){this._browserTouchPanningEnabled=t,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(t){this._callback=t}set activeEvents(t){for(const i in this._active)if(!t||!t.has(i)){const r=this._active[i];this._element.removeEventListener(bM[i],r),delete this._active[i]}t&&t.forEach(i=>{if(!this._active[i]&&bM[i]){const r=(this._eventHandlers[i]||this._handleDefault).bind(this,i);this._element.addEventListener(bM[i],r),this._active[i]=r}}),this._gamepadSource&&(this._gamepadSource.hasEventListeners=(t==null?void 0:t.has("gamepad"))??!1)}setPointerCapture(t,i){i?this._setPointerCaptureSafe(t.pointerId):(this._releasePointerCaptureSafe(t.pointerId),this._activePointerCaptures.delete(t.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?$p.touchNone:$p.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?$p.touchPan:$p.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove($p.touchNone),this._element.classList.remove($p.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_setPointerCaptureSafe(t){try{this._element.setPointerCapture(t),this._activePointerCaptures.add(t)}catch{}}_releasePointerCaptureSafe(t){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(t))return;this._element.releasePointerCapture(t)}catch{}}_updateNormalizedPointerLikeEvent(t,i){const r=XW(this._element,t);return cY.test.disableSubpixelCoordinates&&(r.x=Math.round(r.x),r.y=Math.round(r.y)),i.x=r.x,i.y=r.y,i}_handleKey(t,i){const{key:r}=i;r&&t==="key-up"&&this._keyDownState.delete(r);const s={native:i,key:r,repeat:!!r&&this._keyDownState.has(r)};r&&t==="key-down"&&this._keyDownState.add(s.key),this._callback(t,s)}_handlePointer(t,i){const r=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,pointerType:i.pointerType,button:i.button,buttons:i.buttons,eventId:this._eventId++});this._callback(t,r)}_handlePointerPreventDefault(t,i){const r=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,pointerType:i.pointerType,button:i.button,buttons:i.buttons,eventId:this._eventId++});i.preventDefault(),this._callback(t,r)}_getDeltaFromTrackpadOrMouseWheel(t){return t.shiftKey&&B("mac")&&t.deltaY===0?t.deltaX:t.deltaY}_handleMouseWheel(t,i){let r=this._getDeltaFromTrackpadOrMouseWheel(i);switch(i.deltaMode){case 0:Q9&&(r=r/document.documentElement.clientHeight*600);break;case 1:r*=30;break;case 2:r*=900}Q9?r*=.7:w2e||S2e?r*=.6:_2e&&(r*=1.375);const s=100,n=Math.abs(r);n>s&&(r=r/n*200/(1+Math.exp(-.02*(n-s))));const a=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,deltaY:r});this._callback(t,a)}_handlePointerCaptureLost(t,i){this._activePointerCaptures.delete(i.pointerId),this._handleDefault(t,i)}_handleDefault(t,i){const r={native:i};i.preventDefault(),this._callback(t,r)}_preventAltKeyDefault(t){t.key==="Alt"&&t.preventDefault()}_preventMultiTouchPanning(t){t.touches.length>1&&t.preventDefault()}};uY.test={disableSubpixelCoordinates:!1};const bM={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};let T2e=class extends Gi{constructor(){super(!0),this.registerIncoming("context-menu",t=>t.data.native.preventDefault())}};const dr={maximumClickDelay:300,movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500,maximumDoubleClickDelay:250,maximumDoubleClickDistance:10,maximumDoubleTouchDelay:350,maximumDoubleTouchDistance:35};function o2(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}function E2e(e,t){const i=t.x-e.x,r=t.y-e.y;return Math.sqrt(i*i+r*r)}function $2e(e,t){if(t?(t.radius=0,t.center.x=0,t.center.y=0):t={radius:0,center:tr()},e.length===0)return t;if(e.length===1)return t.center.x=e[0].x,t.center.y=e[0].y,t;if(e.length===2){const[N,k]=e,[U,Z]=[k.x-N.x,k.y-N.y];return t.radius=Math.sqrt(U*U+Z*Z)/2,t.center.x=(N.x+k.x)/2,t.center.y=(N.y+k.y)/2,t}let i=0,r=0;for(let N=0;N<e.length;N++)i+=e[N].x,r+=e[N].y;i/=e.length,r/=e.length;const s=e.map(N=>N.x-i),n=e.map(N=>N.y-r);let a=0,u=0,d=0,f=0,g=0,v=0,w=0;for(let N=0;N<s.length;N++){const k=s[N],U=n[N],Z=k*k,re=U*U;a+=Z,u+=re,d+=k*U,f+=Z*k,g+=re*U,v+=k*re,w+=U*Z}const S=.5*(f+v),T=.5*(g+w),E=a*u-d*d,M=(S*u-T*d)/E,R=(a*T-d*S)/E,P=tr(M+i,R+r);return{radius:Math.sqrt(M*M+R*R+(a+u)/e.length),center:P}}function ih(e){const{native:t}=e,{pointerId:i,button:r,pointerType:s}=t;return s==="mouse"?`${i}:${r}`:`${s}`}let x2e=class extends Gi{constructor(t=dr.maximumDoubleClickDelay,i=dr.maximumDoubleClickDistance,r=dr.maximumDoubleTouchDelay,s=dr.maximumDoubleTouchDistance,n=mm){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=i,this._maximumDoubleTouchDelay=r,this._maximumDoubleTouchDistance=s,this._clock=n,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=tr(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new OT({start:(a,u)=>this._dragStart(a,u),update:(a,u)=>this._dragUpdate(u),end:(a,u)=>this._dragEnd(u)}),this.registerIncoming("drag",a=>this._dragEventSeparator.handle(a)),this.registerIncoming("pointer-down",a=>this._handlePointerDown(a)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(t=>{t.doubleTapTimeout=Yt(t.doubleTapTimeout)})}get hasPendingInputs(){for(const t of this._pointerState.values())if(t.doubleTapTimeout!=null)return!0;return!1}_clearPointerDown(t){const i=this._pointerState.get(t);i&&(i.doubleTapTimeout=Yt(i.doubleTapTimeout),this._pointerState.delete(t),this.refreshHasPendingInputs())}_dragStart(t,i){if(!this._doubleTapDragReady||t!==1)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:r,modifiers:s}=i,{center:n}=r;this._dragStartCenter=n;const a=wM("begin",tr(0,0),r);this._doubleTapDrag.emit(a,void 0,s),i.stopPropagation()}_dragUpdate(t){if(!this._doubleTapDragActive)return;const{data:i,modifiers:r}=t,{center:s}=i,n=wM("update",tr(s.x-this._dragStartCenter.x,s.y-this._dragStartCenter.y),i);this._doubleTapDrag.emit(n,void 0,r),t.stopPropagation()}_dragEnd(t){if(!this._doubleTapDragActive)return;const{data:i,modifiers:r}=t,{center:s}=i,n=wM("end",tr(s.x-this._dragStartCenter.x,s.y-this._dragStartCenter.y),i);this._doubleTapDrag.emit(n,void 0,r),this._doubleTapDragActive=!1,t.stopPropagation()}_handlePointerDown(t){const{data:i}=t,r=ih(i),s=this._pointerState.get(r),{pointerType:n}=i.native;if(s){const a=n==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;this._clearPointerDown(r),o2(s.event.data,i)>a?this._storePointerDown(t):this._doubleTapDragReady=!0}else this._storePointerDown(t)}_handlePointerUp(){this._doubleTapDragReady=!1}_storePointerDown(t){const{data:i}=t,{pointerType:r}=i.native,s=ih(i),n=r==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,a=this._clock.setTimeout(()=>this._clearPointerDown(s),n);this._pointerState.set(s,{event:t,doubleTapTimeout:a}),this.refreshHasPendingInputs()}};function wM(e,t,i){const{button:r,buttons:s,pointer:n,pointers:a,pointerType:u,timestamp:d}=i;return{action:e,delta:t,button:r,buttons:s,pointer:n,pointers:a,pointerType:u,timestamp:d}}let M2e=class extends Gi{constructor(t){super(!1),this._navigationTouch=t,this._startStateModifiers=new Set,this._activePointerMap=new Map,this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(t,i,r,s){return{action:t,pointerType:this._pointerType,button:this._mouseButton,buttons:i.buttons,timestamp:s,pointers:A2e(this._activePointerMap),pointer:i,angle:r.angle,radius:r.radius,center:r.center}}_addPointer(t){const i=t.native.pointerId,r=Sw(this._activePointerMap).angle,s={event:t,initialAngle:0,lastAngle:0};this._activePointerMap.set(i,s);const n=W_(s,dY(this._activePointerMap));s.initialAngle=n,s.lastAngle=n,this._updatePointerAngles(r)}_updatePointer(t){if(t&&t.x==null&&t.y==null)return;const i=t.native.pointerId,r=this._activePointerMap.get(i);r?r.event=t:this._addPointer(t)}_removePointer(t){const i=Sw(this._activePointerMap).angle;this._activePointerMap.delete(t),this._updatePointerAngles(i)}_updatePointerAngles(t){const i=Sw(this._activePointerMap);this._activePointerMap.forEach(r=>{r.initialAngle=W_(r,i)-t,r.lastAngle=W_(r,i)-t})}_emitEvent(t,i,r){const s=Sw(this._activePointerMap);this._drag.emit(this._createPayload(t,i,s,r),void 0,this._startStateModifiers)}_handlePointerUpAndPointerLost(t){const i=t.data.native.pointerId,r=t.timestamp;this._activePointerMap.get(i)&&(this._activePointerMap.size===1?(this._updatePointer(t.data),!this._isCurrentDragSuppressed&&this._emitEvent("end",t.data,r),this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._removePointer(i)):(this._removePointer(i),this._emitEvent("removed",t.data,t.timestamp)))}_handlePointerDrag(t){const i=t.data,r=i.currentEvent,s=t.timestamp;switch(i.action){case"start":case"update":this._isDragging?this._activePointerMap.has(r.native.pointerId)?(this._updatePointer(r),!this._isCurrentDragSuppressed&&this._emitEvent("update",r,s)):(this._addPointer(r),this._emitEvent("added",r,s),this._isCurrentDragSuppressed=this._isSuppressed):(this._updatePointer(r),this._pointerType=t.data.startEvent.pointerType,this._mouseButton=t.data.startEvent.button,this._startStateModifiers=t.modifiers,this._isDragging=!0,this._isCurrentDragSuppressed=this._isSuppressed,!this._isCurrentDragSuppressed&&this._emitEvent("start",r,s))}}get _isSuppressed(){return!!this._navigationTouch&&!this._navigationTouch.browserTouchPanEnabled&&this._pointerType==="touch"&&this._activePointerMap.size===1}};function dY(e){const t=[];return e.forEach(i=>{t.push(tr(i.event.x,i.event.y))}),$2e(t)}function Sw(e){const t=dY(e);let i=0;return e.forEach(r=>{let s=W_(r,t),n=s-r.lastAngle;for(;n>Math.PI;)n-=2*Math.PI;for(;n<-Math.PI;)n+=2*Math.PI;s=r.lastAngle+n,r.lastAngle=s;const a=s-r.initialAngle;i+=a}),i/=e.size||1,{angle:i,radius:t.radius,center:t.center}}function A2e(e){const t=new Map;return e.forEach((i,r)=>t.set(r,i.event)),t}function W_(e,t){const i=e.event,r=i.x-t.center.x,s=i.y-t.center.y;return Math.atan2(s,r)}var ej;(function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e[e.Back=3]="Back",e[e.Forward=4]="Forward",e[e.Undefined=-1]="Undefined"})(ej||(ej={}));let O2e=class extends Gi{constructor(t=dr.maximumDoubleClickDelay,i=dr.maximumDoubleClickDistance,r=dr.maximumDoubleTouchDelay,s=dr.maximumDoubleTouchDistance,n=mm){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=i,this._maximumDoubleTouchDelay=r,this._maximumDoubleTouchDistance=s,this._clock=n,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUp.bind(this))}onUninstall(){this._pointerState.forEach(t=>{t.immediateDoubleClick&&t.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(t){const i=t.data,r=ih(i);if(!this._pointerState.has(r)){const s={downButton:i.native.button,x:i.x,y:i.y,immediateDoubleClick:null};this._pointerState.set(r,s),this.startCapturingPointer(i.native)}}_handlePointerUp(t){const i=t.data,r=ih(i),s=this._pointerState.get(r);if(s&&s.downButton===i.native.button){const n=s.immediateDoubleClick,a=t.data.native.pointerType==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;n?(n.timeoutHandle.remove(),o2(n,t.data)>a?this._startImmediateDoubleClick(t,s):(this._immediateDoubleClick.emit(t.data,void 0,n.modifiers),this._removeState(i))):o2(s,t.data)>a?this._removeState(i):this._startImmediateDoubleClick(t,s)}}_startImmediateDoubleClick(t,i){const r=t.data.native.pointerType==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay;i.immediateDoubleClick={x:t.data.x,y:t.data.y,modifiers:t.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(t.data),r)}}_removeState(t){const i=ih(t);this._pointerState.delete(i),this.stopCapturingPointer(t.native),this.refreshHasPendingInputs()}},R2e=class extends Gi{constructor(t=dr.maximumClickDelay,i=dr.movementUntilMouseDrag,r=dr.movementUntilPenDrag,s=dr.movementUntilTouchDrag,n=dr.holdDelay,a=mm){super(!1),this._maximumClickDelay=t,this._movementUntilMouseDrag=i,this._movementUntilPenDrag=r,this._movementUntilTouchDrag=s,this._holdDelay=n,this._clock=a,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",u=>this._handlePointerDown(u)),this.registerIncoming("pointer-up",u=>this._handlePointerLoss(u,"pointer-up")),this.registerIncoming("pointer-capture-lost",u=>this._handlePointerLoss(u,"pointer-capture-lost")),this.registerIncoming("pointer-cancel",u=>this._handlePointerLoss(u,"pointer-cancel")),this._moveHandle=this.registerIncoming("pointer-move",u=>this._handlePointerMove(u)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(t=>{t.holdTimeout=Yt(t.holdTimeout)}),super.onUninstall()}_handlePointerDown(t){const i=t.data,r=i.native.pointerId;let s=null;this._pointerState.size===0&&(s=this._clock.setTimeout(()=>{const a=this._pointerState.get(r);if(a){if(!a.isDragging){const u=a.previousEvent;this._pointerHold.emit(u,void 0,t.modifiers),a.holdEmitted=!0}a.holdTimeout=null}},this._holdDelay));const n={startEvent:i,previousEvent:i,startTimestamp:t.timestamp,isDragging:!1,downButton:i.native.button,holdTimeout:s,modifiers:new Set};this._pointerState.set(r,n),this.startCapturingPointer(i.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(t)}_handlePointerMove(t){const i=t.data,r=i.native.pointerId,s=this._pointerState.get(r);s&&(s.isDragging?this._pointerDrag.emit(Tw("update",s,i),void 0,s.modifiers):E2e(i,s.startEvent)>this._getDragThreshold(i.native.pointerType)&&this._startDragging(t),s.previousEvent=i)}_getDragThreshold(t){switch(t){case"touch":return this._movementUntilTouchDrag;case"pen":return this._movementUntilPenDrag;default:return this._movementUntilMouseDrag}}_startDragging(t){const i=t.data,r=i.native.pointerId;this._pointerState.forEach(s=>{s.holdTimeout!=null&&(s.holdTimeout.remove(),s.holdTimeout=null),s.isDragging||(s.modifiers=t.modifiers,s.isDragging=!0,r===s.startEvent.native.pointerId?this._pointerDrag.emit(Tw("start",s,i)):this._pointerDrag.emit(Tw("start",s,s.previousEvent),t.timestamp))})}_handlePointerLoss(t,i){const r=t.data,s=r.native.pointerId,n=this._pointerState.get(s);n&&(n.holdTimeout!=null&&(n.holdTimeout.remove(),n.holdTimeout=null),n.isDragging?this._pointerDrag.emit(Tw("end",n,i==="pointer-up"?r:n.previousEvent),void 0,n.modifiers):i==="pointer-up"&&n.downButton===r.native.button&&t.timestamp-n.startTimestamp<=this._maximumClickDelay&&!n.holdEmitted&&this._immediateClick.emit(r),this._pointerState.delete(s),this.stopCapturingPointer(r.native),this._pointerState.size===0&&this._moveHandle.pause())}};function Tw(e,t,i){return{action:e,startEvent:t.startEvent,previousEvent:t.previousEvent,currentEvent:i}}let C2e=class extends Gi{constructor(t=dr.maximumDoubleClickDelay,i=dr.maximumDoubleClickDistance,r=dr.maximumDoubleTouchDelay,s=dr.maximumDoubleTouchDistance,n=mm){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=i,this._maximumDoubleTouchDelay=r,this._maximumDoubleTouchDistance=s,this._clock=n,this._pointerState=new Map,this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",a=>this._handleImmediateClick(a)),this.registerIncoming("pointer-down",a=>this._handlePointerDown(a))}onUninstall(){this._pointerState.forEach(t=>t.doubleClickTimer=Yt(t.doubleClickTimer))}get hasPendingInputs(){for(const t of this._pointerState.values())if(t.doubleClickTimer!=null)return!0;return!1}_clearDoubleClickTimer(t,i){const r=this._pointerState.get(t);r&&(r.doubleClickTimer=Yt(r.doubleClickTimer),i&&this._click.emit(r.event.data,void 0,r.event.modifiers),this._pointerState.delete(t),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(t){const i=this._pointerState.get(t);i.pointerDownCount===1&&this._click.emit(i.event.data,void 0,i.event.modifiers),i.doubleClickTimer=null,this._pointerState.delete(t),this.refreshHasPendingInputs()}_handleImmediateClick(t){const i=t.data,{pointerType:r}=i.native,s=I2e(i);if(!this._pointerState.has(s))return void this._startClick(t);const n=this._pointerState.get(s),{data:a,modifiers:u}=n.event,d=r==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;o2(a,i)>d?(this._clearDoubleClickTimer(s,!0),this._startClick(t)):(this._clearDoubleClickTimer(s,!1),n.pointerDownCount===2&&this._doubleClick.emit(a,void 0,u))}_handlePointerDown(t){const i=ih(t.data),r=this._pointerState.get(i);r&&(r.pointerDownCount+=1)}_startClick(t){const{data:i}=t,{native:{pointerType:r}}=i,s=ih(i),n=r==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,a=this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(s),n);this._pointerState.set(s,{event:t,doubleClickTimer:a,pointerDownCount:1}),this.refreshHasPendingInputs()}};function I2e(e){const{pointerId:t,pointerType:i,button:r}=e.native;return i==="mouse"?`${t}:${r}`:`${i}`}const Ew={counter:"Control",pan:{left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},zoom:{zoomIn:["=","+"],zoomOut:["-","_"]},rotate:{clockwise:["a","A"],counterClockwise:["d","D"],reset:["n","N"]}},tj=Symbol("handles");let Nd=class extends $e{initialize(){const t=()=>{var i;return(i=this.view)==null?void 0:i.ready};this.addHandles([wn(()=>!t(),()=>this._disconnect()),wn(t,()=>this._connect())])}destroy(){this._disconnect()}get latestPointerType(){var t;return(t=this._inputManager)==null?void 0:t.latestPointerType}get latestPointerLocation(){var t;return(t=this._inputManager)==null?void 0:t.latestPointerLocation}get multiTouchActive(){var t;return((t=this._inputManager)==null?void 0:t.multiTouchActive)??!1}isModifierKeyDown(t){var i;return((i=this._inputManager)==null?void 0:i.isModifierKeyDown(t))??!1}_disconnect(){this.view.viewEvents.disconnect(),this.removeHandles(tj),this._inputManager=Zt(this._inputManager)}_connect(){const t=this.view.surface,i=new uY(t,this.view.input),r=[new O2e,new R2e,new C2e,new M2e(this.view.navigation),new x2e],s=new on({eventSource:i,recognizers:r}),n=new ySe(this.view,["primary"]),a=new gSe(this.view,["secondary"]);s.installHandlers("prevent-context-menu",[new T2e],Wu.INTERNAL),s.installHandlers("navigation",[new f2e(this.view),new n2e(this.view),new p2e(this.view),new W9(this.view),new W9(this.view,[Ew.counter]),n,new u2e(this.view,Ew.pan),new d2e(this.view,Ew.zoom),new c2e(this.view,Ew.rotate),a,new mSe(this.view,"touch")],Wu.INTERNAL),this.view.viewEvents.connect(s),this._source=i,this._inputManager=s,this.addHandles([ke(()=>{var u,d;return(d=(u=this.view)==null?void 0:u.navigation)==null?void 0:d.browserTouchPanEnabled},u=>{this._source&&(this._source.browserTouchPanningEnabled=!u)},Ar),ke(()=>{const{actionMap:u}=this.view.navigation;return{panActions:H9("pan",u),rotateActions:H9("rotate",u)}},({panActions:u,rotateActions:d})=>{n.pointerActions=u,a.pointerActions=d},as)],tj)}get test(){}};c([p()],Nd.prototype,"view",void 0),c([p()],Nd.prototype,"latestPointerType",null),c([p()],Nd.prototype,"latestPointerLocation",null),c([p()],Nd.prototype,"multiTouchActive",null),Nd=c([O("esri.views.2d.input.MapViewInputManager")],Nd);const N2e=Nd,ij=160;let g0=class extends $e{constructor(){super(...arguments),this._timer=void 0}get stationary(){return!this._timer}flip(){this._timestamp=performance.now(),this._timer==null&&(this._timer=setInterval(()=>{performance.now()-this._timestamp>=ij&&this.clear()},ij))}clear(){this._timer&&(clearInterval(this._timer),this._timer=void 0)}};c([p()],g0.prototype,"_timer",void 0),c([p()],g0.prototype,"stationary",null),g0=c([O("esri.views.2d.support.StationaryManager")],g0);const P2e=e=>{let t=class extends e{constructor(...i){super(...i),this.fullOpacity=1,this.stateManager=new Sr({constraints:new B9({view:this})}),this.goToManager=new H_({view:this}),this.stationaryManager=new g0,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!1,labelsAnimationTime:0,labelCollisionsEnabled:!1},this.frameTask=new cSe(this),this.inputManager=new N2e({view:this}),this.viewEvents=new JW(this),this.padding={top:0,right:0,bottom:0,left:0},this.addHandles([ke(()=>this.viewpoint,()=>this.stationaryManager.flip(),Qo),this.on("resize",r=>this.stateManager.resize(r.width,r.height))])}get constraintsInfo(){return{lods:null,spatialReference:null}}get extent(){var i;return((i=this.stateManager)==null?void 0:i.extent)??null}set extent(i){this.stateManager.extent=i}get state(){return this.stateManager.state}get interacting(){return this.navigating}get stationary(){return!this.animation&&!this.navigating&&!this.resizing&&this.stationaryManager.stationary}set animation(i){const r=this._get("animation");if(i===r)return;if(r&&r.stop(),i!==this.animationManager.animation&&this.animationManager.stop(),!i||i.isFulfilled())return void this._set("animation",null);this._set("animation",i);const s=()=>{var n;this.destroyed||i===this._get("animation")&&(this._set("animation",null),(n=this.frameTask)==null||n.requestFrame())};i.when(s,s)}get constraints(){var i;return(i=this.stateManager)==null?void 0:i.constraints}set constraints(i){i.view=this;const r=this.stateManager.constraints;this.stateManager.constraints=i,r==null||r.destroy()}get padding(){var i;return(i=this.stateManager)==null?void 0:i.padding}set padding(i){this.stateManager&&(this.stateManager.padding=i)}get resizeAlign(){return this.stateManager.resizeAlign}set resizeAlign(i){this.stateManager.resizeAlign=i}get rotation(){return this.stateManager.rotation??0}set rotation(i){const{rotationEnabled:r}=this.constraints;this.constraints.rotationEnabled=!0,this.stateManager.rotation=i,this.constraints.rotationEnabled=r}get viewpoint(){return this.stateManager.viewpoint??null}set viewpoint(i){this.stateManager.viewpoint=i,this.frameTask.requestFrame()}on(i,r,s,n){return this.inputManager&&this.viewEvents.on(i,r,s,n)||super.on(i,r)}hasEventListener(i){return super.hasEventListener(i)||this.viewEvents.hasHandler(i)}goTo(i,r){return this.goToManager.goTo(i,r)}};return c([p({readOnly:!0})],t.prototype,"animationManager",void 0),c([p({readOnly:!0})],t.prototype,"fullOpacity",void 0),c([p()],t.prototype,"stateManager",void 0),c([p()],t.prototype,"constraintsInfo",null),c([p()],t.prototype,"extent",null),c([p()],t.prototype,"goToManager",void 0),c([p({readOnly:!0})],t.prototype,"state",null),c([p({readOnly:!0})],t.prototype,"mapViewNavigation",void 0),c([p()],t.prototype,"renderingOptions",void 0),c([p({readOnly:!0})],t.prototype,"interacting",null),c([p()],t.prototype,"stationary",null),c([p()],t.prototype,"animation",null),c([p({type:B9})],t.prototype,"constraints",null),c([p({readOnly:!0})],t.prototype,"inputManager",void 0),c([p()],t.prototype,"padding",null),c([p()],t.prototype,"resizeAlign",null),c([p()],t.prototype,"rotation",null),c([p({readOnly:!0})],t.prototype,"viewEvents",void 0),c([p({type:gn})],t.prototype,"viewpoint",null),t=c([O("esri.views.Viewport2DMixin")],t),t};let rj=class{constructor(t){this._view=t,this.viewpoint=new gn({targetGeometry:new Be,scale:0,rotation:0})}get view(){return this._view}get size(){const[t,i]=this._view.size;return Math.sqrt(t*t+i*i)}get scale(){return this.viewpoint.scale}get rotation(){return this.viewpoint.rotation}get center(){return this.viewpoint.targetGeometry}get scaleToResolutionFactor(){return CZ(this.center.spatialReference)}pixelsPerPanAtZoom(t){return 1/(t*this.scaleToResolutionFactor)}zoomAtPixelsPerPan(t){return 1/(t*this.scaleToResolutionFactor)}pixelsPerRotate(){return this.size/2}compareTo(t,i){i.pan=PG(this.center,t.center);let r=Math.abs(t.rotation-this.rotation);r=r>=180?360-r:r,i.rotate=V2(r),i.sourceZoom=this.scale,i.targetZoom=t.scale}interpolate(t,i,r){const{pan:s,rotate:n,zoom:a,zoomOffset:u}=r,{center:d}=this;d.spatialReference=t.center.spatialReference,d.x=gg(t.center.x,i.center.x,s),d.y=gg(t.center.y,i.center.y,s),this.viewpoint.scale=gg(t.scale,i.scale+u,a);let f=t.rotation;const g=i.rotation;Math.abs(g-f)>=180&&(f+=360*(f<g?1:-1)),this.viewpoint.rotation=gg(f,g,n)}copyFrom(t){Mr(this.viewpoint,t.viewpoint),this._view=t.view}};function ig(e,t,i,r){const s=3*e,n=3*(i-e)-s,a=1-s-n,u=3*t,d=3*(r-t)-u,f=1-u-d;function g(T){return((a*T+n)*T+s)*T}function v(T){return((f*T+d)*T+u)*T}function w(T){return(3*a*T+2*n)*T+s}function S(T,E){let M,R,P,N,k,U;for(P=T,U=0;U<8;U++){if(N=g(P)-T,Math.abs(N)<E)return P;if(k=w(P),Math.abs(k)<1e-6)break;P-=N/k}if(M=0,R=1,P=T,P<M)return M;if(P>R)return R;for(;M<R;){if(N=g(P),Math.abs(N-T)<E)return P;T>N?M=P:R=P,P=.5*(R-M)+M}return P}return function(T,E=1e-6){return v(S(T,E))}}const cn={};cn.ease=ig(.25,.1,.25,1),cn.linear=ig(0,0,1,1),cn.easeIn=cn["ease-in"]=ig(.42,0,1,1),cn.easeOut=cn["ease-out"]=ig(0,0,.58,1),cn.easeInOut=cn["ease-in-out"]=ig(.42,0,.58,1);const L2e=e=>e,RT=e=>e*e,WN=e=>1-RT(1-e),D2e=e=>e<.5?RT(2*e)/2:(WN(2*(e-.5))+1)/2,ZN=e=>e*e*e,hY=e=>1-ZN(1-e),k2e=e=>e<.5?ZN(2*e)/2:(hY(2*(e-.5))+1)/2,YN=e=>e*e*e*e,pY=e=>1-YN(1-e),F2e=e=>e<.5?YN(2*e)/2:(pY(2*(e-.5))+1)/2,JN=e=>e*e*e*e*e,fY=e=>1-JN(1-e),j2e=e=>e<.5?JN(2*e)/2:(fY(2*(e-.5))+1)/2,XN=e=>1-Math.cos(e*Math.PI/2),mY=e=>1-XN(1-e),U2e=e=>e<.5?XN(2*e)/2:(mY(2*(e-.5))+1)/2,QN=e=>2**(10*(e-1)),KN=e=>1-QN(1-e),z2e=e=>e<.5?QN(2*e)/2:(KN(2*(e-.5))+1)/2,eP=e=>-(Math.sqrt(1-e*e)-1),yY=e=>1-eP(1-e),V2e=e=>e<.5?eP(2*e)/2:(yY(2*(e-.5))+1)/2;function Tn(e){const t=2*(e-Math.sqrt((e-1)*e)),i=t/2/e;return r=>r<i?e*r*r:t*r-t+1}function En(e,t){return(i,r)=>i<t?t*e(i/t,r):1-e((1-i)/(1-t),r)*(1-t)}const G2e=En(Tn(1),1),q2e=En(Tn(1),0),uC=En(Tn(1),.5),B2e=En(Tn(2),1),H2e=En(Tn(2),0),W2e=En(Tn(2),.5),Z2e=En(Tn(3),1),Y2e=En(Tn(3),0),J2e=En(Tn(3),.5),X2e=En(Tn(4),1),Q2e=En(Tn(4),0),K2e=En(Tn(4),.5),sj={linear:L2e,"in-quad":RT,"out-quad":WN,"in-out-quad":D2e,"in-coast-quad":G2e,"out-coast-quad":q2e,"in-out-coast-quad":uC,"in-cubic":ZN,"out-cubic":hY,"in-out-cubic":k2e,"in-coast-cubic":B2e,"out-coast-cubic":H2e,"in-out-coast-cubic":W2e,"in-quart":YN,"out-quart":pY,"in-out-quart":F2e,"in-coast-quart":Z2e,"out-coast-quart":Y2e,"in-out-coast-quart":J2e,"in-quint":JN,"out-quint":fY,"in-out-quint":j2e,"in-coast-quint":X2e,"out-coast-quint":Q2e,"in-out-coast-quint":K2e,"in-sine":XN,"out-sine":mY,"in-out-sine":U2e,"in-expo":QN,"out-expo":KN,"in-out-expo":z2e,"in-circ":eP,"out-circ":yY,"in-out-circ":V2e,ease:e=>cn.ease(e),"ease-in":e=>cn.easeIn(e),"ease-out":e=>cn.easeOut(e),"ease-in-out":e=>cn.easeInOut(e)};let eTe=class{constructor(){this.pan=0,this.rotate=0,this.fov=0,this.sourceZoom=0,this.targetZoom=0}};const a2={desiredScreenFlow:2,minDuration:500,maxDuration:8e3},gY={maxDuration:4e3};let tTe=class vY{constructor(t){this._createCamera=t,this.compared=new eTe,this.segmentStart=0,this.segmentEnd=1,this.settings={desiredScreenFlow:a2.desiredScreenFlow},this.source=t(),this.target=t()}clone(){const t=new vY(this._createCamera);return t.copyFrom(this),t}copyFrom(t){this.update(t.source,t.target,t.settings)}update(t,i,r){this.source!==t&&this.source.copyFrom(t),this.target!==i&&this.target.copyFrom(i),this.source.compareTo(this.target,this.compared),this.settings.desiredScreenFlow=r.desiredScreenFlow??a2.desiredScreenFlow,this.desiredPixelFlow=this.settings.desiredScreenFlow*this.target.size,this.halfWindowSize=this.target.size/2}halfWindowPanAtZoom(t){const i=this.target.pixelsPerPanAtZoom(t);return this.halfWindowSize/i}get hasZoom(){return Math.abs(this.compared.sourceZoom-this.compared.targetZoom)>1e-5}get hasPan(){return this.compared.pan>Wr()}get hasFov(){return Math.abs(this.compared.fov)>Wr()}get hasRotate(){return this.compared.rotate>Wr()}},iTe=class{constructor(){this.pan=0,this.rotate=0,this.zoom=0,this.fov=0,this.zoomOffset=0}},rTe=class{constructor(){this.segments=new Array}get time(){return this.segments.reduce((t,i)=>t+i.time,0)}interpolateComponentsAt(t,i){t=Math.min(Math.max(t,0),1),t*=this.time;let r=0,s=0;const n=this.definition,a=this.segments.reduce((u,d)=>u||d.definition.hasZoom,!1);for(let u=0;u<this.segments.length;u++){const d=this.segments[u],f=d.definition;if(t<=d.time||u===this.segments.length-1){if(this.segmentInterpolateComponentsAt(d,d.time===0?0:t/d.time,i),n.hasPan&&!isNaN(i.pan)&&isFinite(n.compared.pan)?i.pan=(r+f.compared.pan*i.pan)/n.compared.pan:i.pan=1,n.hasRotate&&!isNaN(i.rotate)&&isFinite(n.compared.rotate)?i.rotate=(s+f.compared.rotate*i.rotate)/n.compared.rotate:i.rotate=1,a&&!isNaN(i.zoom)&&isFinite(f.compared.targetZoom)){const{sourceZoom:g,targetZoom:v}=f.compared,w=i.zoom*(v-g)+g,S=this.segments[0].definition.compared.sourceZoom,T=this.segments[this.segments.length-1].definition.compared.targetZoom,E=Math.abs(v-S)>Math.abs(g-S)?v:g;i.zoomOffset=E-T,i.zoom=(w-S)/(E-S)}else i.zoom=1;return i}t-=d.time,r+=f.compared.pan,s+=f.compared.rotate}}segmentInterpolateComponentsAt(t,i,r){t.interpolateComponentsAt(i,r)}},_M=class{get time(){return this._time}constructor(t){t&&this.update(t)}update(t){t&&(this.definition?this.definition.copyFrom(t):this.definition=t.clone()),this._updatePrecomputedVariables(),this._updatePixelFlow()}_updatePrecomputedVariables(){const t=this.definition,i=t.compared,r=i.sourceZoom,s=i.targetZoom;this._zoomSign=r>s?1:-1,this._panPixelsAtSource=i.pan*t.source.pixelsPerPanAtZoom(r);const n=(t.source.pixelsPerRotate()+t.target.pixelsPerRotate())/2;this._rotatePixels=i.rotate*n}_updatePixelFlow(){const t=this.definition.compared.sourceZoom,i=this.definition.compared.targetZoom,{hasZoom:r,hasPan:s,hasRotate:n}=this.definition;let a=0,u=0;r&&(s&&(a=(i/t-1)/(-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2*this._panPixelsAtSource)),n&&(u=this._zoomSign*(Math.log(t/i)/Math.LN2)*this.definition.halfWindowSize/this._rotatePixels)),this._zoomPixelFlow=0,this._panPixelFlow=0,this._rotatePixelFlow=0;const d=this.definition.desiredPixelFlow;if(r&&s&&n){const f=a+u+a*u;this._zoomPixelFlow=a*u/f*d,this._panPixelFlow=u/f*d,this._rotatePixelFlow=a/f*d}else if(r&&s){const f=1+a;this._zoomPixelFlow=a/f*d,this._panPixelFlow=1/f*d}else if(r&&n){const f=1+u;this._zoomPixelFlow=u/f*d,this._rotatePixelFlow=1/f*d}else if(s&&n){const f=this._panPixelsAtSource/this._rotatePixels,g=1+f;this._panPixelFlow=f/g*d,this._rotatePixelFlow=1/g*d}else s?this._panPixelFlow=d:r?this._zoomPixelFlow=d:n&&(this._rotatePixelFlow=d);if(this._time=Math.max(this.rotateTime,this.zoomTime,this.panTime),this.fovTime>this._time){const f=this.fovTime/this._time;this._time=this.fovTime,this._zoomPixelFlow/=f,this._panPixelFlow/=f,this._rotatePixelFlow/=f}}get rotateTime(){return this.definition.hasRotate?this._rotatePixels/this._rotatePixelFlow:0}get zoomTime(){return this.definition.hasZoom?this._zoomSign*(Math.log(this.definition.compared.sourceZoom/this.definition.compared.targetZoom)/Math.LN2)*this.definition.halfWindowSize/this._zoomPixelFlow:0}get fovTime(){return this.definition.hasFov?Math.abs(this.definition.compared.fov)/sTe:0}get panTime(){if(!this.definition.hasPan)return 0;if(this.definition.hasZoom){const t=-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2,i=t*this._panPixelsAtSource;return Math.log(i*(this._zoomPixelFlow/this._panPixelFlow)+1)/(t*this._zoomPixelFlow)}return this._panPixelsAtSource/this._panPixelFlow}_interpolateComponentsZoom(t){if(t===0||t===1)return t;if(this.definition.hasZoom){const i=this.definition.compared.sourceZoom,r=this.definition.compared.targetZoom;return(i*(i/r)**-t-i)/(r-i)}return t}_interpolateComponentsFov(t){if(t===0)return this.definition.segmentStart;if(t===1)return this.definition.segmentEnd;if(this.definition.hasFov){const{segmentStart:i,segmentEnd:r}=this.definition;return i+t*(r-i)}return this.definition.segmentStart}_interpolateComponentsPan(t){if(t===0||t===1)return t;if(this.definition.hasPan&&this.definition.hasZoom){const i=-1/(this._zoomSign*this.definition.halfWindowSize)*this._zoomPixelFlow;return 1/this._panPixelsAtSource*(this._panPixelFlow*(2**(i*t*this._time)-1))/(i*Math.LN2)}return t}_interpolateComponentsRotate(t){return t}interpolateComponentsAt(t,i){t=Math.min(Math.max(t,0),1),i.zoom=this._interpolateComponentsZoom(t),i.pan=this._interpolateComponentsPan(t),i.rotate=this._interpolateComponentsRotate(t),i.zoomOffset=0,i.fov=this._interpolateComponentsFov(t)}};const sTe=V2(45);function nTe(e,t,i){const r=t-e.compared.sourceZoom,s=e.halfWindowPanAtZoom(r);return-e.halfWindowSize*(i.ascensionFactor*Math.LN2*e.compared.pan+s)*Math.log(e.compared.sourceZoom/t)/(e.desiredPixelFlow*Math.LN2*s)}function oTe(e,t,i){const r=1/t,s=Math.log(e.compared.sourceZoom*r),n=1/e.desiredPixelFlow,a=1/Math.LN2,u=t-e.compared.sourceZoom,d=1/u,f=(i.ascensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(u))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*r*n*a*d*f-e.halfWindowSize*s*n*a*d+e.halfWindowSize*s*n*a*f/(u*u)}function aTe(e,t,i){const r=t-e.compared.sourceZoom,s=1/r,n=1/t,a=Math.log(e.compared.sourceZoom*n),u=(i.ascensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(r))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*s*(-2*s*n*u+2*s*a+2*n-2*a*u/(r*r)-u/(t*t))/(e.desiredPixelFlow*Math.LN2)}function lTe(e,t){return-e.halfWindowSize*Math.log(e.compared.sourceZoom/t)/(e.desiredPixelFlow*Math.LN2)}function uTe(e,t){return e.halfWindowSize/(t*e.desiredPixelFlow*Math.LN2)}function cTe(e,t){return-e.halfWindowSize/(t*t*e.desiredPixelFlow*Math.LN2)}function dTe(e,t,i){return-e.compared.pan*e.halfWindowSize*(i.ascensionFactor+i.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t))}function hTe(e,t,i){return e.compared.pan*e.halfWindowSize*(i.ascensionFactor+i.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t*t))}function pTe(e,t,i){return-2*e.compared.pan*e.halfWindowSize*(i.ascensionFactor+i.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t*t*t))}function fTe(e,t,i){return e.halfWindowSize*(-e.halfWindowPanAtZoom(t)-i.descensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(e.compared.targetZoom))*Math.log(t/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2*e.halfWindowPanAtZoom(-t+e.compared.targetZoom))}function mTe(e,t,i){const r=Math.log(t/e.compared.targetZoom),s=1/e.desiredPixelFlow,n=1/Math.LN2,a=-t+e.compared.targetZoom,u=1/a,d=(-e.halfWindowPanAtZoom(t)-i.descensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(e.compared.targetZoom))/e.halfWindowPanAtZoom(1);return-e.halfWindowSize*r*s*n*u+e.halfWindowSize*r*s*n*d/(a*a)+e.halfWindowSize*s*n*u*d/t}function yTe(e,t,i){const r=t-e.compared.targetZoom,s=1/r,n=1/t,a=Math.log(t/e.compared.targetZoom),u=(e.halfWindowPanAtZoom(t)+i.descensionFactor*Math.LN2*e.compared.pan-e.halfWindowPanAtZoom(e.compared.targetZoom))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*s*(-2*s*n*u-2*s*a+2*n+2*a*u/(r*r)-u/(t*t))/(e.desiredPixelFlow*Math.LN2)}function gTe(e,t){return e.halfWindowSize*Math.log(t/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2)}function vTe(e,t){return e.halfWindowSize/(t*e.desiredPixelFlow*Math.LN2)}function bTe(e,t){return-e.halfWindowSize/(t*t*e.desiredPixelFlow*Math.LN2)}function wTe(e){const t=e.compared.sourceZoom-e.compared.targetZoom;if(t===0)return e.compared.pan*e.halfWindowSize/(e.desiredPixelFlow*e.halfWindowPanAtZoom(e.compared.sourceZoom));const i=Math.LN2*e.compared.pan,r=t,s=e.halfWindowPanAtZoom(r),n=e.halfWindowSize*Math.log(e.compared.sourceZoom/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2*s);return e.compared.sourceZoom<=e.compared.targetZoom?n*(i-s):n*(i+s)}function _Te(e,t){let i=STe(e,t);const r={ascensionFactor:t.ascensionFactor!=null?t.ascensionFactor:.5,descensionFactor:t.descensionFactor!=null?t.descensionFactor:.5},s=r.ascensionFactor===0,n=r.descensionFactor===0,a=s?lTe:nTe,u=s?uTe:oTe,d=s?cTe:aTe,f=n?gTe:fTe,g=n?vTe:mTe,v=n?bTe:yTe,w=k=>a(e,k,r)+dTe(e,k,r)+f(e,k,r),S=k=>u(e,k,r)+hTe(e,k,r)+g(e,k,r),T=k=>d(e,k,r)+pTe(e,k,r)+v(e,k,r);let E=w(i);const M=wTe(e);let R;const P=t.maximumIterations||20,N=t.maximumDistance!=null?t.maximumDistance:1/0;for(R=0;R<P;R++){const k=t.desiredSlope??1e-6;let U=S(i);Math.abs(U)>k&&(U+=k);const Z=U/T(i);if(isNaN(Z)||i>=N&&Z<0){if(!isFinite(N))return null;i=N,E=w(i);break}if(i-=Z,i<e.compared.sourceZoom||i<e.compared.targetZoom)return null;const re=w(i);if(Math.abs(re-E)/E<=.005)break;E=re}return E>M*(1-.3)||i<e.compared.sourceZoom||i<e.compared.targetZoom?null:i}function STe(e,t){const i=Math.max(e.compared.sourceZoom,e.compared.targetZoom),r=e.source.zoomAtPixelsPerPan(e.desiredPixelFlow/e.compared.pan)/2;return r<i?t.maximumDistance!=null?i+(t.maximumDistance-i)/2:1.5*i:t.maximumDistance?Math.min(t.maximumDistance,r):r}let TTe=class extends rTe{constructor(t,i){super(),this._preallocSegments=[new _M,new _M,new _M],this._ascensionSegment=null,this._descensionSegment=null,this.update(t,i)}update(t,i){if(!t)return;this.definition?this.definition.copyFrom(t):this.definition=t.clone();const r=i!=null&&i.apex?_Te(t,i.apex):null;this.segments.length=0,this._ascensionSegment=null,this._descensionSegment=null,r?this._updateWithApex(r,i==null?void 0:i.apex):this._updateWithoutApex()}segmentInterpolateComponentsAt(t,i,r){t.interpolateComponentsAt(i,r),t===this._ascensionSegment?r.zoom=WN(r.zoom):t===this._descensionSegment&&(r.zoom=RT(r.zoom))}_updateWithApex(t,i){const[r,s,n]=this._preallocSegments,a=(i==null?void 0:i.ascensionFactor)??.5,u=Math.min(1-a,(i==null?void 0:i.ascensionFactor)!=null&&i.descensionFactor!=null?i.descensionFactor:.5),d=1-a-u;r.definition?r.definition.copyFrom(this.definition):r.definition=this.definition.clone(),r.definition.compared.targetZoom=t,r.definition.compared.pan=this.definition.compared.pan*a,r.definition.compared.rotate=this.definition.compared.rotate*a,r.definition.segmentEnd=a,r.update(),this._ascensionSegment=r,this.segments.push(r),d>0&&(s.definition?s.definition.copyFrom(this.definition):s.definition=this.definition.clone(),s.definition.copyFrom(this.definition),s.definition.compared.sourceZoom=t,s.definition.compared.targetZoom=t,s.definition.compared.pan=this.definition.compared.pan*d,s.definition.compared.rotate=this.definition.compared.rotate*d,s.definition.segmentStart=r.definition.segmentEnd,s.definition.segmentEnd=r.definition.segmentEnd+d,s.update(),this.segments.push(s)),n.definition?n.definition.copyFrom(this.definition):n.definition=this.definition.clone(),n.definition.compared.sourceZoom=t,n.definition.compared.pan=this.definition.compared.pan*u,n.definition.compared.rotate=this.definition.compared.rotate*u,n.definition.segmentStart=a+d,n.update(),this._descensionSegment=n,this.segments.push(n)}_updateWithoutApex(){const[t]=this._preallocSegments;t.update(this.definition),this.segments.push(t)}};const ETe=new iTe;let $Te=class{get time(){return this._time}get isLinear(){return this.path.segments.length===1}constructor(t){this._time=0,this._easing=uC,this.definition=new tTe(t),this.path=new TTe}update(t,i,r){this.definition.update(t,i,r),this.path.update(this.definition,r),this._time=this._applyTimeSettings(XK(isFinite(this.path.time)?this.path.time:0),r),this._easing=r.easing??(this._time>=1e3?uC:KN)}cameraAt(t,i){t=Math.min(Math.max(0,t),1),t=this._normalizedEasing(t);const r=this.path.interpolateComponentsAt(t,ETe);i.interpolate(this.definition.source,this.definition.target,r)}_normalizedEasing(t){const i=this._easing(0,this._time),r=this._easing(1,this._time);return(this._easing(t,this._time)-i)/(r-i)}_applyTimeSettings(t,i){const r=i.speedFactor!=null?i.speedFactor:1,s=i.minDuration??a2.minDuration/r,n=i.maxDuration??a2.maxDuration/r;return t=i.duration!=null?i.duration:Math.min(Math.max(t/r,s),n)}};const xTe=2e3,MTe=64;let ATe=class{constructor(t){this._view=t,this._animation=new $Te(()=>new rj(this._view)),this._current=new rj(this._view)}get _source(){return this._animation.definition.source}get _target(){return this._animation.definition.target}get duration(){return this._animation.time}get animation(){return this._animation}update(t,i,r={}){Mr(this._current.viewpoint,t),Mr(this._source.viewpoint,t),Mr(this._target.viewpoint,i),this._animation.update(this._source,this._target,r)}applyRatio(t,i){this._animation.cameraAt(i,this._current),Mr(t,this._current.viewpoint)}},hf=class extends $e{constructor(t){super(t),this._animation=null,this._destinationViewState=new HN,this.updateFunction=null,this.easing=sj.ease,this.viewpoint=new gn({targetGeometry:new Be,scale:0,rotation:0}),this._updateTask=Yf({postRender:this._postRender.bind(this)}),this._updateTask.pause(),this._transition=new ATe(t.view)}destroy(){this._updateTask=Yt(this._updateTask)}get animation(){return this._animation}set animation(t){this._animation=t,this.view.animation=t}animate(t,i,r){this.stop();const s=this.viewpoint;Mr(s,i);const n=t.target;this._transition.update(this.viewpoint,n,{apex:{maximumDistance:Math.min(Math.min(i.scale,n.scale)*MTe,this.view.constraints.effectiveMinScale),desiredSlope:5e-8},duration:r==null?void 0:r.duration,maxDuration:(r==null?void 0:r.animationMode)==="auto"?1/0:(r==null?void 0:r.maxDuration)??gY.maxDuration,speedFactor:r==null?void 0:r.speedFactor,easing:(typeof(r==null?void 0:r.easing)=="string"?sj[r.easing]:r==null?void 0:r.easing)||this.easing}),(r==null?void 0:r.animationMode)==="auto"&&(this._destinationViewState.copy(this.view.state),this._destinationViewState.viewpoint=n,OTe(this._transition.animation,r,this.view.state,this._destinationViewState)||this._transition.update(this.viewpoint,n,{duration:0}));const a=()=>{this.animation===t&&this._updateTask&&(t.state==="finished"&&(this._transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return t.when(a,a),this._startTime=performance.now(),this._updateTask.resume(),this.animation=t,t}animateContinuous(t,i){this.stop(),this.updateFunction=i,this.viewpoint=t;const r=new sC({target:t.clone()}),s=()=>{this.animation===r&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return r.when(s,s),this._startTime=performance.now(),this._updateTask.resume(),this.animation=r,r}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(t){var r,s;const i=this.animation;if(i&&i.state!==sC.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,t.deltaTime),(r=this.animation)==null||r.update(this.viewpoint);else{const n=performance.now()-this._startTime,a=this._transition.duration,u=a>0?n/a:1,d=u>=1;this._transition.applyRatio(this.viewpoint,u),d&&((s=this.animation)==null||s.finish())}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};function OTe(e,t,i,r){if((t==null?void 0:t.duration)!=null)return!0;const{time:s,isLinear:n}=e,a=(t==null?void 0:t.speedFactor)||1;if(s>((t==null?void 0:t.maxDuration)??gY.maxDuration/a))return!1;if(n){const d=si(),f=tr(...r.toScreen(d,...i.center)),g=tr(...i.toScreen(d,...r.center)),v=g!=null&&g.x>-1*i.size[0]&&g.x<(1.5+.5)*i.size[0]&&g.y>-1*i.size[1]&&g.y<(1.5+.5)*i.size[1],w=f!=null&&f.x>-1*r.size[0]&&f.x<(1.5+.5)*r.size[0]&&f.y>-1*r.size[1]&&f.y<(1.5+.5)*r.size[1];if(s>xTe/a&&!v&&!w)return!1}return!0}c([p()],hf.prototype,"easing",void 0),c([p()],hf.prototype,"view",void 0),c([p()],hf.prototype,"viewpoint",void 0),hf=c([O("esri.views.2d.AnimationManager")],hf);const RTe=hf;function zt(){return Promise.all([ue(()=>import("./webglDeps-CJo9h2dc.js"),__vite__mapDeps([202,163,15,203,204,205]),import.meta.url),ue(()=>import("./mapViewDeps-BhcEllAr.js"),__vite__mapDeps([206,128,94,95,14,15,96,97,98,99,93,66,207,102,208,203,163,204,167,143,209,120,210,150,149,106,13,16,100,108,211,103,104,105,172,34,148,202,205,212,115,213,92,45,41,47,2,214,156,157,141,165,215,82,216,107,217,218,101,219,71,112,90,220,221,222,223,159,224,225]),import.meta.url)])}const rg=()=>zt().then(()=>ue(()=>import("./TileLayerView2D-hZCLDauB.js"),__vite__mapDeps([226,128,98,94,95,14,15,96,97,99,93,66,172,34,210,209,204,163,120,150,149,106,13,16,148,212,208,203,167,143,207,102,100,108,115,213,92,45,41,47,2,82,103,104,105,156,157,141,219,71,112,90,227,228,223,229,199,230,221,222,231,232,233,234,235,236]),import.meta.url)),Zc=()=>zt().then(()=>ue(()=>import("./FeatureLayerView2D-C5tAUyco.js").then(e=>e.F),__vite__mapDeps([237,210,13,14,15,16,238,239,189,45,41,50,229,199,222,94,95,96,97,98,99,93,66,203,163,223,209,204,120,150,149,106,207,102,208,167,143,100,108,115,211,240,114,233,236,231]),import.meta.url)),nj={"base-dynamic":()=>zt().then(()=>ue(()=>import("./BaseDynamicLayerView2D-D7sTnDbN.js"),__vite__mapDeps([241,242,209,93,66,204,163,15,120,210,150,149,106,13,14,16,228,208,203,167,143,102,229,199,243,231]),import.meta.url)),"base-tile":rg,"bing-maps":rg,catalog:()=>zt().then(()=>ue(()=>import("./CatalogLayerView2D-CuvvuQOF.js"),__vite__mapDeps([244,229,210,199]),import.meta.url)),"catalog-dynamic-group":()=>zt().then(()=>ue(()=>import("./CatalogDynamicGroupLayerView2D-77muOj4q.js"),__vite__mapDeps([245,229,210,199]),import.meta.url)),"catalog-footprint":()=>zt().then(()=>ue(()=>import("./CatalogFootprintLayerView2D-B0Xqq66J.js"),__vite__mapDeps([246,237,210,13,14,15,16,238,239,189,45,41,50,229,199,222,94,95,96,97,98,99,93,66,203,163,223,209,204,120,150,149,106,207,102,208,167,143,100,108,115,211,240,114,233,236,231]),import.meta.url)),csv:Zc,"geo-rss":()=>zt().then(()=>ue(()=>import("./GeoRSSLayerView2D-tND0QvFh.js"),__vite__mapDeps([247,229,210,199,220,221,222,94,95,14,15,96,97,98,99,93,66,203,163,223,209,204,120,150,149,106,13,16,207,102,208,167,143,100,108,219,172,128,34,92,45,41,47,2,71,112,90]),import.meta.url)),feature:Zc,geojson:Zc,parquet:Zc,graphics:()=>zt().then(()=>ue(()=>import("./GraphicsLayerView2D-CK0j6WVz.js"),__vite__mapDeps([248,229,210,199,220,221,222,94,95,14,15,96,97,98,99,93,66,203,163,223,209,204,120,150,149,106,13,16,207,102,208,167,143,100,108,219,172,128,34,92,45,41,47,2,71,112,90]),import.meta.url)),group:()=>zt().then(()=>ue(()=>import("./GroupLayerView2D-BGwg1knF.js"),__vite__mapDeps([249,229,210,199]),import.meta.url)),imagery:()=>zt().then(()=>ue(()=>import("./ImageryLayerView2D-BZJ0RSUw.js"),__vite__mapDeps([250,251,163,15,66,126,209,93,204,120,210,150,149,106,13,14,16,229,199,219,94,95,96,97,98,99,172,128,34,92,45,41,47,2,207,102,208,203,167,143,100,108,71,112,90,230,221,222,223,242,228,243,130,238,236,231]),import.meta.url)),"imagery-tile":()=>zt().then(()=>ue(()=>import("./ImageryTileLayerView2D-B7rNL_in.js"),__vite__mapDeps([252,253,251,163,15,66,126,209,93,204,120,210,150,149,106,13,14,16,229,199,254,217,105,203,223,255,130,238,236,231]),import.meta.url)),kml:()=>zt().then(()=>ue(()=>import("./KMLLayerView2D-BxfBiCcT.js"),__vite__mapDeps([256,257,228,210,208,203,163,15,204,167,143,102,242,209,93,66,120,150,149,106,13,14,16,229,199,220,221,222,94,95,96,97,98,99,223,207,100,108,219,172,128,34,92,45,41,47,2,71,112,90,130,217,105,214,202,205,156,157,141,213,165,254]),import.meta.url)),"knowledge-graph":()=>zt().then(()=>ue(()=>import("./KnowledgeGraphLayerView2D-ByCLs61D.js"),__vite__mapDeps([258,229,210,199]),import.meta.url)),"link-chart":()=>zt().then(()=>ue(()=>import("./KnowledgeGraphLayerView2D-ByCLs61D.js"),__vite__mapDeps([258,229,210,199]),import.meta.url)),"knowledge-graph-sublayer":Zc,"map-image":()=>zt().then(()=>ue(()=>import("./MapImageLayerView2D-D_2rhIft.js"),__vite__mapDeps([259,242,209,93,66,204,163,15,120,210,150,149,106,13,14,16,228,208,203,167,143,102,229,199,219,94,95,96,97,98,99,172,128,34,92,45,41,47,2,207,100,108,71,112,90,230,221,222,223,243,260,233,235,238,231,232,234,236]),import.meta.url)),"map-notes":()=>zt().then(()=>ue(()=>import("./MapNotesLayerView2D-CkgEf03D.js"),__vite__mapDeps([261,229,210,199,220,221,222,94,95,14,15,96,97,98,99,93,66,203,163,223,209,204,120,150,149,106,13,16,207,102,208,167,143,100,108,219,172,128,34,92,45,41,47,2,71,112,90]),import.meta.url)),media:()=>zt().then(()=>ue(()=>import("./MediaLayerView2D-BCnt3Bbs.js"),__vite__mapDeps([262,263,112,71,128,98,94,95,14,15,96,97,99,93,66,172,34,210,209,204,163,120,150,149,106,13,16,148,212,208,203,167,143,207,102,100,108,115,213,92,45,41,47,2,82,103,104,105,156,157,141,219,90,216,107,264,218,229,199]),import.meta.url)),"ogc-feature":()=>zt().then(()=>ue(()=>import("./OGCFeatureLayerView2D-BEBZ7IWU.js"),__vite__mapDeps([265,237,210,13,14,15,16,238,239,189,45,41,50,229,199,222,94,95,96,97,98,99,93,66,203,163,223,209,204,120,150,149,106,207,102,208,167,143,100,108,115,211,240,114,233,236,231]),import.meta.url)),"open-street-map":rg,"oriented-imagery":Zc,route:()=>zt().then(()=>ue(()=>import("./RouteLayerView2D-iJZYTEy8.js"),__vite__mapDeps([266,267,268,229,210,199,220,221,222,94,95,14,15,96,97,98,99,93,66,203,163,223,209,204,120,150,149,106,13,16,207,102,208,167,143,100,108,219,172,128,34,92,45,41,47,2,71,112,90]),import.meta.url)),stream:()=>zt().then(()=>ue(()=>import("./StreamLayerView2D-DT2CxrXg.js"),__vite__mapDeps([269,237,210,13,14,15,16,238,239,189,45,41,50,229,199,222,94,95,96,97,98,99,93,66,203,163,223,209,204,120,150,149,106,207,102,208,167,143,100,108,115,211,240,114,233,236,231]),import.meta.url)),"subtype-group":()=>zt().then(()=>ue(()=>import("./SubtypeGroupLayerView2D-iOtpClJi.js"),__vite__mapDeps([270,237,210,13,14,15,16,238,239,189,45,41,50,229,199,222,94,95,96,97,98,99,93,66,203,163,223,209,204,120,150,149,106,207,102,208,167,143,100,108,115,211,240,114,233,236,231]),import.meta.url)),tile:rg,"vector-tile":()=>zt().then(()=>ue(()=>import("./VectorTileLayerView2D-B2ZFOQaD.js"),__vite__mapDeps([271,148,99,82,15,97,98,96,163,149,209,93,66,204,120,210,150,106,13,14,16,223,53,151,152,128,229,199,231]),import.meta.url)),video:()=>zt().then(()=>ue(()=>import("./VideoLayerView2D-DEmMVEPU.js"),__vite__mapDeps([272,273,274,264,120,209,93,66,204,163,15,210,150,149,106,13,14,16,207,94,95,96,97,98,99,102,208,203,167,143,100,108,218,229,199,220,221,222,223,219,172,128,34,92,45,41,47,2,71,112,90]),import.meta.url)),wcs:()=>zt().then(()=>ue(()=>import("./ImageryTileLayerView2D-B7rNL_in.js"),__vite__mapDeps([252,253,251,163,15,66,126,209,93,204,120,210,150,149,106,13,14,16,229,199,254,217,105,203,223,255,130,238,236,231]),import.meta.url)),"web-tile":rg,wfs:Zc,wms:()=>zt().then(()=>ue(()=>import("./WMSLayerView2D-Be5B_PnX.js"),__vite__mapDeps([275,242,209,93,66,204,163,15,120,210,150,149,106,13,14,16,228,208,203,167,143,102,229,199,243,231,276,238]),import.meta.url)),wmts:()=>zt().then(()=>ue(()=>import("./WMTSLayerView2D-Cs2nGsh9.js"),__vite__mapDeps([277,227,228,210,208,203,163,15,204,167,143,102,209,93,66,120,150,149,106,13,14,16,223,229,199,231]),import.meta.url)),"line-of-sight":null,"base-elevation":null,"building-scene":null,dimension:null,elevation:null,"integrated-mesh":null,"integrated-mesh-3dtiles":null,"point-cloud":null,viewshed:null,voxel:null,scene:null,unknown:null,unsupported:null};function CTe(e){const t=e.declaredClass?e.declaredClass.slice(e.declaredClass.lastIndexOf(".")+1):"Unknown",i=t.replaceAll(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new z(`${i}:view-not-supported`,`${t} is not supported in 2D`)}const oj={hasLayerViewModule:e=>nj[e.type]!=null,importLayerView:e=>{const t=nj[e.type];if(t==null)throw CTe(e);return t(e)}};let cc=class Pd{static getId(t,i,r,s){return typeof t=="object"?`${t.level}/${t.row}/${t.col}/${t.world}`:`${t}/${i}/${r}/${s}`}constructor(t,i,r,s){this.set(t,i,r,s)}get key(){return this}get id(){return this.toString()}get normalizedId(){return`${this.level}/${this.row}/${this.col}`}set id(t){this.set(t)}get hash(){const t=4095&this.row,i=4095&this.col,r=63&this.level;return(3&this.world)<<30|i<<22|t<<8|r}acquire(t,i,r,s){this.set(t,i,r,s)}contains(t){const i=t.level-this.level;return i>=0&&this.row===t.row>>i&&this.col===t.col>>i&&this.world===t.world}containsChild(t){const i=t.level-this.level;return i>0&&this.row===t.row>>i&&this.col===t.col>>i&&this.world===t.world}equals(t){return this.level===t.level&&this.row===t.row&&this.col===t.col&&this.world===t.world}clone(){return new Pd(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(t,i,r,s){if(t==null)this.level=0,this.row=0,this.col=0,this.world=0;else if(typeof t=="object")this.level=t.level||0,this.row=t.row||0,this.col=t.col||0,this.world=t.world||0;else if(typeof t=="string"){const[n,a,u,d]=t.split("/");this.level=parseFloat(n),this.row=parseFloat(a),this.col=parseFloat(u),this.world=parseFloat(d)}else this.level=+t,this.row=+i,this.col=+r,this.world=+s||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new Pd(this.level-1,this.row>>1,this.col>>1,this.world)}getNormalizedNeighbor(t,i,r){const s=this.clone();return s.col+=t,s.row+=i,r.normalizeKey(s),s}getChildKeys(){const t=this.level+1,i=this.row<<1,r=this.col<<1,s=this.world;return[new Pd(t,i,r,s),new Pd(t,i,r+1,s),new Pd(t,i+1,r,s),new Pd(t,i+1,r+1,s)]}compareRowMajor(t){return this.row<t.row?-1:this.row>t.row?1:this.col<t.col?-1:this.col>t.col?1:0}};cc.pool=new vh(cc,null,null,25,50);function xp(e,t){return[e,t]}function Yc(e,t,i){return e[0]=t,e[1]=i,e}function ITe(e,t,i,r,s){return e[0]=t,e[1]=i,e[2]=r,e[3]=s,e}const Fn=new cc("0/0/0/0");let NTe=class bY{static create(t,i,r=null){const s=Br(t.spatialReference),n=i.origin||xp(t.origin.x,t.origin.y),a=xp(t.size[0]*i.resolution,t.size[1]*i.resolution),u=xp(-1/0,-1/0),d=xp(1/0,1/0),f=xp(1/0,1/0);r!=null&&(Yc(u,Math.max(0,Math.floor((r.xmin-n[0])/a[0])),Math.max(0,Math.floor((n[1]-r.ymax)/a[1]))),Yc(d,Math.max(0,Math.floor((r.xmax-n[0])/a[0])),Math.max(0,Math.floor((n[1]-r.ymin)/a[1]))),Yc(f,d[0]-u[0]+1,d[1]-u[1]+1));const{cols:g,rows:v}=i;let w,S,T,E;return!r&&g&&v&&(Yc(u,g[0],v[0]),Yc(d,g[1],v[1]),Yc(f,g[1]-g[0]+1,v[1]-v[0]+1)),t.isWrappable?(w=xp(Math.ceil(Math.round((s.valid[1]-s.valid[0])/i.resolution)/t.size[0]),f[1]),S=!0,T=s.origin,E=s.valid):(w=f,S=!1),new bY(i.level,i.resolution,i.scale,n,u,d,f,a,w,S,T,E)}constructor(t,i,r,s,n,a,u,d,f,g,v,w){this.level=t,this.resolution=i,this.scale=r,this.origin=s,this.first=n,this.last=a,this.size=u,this.norm=d,this.worldSize=f,this.wrap=g,this._spatialReferenceOrigin=v,this._spatialReferenceValid=w}normalizeCol(t){if(!this.wrap)return t;const i=this.worldSize[0];return t<0?i-1-Math.abs((t+1)%i):t%i}normalizeKey(t){if(!this.wrap)return;const i=this.worldSize[0],r=t.col;r<0?(t.col=r+i,t.world-=1):r>=i&&(t.col=r-i,t.world+=1)}denormalizeCol(t,i){return this.wrap?this.worldSize[0]*i+t:t}getWorldForColumn(t){return this.wrap?Math.floor(t/this.worldSize[0]):0}getFirstColumnForWorld(t){return t*this.worldSize[0]+this.first[0]}getLastColumnForWorld(t){return t*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(t){return(t-this.origin[0])/this.norm[0]}getXForColumn(t){const i=this.origin[0]+t*this.norm[0],r=this._spatialReferenceOrigin,s=this._spatialReferenceValid;return this.wrap&&r&&s?i===r[0]?s[0]:this.origin[0]===r[0]&&t===this.worldSize[0]?s[1]:i:i}getRowForY(t){return(this.origin[1]-t)/this.norm[1]}getYForRow(t){return this.origin[1]-t*this.norm[1]}getTileBounds(t,i,r=!1){Fn.set(i);const s=r?Fn.col:this.denormalizeCol(Fn.col,Fn.world),n=Fn.row;return ITe(t,this.getXForColumn(s),this.getYForRow(n+1),this.getXForColumn(s+1),this.getYForRow(n)),t}getTileCoords(t,i,r=!1){Fn.set(i);const s=r?Fn.col:this.denormalizeCol(Fn.col,Fn.world);return Array.isArray(t)?Yc(t,this.getXForColumn(s),this.getYForRow(Fn.row)):(t.x=this.getXForColumn(s),t.y=this.getYForRow(Fn.row)),t}},Tv=class{constructor(){this.spans=[]}acquire(t){this.lodInfo=t}release(){this.lodInfo=null,this.spans.length=0}*keys(){const t=this.lodInfo;for(const{row:i,colFrom:r,colTo:s}of this.spans)for(let n=r;n<=s;n++){const a=t.getWorldForColumn(n);yield new cc(t.level,i,t.normalizeCol(n),a)}}forEach(t,i){const{spans:r,lodInfo:s}=this,{level:n}=s;if(r.length!==0)for(const{row:a,colFrom:u,colTo:d}of r)for(let f=u;f<=d;f++)t.call(i,n,a,s.normalizeCol(f),s.getWorldForColumn(f))}};Tv.pool=new vh(Tv);let SM=class{constructor(t,i,r){this.row=t,this.colFrom=i,this.colTo=r}};const Gt=new cc("0/0/0/0");let PTe=class wY{static create(t,i){t[1]>i[1]&&([t,i]=[i,t]);const[r,s]=t,[n,a]=i,u=n-r,d=a-s,f=d!==0?u/d:0,g=(Math.ceil(s)-s)*f,v=(Math.floor(s)-s)*f;return new wY(r,Math.floor(s),Math.ceil(a),f,u<0?g:v,u<0?v:g,u<0?n:r,u<0?r:n)}constructor(t,i,r,s,n,a,u,d){this.x=t,this.ymin=i,this.ymax=r,this.invM=s,this.leftAdjust=n,this.rightAdjust=a,this.leftBound=u,this.rightBound=d}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}};const Es=[[0,0],[0,0],[0,0],[0,0]],LTe=1e-6;let DTe=class{constructor(t,i=null,r=t.lods[0].level,s=t.lods[t.lods.length-1].level){this.tileInfo=t,this.fullExtent=i,this.scales=[],this._infoByScale={},this._infoByLevel={};const n=t.lods.filter(u=>u.level>=r&&u.level<=s);this.minScale=n[0].scale,this.maxScale=n[n.length-1].scale;const a=this._lodInfos=n.map(u=>NTe.create(t,u,i));n.forEach((u,d)=>{this._infoByLevel[u.level]=a[d],this._infoByScale[u.scale]=a[d],this.scales[d]=u.scale},this),this._wrap=t.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(t){return this._infoByLevel[typeof t=="number"?t:t.level]}getTileBounds(t,i,r=!1){Gt.set(i);const s=this._infoByLevel[Gt.level];return s?s.getTileBounds(t,Gt,r):t}getTileCoords(t,i,r=!1){Gt.set(i);const s=this._infoByLevel[Gt.level];return s?s.getTileCoords(t,Gt,r):t}getTileCoverage(t,i=192,r=!0,s="closest"){if(!r&&(t.scale>this.minScale||t.scale<this.maxScale))return null;const n=s==="closest"?this.getClosestInfoForScale(t.scale):this.getSmallestInfoForScale(t.scale),a=Tv.pool.acquire(n),u=this._wrap;let d,f,g,v=1/0,w=-1/0;const S=a.spans;Es[0][0]=Es[0][1]=Es[1][1]=Es[3][0]=-i,Es[1][0]=Es[2][0]=t.size[0]+i,Es[2][1]=Es[3][1]=t.size[1]+i;for(const R of Es)t.toMap(R,R),R[0]=n.getColumnForX(R[0]),R[1]=n.getRowForY(R[1]);const T=[];let E=3;for(let R=0;R<4;R++){if(Es[R][1]===Es[E][1]){E=R;continue}const P=PTe.create(Es[R],Es[E]);v=Math.min(P.ymin,v),w=Math.max(P.ymax,w),T[P.ymin]===void 0&&(T[P.ymin]=[]),T[P.ymin].push(P),E=R}if(v==null||w==null||w-v>100)return null;let M=[];for(d=v;d<w;){T[d]!=null&&(M=M.concat(T[d])),f=1/0,g=-1/0;for(let R=M.length-1;R>=0;R--){const P=M[R];f=Math.min(f,P.getLeftCol()),g=Math.max(g,P.getRightCol())}if(f=Math.floor(f),g=Math.floor(g),d>=n.first[1]&&d<=n.last[1])if(u)if(n.size[0]<n.worldSize[0]){const R=Math.floor(g/n.worldSize[0]);for(let P=Math.floor(f/n.worldSize[0]);P<=R;P++)S.push(new SM(d,Math.max(n.getFirstColumnForWorld(P),f),Math.min(n.getLastColumnForWorld(P),g)))}else S.push(new SM(d,f,g));else f>n.last[0]||g<n.first[0]||(f=Math.max(f,n.first[0]),g=Math.min(g,n.last[0]),S.push(new SM(d,f,g)));d+=1;for(let R=M.length-1;R>=0;R--){const P=M[R];P.ymax>=d?P.incrRow():M.splice(R,1)}}return a}getTileParentId(t){Gt.set(t);const i=this._infoByLevel[Gt.level],r=this._lodInfos.indexOf(i)-1;return r<0?null:(this._getTileIdAtLOD(Gt,this._lodInfos[r],Gt),Gt.id)}getTileResolution(t){const i=this._infoByLevel[typeof t=="object"?t.level:t];return i?i.resolution:-1}getTileScale(t){const i=this._infoByLevel[t.level];return i?i.scale:-1}intersects(t,i){Gt.set(i);const r=this._infoByLevel[Gt.level],s=t.lodInfo;if(s.resolution>r.resolution){this._getTileIdAtLOD(Gt,s,Gt);const a=s.denormalizeCol(Gt.col,Gt.world);for(const u of t.spans)if(u.row===Gt.row&&u.colFrom<=a&&u.colTo>=a)return!0}if(s.resolution<r.resolution){const[a,u,d,f]=t.spans.reduce((E,M)=>(E[0]=Math.min(E[0],M.row),E[1]=Math.max(E[1],M.row),E[2]=Math.min(E[2],M.colFrom),E[3]=Math.max(E[3],M.colTo),E),[1/0,-1/0,1/0,-1/0]),g=r.denormalizeCol(Gt.col,Gt.world),v=s.getColumnForX(r.getXForColumn(g)),w=s.getRowForY(r.getYForRow(Gt.row)),S=s.getColumnForX(r.getXForColumn(g+1))-1,T=s.getRowForY(r.getYForRow(Gt.row+1))-1;return!(v>f||S<d||w>u||T<a)}const n=s.denormalizeCol(Gt.col,Gt.world);return t.spans.some(a=>a.row===Gt.row&&a.colFrom<=n&&a.colTo>=n)}normalizeBounds(t,i,r){if(t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],this._wrap){const s=Br(this.tileInfo.spatialReference),n=-r*(s.valid[1]-s.valid[0]);t[0]+=n,t[2]+=n}return t}getSmallestInfoForScale(t){const i=this.scales;if(this._infoByScale[t])return this._infoByScale[t];if(t>i[0])return this._infoByScale[i[0]];for(let r=1;r<i.length-1;r++)if(t>i[r]+LTe)return this._infoByScale[i[r-1]];return this._infoByScale[i[i.length-1]]}getClosestInfoForScale(t){const i=this.scales;return this._infoByScale[t]||(t=i.reduce((r,s)=>Math.abs(s-t)<Math.abs(r-t)?s:r,i[0])),this._infoByScale[t]}scaleToLevel(t){const i=this.scales;if(this._infoByScale[t])return this._infoByScale[t].level;for(let r=i.length-1;r>=0;r--)if(t<i[r])return r===i.length-1?this._infoByScale[i[i.length-1]].level:this._infoByScale[i[r]].level+(i[r]-t)/(i[r]-i[r+1]);return this._infoByScale[i[0]].level}scaleToZoom(t){return this.tileInfo.scaleToZoom(t)}zoomToScale(t){return this.tileInfo.zoomToScale(t)}_getTileIdAtLOD(t,i,r){const s=this._infoByLevel[r.level];return t.set(r),i.resolution<s.resolution?null:(i.resolution===s.resolution||(t.level=i.level,t.col=Math.floor(r.col*s.resolution/i.resolution+.01),t.row=Math.floor(r.row*s.resolution/i.resolution+.01)),t)}},kTe=class{constructor(t,i){this.item=t,this.controller=i,this.promise=null}},FTe=class{constructor(t){this._schedule=null,this._task=null,this._deferreds=new G_,this._controllers=new G_,this._processingItems=new G_,this._pausedSignal=dm(!1),this.concurrency=1,t.concurrency&&(this.concurrency=t.concurrency),this._queue=new zS(t.peeker),this.process=t.process;const i=t.scheduler;t.priority&&i&&(this._task=i.registerTask(t.priority,this))}destroy(){this.clear(),this._schedule=Yt(this._schedule),this._task=Yt(this._task)}get updating(){var t;return!!((t=this._task)!=null&&t.updating)||this.running}get length(){return this._processingItems.size+this._queue.length}abort(t){const i=this._controllers.get(t);i&&i.abort()}clear(){this._queue.clear();const t=[];this._controllers.forEach(i=>t.push(i)),this._controllers.clear(),t.forEach(i=>i.abort()),this._processingItems.clear(),this._cancelNext()}forEach(t){this._deferreds.forEach((i,r)=>t(r))}get(t){const i=this._deferreds.get(t);return i?i.promise:void 0}isOngoing(t){return this._processingItems.has(t)}has(t){return this._deferreds.has(t)}pause(){this._pausedSignal.value||(this._pausedSignal.value=!0,this._cancelNext())}push(t,i){const r=this.get(t);if(r)return r;const s=new AbortController;let n=null;i&&(n=yn(i,()=>s.abort()));const a=()=>{const g=this._processingItems.get(t);g&&g.controller.abort(),u(),f.reject(Dt())},u=()=>{d.remove(),n!=null&&n.remove(),this._removeItem(t),this._queue.remove(t),this._scheduleNext()},d=MC(s.signal,a),f=zs();return this._deferreds.set(t,f),this._controllers.set(t,s),f.promise.then(u,u),this._queue.push(t),this._scheduleNext(),f.promise}last(){return this._queue.last()}lastPromise(){const t=this.last();return t?this.get(t):null}peek(){return this._queue.peek()}popLast(){var i;const t=this._queue.popLast();return t&&((i=this._deferreds.get(t))==null||i.reject(Dt()),this._removeItem(t)),t}reset(){const t=Array.from(this._processingItems.values());this._processingItems.clear();for(const i of t)this._queue.push(i.item),i.controller.abort();this._scheduleNext()}resume(){this._pausedSignal.value&&(this._pausedSignal.value=!1,this._scheduleNext())}takeAll(){const t=[];for(;this._queue.length;)t.push(this._queue.pop());return this.clear(),t}get running(){return!this._pausedSignal.value&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(t){for(;!t.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),t.madeProgress()}_removeItem(t){this._deferreds.delete(t),this._controllers.delete(t),this._processingItems.delete(t)}_scheduleNext(){this._task||this._pausedSignal.value||this._schedule||(this._schedule=Nv(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(t,i){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).resolve(i))}_processError(t,i){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).reject(i))}_canProcessFulfillment(t){return!!this._deferreds.get(t.item)&&this._processingItems.get(t.item)===t}_process(t){if(t==null)return;let i;const r=new AbortController,s=new kTe(t,r);this._processingItems.set(t,s);try{i=this.process(t,r.signal)}catch(n){this._processError(s,n)}ta(i)?(s.promise=i,i.then(n=>this._processResult(s,n),n=>this._processError(s,n))):this._processResult(s,i)}get test(){}};const aj=[0,0];let Ba=class extends $e{constructor(t){super(t),this._keyToItem=new Map,this._tilesByScale=new Map,this.concurrency=6}initialize(){const{concurrency:t,process:i,scheduler:r,priority:s}=this;this._queue=new FTe({concurrency:t,scheduler:r,priority:s,process:(n,a)=>{const u=this._keyToItem.get(n);return i(u,{signal:a})},peeker:n=>this._peek(n)})}destroy(){this.clear(),this._queue=Zt(this._queue)}get length(){return this._queue?this._queue.length:0}abort(t){const i=typeof t=="string"?t:t.id;this._queue.abort(i)}clear(){this._queue.clear(),this._keyToItem.clear(),this._tilesByScale.clear()}has(t){return typeof t=="string"?this._keyToItem.has(t):this._keyToItem.has(t.id)}pause(){this._queue.pause()}push(t){const i=t.key.id;if(this._queue.has(i))return this._queue.get(i);const r=this._queue.push(i),s=this.tileInfoView.getTileScale(t.key),n=Pv(this._tilesByScale,s,()=>new Set),a=()=>{n.delete(t.key),n.size===0&&this._tilesByScale.delete(s),this._keyToItem.delete(i)};return n.add(t.key),this._keyToItem.set(i,t),r.then(a,a),r}reset(){this._queue.reset()}resume(){this._queue.resume()}_peek(t){if(!this.state)return t.values().next().value;const i=new Set;for(const a of t)i.add(this._keyToItem.get(a).key);const r=this.state.scale;let s,n=Number.POSITIVE_INFINITY;for(const[a,u]of this._tilesByScale)if(fz(u,d=>i.has(d))){const d=Math.abs(a-r);d<n&&(s=u,n=d)}return this._getClosestTileKey(s,t).id}_getClosestTileKey(t,i){const r=this.tileInfoView,s=this.state.center;let n,a=Number.POSITIVE_INFINITY;for(const u of t)if(i.has(u.id)){r.getTileCoords(aj,u);const d=$T(aj,s);d<a&&(a=d,n=u)}return n}};c([p({constructOnly:!0})],Ba.prototype,"concurrency",void 0),c([p({constructOnly:!0})],Ba.prototype,"priority",void 0),c([p({constructOnly:!0})],Ba.prototype,"process",void 0),c([p({constructOnly:!0})],Ba.prototype,"scheduler",void 0),c([p()],Ba.prototype,"state",void 0),c([p({constructOnly:!0})],Ba.prototype,"tileInfoView",void 0),Ba=c([O("esri.views.2d.tiling.TileQueue")],Ba);const HLe=Ba;let jTe=class{constructor(t,i,r){this.maxSize=t,this._tileInfoView=i,this._removedFunc=r,this._tilePerId=new Map,this._tileKeysPerLevel=[]}clear(){this._tilePerId.clear(),this._tileKeysPerLevel=[]}has(t){return this._tilePerId.has(t)}get(t){return this._tilePerId.get(t)}pop(t){const i=this._tilePerId.get(t);if(!i)return;const r=i.key.level,s=this._tileKeysPerLevel[r];lj(this._tilePerId,t);for(let n=0;n<s.length;n++)if(s[n].id===t){s.splice(n,1);break}return i.visible=!0,i}add(t){t.visible=!1;const i=t.key,r=i.id;if(this._tilePerId.has(r))return;this._tilePerId.set(r,t);const s=i.level;this._tileKeysPerLevel[s]||(this._tileKeysPerLevel[s]=[]),this._tileKeysPerLevel[s].push(i)}prune(t,i,r){let s=this._tilePerId.size;if(s<=this.maxSize)return;let n=this._tileKeysPerLevel.length-1;for(;s>this.maxSize&&n>=0;)n!==t&&(s=this._pruneAroundCenterTile(s,i,r,n)),n--;s>this.maxSize&&(s=this._pruneAroundCenterTile(s,i,r,t))}_pruneAroundCenterTile(t,i,r,s){const n=this._tileKeysPerLevel[s];if(!n||n.length===0)return t;const{size:a,origin:u}=this._tileInfoView.tileInfo,d=r*a[0],f=r*a[1],g=[0,0],v=[0,0];for(n.sort((w,S)=>(g[0]=u.x+d*(w.col+.5),g[1]=u.y-f*(w.row+.5),v[0]=u.x+d*(S.col+.5),v[1]=u.y-f*(S.row+.5),r2(g,i)-r2(v,i)));n.length>0;){const w=n.pop();if(this._removeTile(w.id),--t===this.maxSize)break}return t}_removeTile(t){const i=this._tilePerId.get(t);this._removedFunc&&i&&this._removedFunc(i),lj(this._tilePerId,t)}};function lj(e,t){e.delete(t)}const Jc=new cc(0,0,0,0),Ea=new Map,sg=[],TM=[];let ZLe=class{constructor(t){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=t.acquireTile,this.releaseTile=t.releaseTile,this.tileInfoView=t.tileInfoView,t.resampling!=null&&(this.resampling=t.resampling),t.cachePolicy&&(this.cachePolicy=t.cachePolicy),t.coveragePolicy&&(this.coveragePolicy=t.coveragePolicy),t.buffer!=null&&(this.buffer=t.buffer),t.cacheSize&&(this._tileCache=new jTe(t.cacheSize,this.tileInfoView,i=>{this.releaseTile(i)}))}destroy(){this.tileIndex.clear()}update(t){var R,P;const{resampling:i,tileIndex:r}=this,{scale:s,center:n,resolution:a}=t.state,{minScale:u,maxScale:d}=this.tileInfoView,f=!t.stationary&&s>this._previousScale;if(this._previousScale=s,!i&&(s>u||s<d))return this.tiles.length=0,void this.clear();const g=this.tileInfoView.getTileCoverage(t.state,this.buffer,this.resampling,this.coveragePolicy);if(!g)return this.tiles.length=0,void this.clear();const{spans:v,lodInfo:w}=g,{level:S}=w;this.tiles.length=0,r.forEach(N=>N.visible=!0);let T=0,E=0;if(v.length>0)for(const{row:N,colFrom:k,colTo:U}of v)for(let Z=k;Z<=U;Z++){T++;const re=Jc.set(S,N,w.normalizeCol(Z),w.getWorldForColumn(Z)).id;let oe=r.get(re);if(oe)oe.isReady?(Ea.set(re,oe),E++):f||this._addParentTile(re,Ea);else{if((R=this._tileCache)!=null&&R.has(re)){if(oe=this._tileCache.pop(re),this.tileIndex.set(re,oe),oe.isReady){Ea.set(re,oe),E++;continue}}else oe=this.acquireTile(Jc),this.tileIndex.set(re,oe);f||this._addParentTile(re,Ea)}}const M=E===T;for(const[N,k]of r){if(Ea.has(N))continue;Jc.set(N);const U=this.tileInfoView.intersects(g,Jc),Z=this.cachePolicy==="purge"?Jc.level!==S:Jc.level>S;!U||!f&&M?!Z&&U||sg.push(k):k.isReady?Z&&this.cachePolicy==="purge"&&this._hasReadyAncestor(Jc,S)?sg.push(k):TM.push(k):Z&&sg.push(k)}for(const N of TM)N.isReady&&Ea.set(N.key.id,N);for(const N of sg)this._tileCache?this._tileCache.add(N):this.releaseTile(N),r.delete(N.key.id);for(const N of Ea.values())this.tiles.push(N);for(const N of r.values())Ea.has(N.key.id)||(N.visible=!1);(P=this._tileCache)==null||P.prune(S,n,a),Tv.pool.release(g),TM.length=0,sg.length=0,Ea.clear()}clear(){const{tileIndex:t}=this;for(const i of t.values())this.releaseTile(i);t.clear()}refresh(t){var i;for(const r of this.tileIndex.values())t(r);(i=this._tileCache)==null||i.clear()}updateCacheSize(t){this._tileCache&&(this._tileCache.maxSize=t)}_addParentTile(t,i){var n;let r=t,s=null;for(;r=this.tileInfoView.getTileParentId(r),r;)if(this.tileIndex.has(r)){if(s=this.tileIndex.get(r),s==null?void 0:s.isReady){i.has(s.key.id)||i.set(s.key.id,s);break}}else if((n=this._tileCache)!=null&&n.has(r)&&(s=this._tileCache.pop(r),this.tileIndex.set(r,s),s==null?void 0:s.isReady)){i.has(s.key.id)||i.set(s.key.id,s);break}}_hasReadyAncestor(t,i){const r=qr();this.tileInfoView.getTileBounds(r,t,!0);for(const s of this.tileIndex.values())if(s.isReady&&s.key.level>=i&&s.key.level<t.level){const n=qr();if(this.tileInfoView.getTileBounds(n,s.key,!0),Tle(n,r))return!0}return!1}};function UTe(e,t,i,r,s){_Y(e,t,i||0,r||e.length-1,s||zTe)}function _Y(e,t,i,r,s){for(;r>i;){if(r-i>600){var n=r-i+1,a=t-i+1,u=Math.log(n),d=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*d*(n-d)/n)*(a-n/2<0?-1:1);_Y(e,t,Math.max(i,Math.floor(t-a*d/n+f)),Math.min(r,Math.floor(t+(n-a)*d/n+f)),s)}var g=e[t],v=i,w=r;for(ng(e,i,t),s(e[r],g)>0&&ng(e,i,r);v<w;){for(ng(e,v,w),v++,w--;s(e[v],g)<0;)v++;for(;s(e[w],g)>0;)w--}s(e[i],g)===0?ng(e,i,w):ng(e,++w,r),w<=t&&(i=w+1),t<=w&&(r=w-1)}}function ng(e,t,i){var r=e[t];e[t]=e[i],e[i]=r}function zTe(e,t){return e<t?-1:e>t?1:0}function l2(e,t){if(!(this instanceof l2))return new l2(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&(typeof t=="function"?this.toBBox=t:this._initFormat(t)),this.clear()}function VTe(e,t,i){if(!i)return t.indexOf(e);for(var r=0;r<t.length;r++)if(i(e,t[r]))return r;return-1}function Mp(e,t){v0(e,0,e.children.length,t,e)}function v0(e,t,i,r,s){s||(s=pf(null)),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(var n,a=t;a<i;a++)n=e.children[a],b0(s,e.leaf?r(n):n);return s}function b0(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function uj(e,t){return e.minX-t.minX}function cj(e,t){return e.minY-t.minY}function EM(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function $w(e){return e.maxX-e.minX+(e.maxY-e.minY)}function GTe(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function qTe(e,t){var i=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),s=Math.min(e.maxX,t.maxX),n=Math.min(e.maxY,t.maxY);return Math.max(0,s-i)*Math.max(0,n-r)}function $M(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function xw(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function pf(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function dj(e,t,i,r,s){for(var n,a=[t,i];a.length;)(i=a.pop())-(t=a.pop())<=r||(n=t+Math.ceil((i-t)/r/2)*r,UTe(e,n,t,i,s),a.push(t,n,n,i))}l2.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,i=[],r=this.toBBox;if(!xw(e,t))return i;for(var s,n,a,u,d=[];t;){for(s=0,n=t.children.length;s<n;s++)a=t.children[s],xw(e,u=t.leaf?r(a):a)&&(t.leaf?i.push(a):$M(e,u)?this._all(a,i):d.push(a));t=d.pop()}return i},collides:function(e){var t=this.data,i=this.toBBox;if(!xw(e,t))return!1;for(var r,s,n,a,u=[];t;){for(r=0,s=t.children.length;r<s;r++)if(n=t.children[r],xw(e,a=t.leaf?i(n):n)){if(t.leaf||$M(e,a))return!0;u.push(n)}t=u.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,i=e.length;t<i;t++)this.insert(e[t]);return this}var r=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var s=this.data;this.data=r,r=s}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(e){return e!=null&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=pf([]),this},remove:function(e,t){if(e==null)return this;for(var i,r,s,n,a=this.data,u=this.toBBox(e),d=[],f=[];a||d.length;){if(a||(a=d.pop(),r=d[d.length-1],i=f.pop(),n=!0),a.leaf&&(s=VTe(e,a.children,t))!==-1)return a.children.splice(s,1),d.push(a),this._condense(d),this;n||a.leaf||!$M(a,u)?r?(i++,a=r.children[i],n=!1):a=null:(d.push(a),f.push(i),i=0,r=a,a=a.children[0])}return this},toBBox:function(e){return e},compareMinX:uj,compareMinY:cj,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var i=[];e;)e.leaf?t.push.apply(t,e.children):i.push.apply(i,e.children),e=i.pop();return t},_build:function(e,t,i,r){var s,n=i-t+1,a=this._maxEntries;if(n<=a)return Mp(s=pf(e.slice(t,i+1)),this.toBBox),s;r||(r=Math.ceil(Math.log(n)/Math.log(a)),a=Math.ceil(n/Math.pow(a,r-1))),(s=pf([])).leaf=!1,s.height=r;var u,d,f,g,v=Math.ceil(n/a),w=v*Math.ceil(Math.sqrt(a));for(dj(e,t,i,w,this.compareMinX),u=t;u<=i;u+=w)for(dj(e,u,f=Math.min(u+w-1,i),v,this.compareMinY),d=u;d<=f;d+=v)g=Math.min(d+v-1,f),s.children.push(this._build(e,d,g,r-1));return Mp(s,this.toBBox),s},_chooseSubtree:function(e,t,i,r){for(var s,n,a,u,d,f,g,v;r.push(t),!t.leaf&&r.length-1!==i;){for(g=v=1/0,s=0,n=t.children.length;s<n;s++)d=EM(a=t.children[s]),(f=GTe(e,a)-d)<v?(v=f,g=d<g?d:g,u=a):f===v&&d<g&&(g=d,u=a);t=u||t.children[0]}return t},_insert:function(e,t,i){var r=this.toBBox,s=i?e:r(e),n=[],a=this._chooseSubtree(s,this.data,t,n);for(a.children.push(e),b0(a,s);t>=0&&n[t].children.length>this._maxEntries;)this._split(n,t),t--;this._adjustParentBBoxes(s,n,t)},_split:function(e,t){var i=e[t],r=i.children.length,s=this._minEntries;this._chooseSplitAxis(i,s,r);var n=this._chooseSplitIndex(i,s,r),a=pf(i.children.splice(n,i.children.length-n));a.height=i.height,a.leaf=i.leaf,Mp(i,this.toBBox),Mp(a,this.toBBox),t?e[t-1].children.push(a):this._splitRoot(i,a)},_splitRoot:function(e,t){this.data=pf([e,t]),this.data.height=e.height+1,this.data.leaf=!1,Mp(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,i){var r,s,n,a,u,d,f,g;for(d=f=1/0,r=t;r<=i-t;r++)a=qTe(s=v0(e,0,r,this.toBBox),n=v0(e,r,i,this.toBBox)),u=EM(s)+EM(n),a<d?(d=a,g=r,f=u<f?u:f):a===d&&u<f&&(f=u,g=r);return g},_chooseSplitAxis:function(e,t,i){var r=e.leaf?this.compareMinX:uj,s=e.leaf?this.compareMinY:cj;this._allDistMargin(e,t,i,r)<this._allDistMargin(e,t,i,s)&&e.children.sort(r)},_allDistMargin:function(e,t,i,r){e.children.sort(r);var s,n,a=this.toBBox,u=v0(e,0,t,a),d=v0(e,i-t,i,a),f=$w(u)+$w(d);for(s=t;s<i-t;s++)n=e.children[s],b0(u,e.leaf?a(n):n),f+=$w(u);for(s=i-t-1;s>=t;s--)n=e.children[s],b0(d,e.leaf?a(n):n),f+=$w(d);return f},_adjustParentBBoxes:function(e,t,i){for(var r=i;r>=0;r--)b0(t[r],e)},_condense:function(e){for(var t,i=e.length-1;i>=0;i--)e[i].children.length===0?i>0?(t=e[i-1].children).splice(t.indexOf(e[i]),1):this.clear():Mp(e[i],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}};function BTe(e,{timeZone:t,timeExtent:i}){return{$view:{scale:e,timeZone:t,timeProperties:{currentStart:i==null?void 0:i.start,currentEnd:i==null?void 0:i.end}}}}let hj=class SY{constructor(t,i){this.key=new cc(0,0,0,0),this.bounds=qr(),this.objectIds=new Set,this.key.set(i);const r=t.getLODInfoAt(this.key);this.tileInfoView=t,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=r.resolution,this.level=r.level,this.scale=r.scale,this.minScale=t.zoomToScale(r.level-1),this.maxScale=t.zoomToScale(r.level+1)}get lod(){return this.tileInfoView.getLODInfoAt(this.key)}get id(){return this.key.id}get extent(){return _le(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createArcadeEvaluationOptions(t){return BTe(this.scale,t)}createChildTiles(){const t=this.key.getChildKeys(),i=Vr.acquire();for(let r=0;r<t.length;r++)i[r]=new SY(this.tileInfoView,t[r]);return i}getQuantizationParameters(){return LB.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}};const Xc={added:[],removed:[]},xM=new Set,HTe=new cc(0,0,0,0);function WTe(e,t){const i=Br(t);if(!i)return null;const[r,s]=i.valid;return e[2]>s?[qr([e[0],e[1],s,e[3]]),qr([r,e[1],r+e[2]-s,e[3]])]:e[0]<r?[qr([r,e[1],e[2],e[3]]),qr([s-(r-e[0]),e[1],s,e[3]])]:null}let ZTe=class extends ho{constructor(t){super(),this._tiles=new Map,this._index=l2(9,B("esri-csp-restrictions")?i=>({minX:i.bounds[0],minY:i.bounds[1],maxX:i.bounds[2],maxY:i.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=t}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(t){return this._tiles.has(t)}get(t){return this._tiles.get(t)}getIntersectingTiles(t){if(!t||AI(t)===0||OI(t)===0)return[];const i=WTe(t,this.tileScheme.spatialReference);return i!=null?[...new Set([...this.boundsIntersections(i[0]),...this.boundsIntersections(i[1])])]:this.boundsIntersections(t)}boundsIntersections(t){return this._index.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]})}updateTiles(t){const i={added:[],removed:[]};for(const r of t.added)if(!this.has(r)){const s=new hj(this.tileScheme,r);this._tiles.set(r,s),this._index.insert(s),i.added.push(s)}for(const r of t.removed)if(this.has(r)){const s=this.get(r);this._tiles.delete(r),this._index.remove(s),i.removed.push(s)}this.tiles.length=0,this._tiles.forEach(r=>this.tiles.push(r)),(i.added.length||i.removed.length)&&this.emit("update",i)}setViewState(t){const i=this.tileScheme.getTileCoverage(t,0);if(!i)return;const{spans:r,lodInfo:s}=i,{level:n}=s;if(r.length>0)for(const{row:a,colFrom:u,colTo:d}of r)for(let f=u;f<=d;f++){const g=HTe.set(n,a,s.normalizeCol(f),s.getWorldForColumn(f)).id;if(xM.add(g),!this.has(g)){const v=new hj(this.tileScheme,g);this._tiles.set(g,v),this._index.insert(v),this.tiles.push(v),Xc.added.push(v)}}for(let a=this.tiles.length-1;a>=0;a--){const u=this.tiles[a];xM.has(u.id)||(this._tiles.delete(u.id),this.tiles.splice(a,1),this._index.remove(u),Xc.removed.push(u))}(Xc.added.length||Xc.removed.length)&&this.emit("update",Xc),Tv.pool.release(i),xM.clear(),Xc.added.length=0,Xc.removed.length=0}};const XLe=1e-30,pj=512,Mw=16777216,QLe=8,KLe=29,eDe=24,tDe=4,iDe=0,rDe=0,sDe=0,nDe=1,oDe=2,aDe=3,lDe=4,uDe=5,cDe=6,dDe=12,hDe=13,pDe=5,YTe=6,fDe=5,mDe=6;var fj;(function(e){e[e.FilterFlags=0]="FilterFlags",e[e.Animation=1]="Animation",e[e.GPGPU=2]="GPGPU",e[e.VV=3]="VV",e[e.DD0=4]="DD0",e[e.DD1=5]="DD1",e[e.DD2=6]="DD2",e[e.LocalTimeOrigin=7]="LocalTimeOrigin"})(fj||(fj={}));const TY=6,JTe=1<<TY,yDe=JTe<<1,gDe=1.05,vDe=3,bDe=1,wDe=3,_De=3,SDe=5,TDe=6,EDe=1.15,XTe=4,$De=128,QTe=256,xDe=QTe-2*XTe,MDe=2,ADe=128,ODe=1,RDe=10,CDe=1024,IDe=128,NDe=4,PDe=1,LDe=1<<20,DDe=.75,kDe=10,FDe=.75,jDe=256,UDe=32,zDe=512,VDe=0,GDe=1,KTe=1,qDe=[0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],BDe=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],og=256;var mj,yj,gj,vj,cC,bj,wj,Go,dC,H0,ji,u2,pn,Vt,Me,Ev,Ka,_j,Sj,Tj;(function(e){e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL",e[e.COLOR=16384]="COLOR"})(mj||(mj={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(yj||(yj={})),function(e){e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC_COLOR=768]="SRC_COLOR",e[e.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.DST_COLOR=774]="DST_COLOR",e[e.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",e[e.CONSTANT_COLOR=32769]="CONSTANT_COLOR",e[e.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",e[e.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",e[e.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA"}(gj||(gj={})),function(e){e[e.ADD=32774]="ADD",e[e.MIN=32775]="MIN",e[e.MAX=32776]="MAX",e[e.SUBTRACT=32778]="SUBTRACT",e[e.REVERSE_SUBTRACT=32779]="REVERSE_SUBTRACT"}(vj||(vj={})),function(e){e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",e[e.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",e[e.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",e[e.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",e[e.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",e[e.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER"}(cC||(cC={})),function(e){e[e.FRONT=1028]="FRONT",e[e.BACK=1029]="BACK",e[e.FRONT_AND_BACK=1032]="FRONT_AND_BACK"}(bj||(bj={})),function(e){e[e.CW=2304]="CW",e[e.CCW=2305]="CCW"}(wj||(wj={})),function(e){e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.INT=5124]="INT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.FLOAT=5126]="FLOAT",e[e.HALF_FLOAT=5131]="HALF_FLOAT"}(Go||(Go={})),function(e){e[e.NEVER=512]="NEVER",e[e.LESS=513]="LESS",e[e.EQUAL=514]="EQUAL",e[e.LEQUAL=515]="LEQUAL",e[e.GREATER=516]="GREATER",e[e.NOTEQUAL=517]="NOTEQUAL",e[e.GEQUAL=518]="GEQUAL",e[e.ALWAYS=519]="ALWAYS"}(dC||(dC={})),function(e){e[e.ZERO=0]="ZERO",e[e.KEEP=7680]="KEEP",e[e.REPLACE=7681]="REPLACE",e[e.INCR=7682]="INCR",e[e.DECR=7683]="DECR",e[e.INVERT=5386]="INVERT",e[e.INCR_WRAP=34055]="INCR_WRAP",e[e.DECR_WRAP=34056]="DECR_WRAP"}(H0||(H0={})),function(e){e[e.NEAREST=9728]="NEAREST",e[e.LINEAR=9729]="LINEAR",e[e.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",e[e.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",e[e.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",e[e.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR"}(ji||(ji={})),function(e){e[e.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(u2||(u2={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_3D=32879]="TEXTURE_3D",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY"}(pn||(pn={})),function(e){e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",e[e.ALPHA=6406]="ALPHA",e[e.RGB=6407]="RGB",e[e.RGBA=6408]="RGBA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.RED=6403]="RED",e[e.RG=33319]="RG",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER"}(Vt||(Vt={})),function(e){e[e.RGBA4=32854]="RGBA4",e[e.R16F=33325]="R16F",e[e.RG16F=33327]="RG16F",e[e.RGB32F=34837]="RGB32F",e[e.RGBA16F=34842]="RGBA16F",e[e.R32F=33326]="R32F",e[e.RG32F=33328]="RG32F",e[e.RGBA32F=34836]="RGBA32F",e[e.R11F_G11F_B10F=35898]="R11F_G11F_B10F",e[e.RGB8=32849]="RGB8",e[e.RGBA8=32856]="RGBA8",e[e.RGB5_A1=32855]="RGB5_A1",e[e.R8=33321]="R8",e[e.RG8=33323]="RG8",e[e.R8I=33329]="R8I",e[e.R8UI=33330]="R8UI",e[e.R16I=33331]="R16I",e[e.R16UI=33332]="R16UI",e[e.R32I=33333]="R32I",e[e.R32UI=33334]="R32UI",e[e.RG8I=33335]="RG8I",e[e.RG8UI=33336]="RG8UI",e[e.RG16I=33337]="RG16I",e[e.RG16UI=33338]="RG16UI",e[e.RG32I=33339]="RG32I",e[e.RG32UI=33340]="RG32UI",e[e.RGB16F=34843]="RGB16F",e[e.RGB9_E5=35901]="RGB9_E5",e[e.SRGB8=35905]="SRGB8",e[e.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",e[e.RGB565=36194]="RGB565",e[e.RGBA32UI=36208]="RGBA32UI",e[e.RGB32UI=36209]="RGB32UI",e[e.RGBA16UI=36214]="RGBA16UI",e[e.RGB16UI=36215]="RGB16UI",e[e.RGBA8UI=36220]="RGBA8UI",e[e.RGB8UI=36221]="RGB8UI",e[e.RGBA32I=36226]="RGBA32I",e[e.RGB32I=36227]="RGB32I",e[e.RGBA16I=36232]="RGBA16I",e[e.RGB16I=36233]="RGB16I",e[e.RGBA8I=36238]="RGBA8I",e[e.RGB8I=36239]="RGB8I",e[e.R8_SNORM=36756]="R8_SNORM",e[e.RG8_SNORM=36757]="RG8_SNORM",e[e.RGB8_SNORM=36758]="RGB8_SNORM",e[e.RGBA8_SNORM=36759]="RGBA8_SNORM",e[e.RGB10_A2=32857]="RGB10_A2",e[e.RGB10_A2UI=36975]="RGB10_A2UI"}(Me||(Me={})),function(e){e[e.FLOAT=5126]="FLOAT",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.INT=5124]="INT",e[e.HALF_FLOAT=5131]="HALF_FLOAT",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV"}(Ev||(Ev={})),function(e){e[e.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",e[e.STENCIL_INDEX8=36168]="STENCIL_INDEX8",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",e[e.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",e[e.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",e[e.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8"}(Ka||(Ka={})),function(e){e[e.STATIC_DRAW=35044]="STATIC_DRAW",e[e.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",e[e.STREAM_DRAW=35040]="STREAM_DRAW",e[e.STATIC_READ=35045]="STATIC_READ",e[e.DYNAMIC_READ=35049]="DYNAMIC_READ",e[e.STREAM_READ=35041]="STREAM_READ",e[e.STATIC_COPY=35046]="STATIC_COPY",e[e.DYNAMIC_COPY=35050]="DYNAMIC_COPY",e[e.STREAM_COPY=35042]="STREAM_COPY"}(_j||(_j={})),function(e){e[e.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",e[e.VERTEX_SHADER=35633]="VERTEX_SHADER"}(Sj||(Sj={})),function(e){e[e.FRAMEBUFFER=36160]="FRAMEBUFFER",e[e.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",e[e.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER"}(Tj||(Tj={}));const HDe=33984;var c2,Ej,$j;(function(e){e[e.Texture=0]="Texture",e[e.BufferObject=1]="BufferObject",e[e.VertexArrayObject=2]="VertexArrayObject",e[e.Shader=3]="Shader",e[e.Program=4]="Program",e[e.FramebufferObject=5]="FramebufferObject",e[e.Renderbuffer=6]="Renderbuffer",e[e.TransformFeedback=7]="TransformFeedback",e[e.Sync=8]="Sync",e[e.UNCOUNTED=9]="UNCOUNTED",e[e.LinesOfCode=9]="LinesOfCode",e[e.Uniform=10]="Uniform",e[e.COUNT=11]="COUNT"})(c2||(c2={})),function(e){e[e.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",e[e.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",e[e.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",e[e.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",e[e.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",e[e.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",e[e.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",e[e.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",e[e.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",e[e.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",e[e.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",e[e.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",e[e.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",e[e.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",e[e.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",e[e.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15"}(Ej||(Ej={})),function(e){e[e.NONE=0]="NONE",e[e.BACK=1029]="BACK"}($j||($j={}));const WDe=33306;var Xi,xj,Mj,Aj,Oj,Rj,Cj;(function(e){e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC"})(Xi||(Xi={})),function(e){e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.INT=5124]="INT",e[e.INT_VEC2=35667]="INT_VEC2",e[e.INT_VEC3=35668]="INT_VEC3",e[e.INT_VEC4=35669]="INT_VEC4",e[e.BOOL=35670]="BOOL",e[e.BOOL_VEC2=35671]="BOOL_VEC2",e[e.BOOL_VEC3=35672]="BOOL_VEC3",e[e.BOOL_VEC4=35673]="BOOL_VEC4",e[e.FLOAT_MAT2=35674]="FLOAT_MAT2",e[e.FLOAT_MAT3=35675]="FLOAT_MAT3",e[e.FLOAT_MAT4=35676]="FLOAT_MAT4",e[e.SAMPLER_2D=35678]="SAMPLER_2D",e[e.SAMPLER_CUBE=35680]="SAMPLER_CUBE",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",e[e.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",e[e.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",e[e.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",e[e.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",e[e.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",e[e.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",e[e.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",e[e.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",e[e.SAMPLER_3D=35679]="SAMPLER_3D",e[e.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",e[e.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",e[e.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",e[e.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",e[e.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",e[e.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",e[e.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",e[e.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",e[e.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",e[e.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",e[e.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",e[e.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY"}(xj||(xj={})),function(e){e[e.OBJECT_TYPE=37138]="OBJECT_TYPE",e[e.SYNC_CONDITION=37139]="SYNC_CONDITION",e[e.SYNC_STATUS=37140]="SYNC_STATUS",e[e.SYNC_FLAGS=37141]="SYNC_FLAGS"}(Mj||(Mj={})),function(e){e[e.UNSIGNALED=37144]="UNSIGNALED",e[e.SIGNALED=37145]="SIGNALED"}(Aj||(Aj={})),function(e){e[e.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",e[e.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",e[e.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",e[e.WAIT_FAILED=37149]="WAIT_FAILED"}(Oj||(Oj={})),function(e){e[e.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE"}(Rj||(Rj={})),function(e){e[e.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT"}(Cj||(Cj={}));const eEe=()=>ne.getLogger("esri.views.webgl.checkWebGLError");function tEe(e,t){switch(t){case e.INVALID_ENUM:return"Invalid Enum. An unacceptable value has been specified for an enumerated argument.";case e.INVALID_VALUE:return"Invalid Value. A numeric argument is out of range.";case e.INVALID_OPERATION:return"Invalid Operation. The specified command is not allowed for the current state.";case e.INVALID_FRAMEBUFFER_OPERATION:return"Invalid Framebuffer operation. The currently bound framebuffer is not framebuffer complete when trying to render to or to read from it.";case e.OUT_OF_MEMORY:return"Out of memory. Not enough memory is left to execute the command.";case e.CONTEXT_LOST_WEBGL:return"WebGL context has been lost";default:return"Unknown error"}}const EY=!!B("enable-feature:webgl-debug");function $Y(){return EY}function ZDe(){return EY}function Ap(e){if($Y()){const t=e.getError();if(t){const i=tEe(e,t),r=new Error().stack;eEe().error(new z("webgl-error","WebGL error occurred",{message:i,stack:r}))}}}var hC;(function(e){e[e.Texture=0]="Texture",e[e.RenderBuffer=1]="RenderBuffer"})(hC||(hC={}));function iEe(e){switch(e){case Go.BYTE:case Go.UNSIGNED_BYTE:return 1;case Go.SHORT:case Go.UNSIGNED_SHORT:case Go.HALF_FLOAT:return 2;case Go.FLOAT:case Go.INT:case Go.UNSIGNED_INT:return 4}}function rEe(e){const t=e.gl;switch(t.getError()){case t.NO_ERROR:return null;case t.INVALID_ENUM:return"An unacceptable value has been specified for an enumerated argument";case t.INVALID_VALUE:return"An unacceptable value has been specified for an argument";case t.INVALID_OPERATION:return"The specified command is not allowed for the current state";case t.INVALID_FRAMEBUFFER_OPERATION:return"The currently bound framebuffer is not framebuffer complete";case t.OUT_OF_MEMORY:return"Not enough memory is left to execute the command";case t.CONTEXT_LOST_WEBGL:return"WebGL context is lost"}return"Unknown error"}function YDe(e,t,i,r,s=0){var a;const n=e.gl;e.bindBuffer(i);for(const u of r){const d=t.get(u.name);if(d==null){console.warn(`There is no location for vertex attribute '${u.name}' defined.`);continue}const f=s*u.stride;if(u.count<=4)n.vertexAttribPointer(d,u.count,u.type,u.normalized,u.stride,u.offset+f),n.enableVertexAttribArray(d),u.divisor>0&&e.gl.vertexAttribDivisor(d,u.divisor);else if(u.count===9)for(let g=0;g<3;g++)n.vertexAttribPointer(d+g,3,u.type,u.normalized,u.stride,u.offset+12*g+f),n.enableVertexAttribArray(d+g),u.divisor>0&&e.gl.vertexAttribDivisor(d+g,u.divisor);else if(u.count===16)for(let g=0;g<4;g++)n.vertexAttribPointer(d+g,4,u.type,u.normalized,u.stride,u.offset+16*g+f),n.enableVertexAttribArray(d+g),u.divisor>0&&((a=e.gl)==null||a.vertexAttribDivisor(d+g,u.divisor));else console.error("Unsupported vertex attribute element count: "+u.count);if($Y()){const g=rEe(e),v=iEe(u.type),w=u.offset,S=Math.round(v/w)!==v/w?`. Offset not a multiple of stride. DataType requires ${v} bytes, but descriptor has an offset of ${w}`:"";g&&console.error(`Unable to bind vertex attribute "${u.name}" with baseInstanceOffset ${f}${S}:`,g,u)}}}function JDe(e,t,i,r){var n,a,u;const s=e.gl;e.bindBuffer(i);for(const d of r){const f=t.get(d.name);if(d.count<=4)s.disableVertexAttribArray(f),d.divisor&&d.divisor>0&&((n=e.gl)==null||n.vertexAttribDivisor(f,0));else if(d.count===9)for(let g=0;g<3;g++)s.disableVertexAttribArray(f+g),d.divisor&&d.divisor>0&&((a=e.gl)==null||a.vertexAttribDivisor(f+g,0));else if(d.count===16)for(let g=0;g<4;g++)s.disableVertexAttribArray(f+g),d.divisor&&d.divisor>0&&((u=e.gl)==null||u.vertexAttribDivisor(f+g,0));else console.error("Unsupported vertex attribute element count: "+d.count)}e.unbindBuffer(cC.ARRAY_BUFFER)}function sEe(e){switch(e){case Vt.ALPHA:case Vt.LUMINANCE:case Vt.RED:case Vt.RED_INTEGER:case Me.R8:case Me.R8I:case Me.R8UI:case Me.R8_SNORM:case Ka.STENCIL_INDEX8:return 1;case Vt.LUMINANCE_ALPHA:case Vt.RG:case Vt.RG_INTEGER:case Me.RGBA4:case Me.R16F:case Me.R16I:case Me.R16UI:case Me.RG8:case Me.RG8I:case Me.RG8UI:case Me.RG8_SNORM:case Me.RGB565:case Me.RGB5_A1:case Ka.DEPTH_COMPONENT16:return 2;case Vt.DEPTH_COMPONENT:case Vt.RGB:case Vt.RGB_INTEGER:case Me.RGB8:case Me.RGB8I:case Me.RGB8UI:case Me.RGB8_SNORM:case Me.SRGB8:case Ka.DEPTH_COMPONENT24:return 3;case Vt.DEPTH_STENCIL:case Vt.DEPTH24_STENCIL8:case Vt.RGBA:case Vt.RGBA_INTEGER:case Me.RGBA8:case Me.R32F:case Me.R11F_G11F_B10F:case Me.RG16F:case Me.R32I:case Me.R32UI:case Me.RG16I:case Me.RG16UI:case Me.RGBA8I:case Me.RGBA8UI:case Me.RGBA8_SNORM:case Me.SRGB8_ALPHA8:case Me.RGB9_E5:case Me.RGB10_A2UI:case Me.RGB10_A2:case Ka.DEPTH_STENCIL:case Ka.DEPTH_COMPONENT32F:case Ka.DEPTH24_STENCIL8:return 4;case Ka.DEPTH32F_STENCIL8:return 5;case Me.RGB16F:case Me.RGB16I:case Me.RGB16UI:return 6;case Me.RG32F:case Me.RG32I:case Me.RG32UI:case Me.RGBA16F:case Me.RGBA16I:case Me.RGBA16UI:return 8;case Me.RGB32F:case Me.RGB32I:case Me.RGB32UI:return 12;case Me.RGBA32F:case Me.RGBA32I:case Me.RGBA32UI:return 16;case Xi.COMPRESSED_RGB_S3TC_DXT1_EXT:case Xi.COMPRESSED_RGBA_S3TC_DXT1_EXT:return .5;case Xi.COMPRESSED_RGBA_S3TC_DXT3_EXT:case Xi.COMPRESSED_RGBA_S3TC_DXT5_EXT:return 1;case Xi.COMPRESSED_R11_EAC:case Xi.COMPRESSED_SIGNED_R11_EAC:case Xi.COMPRESSED_RGB8_ETC2:case Xi.COMPRESSED_SRGB8_ETC2:case Xi.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:case Xi.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:return .5;case Xi.COMPRESSED_RG11_EAC:case Xi.COMPRESSED_SIGNED_RG11_EAC:case Xi.COMPRESSED_RGBA8_ETC2_EAC:case Xi.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:return 1}return 0}let xY=class{constructor(t=0,i=t){this.width=t,this.height=i,this.target=pn.TEXTURE_2D,this.pixelFormat=Vt.RGBA,this.dataType=Ev.UNSIGNED_BYTE,this.samplingMode=ji.LINEAR,this.wrapMode=u2.REPEAT,this.maxAnisotropy=1,this.flipped=!1,this.hasMipmap=!1,this.isOpaque=!1,this.unpackAlignment=4,this.preMultiplyAlpha=!1,this.shouldCompress=!1,this.depth=1,this.isImmutable=!1}};function nEe(e){return e.width<=0||e.height<=0?0:Math.round(e.width*e.height*e.depth*(e.hasMipmap?4/3:1)*(e.internalFormat==null?4:sEe(e.internalFormat))*(e.target===pn.TEXTURE_CUBE_MAP?6:1))}const oEe=()=>ne.getLogger("esri/views/webgl/textureUtils");function Aw(e){(e.width!=null&&e.width<0||e.height!=null&&e.height<0||e.depth!=null&&e.depth<0)&&oEe().error("Negative dimension parameters are not allowed!")}function aEe(e){return e in Me}function lEe(e){return e in Xi}function ff(e){return e!=null&&"type"in e&&e.type==="compressed"}function uEe(e){return e!=null&&"byteLength"in e}function Ij(e){return e!=null&&!ff(e)&&!uEe(e)}function Op(e){return e===pn.TEXTURE_3D||e===pn.TEXTURE_2D_ARRAY}function Nj(e,t,i,r=1){let s=Math.max(t,i);return e===pn.TEXTURE_3D&&(s=Math.max(s,r)),Math.floor(Math.log2(s))+1}function Ow(e){if(e.internalFormat!=null)return e.internalFormat===Vt.DEPTH_STENCIL?Vt.DEPTH24_STENCIL8:e.internalFormat;switch(e.dataType){case Ev.FLOAT:switch(e.pixelFormat){case Vt.RGBA:return Me.RGBA32F;case Vt.RGB:return Me.RGB32F;default:throw new z("Unable to derive format")}case Ev.UNSIGNED_BYTE:switch(e.pixelFormat){case Vt.RGBA:return Me.RGBA8;case Vt.RGB:return Me.RGB8}}return e.internalFormat=e.pixelFormat===Vt.DEPTH_STENCIL?Vt.DEPTH24_STENCIL8:e.pixelFormat}function cEe(e){let t="width"in e?e.width:e.codedWidth,i="height"in e?e.height:e.codedHeight;return e instanceof HTMLVideoElement&&(t=e.videoWidth,i=e.videoHeight),{width:t,height:i,depth:1}}let dEe=class MY extends xY{constructor(t,i){switch(super(),this.context=t,Object.assign(this,i),this.internalFormat){case Me.R16F:case Me.R16I:case Me.R16UI:case Me.R32F:case Me.R32I:case Me.R32UI:case Me.R8_SNORM:case Me.R8:case Me.R8I:case Me.R8UI:this.pixelFormat=Vt.RED}}static validate(t,i){return new MY(t,i)}};const Kl=()=>ne.getLogger("esri/views/webgl/Texture");let pC=class jr{constructor(t,i=null,r=null){if(this.type=hC.Texture,this._glName=null,this._samplingModeDirty=!1,this._wrapModeDirty=!1,this._wasImmutablyAllocated=!1,this._compressionAbortController=dm(null),"context"in t)this._descriptor=t,r=i;else{const s=dEe.validate(t,i);if(!s)throw new z("Texture descriptor invalid");this._descriptor=s}this._descriptor.target===pn.TEXTURE_CUBE_MAP?this._setDataCubeMap(r):this.setData(r)}get glName(){return this._glName}get descriptor(){return this._descriptor}get usedMemory(){return nEe(this._descriptor)}get cachedMemory(){return this.usedMemory}get isDirty(){return this._samplingModeDirty||this._wrapModeDirty}get isCompressing(){return this._compressionAbortController.value!==null}dispose(){this.abortCompression(),this._glName&&this._descriptor.context.instanceCounter.decrement(c2.Texture,this),this._descriptor.context.gl&&this._glName&&(this._descriptor.context.unbindTexture(this),this._descriptor.context.gl.deleteTexture(this._glName),this._glName=null)}release(){this.dispose()}resize(t,i){const r=this._descriptor;if(r.width!==t||r.height!==i){if(this._wasImmutablyAllocated)throw new z("Immutable textures can't be resized!");r.width=t,r.height=i,this._descriptor.target===pn.TEXTURE_CUBE_MAP?this._setDataCubeMap(null):this.setData(null)}}enableCompression(t){this._descriptor.shouldCompress=t}setData(t){this.abortCompression(),!ff(t)&&this._descriptor.internalFormat&&this._descriptor.internalFormat in Xi&&(this._descriptor.internalFormat=void 0),this._setData(t),!ff(t)&&this._descriptor.shouldCompress&&this._compressOnWorker(t)}updateData(t,i,r,s,n,a,u=0){a||Kl().error("An attempt to use uninitialized data!"),this._glName||Kl().error("An attempt to update uninitialized texture!");const d=this._descriptor;d.internalFormat=Ow(d);const{context:f,pixelFormat:g,dataType:v,target:w,isImmutable:S}=d;if(S&&!this._wasImmutablyAllocated)throw new z("Cannot update immutable texture before allocation!");const T=f.bindTexture(this,jr.TEXTURE_UNIT_FOR_UPDATES,!0);(i<0||r<0||i+s>d.width||r+n>d.height)&&Kl().error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage();const{gl:E}=f;u&&(s&&n||Kl().warn("Must pass width and height if `UNPACK_SKIP_ROWS` is used"),E.pixelStorei(E.UNPACK_SKIP_ROWS,u)),Ij(a)?E.texSubImage2D(w,t,i,r,s,n,g,v,a):ff(a)?E.compressedTexSubImage2D(w,t,i,r,s,n,d.internalFormat,a.levels[t]):E.texSubImage2D(w,t,i,r,s,n,g,v,a),u&&E.pixelStorei(E.UNPACK_SKIP_ROWS,0),f.bindTexture(T,jr.TEXTURE_UNIT_FOR_UPDATES)}updateData3D(t,i,r,s,n,a,u,d){d||Kl().error("An attempt to use uninitialized data!"),this._glName||Kl().error("An attempt to update an uninitialized texture!");const f=this._descriptor;f.internalFormat=Ow(f);const{context:g,pixelFormat:v,dataType:w,isImmutable:S,target:T}=f;if(S&&!this._wasImmutablyAllocated)throw new z("Cannot update immutable texture before allocation!");Op(T)||Kl().warn("Attempting to set 3D texture data on a non-3D texture");const E=g.bindTexture(this,jr.TEXTURE_UNIT_FOR_UPDATES);g.setActiveTexture(jr.TEXTURE_UNIT_FOR_UPDATES),(i<0||r<0||s<0||i+n>f.width||r+a>f.height||s+u>f.depth)&&Kl().error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage();const{gl:M}=g;if(ff(d))d=d.levels[t],M.compressedTexSubImage3D(T,t,i,r,s,n,a,u,f.internalFormat,d);else{const R=d;M.texSubImage3D(T,t,i,r,s,n,a,u,v,w,R)}g.bindTexture(E,jr.TEXTURE_UNIT_FOR_UPDATES)}generateMipmap(){const t=this._descriptor;if(t.width===0||t.height===0)return;if(!t.hasMipmap){if(this._wasImmutablyAllocated)throw new z("Cannot add mipmaps to immutable texture after allocation");t.hasMipmap=!0,this._samplingModeDirty=!0,Aw(t)}t.samplingMode===ji.LINEAR?(this._samplingModeDirty=!0,t.samplingMode=ji.LINEAR_MIPMAP_NEAREST):t.samplingMode===ji.NEAREST&&(this._samplingModeDirty=!0,t.samplingMode=ji.NEAREST_MIPMAP_NEAREST);const i=this._descriptor.context.bindTexture(this,jr.TEXTURE_UNIT_FOR_UPDATES);this._descriptor.context.setActiveTexture(jr.TEXTURE_UNIT_FOR_UPDATES),this._descriptor.context.gl.generateMipmap(t.target),this._descriptor.context.bindTexture(i,jr.TEXTURE_UNIT_FOR_UPDATES)}clearMipmap(){const t=this._descriptor;if(t.hasMipmap){if(this._wasImmutablyAllocated)throw new z("Cannot delete mipmaps to immutable texture after allocation");t.hasMipmap=!1,this._samplingModeDirty=!0,Aw(t)}t.samplingMode===ji.LINEAR_MIPMAP_NEAREST?(this._samplingModeDirty=!0,t.samplingMode=ji.LINEAR):t.samplingMode===ji.NEAREST_MIPMAP_NEAREST&&(this._samplingModeDirty=!0,t.samplingMode=ji.NEAREST)}setSamplingMode(t){t!==this._descriptor.samplingMode&&(this._descriptor.samplingMode=t,this._samplingModeDirty=!0)}setWrapMode(t){t!==this._descriptor.wrapMode&&(this._descriptor.wrapMode=t,Aw(this._descriptor),this._wrapModeDirty=!0)}applyChanges(){this._samplingModeDirty&&(this._applySamplingMode(),this._samplingModeDirty=!1),this._wrapModeDirty&&(this._applyWrapMode(),this._wrapModeDirty=!1)}abortCompression(){this.isCompressing&&(this._compressionAbortController.value=Zf(this._compressionAbortController.value))}_setData(t,i){var d;const r=this._descriptor,s=(d=r.context)==null?void 0:d.gl;if(!s)return;Ap(s),this._glName||(this._glName=s.createTexture(),this._glName&&r.context.instanceCounter.increment(c2.Texture,this)),Aw(r);const n=r.context.bindTexture(this,jr.TEXTURE_UNIT_FOR_UPDATES);r.context.setActiveTexture(jr.TEXTURE_UNIT_FOR_UPDATES),this._configurePixelStorage(),Ap(s);const a=i??r.target,u=Op(a);if(Ij(t))this._setDataFromTexImageSource(t,a);else{const{width:f,height:g,depth:v}=r;if(f==null||g==null)throw new z("Width and height must be specified!");if(u&&v==null)throw new z("Depth must be specified!");if(r.internalFormat=Ow(r),r.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(a,r.internalFormat,r.hasMipmap,f,g,v),ff(t)){if(!lEe(r.internalFormat))throw new z("Attempting to use compressed data with an uncompressed format!");this._setDataFromCompressedSource(t,r.internalFormat,a)}else this._texImage(a,0,r.internalFormat,f,g,v,t),Ap(s),r.hasMipmap&&this.generateMipmap()}this._applySamplingMode(),this._applyWrapMode(),this._applyAnisotropicFilteringParameters(),Ap(s),r.context.bindTexture(n,jr.TEXTURE_UNIT_FOR_UPDATES)}_setDataCubeMap(t=null){for(let i=pn.TEXTURE_CUBE_MAP_POSITIVE_X;i<=pn.TEXTURE_CUBE_MAP_NEGATIVE_Z;i++)this._setData(t,i)}_configurePixelStorage(){const t=this._descriptor.context.gl,{unpackAlignment:i,flipped:r,preMultiplyAlpha:s}=this._descriptor;t.pixelStorei(t.UNPACK_ALIGNMENT,i),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,r?1:0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s?1:0)}_setDataFromTexImageSource(t,i){const{gl:r}=this._descriptor.context,s=this._descriptor;s.internalFormat=Ow(s);const n=Op(i),{width:a,height:u,depth:d}=cEe(t);s.width&&s.height,s.width||(s.width=a),s.height||(s.height=u),n&&s.depth,n&&(s.depth=d),s.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(i,s.internalFormat,s.hasMipmap,a,u,d),this._texImage(i,0,s.internalFormat,a,u,d,t),Ap(r),s.hasMipmap&&(this.generateMipmap(),Ap(r))}_setDataFromCompressedSource(t,i,r){const s=this._descriptor,{width:n,height:a,depth:u}=s,d=t.levels,f=Nj(r,n,a,u),g=Math.min(f,d.length)-1;this._descriptor.context.gl.texParameteri(s.target,s.context.gl.TEXTURE_MAX_LEVEL,g),this._forEachMipmapLevel((v,w,S,T)=>{const E=d[Math.min(v,d.length-1)];this._compressedTexImage(r,v,i,w,S,T,E)},g)}_texStorage(t,i,r,s,n,a){const{gl:u}=this._descriptor.context;if(!aEe(i))throw new z("Immutable textures must have a sized internal format");if(!this._descriptor.isImmutable)return;const d=r?Nj(t,s,n,a):1;if(Op(t)){if(a==null)throw new z("Missing depth dimension for 3D texture upload");u.texStorage3D(t,d,i,s,n,a)}else u.texStorage2D(t,d,i,s,n);this._wasImmutablyAllocated=!0}_texImage(t,i,r,s,n,a,u){const d=this._descriptor.context.gl,f=Op(t),{isImmutable:g,pixelFormat:v,dataType:w}=this._descriptor;if(g){if(u!=null){const S=u;if(f){if(a==null)throw new z("Missing depth dimension for 3D texture upload");d.texSubImage3D(t,i,0,0,0,s,n,a,v,w,S)}else d.texSubImage2D(t,i,0,0,s,n,v,w,S)}}else{const S=u;if(f){if(a==null)throw new z("Missing depth dimension for 3D texture upload");d.texImage3D(t,i,r,s,n,a,0,v,w,S)}else d.texImage2D(t,i,r,s,n,0,v,w,S)}}_compressedTexImage(t,i,r,s,n,a,u){const d=this._descriptor.context.gl,f=Op(t);if(this._descriptor.isImmutable){if(u!=null)if(f){if(a==null)throw new z("Missing depth dimension for 3D texture upload");d.compressedTexSubImage3D(t,i,0,0,0,s,n,a,r,u)}else d.compressedTexSubImage2D(t,i,0,0,s,n,r,u)}else if(f){if(a==null)throw new z("Missing depth dimension for 3D texture upload");d.compressedTexImage3D(t,i,r,s,n,a,0,u)}else d.compressedTexImage2D(t,i,r,s,n,0,u)}async _compressOnWorker(t){var s,n;if(!jr.compressionWorkerHandle||!jr.compressionWorkerHandle.isCompressible(t))return;const i=(s=this._descriptor.context)==null?void 0:s.gl.getExtension("WEBGL_compressed_texture_etc"),r=(n=this._descriptor.context)==null?void 0:n.gl.getExtension("WEBGL_compressed_texture_s3tc");if(i||r){const a=new AbortController;this._compressionAbortController.value=a;const u={data:await createImageBitmap(t),flipped:this.descriptor.flipped,width:t.width,height:t.height,hasMipmap:this._descriptor.hasMipmap,hasETC:!!i,hasS3TC:!!r};jr.compressionWorkerHandle.invoke(u,this._compressionAbortController.value.signal).then(d=>{d&&this.isCompressing&&this.glName&&(this._descriptor.internalFormat=d.internalFormat,this._setData(d.compressedTexture)),a===this._compressionAbortController.value&&(this._compressionAbortController.value=null)}).catch(d=>{Cr(d)||a!==this._compressionAbortController.value||(this._compressionAbortController.value=null)})}}_forEachMipmapLevel(t,i=1/0){let{width:r,height:s,depth:n,hasMipmap:a,target:u}=this._descriptor;const d=u===pn.TEXTURE_3D;if(r==null||s==null||d&&n==null)throw new z("Missing texture dimensions for mipmap calculation");for(let f=0;t(f,r,s,n),a&&(r!==1||s!==1||d&&n!==1)&&!(f>=i);++f)r=Math.max(1,r>>1),s=Math.max(1,s>>1),d&&(n=Math.max(1,n>>1))}_applySamplingMode(){var n;const t=this._descriptor,i=(n=t.context)==null?void 0:n.gl;let r=t.samplingMode,s=t.samplingMode;r===ji.LINEAR_MIPMAP_NEAREST||r===ji.LINEAR_MIPMAP_LINEAR?(r=ji.LINEAR,t.hasMipmap||(s=ji.LINEAR)):r!==ji.NEAREST_MIPMAP_NEAREST&&r!==ji.NEAREST_MIPMAP_LINEAR||(r=ji.NEAREST,t.hasMipmap||(s=ji.NEAREST)),i.texParameteri(t.target,i.TEXTURE_MAG_FILTER,r),i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,s)}_applyWrapMode(){var r;const t=this._descriptor,i=(r=t.context)==null?void 0:r.gl;typeof t.wrapMode=="number"?(i.texParameteri(t.target,i.TEXTURE_WRAP_S,t.wrapMode),i.texParameteri(t.target,i.TEXTURE_WRAP_T,t.wrapMode)):(i.texParameteri(t.target,i.TEXTURE_WRAP_S,t.wrapMode.s),i.texParameteri(t.target,i.TEXTURE_WRAP_T,t.wrapMode.t))}_applyAnisotropicFilteringParameters(){const t=this._descriptor,i=t.context.capabilities.textureFilterAnisotropic;i&&t.context.gl.texParameterf(t.target,i.TEXTURE_MAX_ANISOTROPY,t.maxAnisotropy??1)}};pC.TEXTURE_UNIT_FOR_UPDATES=0,pC.compressionWorkerHandle=null;const MM=()=>ne.getLogger("esri.views.2d.engine.webgl.painter.highlight.HighlightGradient");function hEe(e,t){t.fillColor[0]=e.color.r/255,t.fillColor[1]=e.color.g/255,t.fillColor[2]=e.color.b/255,t.fillColor[3]=e.color.a,e.haloColor?(t.outlineColor[0]=e.haloColor.r/255,t.outlineColor[1]=e.haloColor.g/255,t.outlineColor[2]=e.haloColor.b/255,t.outlineColor[3]=e.haloColor.a):(t.outlineColor[0]=t.fillColor[0],t.outlineColor[1]=t.fillColor[1],t.outlineColor[2]=t.fillColor[2],t.outlineColor[3]=t.fillColor[3]),t.fillColor[3]*=e.fillOpacity,t.outlineColor[3]*=e.haloOpacity,t.fillColor[0]*=t.fillColor[3],t.fillColor[1]*=t.fillColor[3],t.fillColor[2]*=t.fillColor[3],t.outlineColor[0]*=t.outlineColor[3],t.outlineColor[1]*=t.outlineColor[3],t.outlineColor[2]*=t.outlineColor[3],t.outlineWidth=(1-e.haloBlur)*e.haloWidth,t.outerHaloWidth=e.haloBlur*e.haloWidth/2,t.innerHaloWidth=e.haloBlur*e.haloWidth/2,t.outlinePosition=0}const pEe=[0,0,0,0];let AY=class{constructor(){this.type="single",this._highlightOptions=new Zu,this._convertedHighlightOptions={fillColor:[0,0,0,0],outlineColor:[0,0,0,0],outlinePosition:0,outlineWidth:0,innerHaloWidth:0,outerHaloWidth:0},this._optionsShadeTexKey="",this._texelData=new Uint8Array(4*og),this._minMaxDistance=[0,0]}setHighlightOptions(t){this._highlightOptions=t}applyHighlightOptions(t,i){this._updateGradientTexture(t),t.bindTexture(this._shadeTex,YTe),i.setUniform2fv("u_minMaxDistance",this._minMaxDistance)}destroy(){var t;(t=this._shadeTex)==null||t.dispose(),this._shadeTex=null}getReasonsWithGradients(){return[{activeReasons:(1<<TY)-1,activeGradient:this}]}_updateGradientTexture(t){const i=fEe(this._highlightOptions);if(i===this._optionsShadeTexKey)return;this._optionsShadeTexKey=i,hEe(this._highlightOptions,this._convertedHighlightOptions);const r=this._convertedHighlightOptions,s=r.outlinePosition-r.outlineWidth/2-r.outerHaloWidth,n=r.outlinePosition-r.outlineWidth/2,a=r.outlinePosition+r.outlineWidth/2,u=r.outlinePosition+r.outlineWidth/2+r.innerHaloWidth,d=Math.sqrt(Math.PI/2)*KTe,f=Math.abs(s)>d?Math.round(10*(Math.abs(s)-d))/10:0,g=Math.abs(u)>d?Math.round(10*(Math.abs(u)-d))/10:0;let v;f&&!g?MM().error("The outer rim of the highlight is "+f+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards positive values (inwards)."):!f&&g?MM().error("The inner rim of the highlight is "+g+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards negative values (outwards)."):f&&g&&MM().error("The highlight is "+Math.max(f,g)+"px away from the edge of the feature; consider reducing some width values.");const w=[void 0,void 0,void 0,void 0];function S(E,M,R){w[0]=(1-R)*E[0]+R*M[0],w[1]=(1-R)*E[1]+R*M[1],w[2]=(1-R)*E[2]+R*M[2],w[3]=(1-R)*E[3]+R*M[3]}const{_texelData:T}=this;for(let E=0;E<og;++E)v=s+E/(og-1)*(u-s),v<s?(w[0]=0,w[1]=0,w[2]=0,w[3]=0):v<n?S(pEe,r.outlineColor,(v-s)/(n-s)):v<a?[w[0],w[1],w[2],w[3]]=r.outlineColor:v<u?S(r.outlineColor,r.fillColor,(v-a)/(u-a)):[w[0],w[1],w[2],w[3]]=r.fillColor,T[4*E]=255*w[0],T[4*E+1]=255*w[1],T[4*E+2]=255*w[2],T[4*E+3]=255*w[3];if(this._minMaxDistance[0]=s,this._minMaxDistance[1]=u,!this._shadeTex){const E=new xY;E.wrapMode=u2.CLAMP_TO_EDGE,E.width=og,E.height=1,this._shadeTex=new pC(t,E)}this._shadeTex.updateData(0,0,0,og,1,this._texelData)}};function fEe(e){return`${e.color};${e.haloColor};${e.haloOpacity};${e.fillOpacity};${e.haloWidth};${e.haloBlur}`}let mEe=class{constructor(){this.type="multi",this.gradients=[]}setHighlightOptions(t){for(let i=0;i<t.length;i++)this.gradients[i]||(this.gradients[i]=new AY),this.gradients[i].setHighlightOptions(t[i]);for(let i=t.length+1;i<this.gradients.length;i++)this.gradients[i].destroy();this.gradients.length=t.length}destroy(){for(const t of this.gradients)t.destroy()}getReasonsWithGradients(){let t=1;const i=[];for(let r=0;r<this.gradients.length;r++){const s=this.gradients[r];i.push({activeReasons:t,activeGradient:s}),t<<=1}return i}};var Pj,Lj,Dj,kj,Fj,jj,d2,Uj,zj;(function(e){e[e.FILL=0]="FILL",e[e.LINE=1]="LINE",e[e.MARKER=2]="MARKER",e[e.TEXT=3]="TEXT",e[e.LABEL=4]="LABEL"})(Pj||(Pj={})),function(e){e[e.NONE=0]="NONE",e[e.MAP=1]="MAP",e[e.LABEL=2]="LABEL",e[e.LABEL_ALPHA=4]="LABEL_ALPHA",e[e.HITTEST=8]="HITTEST",e[e.HIGHLIGHT=16]="HIGHLIGHT",e[e.CLIP=32]="CLIP",e[e.DEBUG=64]="DEBUG",e[e.NUM_DRAW_PHASES=9]="NUM_DRAW_PHASES"}(Lj||(Lj={})),function(e){e[e.SIZE=0]="SIZE",e[e.COLOR=1]="COLOR",e[e.OPACITY=2]="OPACITY",e[e.ROTATION=3]="ROTATION"}(Dj||(Dj={})),function(e){e[e.MINMAX_TARGETS_OUTLINE=128]="MINMAX_TARGETS_OUTLINE",e[e.SCALE_TARGETS_OUTLINE=256]="SCALE_TARGETS_OUTLINE",e[e.FIELD_TARGETS_OUTLINE=512]="FIELD_TARGETS_OUTLINE",e[e.UNIT_TARGETS_OUTLINE=1024]="UNIT_TARGETS_OUTLINE"}(kj||(kj={})),function(e){e[e.SPRITE=0]="SPRITE",e[e.GLYPH=1]="GLYPH"}(Fj||(Fj={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.SIMPLE=1]="SIMPLE",e[e.DOT_DENSITY=2]="DOT_DENSITY",e[e.OUTLINE_FILL=3]="OUTLINE_FILL",e[e.OUTLINE_FILL_SIMPLE=4]="OUTLINE_FILL_SIMPLE",e[e.HEATMAP=5]="HEATMAP",e[e.PIE_CHART=6]="PIE_CHART"}(jj||(jj={})),function(e){e[e.All=0]="All",e[e.Highlight=1]="Highlight",e[e.InsideEffect=2]="InsideEffect",e[e.OutsideEffect=3]="OutsideEffect"}(d2||(d2={})),function(e){e[e.BATCHING=0]="BATCHING",e[e.STRICT_ORDER=1]="STRICT_ORDER",e[e.STRICT_MARKERS_AND_TEXT=2]="STRICT_MARKERS_AND_TEXT"}(Uj||(Uj={})),function(e){e[e.FILL=0]="FILL",e[e.LINE=1]="LINE",e[e.MARKER=2]="MARKER",e[e.TEXT=3]="TEXT"}(zj||(zj={}));const OY={color:{write:[!0,!0,!0,!0],blendMode:"composite"},depth:!1,stencil:{write:!1,test:{ref:e=>e.stencilRef,compare:dC.EQUAL,mask:255,op:{fail:H0.KEEP,zFail:H0.KEEP,zPass:H0.REPLACE}}}},yEe={color:{write:[!0,!0,!0,!0],blendMode:"additive"},depth:!1,stencil:!1},gEe={...OY,color:{write:[!0,!0,!0,!0],blendMode:"delete"}};function vEe({pixelRatio:e,state:t,displayLevel:i,requiredLevel:r},s){const n=1/2**(i-s.key.level),a=1/2**(r-s.key.level);return{displayMat3:t.displayMat3,displayViewMat3:t.displayViewMat3,displayViewScreenMat3:s.transforms.displayViewScreenMat3,viewMat3:t.viewMat3,tileMat3:s.transforms.tileMat3,displayZoomFactor:n,requiredZoomFactor:a,tileOffset:[s.x,s.y],currentScale:t.scale,currentZoom:i,metersPerSRUnit:Sn(t.spatialReference),rotation:t.rotation,pixelRatio:e}}function RY(e){var t;return((t=e.passOptions)==null?void 0:t.type)==="highlight"}function CY(e){var t;return((t=e.passOptions)==null?void 0:t.type)==="hittest"}function bEe(e){if(!CY(e))return null;const{position:t,distance:i,smallSymbolDistance:r,smallSymbolSizeThreshold:s}=e.passOptions;return{position:t,distance:i,smallSymbolDistance:r,smallSymbolSizeThreshold:s}}function wEe(e){if(!RY(e))return null;const{activeReasons:t,highlightAll:i}=e.passOptions;return{activeReasons:t,highlightAll:i?1:0}}function eke(e,t,i){const r={};for(const s in i)i[s]instanceof Function?r[s]=i[s](e,t):r[s]=i[s];return r}function tke(e,t){const{attributeView:i,context:r}=e;return{storage:i.getUniforms(r),view:vEe(e,t),hittestRequest:bEe(e),highlight:wEe(e)}}function ike(e){return{inside:e.selection===d2.InsideEffect,outside:e.selection===d2.OutsideEffect}}function _Ee(e){return CY(e)?yEe:RY(e)&&e.passOptions.stepType==="clear"?gEe:OY}function rke(e){const{row:t,col:i}=e.key,r=i*pj,s=t*pj;return{tileOffsetFromLocalOrigin:[r%Mw,s%Mw],maxIntsToLocalOrigin:[Math.floor(r/Mw),Math.floor(s/Mw)]}}const SEe=new et({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch",mesh:"mesh"});function ske(e){return SEe.toJSON(e)}function nke(e){const{bandCount:t,attributeTable:i,colormap:r,pixelType:s}=e.raster.rasterInfo;return t===1&&(i!=null||r!=null||s==="u8"||s==="s8")}function TEe(e,t){return t==null?(e==null||e.destroy(),null):((e==null?void 0:e.type)==="single"&&Array.isArray(t)&&(e.destroy(),e=null),(e==null?void 0:e.type)!=="multi"||Array.isArray(t)||(e.destroy(),e=null),e||(e=Array.isArray(t)?new mEe:new AY),Array.isArray(t)?e.type==="multi"&&e.setHighlightOptions(t):e.type==="single"&&e.setHighlightOptions(t),e)}function oke(e,t,i,r){const{painter:s,highlightGradient:n}=e,{highlight:a}=s.effects;if(!n)return;const u=e.passOptions,d=n.getReasonsWithGradients();for(let f=0;f<d.length;f++){const g={...e,passOptions:{type:"highlight",activeGradient:d[f].activeGradient,activeReasons:d[f].activeReasons,stepType:"burn",highlightAll:t}};if(a.bind(g),i(g),f<d.length-1){let w=0;for(let S=f+1;S<d.length;S++)w|=d[S].activeReasons;i({...e,passOptions:{type:"highlight",activeGradient:d[f].activeGradient,activeReasons:w,stepType:"clear",highlightAll:t}})}const v={...e,passOptions:{type:"highlight",activeGradient:d[f].activeGradient,activeReasons:d[f].activeReasons,stepType:"draw",highlightAll:t}};s.setPipelineState(_Ee(e)),s.updatePipelineState(e.context),a.draw(v),a.unbind()}e.passOptions=u}function ake(e){if(!e)return[];let t=Rte(e)?[e]:ye.isCollection(e)?e.toArray():Array.isArray(e)?e:[];return t=t==null?void 0:t.filter(Ju),((t==null?void 0:t.length)??0)===0?[]:t}const Rw=e=>parseFloat(e)/100;function EEe(e,t,i){const r=typeof e.left=="string"?Rw(e.left)*t:e.left,s=typeof e.right=="string"?Rw(e.right)*t:e.right,n=typeof e.top=="string"?Rw(e.top)*i:e.top,a=typeof e.bottom=="string"?Rw(e.bottom)*i:e.bottom,u=n;return{xmin:r,xmax:Math.max(t-s,r),ymin:u,ymax:Math.max(i-a,n)}}function IY(e,t,i,r){switch(t.type){case"rect":{const{width:s,height:n}=e,{xmin:a,xmax:u,ymin:d,ymax:f}=EEe(t,s,n),{x:g,y:v}=i;return g>a&&g<u&&v>d&&v<f}case"path":return t.path.length===0||!Array.isArray(t.path[0][0])||SI(t.path,[i.x,i.y]);case"geometry":return t.geometry==null||(t.geometry.type==="polygon"?_I(t.geometry,r):Bv(t.geometry,r))}}function $Ee(e){if(!e.highlights)return null;const t=e.highlights.findIndex(i=>i.name==="default");return t===-1?null:e.highlights.items[t]}function xEe(e,t){if(!e.highlights){if(!t)return;e.highlights=new ye([new Zu])}const i=e.highlights.findIndex(r=>r.name==="default");t?e.highlights.items[i].assignFrom(t):(e.highlights.removeAt(i),e.highlights.length===0&&(e.highlights=null))}async function MEe(e,t,i){const r=KW(t)?QW(e,t):t;if(!e.ready||isNaN(r.x)||isNaN(r.y))return{screenPoint:r,results:[]};let s=new Set;const n=new Set;let a=!1,u=null,d=null;i!=null&&i.include?Gj(i.include,Vj(e,w=>{s.add(w),AM(w,S=>n.add(S))},(w,S)=>{n.add(w),s.add(S)},w=>{u||(u=new Set),u.add(w)},w=>s.add(w),()=>a=!0)):(a=!0,s=new Set(e.allLayerViews),s.forEach(w=>{AM(w,S=>n.add(S))})),i!=null&&i.exclude&&Gj(i.exclude,Vj(e,w=>{s.delete(w),AM(w,S=>n.delete(S))},w=>n.delete(w),w=>{d||(d=new Set),d.add(w)}));const f=e.toMap(r),g=e.allLayerViews.filter(w=>!w.suspended&&s.has(w)&&w.clips.every(S=>IY(e,S,r,f))).reverse();let v=[...a?e.graphicsView.hitTest(f).map(w=>({type:"graphic",graphic:w,layer:null,mapPoint:f})):[],...await Promise.all(g.map(w=>w.hitTest(f,r)).toArray())].filter(Ju).flat().filter(Ju);return v=v.filter(w=>{var S;return w.type!=="graphic"||((S=w.layer)==null?void 0:S.type)!=="subtype-group"||n.has(w.graphic.layer)}),u&&(v=v.filter(w=>!("graphic"in w)||!w.graphic||(u==null?void 0:u.has(fC(w.graphic))))),d&&(v=v.filter(w=>!("graphic"in w)||!w.graphic||!(d!=null&&d.has(fC(w.graphic))))),{screenPoint:r,results:v}}function Vj(e,t,i,r,s,n){return a=>{if(a instanceof nc){if(a.layer===e)n==null||n();else{const u=e.allLayerViews.find(d=>d.layer===a.layer);u&&(s==null||s(u))}r(fC(a))}else if(!("layer"in a&&"element"in a))if(a.type==="subtype-sublayer"){const u=e.allLayerViews.find(d=>d.layer===a.parent);u&&i(a,u)}else{const u=e.allLayerViews.find(d=>d.layer===a);u&&t(u)}}}function Gj(e,t){if(e)if(tS(e))for(const i of e)if(tS(i))for(const r of i)t(r);else t(i);else t(e)}function fC(e){var i,r;const t=e.getObjectId();return t?`${((i=e.layer)==null?void 0:i.uid)??((r=e.sourceLayer)==null?void 0:r.uid)??"MapView"}/${t}`:`"MapView/${e.uid}`}function AM({layer:e},t){(e==null?void 0:e.type)==="subtype-group"&&e.sublayers.forEach(i=>{t(i)})}let ag=null,h2=!0;function AEe(e,t,i){if(!e||!t)throw new Error("Cannot construct image data without dimensions");if(h2)try{return new ImageData(e,t)}catch{h2=!1}return NY(e,t,i)}function lke(e,t,i,r){if(!t||!i)throw new Error("Cannot construct image data without dimensions");if(h2)try{return new ImageData(e,t,i)}catch{h2=!1}const s=NY(t,i,r);return s.data.set(e,0),s}function OEe(){return ag||(ag=document.createElement("canvas"),ag.width=1,ag.height=1),ag}function NY(e,t,i){return i||(i=OEe()),i.getContext("2d").createImageData(e,t)}async function REe(e,t){const i=window.URL.createObjectURL(e);try{const{data:r}=await Lt(i,{...t,responseType:"image"});return r}catch(r){throw Cr(r)?r:new z("invalid-image",`Could not fetch requested image at ${i}`)}finally{window.URL.revokeObjectURL(i)}}async function uke(e,t){const{arrayBuffer:i,mediaType:r}=await CEe(e,t),s=r==="image/png";if(r==="image/gif"){const{isAnimatedGIF:n,parseGif:a}=await ue(()=>import("./gif-VHBLa0wQ.js"),[],import.meta.url);if(n(i))return a(i,t)}if(s){const{isAnimatedPNG:n,parseApng:a}=await ue(()=>import("./apng-t2idxNyW.js"),__vite__mapDeps([278,6]),import.meta.url);if(n(i))return a(i,t)}return REe(new Blob([i],{type:r}),t)}async function CEe(e,t){var s;const i=Kf(e);if(i!=null&&i.isBase64)return{arrayBuffer:K7(i.data),mediaType:i.mediaType};const r=await Lt(e,{responseType:"array-buffer",...t});return{arrayBuffer:r.data,mediaType:((s=r.getHeader)==null?void 0:s.call(r,"Content-Type"))??""}}function PY(e,t,i){const{ctx:r,canvas:s}=DY(e,i),n=r.getImageData(0,0,e.width,e.height),a=FY(s,t);return kY(s),{dataUrl:a,data:n}}function LY(e,t){const{ctx:i,canvas:r}=DY(e,t),s=i.getImageData(0,0,e.width,e.height);return kY(r),s}function DY(e,t){const i=IEe();t.premultipliedAlpha&&DEe(e),i.width=e.width,i.height=e.height;const r=i.getContext("2d",{willReadFrequently:!0});return r.putImageData(e,0,0),t.flipY&&LEe(r),{ctx:r,canvas:i}}function kY(e){e.width=0,e.height=0}function IEe(){return OM==null&&(OM=document.createElement("canvas")),OM}let OM=null;function FY(e,t){const i=kEe[t.format],r=t.quality/100;return e.toDataURL(i,r)}function jY(e,t){const i=PEe(e),r=jEe[i];return{format:i,quality:bn(t??r,0,100)}}function UY(e,t){return t/Math.max(e[0],e[1])}function NEe(e,t,i,r=0,s=0,n=e.width-r,a=e.height-s,u=!1){const{data:d}=e,{width:f,height:g,data:v}=t,w=n/f,S=a/g,T=Math.ceil(w/2),E=Math.ceil(S/2),M=e.width;for(let R=0;R<g;R++)for(let P=0;P<f;P++){const N=4*(P+(u?g-R-1:R)*f);let k=0,U=0,Z=0,re=0,oe=0,pe=0;const me=(R+.5)*S;for(let _e=Math.floor(R*S);_e<(R+1)*S;_e++){const we=Math.abs(me-(_e+.5))/E,Ye=(P+.5)*w,Ce=we*we;for(let ut=Math.floor(P*w);ut<(P+1)*w;ut++){const X=Math.abs(Ye-(ut+.5))/T,he=Math.sqrt(Ce+X*X);if(he>=1)continue;let fe=2*he*he*he-3*he*he+1;const Ke=4*(r+ut+(s+_e)*M);pe+=fe*d[Ke+3],U+=fe,!i&&d[Ke+3]<255&&(fe=fe*d[Ke+3]/255),Z+=fe*d[Ke],re+=fe*d[Ke+1],oe+=fe*d[Ke+2],k+=fe}}v[N]=Z/k,v[N+1]=re/k,v[N+2]=oe/k,v[N+3]=pe/U}return t}function PEe(e){switch(e){case"png":case"jpg":case"jpeg":return e;default:return FEe}}function LEe(e){e.save(),e.globalCompositeOperation="copy",e.scale(1,-1),e.translate(0,-e.canvas.height),e.drawImage(e.canvas,0,0),e.restore()}function DEe(e){const t=e.data,i=t.length;for(let r=0;r<i;r+=4){const s=t[r+3];if(s!==255&&s>0){const n=255/s;t[r]=t[r]*n,t[r+1]=t[r+1]*n,t[r+2]=t[r+2]*n}}}const kEe={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},qj=98,FEe="png",jEe={png:100,jpg:qj,jpeg:qj},cke=Object.freeze(Object.defineProperty({__proto__:null,createEmptyImageData:AEe,encode:PY,encodeData:LY,getFormatAndQuality:jY,getMaximumResolutionScale:UY,resampleHermite:NEe,toDataUrl:FY},Symbol.toStringTag,{value:"Module"})),zY={flipY:!0,premultipliedAlpha:!0};async function UEe(e,t){const i=await VY(e,t),{format:r,quality:s}=jY(t==null?void 0:t.format,t==null?void 0:t.quality);return PY(i,{format:r,quality:s},zY)}async function zEe(e,t){const i=await VY(e,t);return LY(i,zY)}function VY(e,t){const i=qEe(t||{},GEe(e.stage,e.size),e.size,e.padding),r=VEe(t,e.allLayerViews);return e.stage.takeScreenshot(i,r,e.backgroundColor,t==null?void 0:t.rotation)}function VEe(e={},t){if(!e.layers)return;const i=[];return e.layers.forEach(r=>{const s=t.find(n=>n.layer.id===r.id);s!=null&&s.container&&i.push(s.container)}),i}function GEe(e,t){return Math.min(4,UY(t,Math.min(4096,e.context.parameters.maxTextureSize)))}function qEe(e,t,i,r){e.ignorePadding&&(r={left:0,right:0,top:0,bottom:0});let s=null;e.width!=null&&e.height!=null?s=[e.width,e.height]:e.width==null&&e.height!=null?s=[e.height,e.height]:e.width!=null&&e.height==null?s=[e.width,e.width]:e.width==null&&e.height==null&&(s=null);const n=i[0]-(r.left+r.right),a=i[1]-(r.top+r.bottom);let u,d,f=e.area||{x:0,y:0,width:n,height:a};if(s){const g=n/a,v=s[0]/s[1];if(v>g){const w=f.width/v;f={x:f.x,y:Math.round(f.y+(f.height-w)/2),width:f.width,height:Math.round(w)}}else{const w=f.height*v;f={x:Math.round(f.x+(f.width-w)/2),y:f.y,width:Math.round(w),height:f.height}}}else s=[f.width,f.height];return s[0]>f.width?(u=Math.min(s[0]/f.width,t),d=s[0]/f.width/u):(u=1,d=s[0]/f.width),{cropArea:{x:Math.round((f.x+r.left)*u),y:Math.round((f.y+r.top)*u),width:Math.round(f.width*u),height:Math.round(f.height*u)},outputScale:d,resolutionScale:u}}const BEe=e=>e.includes("Brush");let GY=class{constructor(){this._names=new Map}begin(t){this._names.has(t)||(this._names.set(t,!1),BEe(t)&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${t}.Start`))}end(t){this._names.has(t)&&!this._names.get(t)&&(this._names.set(t,!0),performance.mark(`Esri.${t}.End`))}record(t){this._names.has(t)||(this._names.set(t,!0),performance.mark(`Esri.${t}`))}};function HEe(e,t){const i=t.debugRendererInfo&&e.getExtension("WEBGL_debug_renderer_info");return i?{getUnmaskedRendererWebGL:()=>e.getParameter(i.UNMASKED_RENDERER_WEBGL)}:null}let Bj;function WEe(){return Bj??(Bj=JEe()),Bj}let ZEe=class{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1,this.unmaskedRenderer="unloaded"}};function YEe(e){if(typeof WebGL2RenderingContext>"u")return null;const t=document.createElement("canvas");if(!t)return null;let i=t.getContext("webgl2",{failIfMajorPerformanceCaveat:!0});if(i==null&&(i=t.getContext("webgl2"),i!=null&&(e.majorPerformanceCaveat=!0)),i==null)return i;e.available=!0,e.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),e.supportsVertexShaderSamplers=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const r=i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT);return r&&(e.supportsHighPrecisionFragment=r.precision>0),i}function JEe(){var i;const e=new ZEe,t=YEe(e);return t==null||(e.supportsColorBufferFloat=t.getExtension("EXT_color_buffer_float")!==null,e.supportsColorBufferFloatBlend=t.getExtension("EXT_float_blend")!==null,e.supportsColorBufferHalfFloat=e.supportsColorBufferFloat||t.getExtension("EXT_color_buffer_half_float")!==null,e.unmaskedRenderer=((i=HEe(t,{debugRendererInfo:!0}))==null?void 0:i.getUnmaskedRendererWebGL())??"unknown"),e}function XEe(e){const t=WEe();return t.available?e==="3d"&&t.majorPerformanceCaveat?new z("webgl:major-performance-caveat-detected",`Your WebGL implementation (${t.unmaskedRenderer}) doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist.`):t.supportsHighPrecisionFragment?t.supportsVertexShaderSamplers?null:new z("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported."):new z("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported."):new z("webgl:required","WebGL2 is required but not supported.",new Error().stack)}function QEe(e){return e&&"nodeType"in e}function KEe(e){return e&&typeof e.render=="function"}const Hj={component:"esri-component"};let Ld=class extends $e{constructor(){super(...arguments),this.widget=null}destroy(){var t;this.node=null,(t=this.widget)==null||t.destroy()}get id(){var t,i;return this._get("id")??((t=this.widget)==null?void 0:t.id)??((i=this.node)==null?void 0:i.id)}set id(t){this._set("id",t)}set node(t){const i=this._get("node");t!==i&&(t&&t.classList.add(Hj.component),i&&i.classList.remove(Hj.component),this._set("node",t))}castNode(t){var i;return(i=this.widget)==null||i.destroy(),t?typeof t=="string"||QEe(t)?(this._set("widget",null),ON(t)):(KEe(t)&&!t.domNode&&(t.domNode=document.createElement("div")),this._set("widget",t),t.domNode):(this._set("widget",null),null)}};c([p()],Ld.prototype,"id",null),c([p()],Ld.prototype,"node",null),c([lt("node")],Ld.prototype,"castNode",null),c([p({readOnly:!0})],Ld.prototype,"widget",void 0),Ld=c([O("esri.views.ui.Component")],Ld);const Z_=Ld,qY="calcite-mode-";function e$e(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-mode-name").replaceAll(/\s|'|"/g,"")}function t$e(){return e$e().startsWith("dark")}function i$e(){return`${qY}${t$e()?"dark":"light"}`}function r$e(e){s$e(e),e.classList.add(i$e())}function s$e(e){Array.from(e.classList).forEach(t=>{t.startsWith(qY)&&e.classList.remove(t)})}const n$e={left:0,top:0,bottom:0,right:0},BY={bottom:30,top:15,right:15,left:15},$a="esri-ui",Qr={ui:$a,corner:`${$a}-corner`,innerContainer:`${$a}-inner-container`,manualContainer:`${$a}-manual-container`,cornerContainer:`${$a}-corner-container`,topLeft:`${$a}-top-left`,topRight:`${$a}-top-right`,bottomLeft:`${$a}-bottom-left`,bottomRight:`${$a}-bottom-right`};function o$e(e){return e&&!e._started&&typeof e.postMixInProperties=="function"&&typeof e.buildRendering=="function"&&typeof e.postCreate=="function"&&typeof e.startup=="function"}function Cw(e){return e===0?"0":`${e}px`}function RM(e){const t=typeof e=="object"&&e!==null&&Object.getPrototypeOf(e);return(t===null||t===Object.prototype)&&("component"in e||"index"in e||"position"in e)?e:null}function CM(e,{top:t,bottom:i,left:r,right:s}){e.style.top=t,e.style.bottom=i,e.style.left=r,e.style.right=s}let Fo=class extends ho.EventedAccessor{constructor(t){super(t),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentMap=new Map,this._removeWidgetHandleKey=Symbol("componentOnRemoveSymbol"),this._locale=ds(),this.view=null,this._applyViewPadding=()=>{const i=this.container;i&&CM(i,this._toPixelPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const i=this._innerContainer;i&&CM(i,this._toPixelPosition(this.padding))},this._initContainers()}initialize(){this.addHandles([ke(()=>{var t;return[(t=this.view)==null?void 0:t.padding,this.container]},this._applyViewPadding,Ar),ke(()=>this.padding,this._applyUIPadding,Ar),ke(()=>[this.container,this._locale],([t,i])=>{t&&t.setAttribute("lang",i)},Ar),KV(t=>{this._locale=t})])}destroy(){this.container=null;for(const t of this._components)t.destroy();this._components.length=0,this._componentMap.clear()}set container(t){const i=this._get("container");t!==i&&(t&&(t.classList.add(Qr.ui),r$e(t),this._attachContainers(t)),i&&(i.classList.remove(Qr.ui),CM(i,{top:"",bottom:"",left:"",right:""}),i.textContent=""),this._set("container",t))}get height(){var n;const t=((n=this.view)==null?void 0:n.height)??0;if(t===0)return t;const i=this._getViewPadding(),{top:r,bottom:s}=i;return Math.max(t-r-s,0)}get padding(){return this._get("padding")}set padding(t){this._overrideIfSome("padding",t)}castPadding(t){return typeof t=="number"?{bottom:t,top:t,right:t,left:t}:{...BY,...t}}get width(){var n;const t=((n=this.view)==null?void 0:n.width)??0;if(t===0)return t;const i=this._getViewPadding(),{left:r,right:s}=i;return Math.max(t-r-s,0)}add(t,i){let r,s,n;if(Array.isArray(t))return void t.forEach(u=>this.add(u,i));const a=RM(t);a&&({index:r,position:i,component:t,key:s}=a),i&&typeof i=="object"&&({index:r,key:s,position:i,internal:n}=i),!t||i&&!this._isValidPosition(i)||this._add(t,i,r,s,n)}remove(t,i){var s,n;if(!t)return;if(Array.isArray(t))return t.map(a=>this.remove(a,i));const r=this._find(t);if(r){if(this._componentMap.has(r)&&((s=this._componentMap.get(r))==null?void 0:s.key)!==i)return;const a=this._components.indexOf(r),u=r.node.parentNode;return u==null||u.removeChild(r.node),this._componentMap.delete(r),(n=r.widget)==null||n.removeHandlesReference(this._removeWidgetHandleKey),this._components.splice(a,1)[0]}}empty(t,i={removeInternal:!1}){if(Array.isArray(t)){for(const n of t)this.empty(n,i);return}const r=this._positionNameToContainerLookup[t??"manual"],s=Array.prototype.slice.call(r.children).map(n=>this._findByNode(n)).filter(n=>{var a;return n==null?!1:!(((a=this._componentMap.get(n))==null?void 0:a.internal)??!1)||i.removeInternal});for(const n of s)this.remove(n)}move(t,i){if(Array.isArray(t)&&t.forEach(a=>this.move(a,i)),!t)return;let r;const s=RM(t)||RM(i);if(s&&(r=s.index,i=s.position,t=s.component||t),i&&!this._isValidPosition(i))return;const n=this.remove(t);n&&this.add(n,{position:i,index:r})}find(t){if(!t)return null;const i=this._findById(t);return i&&(i.widget||i.node)}getComponents(t,i={includeInternal:!1}){return t?Array.isArray(t)?t.flatMap(r=>this._getComponentsAtPosition(r,i)):this._getComponentsAtPosition(t,i):this._components.filter(r=>{var s;return i.includeInternal||!((s=this._componentMap.get(r))!=null&&s.internal)}).map(({widget:r,node:s})=>r??s)}getPosition(t){for(const i in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[i].contains(t))return i;return null}_add(t,i,r,s,n){t instanceof Z_||(t=new Z_({node:t}));const{widget:a}=t;a!=null&&a instanceof $e&&a.addHandles(pt(()=>{queueMicrotask(()=>this.remove(t))}),this._removeWidgetHandleKey),this._place({component:t,position:i,index:r}),this._components.push(t),this._componentMap.set(t,{key:s,internal:n})}_find(t){return t?t instanceof Z_?this._findByComponent(t):typeof t=="string"?this._findById(t):this._findByNode(t.domNode||t):null}_getViewPadding(){var t;return((t=this.view)==null?void 0:t.padding)??n$e}_attachContainers(t){t.appendChild(this._innerContainer),t.appendChild(this._manualContainer)}_initContainers(){const t=document.createElement("div");t.classList.add(Qr.innerContainer,Qr.cornerContainer);const i=document.createElement("div");i.classList.add(Qr.innerContainer,Qr.manualContainer);const r=document.createElement("div");r.classList.add(Qr.topLeft,Qr.corner),t.appendChild(r);const s=document.createElement("div");s.classList.add(Qr.topRight,Qr.corner),t.appendChild(s);const n=document.createElement("div");n.classList.add(Qr.bottomLeft,Qr.corner),t.appendChild(n);const a=document.createElement("div");a.classList.add(Qr.bottomRight,Qr.corner),t.appendChild(a),this._innerContainer=t,this._manualContainer=i;const u=d1e();this._cornerNameToContainerLookup={"top-left":r,"top-right":s,"bottom-left":n,"bottom-right":a,"top-leading":u?s:r,"top-trailing":u?r:s,"bottom-leading":u?a:n,"bottom-trailing":u?n:a},this._positionNameToContainerLookup={manual:i,...this._cornerNameToContainerLookup}}_isValidPosition(t){return!!this._positionNameToContainerLookup[t]}_place(t){var f,g;const i=t.position??"manual",{component:r,index:s}=t,n=this._positionNameToContainerLookup[i],a=s!=null&&s>-1;if(o$e(r.widget)&&r.widget.startup(),!a)return void n.appendChild(r.node);const u=Array.from(n.children);if(s===0){const{firstChild:v}=n;return void(v?(f=v.parentNode)==null?void 0:f.insertBefore(r.node,v):n.appendChild(r.node))}if(s>=u.length)return void n.appendChild(r.node);const d=u[s];(g=d.parentNode)==null||g.insertBefore(r.node,d)}_toPixelPosition(t){return{top:Cw(t.top),left:Cw(t.left),right:Cw(t.right),bottom:Cw(t.bottom)}}_findByComponent(t){return this._components.find(i=>i===t)??null}_findById(t){return this._components.find(({id:i})=>i===t)??null}_findByNode(t){return this._components.find(({node:i})=>i===t)??null}_getComponentsAtPosition(t,i){const r=this._positionNameToContainerLookup[t];return Array.prototype.slice.call(r.children).map(s=>this._findByNode(s)).filter(Ju).filter(s=>{var n;return i.includeInternal||!((n=this._componentMap.get(s))!=null&&n.internal)}).map(({widget:s,node:n})=>s??n)}};c([p()],Fo.prototype,"_locale",void 0),c([p()],Fo.prototype,"container",null),c([p()],Fo.prototype,"height",null),c([p({value:BY})],Fo.prototype,"padding",null),c([lt("padding")],Fo.prototype,"castPadding",null),c([p()],Fo.prototype,"view",void 0),c([p()],Fo.prototype,"width",null),Fo=c([O("esri.views.ui.UI")],Fo);const a$e=Fo,l$e={handleInterceptedEvent:(e,t,i,r)=>(e.scheduleRender(),t.properties[`on${r.type}`].apply(t.properties.bind||i,[r]))},u$e={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,i)=>{t.charAt(0)==="-"?e.style.setProperty(t,i):e.style[t]=i}},c$e=e=>({...u$e,...e}),d$e=(e,t)=>{const i=[];for(;e&&e!==t;)i.push(e),e=e.parentNode;return i},h$e=(e,t)=>e.find(t),Wj=(e,t,i=!1)=>{let r=e;return t.forEach((s,n)=>{const a=r!=null&&r.children?h$e(r.children,u=>u.domNode===s):void 0;i&&!a&&n!==t.length-1||(r=a)}),r},p$e=e=>{let t;const i={...l$e,...e},r=c$e(i),s=r.performanceLogger;let n,a=!0,u=!1;const d=[],f=[],g=(w,S,T)=>{var R;let E;r.eventHandlerInterceptor=(P,N,k,U)=>function(Z){let re;s("domEvent",Z);const oe=d$e(Z.currentTarget,E.domNode),pe=oe.some(_e=>{var we;return customElements.get((we=_e==null?void 0:_e.tagName)==null?void 0:we.toLowerCase())});if(Z.eventPhase===Event.CAPTURING_PHASE||!pe)oe.reverse(),re=Wj(E.getLastRender(),oe);else{const _e=Z.composedPath(),we=_e.slice(_e.indexOf(Z.currentTarget),_e.indexOf(E.domNode)).reverse();re=Wj(E.getLastRender(),we,!0)}let me;return re&&(me=i.handleInterceptedEvent(t,re,this,Z)),s("domEventProcessed",Z),me},(R=i.postProcessProjectionOptions)==null||R.call(i,r);const M=T();E=w(S,M,r),r.eventHandlerInterceptor=void 0,d.push(E),f.push(T),i.afterFirstVNodeRendered&&i.afterFirstVNodeRendered(E,M)};let v=()=>{if(n=void 0,a){a=!1,s("renderStart",void 0);for(let w=0;w<d.length;w++){const S=f[w]();s("rendered",void 0);try{d[w].update(S)}catch(T){console.error(T)}s("patched",void 0)}s("renderDone",void 0),a=!0}};return i.modifyDoRenderImplementation&&(v=i.modifyDoRenderImplementation(v,d,f)),t={renderNow:v,scheduleRender:()=>{n||u||(n=requestAnimationFrame(v))},stop:()=>{n&&(cancelAnimationFrame(n),n=void 0),u=!0},resume:()=>{u=!1,a=!0,t.scheduleRender()},append:(w,S)=>{g(qu.append,w,S)},insertBefore:(w,S)=>{g(qu.insertBefore,w,S)},merge:(w,S)=>{g(qu.merge,w,S)},replace:(w,S)=>{g(qu.replace,w,S)},detach:w=>{for(let S=0;S<f.length;S++)if(f[S]===w)return f.splice(S,1),d.splice(S,1)[0];throw new Error("renderFunction was not found")}},t};var f$e=":",yh=class{resolve(e){}reject(e){}constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};function m$e(e,t){let i=e;for(;i;){if(i===t)return!0;if(!i.parentNode)return!1;i.parentNode instanceof ShadowRoot?i=i.parentNode.host:i=i.parentNode}return!1}function y$e(e,t,i){const{subscribe:r}=g$e(t);return r(s=>{s.some(a=>m$e(e,a.target))&&i()})}var IM={};function g$e(e){const t=e.join(","),i=IM[t];if(i!==void 0)return i;const r=new Set,s=new MutationObserver(a=>r.forEach(u=>u(a)));globalThis.document&&s.observe(document.documentElement,{attributes:!0,attributeFilter:e,subtree:!0});const n={subscribe(a){return r.add(a),()=>{r.delete(a),r.size===0&&(s.disconnect(),IM[t]=void 0)}}};return IM[t]=n,n}function v$e(e,t){var r,s;let i=e;for(;i;){const n=(r=i.closest)==null?void 0:r.call(i,t);if(n)return n;const a=(s=i.getRootNode)==null?void 0:s.call(i);if(a===globalThis.document)return null;i=a.host}return null}function b$e(e,t,i){const r=v$e(e,`[${t}]`);return(r==null?void 0:r.getAttribute(t))??i}function Kt(e,t,...i){try{return e==null?void 0:e.call(t,...i)}catch(r){console.error(r,e)}}async function mC(e,t,...i){try{const r=e==null?void 0:e.call(t,...i);return r instanceof Promise?await r:r}catch(r){console.error(r,e)}}var w$e=["ar","bg","bs","ca","cs","da","de","el","en","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nl","nb","no","pl","pt-BR","pt-PT","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-HK","zh-TW"],_$e=new Set(w$e),p2="en",S$e={pt:"pt-PT",nb:"no",zh:"zh-CN"};async function T$e(e,t,i=""){const r=`${t}/${i}`,s=`${r}${e}.json`;return NM[s]??(NM[s]=HY(e,r)),await NM[s]}var NM={};async function HY(e,t){const i=`${t}${e}.json`;try{const r=await fetch(i);if(r.ok)return await r.json()}catch(r){return console.error(r),{}}return e===p2?{}:await HY(p2,t)}function WY(e){var i;const t=b$e(e,"lang",((i=globalThis.navigator)==null?void 0:i.language)||p2);return{lang:t,t9nLocale:ZY(t)}}function ZY(e){const[t,i]=e.split("-"),r=t.toLowerCase();let s=r;return i&&(s=`${r}-${i.toUpperCase()}`),s=S$e[s]??s,_$e.has(s)?s:i?ZY(r):p2}function E$e(e,t,i,r){let s;const n=()=>void $$e(e,t(),r).then(a=>{((s==null?void 0:s.lang)!==a.lang||s.t9nLocale!==a.t9nLocale||s.t9nStrings!==a.t9nStrings)&&i(a),s=a}).catch(console.error);return queueMicrotask(n),y$e(e,["lang"],n)}async function $$e(e,t,i=e.tagName.toLowerCase().split("-").slice(1).join("-")){const{lang:r,t9nLocale:s}=WY(e),n=`${t}/${i}/t9n`,u=i===null?{}:await T$e(s,n,"messages.");return{lang:r,t9nLocale:s,t9nStrings:u}}var YY=e=>e.replace(x$e,(t,i)=>`${i===0?"":"-"}${t.toLowerCase()}`),x$e=/[A-Z]+(?![a-z])|[A-Z]/gu;function M$e(e,t){const i=t/A$e;let r=0;const s=setInterval(()=>{r+=i,r>=t&&(clearInterval(s),e())},i);return s}var A$e=4;function O$e(e){return e!==void 0}function JY(e){var i,r;let t=e;for(;t=t.parentNode??t.host;)if((i=t==null?void 0:t.constructor)!=null&&i.lumina){const s=t;return(r=s.manager)!=null&&r.loadedCalled||s._offspring.push(e),s._postLoad.promise}return!1}var Y_=Object.defineProperty;function R$e(e){const t=e.split(f$e);return t.length===1?[t[0],YY(t[0])]:t}var C$e=globalThis.HTMLElement??R$e,Wf;Wf=class extends C$e{constructor(){super(),this._store={},this._pendingAttributes=[],this._postLoad=new yh,this._postLoaded=new yh,this._offspring=[],this._saveInstanceProperties();const t=this.constructor;t._LitConstructor?this._initializeComponent({a:t._LitConstructor}):t._loadPromise.then(this._initializeComponent.bind(this)).catch(i=>{this._postLoaded.reject(i),setTimeout(()=>{throw i})})}static _initializePrototype(){var t,i,r;(t=this._properties)==null||t.forEach(this._bindProp,this),(i=this._asyncMethods)==null||i.forEach(this._bindAsync,this),(r=this._syncMethods)==null||r.forEach(this._bindSync,this)}static _bindProp(t){Y_(this.prototype,t,{configurable:!0,enumerable:!0,get(){return this._store[t]},set(i){this._store[t]=i}})}static _bindAsync(t){Y_(this.prototype,t,{async value(...i){return this._litElement||await this._postLoaded.promise,await this._litElement[t](...i)},configurable:!0})}static _bindSync(t){Y_(this.prototype,t,{value(...i){return this._litElement[t](...i)},configurable:!0})}get manager(){var t;return(t=this._litElement)==null?void 0:t.manager}_saveInstanceProperties(){var r;const t=this.constructor,i=this;(r=t._properties)==null||r.forEach(s=>{Object.hasOwn(this,s)&&(this._store[s]=i[s],delete i[s])})}attributeChangedCallback(t,i,r){var s;(s=this._litElement)==null||s.attributeChangedCallback(t,i,r),this._litElement||this._pendingAttributes.push(t)}connectedCallback(){var t,i;this._litElement?(i=(t=this._litElement).connectedCallback)==null||i.call(t):queueMicrotask(()=>{this._ancestorLoad=JY(this)})}disconnectedCallback(){var t,i;(i=(t=this._litElement)==null?void 0:t.disconnectedCallback)==null||i.call(t)}async componentOnReady(){return await this._postLoaded.promise,this}_initializeComponent(t){var v;const i=this.constructor,r=i._name,s=this._store,n=Object.values(t).find(w=>w.tagName===r),a=`${r}--lazy`;let u=n;for(;u&&!Object.hasOwn(u,"lumina");)u=Object.getPrototypeOf(u);N$e(u),!i._LitConstructor&&(i._LitConstructor=n,customElements.define(a,n)),n.lazy=this;const f=document.createElement(a);n.lazy=void 0,this._litElement=f,this._store=f,this._pendingAttributes.forEach(w=>{const S=this.getAttribute(w);f.attributeChangedCallback(w,null,S)}),Object.entries(s).forEach(I$e,f);const g=this.isConnected;(g||this._ancestorLoad)&&((v=f.connectedCallback)==null||v.call(f),g||f.disconnectedCallback())}addController(){}requestUpdate(){var t;(t=this._litElement)==null||t.requestUpdate()}},Wf.lumina=!0;function I$e([e,t]){this[e]=t}function N$e(e){const t=e.prototype,i=Element.prototype;Object.hasOwn(t,"isConnected")||(t.setAttribute=function(s,n){i.setAttribute.call(this.el,s,n)},t.removeAttribute=function(s){i.removeAttribute.call(this.el,s)},Y_(t,"isConnected",{get(){return Reflect.get(i,"isConnected",this.el)}}))}var Zj={};function P$e(e,t){var i;if(t){const r=e.constructor.elementProperties;e.manager.internals.members=Object.fromEntries(Array.from(r,([s,n])=>n.noAccessor?void 0:[s,[(n.readOnly?2048:0)|(n.state?32:16)]]).filter(O$e))}else{const r=e.constructor,s=((i=r.__registerControllers)==null?void 0:i.call(r,e))??void 0;if(r.__registerControllers=void 0,typeof s!="object")throw new Error("Failed to retrieve component meta");e.manager.internals.members=Object.fromEntries(Object.entries(s).filter(([n,[a]])=>(a&63)!==0))}}function L$e(e,t=8){return e==null||typeof e=="object"||typeof e=="function"?e:(t&4)!==0?e==="false"?!1:e===""||!!e:(t&2)!==0?Number.parseFloat(e):(t&1)!==0?String(e):e}var D$e=(e,t)=>{var i,r;return(r=(i=e.manager.internals.members)==null?void 0:i[t])==null?void 0:r[0]},tP=Symbol.for("controller"),k$e=e=>typeof e=="object"&&e!==null&&(tP in e||"hostConnected"in e||"hostDisconnected"in e||"hostUpdate"in e||"hostUpdated"in e),w0;function Mf(e){w0!==e&&(w0=e,queueMicrotask(()=>{w0===e&&(w0=void 0)}))}function CT(e){return w0}var Dd=[];function XY(e){if(e===void 0){Dd=[];return}const t=Dd.indexOf(e);Dd=t===-1?[...Dd,e]:Dd.slice(0,t+1),queueMicrotask(()=>{Dd=[]})}function QY(){return Dd}var Af;function F$e(e){Af!==e&&(Af=e,queueMicrotask(()=>{Af===e&&(Af=void 0)}))}function j$e(){const e=Af;return Af=void 0,e}var U$e=async(e,t)=>{const i=iP(e);if(i===void 0)return e;if(await i.ready,typeof t=="function"){const r=i.watchExports(s=>t(s,r))}return i.exports},z$e=async e=>{const t=iP(e);return await t.ready,t},iP=e=>{const i=CT().manager.internals.resolveExports(e);if(i!==void 0)return i;if(k$e(e))return e;const r=j$e();if(r!==void 0)return r},yC={readOnly:!1},f2=new WeakMap,KY;KY=tP;var rP=class{constructor(e){this._callbacks={hostConnected:[],hostDisconnected:[],hostLoad:[],hostLoaded:[],hostUpdate:[],hostUpdated:[],hostDestroy:[],hostLifecycle:[]},this._ready=new yh,this._lifecycleCleanups=[],this.connectedCalled=!1,this._loadCalled=!1,this.loadedCalled=!1,this[KY]=!0,this.ready=this._ready.promise,this._exports=Jj(this),this._exportWatchers=new Set;const t=e??CT();this.component=t,this.component.addController(this),this.component.manager===void 0||(XY(this),queueMicrotask(()=>this.catchUpLifecycle()))}catchUpLifecycle(){const{manager:e}=this.component;e.connectedCalled&&!this.connectedCalled&&this.triggerConnected(),e._loadCalled&&this.triggerLoad().then(()=>{e.loadedCalled&&this.triggerLoaded()}).catch(console.error)}get exports(){return this._exports}set exports(e){const t=this._exports;t!==e&&(this._exports=e,this._exportWatchers.forEach(Kt),this.connectedCalled&&this.assignedProperty!==!1&&this.component.requestUpdate(this.assignedProperty,t)),this._ready.resolve(e)}setProvisionalExports(e,t=!0){this._exports=t?Jj(e):e,this._exportWatchers.forEach(Kt)}watchExports(e){const t=()=>e(this._exports);return this._exportWatchers.add(t),()=>void this._exportWatchers.delete(t)}get use(){return Mf(this.component),U$e}get useRef(){return Mf(this.component),z$e}get useRefSync(){return Mf(this.component),iP}controllerRemoved(){this.component.el.isConnected&&this.triggerDisconnected(),this.triggerDestroy()}onConnected(e){this._callbacks.hostConnected.push(e)}onDisconnected(e){this._callbacks.hostDisconnected.push(e)}onLoad(e){this._callbacks.hostLoad.push(e)}onLoaded(e){this._callbacks.hostLoaded.push(e)}onUpdate(e){this._callbacks.hostUpdate.push(e)}onUpdated(e){this._callbacks.hostUpdated.push(e)}onDestroy(e){this._callbacks.hostDestroy.push(e)}onLifecycle(e){this._callbacks.hostLifecycle.push(e),this.connectedCalled&&this.component.el.isConnected&&this._callLifecycle(e)}triggerConnected(){const e=this;e.hostConnected&&Kt(e.hostConnected,e),this._callbacks.hostConnected.forEach(Kt),this.triggerLifecycle(),this.connectedCalled=!0}triggerDisconnected(){const e=this;e.hostDisconnected&&Kt(e.hostDisconnected,e),this._callbacks.hostDisconnected.forEach(Kt),this._lifecycleCleanups.forEach(Kt),this._lifecycleCleanups=[]}async triggerLoad(){if(this._loadCalled)return;this._loadCalled=!0;const e=this;e.hostLoad&&await mC(e.hostLoad,e),this._callbacks.hostLoad.length>0&&await Promise.allSettled(this._callbacks.hostLoad.map(mC)),this._ready.resolve(this._exports)}triggerLoaded(){if(this.loadedCalled)return;const e=this;e.hostLoaded&&Kt(e.hostLoaded,e),this._callbacks.hostLoaded.forEach(Kt),this.loadedCalled=!0}triggerUpdate(e){const t=this;t.hostUpdate&&Kt(t.hostUpdate,t,e),this._callbacks.hostUpdate.forEach(Yj,e)}triggerUpdated(e){const t=this;t.hostUpdated&&Kt(t.hostUpdated,t,e),this._callbacks.hostUpdated.forEach(Yj,e)}triggerDestroy(){const e=this;e.hostDestroy&&Kt(e.hostDestroy,e),this._callbacks.hostDestroy.forEach(Kt)}triggerLifecycle(){const e=this;e.hostLifecycle&&this._callLifecycle(()=>e.hostLifecycle()),this._callbacks.hostLifecycle.forEach(this._callLifecycle,this)}_callLifecycle(e){Mf(this.component);const t=Kt(e);(Array.isArray(t)?t:[t]).forEach(r=>{typeof r=="function"?this._lifecycleCleanups.push(r):typeof r=="object"&&typeof r.remove=="function"&&this._lifecycleCleanups.push(r.remove)})}};function Yj(e){Kt(e,void 0,this)}var V$e=rP;function Jj(e){if(typeof e!="object"&&typeof e!="function"||e===null)return e;const t=new Proxy(e,{get(i,r,s){if(!(G$e.has(r)&&r in i&&i[r]===t)&&(r in i||r in Promise.prototype||typeof r=="symbol"))return typeof i=="function"?i[r]:Reflect.get(i,r,s)},set:(i,r,s,n)=>Reflect.set(i,r,s,n)});return t}var G$e=new Set(["exports","_exports"]);function q$e(e,t,i){const r=Object.keys(e),s=r.length;il===void 0&&queueMicrotask(sP),il??(il=new Map);let n=il.get(e);return n===void 0&&(n={callbacks:[],keyCount:s},il.set(e,n)),n.keyCount!==s&&(n.callbacks.forEach(a=>a(r)),n.callbacks=[],n.keyCount=s),n.callbacks.push(a=>{const u=f=>Kt(t,null,f),d=a[s];d===void 0?u(void 0):e[d]===i?u(d):u(void 0)}),i}var il=void 0;function sP(){Array.from((il==null?void 0:il.entries())??[]).forEach(([e,{callbacks:t}])=>{const i=Object.keys(e);t.forEach(r=>r(i))}),il=void 0}function nP(e,t,i){var r;const s=t,n=e.manager.internals;(r=n.allWatchers)[s]??(r[s]=[]);const a=n.allWatchers[s],u=i,d=(f,g,v)=>Kt(u,null,f,g,v);return a.push(d),()=>{const f=a.indexOf(d);f!==-1&&a.splice(f,1)}}var B$e=class{constructor(e){this.enabledWatchers={},this.allWatchers={},this.enableReadonly=()=>{if(this.enableReadonly=void 0,!this.component.manager.isLit)return;const t=this.component.manager.internals;Object.entries(t.members).forEach(([i,[r]])=>{var s;r&2048&&((s=t.setters)[i]??(s[i]=[]),t.setters[i].push(t.readonlySetter))})},this.trackedValue=gC,this.keyTrackers=[],this.getters={},this.setters={},this.accessorGetter={},this.accessorSetter={},this._exports=new WeakMap,this.readonlySetter=(t,i,r)=>{if(yC.readOnly)return t;throw new Error(`Cannot assign to read-only property "${r}" of ${this.component.el.tagName.toLowerCase()}. Trying to assign "${String(t)}"`)},this.component=e}firePropTrackers(e,t){const i=this.keyTrackers;this.trackedValue=gC,this.keyTrackers=[],i.forEach(r=>r(e,t))}getSetProxy(e){const t=this.component,i=t.constructor.prototype;if(this._getSetProxy(i,e,"class"),t.manager.isLit)return;const r=t.el.constructor.prototype;i!==r&&this._getSetProxy(r,e,"html")}_getSetProxy(e,t,i){const r=this.component,s=D$e(r,t);let n;do n=Object.getOwnPropertyDescriptor(e,t);while(!n&&(e=Object.getPrototypeOf(e)));if(!n)return;const a=n.get,u=n.set,d=Iw in a,f=Iw in u;if(d&&f)return;const g=!d,v=!f,w=g?function(){let E=a.call(this);const M=f2.get(this);if(M===void 0)return E;const R=M.manager.internals;E=R.accessorGetter[t](E,t);const P=R.getters[t]??Xj;for(let N=0;N<P.length;N++)E=P[N](E,t);return E}:a,S=v?function(E){var k;const M=a.call(this),R=f2.get(this);if(R===void 0){u.call(this,E);return}let P=R.manager.isLit?E??void 0:L$e(E,s);const N=R.manager.internals;if(P===M)u.call(this,P);else{const U=N.setters[t]??Xj;for(let Z=0;Z<U.length&&(P=U[Z](P,M,t),P!==M);Z++);P=N.accessorSetter[t](P,M,t),u.call(this,P),P!==M&&((k=N.enabledWatchers[t])==null||k.forEach(Z=>Z(P,M,t)))}N.keyTrackers.length>0&&(N==null||N.firePropTrackers(t,E))}:u;g&&(w[Iw]=!0),v&&(S[Iw]=!0),Object.defineProperty(e,t,{...n,get:w,set:S})}markExports(e,t){(typeof t=="object"&&t!==null||typeof t=="function")&&this._exports.set(t,e)}resolveExports(e){if(typeof e=="object"&&e!==null||typeof e=="function")return this._exports.get(e)}},Xj=[],Iw=Symbol(),gC=Symbol();function H$e(e,t,i){const r=e.manager.internals;return r.trackedValue!==gC&&r.trackedValue!==i&&r.firePropTrackers(void 0,void 0),r.keyTrackers.length===0&&queueMicrotask(()=>r.firePropTrackers(void 0,void 0)),r.trackedValue=i,r.keyTrackers.push((s,n)=>Kt(t,void 0,i===n?s:void 0)),i}function eJ(e=[CT(),...QY()],t,i){const r=Array.isArray(e)?e:[e];let s=r.length+1;const n=u=>{s-=1,u!==void 0&&(s=Math.min(s,0)),s===0&&t(u)};r.forEach(u=>q$e(u,d=>n(d===void 0?void 0:{key:d,host:u,isReactive:!1}),i));const a=r.find(u=>"manager"in u&&typeof u.manager=="object"&&u.manager.component===u);return a&&H$e(a,u=>n(u===void 0?void 0:{key:u,host:a,isReactive:!0}),i),i}function W$e(e){yC.readOnly=!0;try{return e()}finally{yC.readOnly=!1}}var Z$e=e=>(...t)=>{const i=QY(),r=new e(...t),s=r.exports;XY(i.at(-1));const n=r.component.manager.internals;n.markExports(r,s),r.watchExports(u=>n.markExports(r,u)),F$e(r);const a=[r.component,...i].reverse();return eJ(a,u=>u===void 0?void 0:Y$e(r,u,s),s)};function Y$e(e,{host:t,key:i,isReactive:r},s){const n=t,a=n[i]!==e.exports,u=n[i]!==s,d=s!==e.exports;if(a&&!u&&d&&(n[i]=e.exports),t===e.component){if(r){const g=e.component.manager.internals;u&&g.markExports(e,n[i]),nP(e.component,i,v=>{v!==e.exports&&g.markExports(e,v)})}e.assignedProperty=r?void 0:i}e.watchExports(()=>{var w;if(n[i]===e.exports)return;const g=e.component.manager;((w=g.internals.setters[i])==null?void 0:w.includes(g.internals.readonlySetter))?W$e(()=>{n[i]=e.exports}):n[i]=e.exports})}var J$e=(e,t)=>new X$e(e,t),X$e=class extends V$e{constructor(e,t){const i="addController"in e,r=new Set;function s(d){var f;r.add(d),!(tP in d)&&e.renderRoot&&e.el.isConnected&&((f=d.hostConnected)==null||f.call(d))}function n(d){var f;r.delete(d),(f=d.controllerRemoved)==null||f.call(d)}const a=e;if(a.addController=s,a.removeController=n,!i){const d=t??e.constructor.__forceUpdate;a.requestUpdate=()=>d(e)}super(e),this.internals=new B$e(this.component),this.destroyed=!1,this._updatePromise=new yh,this._originalLifecycles={},this.isLit=i,this.component.manager=this,P$e(e,i),this._controllers=r,this.exports=void 0,this.hasDestroy=PM in this.component&&typeof this.component.destroy=="function",this._bindLifecycleMethods();const u=this.internals;Object.keys(u.members).forEach(d=>{u.accessorGetter[d]=Qj,u.accessorSetter[d]=Qj,u.getSetProxy(d)}),i?this.internals.enabledWatchers=this.internals.allWatchers:Object.defineProperty(e,"updateComplete",{get:async()=>await this._updatePromise.promise}),queueMicrotask(u.enableReadonly),Mf(e),f2.set(e.el,e),f2.set(e,e)}_bindLifecycleMethods(){const e=this.component,t=this.isLit,i=e.el===e;this._originalLifecycles={_connectedCallback:t||i?void 0:e.connectedCallback,_disconnectedCallback:t||i?void 0:e.disconnectedCallback,_load:t?e.load:e.componentWillLoad,_loaded:t?e.loaded:e.componentDidLoad,_willUpdate:t?void 0:e.componentWillUpdate,_updated:t?void 0:e.componentDidUpdate,_destroy:e.destroy};const r=this._connectedCallback.bind(this),s=this._disconnectedCallback.bind(this),n=this._update.bind(this),a=this._updated.bind(this);t?e.constructor.prototype.addController.call(e,{hostConnected:r,hostDisconnected:s,hostUpdate:n,hostUpdated:a}):(e.connectedCallback=r,e.disconnectedCallback=s,e.componentWillLoad=this._load.bind(this),e.componentDidLoad=this._loaded.bind(this),e.componentWillUpdate=n,e.componentDidUpdate=a),this.hasDestroy&&(e.destroy=this.destroy.bind(this))}_connectedCallback(){var t,i;if(this.destroyed){const r=this.component.el.tagName.toLowerCase();throw this.component.el.remove(),new Error(`The ${r} component has already been destroyed. It cannot be used again. If you meant to disconnect and reconnect a component without automatic destroy, set the ${PM} prop.`)}this._autoDestroyTimeout!==void 0&&clearTimeout(this._autoDestroyTimeout);const e=this.internals;e.enabledWatchers=e.allWatchers,sP(),(t=e.enableReadonly)==null||t.call(e),this._controllers.forEach(K$e),(i=this._originalLifecycles._connectedCallback)==null||i.call(this.component)}_disconnectedCallback(){var e;this.destroyed||(this._controllers.forEach(exe),(e=this._originalLifecycles._disconnectedCallback)==null||e.call(this.component),this.hasDestroy&&this._setAutoDestroyTimeout())}async _load(){var e;await Promise.allSettled(Array.from(this._controllers,txe)),await((e=this._originalLifecycles._load)==null?void 0:e.call(this.component)),this.hasDestroy&&nP(this.component,PM,()=>this._setAutoDestroyTimeout())}_loaded(){var e;this._controllers.forEach(ixe),(e=this._originalLifecycles._loaded)==null||e.call(this.component)}_update(){var t;const e=this.component;return this._controllers.forEach(rxe,e.$changes),(t=this._originalLifecycles._willUpdate)==null?void 0:t.call(this.component)}_updated(){var t;const e=this.component;if(this._controllers.forEach(sxe,e.$changes),(t=this._originalLifecycles._updated)==null||t.call(this.component),this.isLit)e.$changes=new Map;else{const i=this._updatePromise;this._updatePromise=new yh,i.resolve(!0)}}async destroy(){var e;if(!this.destroyed){if(this.component.el.isConnected){this.hasDestroy=!1;try{this.component.el.remove()}finally{this.hasDestroy=!0}}this._autoDestroyTimeout=void 0,this.destroyed=!0,this._controllers.forEach(nxe),this._controllers.clear(),await((e=this._originalLifecycles._destroy)==null?void 0:e.call(this.component))}}_setAutoDestroyTimeout(){if(this._autoDestroyTimeout!==void 0&&clearTimeout(this._autoDestroyTimeout),!this.component.el.isConnected&&!this.component.autoDestroyDisabled){const e=()=>void this.destroy().catch(console.error);this._autoDestroyTimeout=M$e(e,Q$e)}}},PM="autoDestroyDisabled",Q$e=1e3,Qj=e=>e;function K$e(e){"triggerConnected"in e?e.triggerConnected():Kt(e.hostConnected,e)}function exe(e){"triggerDisconnected"in e?e.triggerDisconnected():Kt(e.hostDisconnected,e)}async function txe(e){"triggerLoad"in e?await e.triggerLoad():await mC(e.hostLoad,e)}function ixe(e){"triggerLoaded"in e?e.triggerLoaded():Kt(e.hostLoaded,e)}function rxe(e){"triggerUpdate"in e?e.triggerUpdate(this):Kt(e.hostUpdate,e,this)}function sxe(e){"triggerUpdated"in e?e.triggerUpdated(this):Kt(e.hostUpdated,e,this)}function nxe(e){"triggerDestroy"in e?e.triggerDestroy():Kt(e.hostDestroy,e)}var oxe=e=>tJ(void 0,e),mke=e=>t=>tJ(t,e),axe=class extends rP{constructor(e,t){super(e);const i=this.exports;try{Mf(this.component);const r=t(this.component,this),s=this.exports!==i;if(r instanceof Promise){s||this.setProvisionalExports(r);const n=r.then(a=>{this.exports=a,super.catchUpLifecycle()}).catch(a=>{this._ready.reject(a),console.error(a)});this.onLoad(async()=>await n)}else(!s||r!==void 0)&&(this.exports=r),queueMicrotask(()=>super.catchUpLifecycle())}catch(r){this._ready.reject(r),console.error(r)}}catchUpLifecycle(){}},tJ=Z$e(axe),yke=(e,t)=>new lxe(e,t),lxe=class extends rP{constructor(e,t){super(),this._attributes=e,this._callback=t,this._observer=new MutationObserver(i=>{i.forEach(r=>{e.includes(r.attributeName)&&t.call(this.component,this.component.el.getAttribute(r.attributeName),r.oldValue,r.attributeName)})})}hostConnected(){this._attributes.forEach(e=>{this.component.el.hasAttribute(e)&&this._callback.call(this.component,null,this.component.el.getAttribute(e),e)}),this._observer.observe(this.component.el,{attributes:!0,attributeOldValue:!0,attributeFilter:this._attributes})}hostDisconnected(){this._observer.disconnect()}},gke=e=>(t={})=>oxe((i,r)=>{const s=WY(i.el),n={_lang:s.lang,_t9nLocale:s.t9nLocale,_loading:!0},a=i;r.onLifecycle(()=>E$e(i.el,()=>e("./assets"),({t9nLocale:d,t9nStrings:f,lang:g})=>{const v={...f,_lang:g,_t9nLocale:d,_loading:!1};r.exports=v;const w=f.componentLabel;typeof w=="string"&&"label"in i&&i.label==null&&(i.label??(i.label=w)),u(a.messageOverrides)},t.name));function u(d){const f=r.exports,g=f._original??f,v=iJ(g,d);d&&(v._original=g),r.exports=v}return"messageOverrides"in a&&r.onLifecycle(()=>nP(a,"messageOverrides",u)),t.blocking?(r.setProvisionalExports(n,!1),r.ready):n});function iJ(e,t){if(!t)return e;const i={...e};return Object.entries(t).forEach(([r,s])=>{typeof s=="object"?i[r]=iJ(e[r],s):i[r]=s??e[r]}),i}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const J_=globalThis,oP=J_.ShadowRoot&&(J_.ShadyCSS===void 0||J_.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,aP=Symbol(),Kj=new WeakMap;let rJ=class{constructor(t,i,r){if(this._$cssResult$=!0,r!==aP)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=i}get styleSheet(){let t=this.o;const i=this.t;if(oP&&t===void 0){const r=i!==void 0&&i.length===1;r&&(t=Kj.get(i)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),r&&Kj.set(i,t))}return t}toString(){return this.cssText}};const uxe=e=>new rJ(typeof e=="string"?e:e+"",void 0,aP),bke=(e,...t)=>{const i=e.length===1?e[0]:t.reduce((r,s,n)=>r+(a=>{if(a._$cssResult$===!0)return a.cssText;if(typeof a=="number")return a;throw Error("Value passed to 'css' function must be a 'css' function result: "+a+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+e[n+1],e[0]);return new rJ(i,e,aP)},cxe=(e,t)=>{if(oP)e.adoptedStyleSheets=t.map(i=>i instanceof CSSStyleSheet?i:i.styleSheet);else for(const i of t){const r=document.createElement("style"),s=J_.litNonce;s!==void 0&&r.setAttribute("nonce",s),r.textContent=i.cssText,e.appendChild(r)}},eU=oP?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let i="";for(const r of t.cssRules)i+=r.cssText;return uxe(i)})(e):e;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:dxe,defineProperty:hxe,getOwnPropertyDescriptor:pxe,getOwnPropertyNames:fxe,getOwnPropertySymbols:mxe,getPrototypeOf:yxe}=Object,Yu=globalThis,tU=Yu.trustedTypes,gxe=tU?tU.emptyScript:"",LM=Yu.reactiveElementPolyfillSupport,W0=(e,t)=>e,vC={toAttribute(e,t){switch(t){case Boolean:e=e?gxe:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let i=e;switch(t){case Boolean:i=e!==null;break;case Number:i=e===null?null:Number(e);break;case Object:case Array:try{i=JSON.parse(e)}catch{i=null}}return i}},sJ=(e,t)=>!dxe(e,t),iU={attribute:!0,type:String,converter:vC,reflect:!1,useDefault:!1,hasChanged:sJ};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Yu.litPropertyMetadata??(Yu.litPropertyMetadata=new WeakMap);let mf=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??(this.l=[])).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,i=iU){if(i.state&&(i.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((i=Object.create(i)).wrapped=!0),this.elementProperties.set(t,i),!i.noAccessor){const r=Symbol(),s=this.getPropertyDescriptor(t,r,i);s!==void 0&&hxe(this.prototype,t,s)}}static getPropertyDescriptor(t,i,r){const{get:s,set:n}=pxe(this.prototype,t)??{get(){return this[i]},set(a){this[i]=a}};return{get:s,set(a){const u=s==null?void 0:s.call(this);n==null||n.call(this,a),this.requestUpdate(t,u,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??iU}static _$Ei(){if(this.hasOwnProperty(W0("elementProperties")))return;const t=yxe(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(W0("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(W0("properties"))){const i=this.properties,r=[...fxe(i),...mxe(i)];for(const s of r)this.createProperty(s,i[s])}const t=this[Symbol.metadata];if(t!==null){const i=litPropertyMetadata.get(t);if(i!==void 0)for(const[r,s]of i)this.elementProperties.set(r,s)}this._$Eh=new Map;for(const[i,r]of this.elementProperties){const s=this._$Eu(i,r);s!==void 0&&this._$Eh.set(s,i)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const i=[];if(Array.isArray(t)){const r=new Set(t.flat(1/0).reverse());for(const s of r)i.unshift(eU(s))}else t!==void 0&&i.push(eU(t));return i}static _$Eu(t,i){const r=i.attribute;return r===!1?void 0:typeof r=="string"?r:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var t;this._$ES=new Promise(i=>this.enableUpdating=i),this._$AL=new Map,this._$E_(),this.requestUpdate(),(t=this.constructor.l)==null||t.forEach(i=>i(this))}addController(t){var i;(this._$EO??(this._$EO=new Set)).add(t),this.renderRoot!==void 0&&this.isConnected&&((i=t.hostConnected)==null||i.call(t))}removeController(t){var i;(i=this._$EO)==null||i.delete(t)}_$E_(){const t=new Map,i=this.constructor.elementProperties;for(const r of i.keys())this.hasOwnProperty(r)&&(t.set(r,this[r]),delete this[r]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return cxe(t,this.constructor.elementStyles),t}connectedCallback(){var t;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$EO)==null||t.forEach(i=>{var r;return(r=i.hostConnected)==null?void 0:r.call(i)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$EO)==null||t.forEach(i=>{var r;return(r=i.hostDisconnected)==null?void 0:r.call(i)})}attributeChangedCallback(t,i,r){this._$AK(t,r)}_$ET(t,i){var n;const r=this.constructor.elementProperties.get(t),s=this.constructor._$Eu(t,r);if(s!==void 0&&r.reflect===!0){const a=(((n=r.converter)==null?void 0:n.toAttribute)!==void 0?r.converter:vC).toAttribute(i,r.type);this._$Em=t,a==null?this.removeAttribute(s):this.setAttribute(s,a),this._$Em=null}}_$AK(t,i){var n,a;const r=this.constructor,s=r._$Eh.get(t);if(s!==void 0&&this._$Em!==s){const u=r.getPropertyOptions(s),d=typeof u.converter=="function"?{fromAttribute:u.converter}:((n=u.converter)==null?void 0:n.fromAttribute)!==void 0?u.converter:vC;this._$Em=s,this[s]=d.fromAttribute(i,u.type)??((a=this._$Ej)==null?void 0:a.get(s))??null,this._$Em=null}}requestUpdate(t,i,r){var s;if(t!==void 0){const n=this.constructor,a=this[t];if(r??(r=n.getPropertyOptions(t)),!((r.hasChanged??sJ)(a,i)||r.useDefault&&r.reflect&&a===((s=this._$Ej)==null?void 0:s.get(t))&&!this.hasAttribute(n._$Eu(t,r))))return;this.C(t,i,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(t,i,{useDefault:r,reflect:s,wrapped:n},a){r&&!(this._$Ej??(this._$Ej=new Map)).has(t)&&(this._$Ej.set(t,a??i??this[t]),n!==!0||a!==void 0)||(this._$AL.has(t)||(this.hasUpdated||r||(i=void 0),this._$AL.set(t,i)),s===!0&&this._$Em!==t&&(this._$Eq??(this._$Eq=new Set)).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(i){Promise.reject(i)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[n,a]of this._$Ep)this[n]=a;this._$Ep=void 0}const s=this.constructor.elementProperties;if(s.size>0)for(const[n,a]of s){const{wrapped:u}=a,d=this[n];u!==!0||this._$AL.has(n)||d===void 0||this.C(n,void 0,a,d)}}let t=!1;const i=this._$AL;try{t=this.shouldUpdate(i),t?(this.willUpdate(i),(r=this._$EO)==null||r.forEach(s=>{var n;return(n=s.hostUpdate)==null?void 0:n.call(s)}),this.update(i)):this._$EM()}catch(s){throw t=!1,this._$EM(),s}t&&this._$AE(i)}willUpdate(t){}_$AE(t){var i;(i=this._$EO)==null||i.forEach(r=>{var s;return(s=r.hostUpdated)==null?void 0:s.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&(this._$Eq=this._$Eq.forEach(i=>this._$ET(i,this[i]))),this._$EM()}updated(t){}firstUpdated(t){}};mf.elementStyles=[],mf.shadowRootOptions={mode:"open"},mf[W0("elementProperties")]=new Map,mf[W0("finalized")]=new Map,LM==null||LM({ReactiveElement:mf}),(Yu.reactiveElementVersions??(Yu.reactiveElementVersions=[])).push("2.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Z0=globalThis,m2=Z0.trustedTypes,rU=m2?m2.createPolicy("lit-html",{createHTML:e=>e}):void 0,nJ="$lit$",Du=`lit$${Math.random().toFixed(9).slice(2)}$`,oJ="?"+Du,vxe=`<${oJ}>`,gh=document,$v=()=>gh.createComment(""),xv=e=>e===null||typeof e!="object"&&typeof e!="function",lP=Array.isArray,bxe=e=>lP(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",DM=`[ 	
\f\r]`,lg=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,sU=/-->/g,nU=/>/g,Qc=RegExp(`>|${DM}(?:([^\\s"'>=/]+)(${DM}*=${DM}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),oU=/'/g,aU=/"/g,aJ=/^(?:script|style|textarea|title)$/i,lJ=e=>(t,...i)=>({_$litType$:e,strings:t,values:i}),_ke=lJ(1),Ske=lJ(2),dc=Symbol.for("lit-noChange"),zi=Symbol.for("lit-nothing"),lU=new WeakMap,Yd=gh.createTreeWalker(gh,129);function uJ(e,t){if(!lP(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return rU!==void 0?rU.createHTML(t):t}const wxe=(e,t)=>{const i=e.length-1,r=[];let s,n=t===2?"<svg>":t===3?"<math>":"",a=lg;for(let u=0;u<i;u++){const d=e[u];let f,g,v=-1,w=0;for(;w<d.length&&(a.lastIndex=w,g=a.exec(d),g!==null);)w=a.lastIndex,a===lg?g[1]==="!--"?a=sU:g[1]!==void 0?a=nU:g[2]!==void 0?(aJ.test(g[2])&&(s=RegExp("</"+g[2],"g")),a=Qc):g[3]!==void 0&&(a=Qc):a===Qc?g[0]===">"?(a=s??lg,v=-1):g[1]===void 0?v=-2:(v=a.lastIndex-g[2].length,f=g[1],a=g[3]===void 0?Qc:g[3]==='"'?aU:oU):a===aU||a===oU?a=Qc:a===sU||a===nU?a=lg:(a=Qc,s=void 0);const S=a===Qc&&e[u+1].startsWith("/>")?" ":"";n+=a===lg?d+vxe:v>=0?(r.push(f),d.slice(0,v)+nJ+d.slice(v)+Du+S):d+Du+(v===-2?u:S)}return[uJ(e,n+(e[i]||"<?>")+(t===2?"</svg>":t===3?"</math>":"")),r]};class Mv{constructor({strings:t,_$litType$:i},r){let s;this.parts=[];let n=0,a=0;const u=t.length-1,d=this.parts,[f,g]=wxe(t,i);if(this.el=Mv.createElement(f,r),Yd.currentNode=this.el.content,i===2||i===3){const v=this.el.content.firstChild;v.replaceWith(...v.childNodes)}for(;(s=Yd.nextNode())!==null&&d.length<u;){if(s.nodeType===1){if(s.hasAttributes())for(const v of s.getAttributeNames())if(v.endsWith(nJ)){const w=g[a++],S=s.getAttribute(v).split(Du),T=/([.?@])?(.*)/.exec(w);d.push({type:1,index:n,name:T[2],strings:S,ctor:T[1]==="."?Sxe:T[1]==="?"?Txe:T[1]==="@"?Exe:IT}),s.removeAttribute(v)}else v.startsWith(Du)&&(d.push({type:6,index:n}),s.removeAttribute(v));if(aJ.test(s.tagName)){const v=s.textContent.split(Du),w=v.length-1;if(w>0){s.textContent=m2?m2.emptyScript:"";for(let S=0;S<w;S++)s.append(v[S],$v()),Yd.nextNode(),d.push({type:2,index:++n});s.append(v[w],$v())}}}else if(s.nodeType===8)if(s.data===oJ)d.push({type:2,index:n});else{let v=-1;for(;(v=s.data.indexOf(Du,v+1))!==-1;)d.push({type:7,index:n}),v+=Du.length-1}n++}}static createElement(t,i){const r=gh.createElement("template");return r.innerHTML=t,r}}function pm(e,t,i=e,r){var a,u;if(t===dc)return t;let s=r!==void 0?(a=i._$Co)==null?void 0:a[r]:i._$Cl;const n=xv(t)?void 0:t._$litDirective$;return(s==null?void 0:s.constructor)!==n&&((u=s==null?void 0:s._$AO)==null||u.call(s,!1),n===void 0?s=void 0:(s=new n(e),s._$AT(e,i,r)),r!==void 0?(i._$Co??(i._$Co=[]))[r]=s:i._$Cl=s),s!==void 0&&(t=pm(e,s._$AS(e,t.values),s,r)),t}let _xe=class{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:i},parts:r}=this._$AD,s=((t==null?void 0:t.creationScope)??gh).importNode(i,!0);Yd.currentNode=s;let n=Yd.nextNode(),a=0,u=0,d=r[0];for(;d!==void 0;){if(a===d.index){let f;d.type===2?f=new c1(n,n.nextSibling,this,t):d.type===1?f=new d.ctor(n,d.name,d.strings,this,t):d.type===6&&(f=new $xe(n,this,t)),this._$AV.push(f),d=r[++u]}a!==(d==null?void 0:d.index)&&(n=Yd.nextNode(),a++)}return Yd.currentNode=gh,s}p(t){let i=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(t,r,i),i+=r.strings.length-2):r._$AI(t[i])),i++}};class c1{get _$AU(){var t;return((t=this._$AM)==null?void 0:t._$AU)??this._$Cv}constructor(t,i,r,s){this.type=2,this._$AH=zi,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=r,this.options=s,this._$Cv=(s==null?void 0:s.isConnected)??!0}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return i!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=pm(this,t,i),xv(t)?t===zi||t==null||t===""?(this._$AH!==zi&&this._$AR(),this._$AH=zi):t!==this._$AH&&t!==dc&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):bxe(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==zi&&xv(this._$AH)?this._$AA.nextSibling.data=t:this.T(gh.createTextNode(t)),this._$AH=t}$(t){var n;const{values:i,_$litType$:r}=t,s=typeof r=="number"?this._$AC(t):(r.el===void 0&&(r.el=Mv.createElement(uJ(r.h,r.h[0]),this.options)),r);if(((n=this._$AH)==null?void 0:n._$AD)===s)this._$AH.p(i);else{const a=new _xe(s,this),u=a.u(this.options);a.p(i),this.T(u),this._$AH=a}}_$AC(t){let i=lU.get(t.strings);return i===void 0&&lU.set(t.strings,i=new Mv(t)),i}k(t){lP(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let r,s=0;for(const n of t)s===i.length?i.push(r=new c1(this.O($v()),this.O($v()),this,this.options)):r=i[s],r._$AI(n),s++;s<i.length&&(this._$AR(r&&r._$AB.nextSibling,s),i.length=s)}_$AR(t=this._$AA.nextSibling,i){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,i);t&&t!==this._$AB;){const s=t.nextSibling;t.remove(),t=s}}setConnected(t){var i;this._$AM===void 0&&(this._$Cv=t,(i=this._$AP)==null||i.call(this,t))}}class IT{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,i,r,s,n){this.type=1,this._$AH=zi,this._$AN=void 0,this.element=t,this.name=i,this._$AM=s,this.options=n,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=zi}_$AI(t,i=this,r,s){const n=this.strings;let a=!1;if(n===void 0)t=pm(this,t,i,0),a=!xv(t)||t!==this._$AH&&t!==dc,a&&(this._$AH=t);else{const u=t;let d,f;for(t=n[0],d=0;d<n.length-1;d++)f=pm(this,u[r+d],i,d),f===dc&&(f=this._$AH[d]),a||(a=!xv(f)||f!==this._$AH[d]),f===zi?t=zi:t!==zi&&(t+=(f??"")+n[d+1]),this._$AH[d]=f}a&&!s&&this.j(t)}j(t){t===zi?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}let Sxe=class extends IT{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===zi?void 0:t}},Txe=class extends IT{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==zi)}};class Exe extends IT{constructor(t,i,r,s,n){super(t,i,r,s,n),this.type=5}_$AI(t,i=this){if((t=pm(this,t,i,0)??zi)===dc)return;const r=this._$AH,s=t===zi&&r!==zi||t.capture!==r.capture||t.once!==r.once||t.passive!==r.passive,n=t!==zi&&(r===zi||s);s&&this.element.removeEventListener(this.name,this,r),n&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var i;typeof this._$AH=="function"?this._$AH.call(((i=this.options)==null?void 0:i.host)??this.element,t):this._$AH.handleEvent(t)}}let $xe=class{constructor(t,i,r){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(t){pm(this,t)}};const kM=Z0.litHtmlPolyfillSupport;kM==null||kM(Mv,c1),(Z0.litHtmlVersions??(Z0.litHtmlVersions=[])).push("3.3.0");const xxe=(e,t,i)=>{const r=(i==null?void 0:i.renderBefore)??t;let s=r._$litPart$;if(s===void 0){const n=(i==null?void 0:i.renderBefore)??null;r._$litPart$=s=new c1(t.insertBefore($v(),n),n,void 0,i??{})}return s._$AI(e),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const rh=globalThis;let Hf=class extends mf{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var i;const t=super.createRenderRoot();return(i=this.renderOptions).renderBefore??(i.renderBefore=t.firstChild),t}update(t){const i=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=xxe(i,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this._$Do)==null||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this._$Do)==null||t.setConnected(!1)}render(){return dc}};var MU;Hf._$litElement$=!0,Hf.finalized=!0,(MU=rh.litElementHydrateSupport)==null||MU.call(rh,{LitElement:Hf});const FM=rh.litElementPolyfillSupport;FM==null||FM({LitElement:Hf});(rh.litElementVersions??(rh.litElementVersions=[])).push("4.2.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const cJ={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4},dJ=e=>(...t)=>({_$litDirective$:e,values:t});let hJ=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,i,r){this._$Ct=t,this._$AM=i,this._$Ci=r}_$AS(t,i){return this.update(t,i)}update(t,i){return this.render(...i)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Mxe=dJ(class extends hJ{constructor(e){var t;if(super(e),e.type!==cJ.ATTRIBUTE||e.name!=="class"||((t=e.strings)==null?void 0:t.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter(t=>e[t]).join(" ")+" "}update(e,[t]){var r,s;if(this.st===void 0){this.st=new Set,e.strings!==void 0&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter(n=>n!=="")));for(const n in t)t[n]&&!((r=this.nt)!=null&&r.has(n))&&this.st.add(n);return this.render(t)}const i=e.element.classList;for(const n of this.st)n in t||(i.remove(n),this.st.delete(n));for(const n in t){const a=!!t[n];a===this.st.has(n)||(s=this.nt)!=null&&s.has(n)||(a?(i.add(n),this.st.add(n)):(i.remove(n),this.st.delete(n)))}return dc}});/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const pJ="important",Axe=" !"+pJ,Oxe=dJ(class extends hJ{constructor(e){var t;if(super(e),e.type!==cJ.ATTRIBUTE||e.name!=="style"||((t=e.strings)==null?void 0:t.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).reduce((t,i)=>{const r=e[i];return r==null?t:t+`${i=i.includes("-")?i:i.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${r};`},"")}update(e,[t]){const{style:i}=e.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(t)),this.render(t);for(const r of this.ft)t[r]==null&&(this.ft.delete(r),r.includes("-")?i.removeProperty(r):i[r]=null);for(const r in t){const s=t[r];if(s!=null){this.ft.add(r);const n=typeof s=="string"&&s.endsWith(Axe);r.includes("-")||n?i.setProperty(r,n?s.slice(0,-11):s,n?pJ:""):i[r]=s}}return dc}});var fJ=(e="",t={},i=CT())=>{const r={emit:s=>{e===""&&sP();const n=new CustomEvent(e,{detail:s,cancelable:!0,bubbles:!0,composed:!0,...t});return i.el.dispatchEvent(n),n}};return e===""&&eJ(void 0,s=>{e=s.key},r),r},Oke=fJ.bind(null,""),Rxe=()=>{},sh,Cxe=(sh=class extends Hf{constructor(){var i,r,s;super(),this.el=this.constructor.lazy??this,this.manager=J$e(this),this._postLoad=((i=this.constructor.lazy)==null?void 0:i._postLoad)??new yh,this._offspring=((r=this.constructor.lazy)==null?void 0:r._offspring)??[],this._postLoaded=((s=this.constructor.lazy)==null?void 0:s._postLoaded)??new yh,this._enableUpdating=this.enableUpdating,this.enableUpdating=Rxe;const t=sh.prototype.shouldUpdate;this.shouldUpdate!==t&&(this._originalShouldUpdate=this.shouldUpdate,this.shouldUpdate=t)}static finalizeStyles(t){var s;const i=super.finalizeStyles(t),r=this.shadowRootOptions===Zj;return((s=this.runtime)==null?void 0:s.commonStyles)===void 0||r?i:[this.runtime.commonStyles,...i]}static createProperty(t,i){const r=typeof i=="number"?i:Array.isArray(i)?i[0]:0,s=Array.isArray(i)?i[1]:void 0;super.createProperty(t,{attribute:r&1&&typeof t=="string"?YY(t):!1,reflect:!!(r&2),type:r&4?Boolean:r&8?Number:void 0,state:!!(r&16),readOnly:!!(r&32),noAccessor:!!(r&64),...s})}connectedCallback(){if(this.el.hasAttribute("defer-hydration"))return;const t=!this.manager.connectedCalled;super.connectedCallback(),t&&queueMicrotask(()=>this._load().catch(i=>{this._postLoaded.reject(i),setTimeout(()=>{throw i})}))}createRenderRoot(){const t=this.el.shadowRoot,i=this.constructor,r=i.shadowRootOptions,n=t??(r===Zj?this.el:this.el.attachShadow(r));if(Object.defineProperty(this,"shadowRoot",{value:n}),t)return Hf.prototype.createRenderRoot.call(this),t;if(this.isConnected){const a=n.getRootNode();a.adoptedStyleSheets=[...a.adoptedStyleSheets,...i.elementStyles.map(u=>"styleSheet"in u?u.styleSheet:u)]}return n}async _load(){const t=this.el._ancestorLoad??JY(this.el);t&&await t,await this.manager._load(),this._enableUpdating(!0),this.performUpdate(),this._postLoad.resolve(),await Promise.resolve();const i=this._offspring.filter(r=>{var s;return!((s=r.manager)!=null&&s.loadedCalled)});i.length&&await Promise.allSettled(i.map(async r=>await r.componentOnReady())),this._offspring.length=0,this.el.setAttribute(this.constructor.runtime.hydratedAttribute,""),this.manager._loaded(),this._postLoaded.resolve()}shouldUpdate(t){var i;return this.$changes=t,((i=this._originalShouldUpdate)==null?void 0:i.call(this,t))??!0}listen(t,i,r){const s=(i==null?void 0:i.bind(this))??i;this.manager.onLifecycle(()=>(this.el.addEventListener(t,s,r),()=>this.el.removeEventListener(t,s,r)))}listenOn(t,i,r,s){const n=(r==null?void 0:r.bind(this))??r;this.manager.onLifecycle(()=>(t.addEventListener(i,n,s),()=>t.removeEventListener(i,n,s)))}async componentOnReady(){return await this._postLoaded.promise,this}},sh.lumina=!0,sh);Cxe.$createEvent=fJ;function Ixe(e){let t;const i=s=>{var n;t=new URL(s,((n=globalThis.location)==null?void 0:n.href)||void 0).href},r={...e,getAssetPath(s){var a;const n=new URL(s,t);return n.origin!==((a=globalThis.location)==null?void 0:a.origin)?n.href:n.pathname},setAssetPath:i,customElement(s,n){n.runtime=r,n.tagName=s,customElements.get(s)||customElements.define(s,n)}};return i(e.defaultAssetPath),r}var Rke=e=>typeof e=="object"&&e!=null?Mxe(e):e,Cke=e=>typeof e=="object"&&e!=null?Oxe(e):e,Ike=zi;function Nke(e,t,i){i==null?e.removeAttribute(t):e.setAttribute(t,i)}var Pke={toAttribute:e=>e===!0?"":e===!1?null:e};/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.1.0 */const Nxe="calcite-mode-auto",Pxe="calcite-mode-dark",Lke={rtl:"calcite--rtl"},Dke={filter:250,nextTick:0,resize:150,reposition:100};function uU(){const{classList:e}=document.body,t=window.matchMedia("(prefers-color-scheme: dark)").matches,i=()=>e.contains(Pxe)||e.contains(Nxe)&&t?"dark":"light",r=a=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:a}})),s=a=>{n!==a&&r(a),n=a};let n=i();r(n),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",a=>s(a.matches?"dark":"light")),new MutationObserver(()=>s(i())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}const ll=globalThis.calciteConfig,kke=(ll==null?void 0:ll.focusTrapStack)||[],Fke=(ll==null?void 0:ll.logLevel)||"info",cU="3.1.0",Lxe="2025-03-26",Dxe="d5f75fd64";function kxe(){if(ll&&ll.version)return;console.info(`Using Calcite Components ${cU} [Date: ${Lxe}, Revision: ${Dxe}]`);const e=ll||globalThis.calciteConfig||{};Object.defineProperty(e,"version",{value:cU,writable:!1}),globalThis.calciteConfig=e}const Fxe=()=>typeof navigator<"u"&&typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;function jxe(){Fxe()&&(document.readyState==="interactive"?uU():document.addEventListener("DOMContentLoaded",()=>uU(),{once:!0})),kxe()}jxe();const Uxe=Ixe({defaultAssetPath:"https://js.arcgis.com/calcite-components/3.1.0/",hydratedAttribute:"calcite-hydrated"}),{customElement:jke,getAssetPath:Uke,setAssetPath:zxe}=Uxe;/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.1.0 */let mJ=!1;const Vxe=e=>{mJ=!0,zxe(e)};let yJ;function Gxe(){mJ||Vxe(hn(fi(yJ)))}function uP(e){var i;const t=[];for(const r of Object.keys(e))customElements.get(`calcite-${r}`)||t.push((i=e[r])==null?void 0:i.call(e));return t.length>0?Promise.all(t):null}yJ="components/assets";const gJ=Symbol("widget"),vJ=Symbol("widget-test-data"),qxe=[],Bxe={},y2=new WeakMap;function bJ(e,t){let i=t.children;if(i!=null&&i.length)for(let s=0;s<i.length;++s)i[s]=bJ(e,i[s]);else i=qxe;const r=t.vnodeSelector;if(g2(r)){const s=t.properties||Bxe,n=s.key||r,a={key:n,afterCreate:Hxe,afterUpdate:Wxe,afterRemoved:wJ,parentWidget:e,widgetConstructor:r,widgetProperties:{...s,key:n,children:i}};return{vnodeSelector:r.vnodeSelector,properties:a,children:void 0,text:void 0,domNode:null}}return t}function Hxe(e,t,i,{parentWidget:r,widgetConstructor:s,widgetProperties:n}){var u;const a=new s(n);a.container=e,y2.set(e,a),(u=a.afterCreate)==null||u.call(a,a,e),r.addHandles(pt(()=>wJ(e))),queueMicrotask(()=>{a[vJ].projector.renderNow()})}function Wxe(e,t,i,{widgetProperties:r}){var n;const s=y2.get(e);s&&(s.set(r),(n=s.afterUpdate)==null||n.call(s,s,e))}function wJ(e){var i;const t=y2.get(e);t&&((i=t.afterRemoved)==null||i.call(t,t,e),t.destroy(),y2.delete(e))}function g2(e){return typeof e=="function"&&e[gJ]}const dU=new Set;function Zxe(e){dU.add(e),e.finally(()=>dU.delete(e))}var _J;const Yxe="esri.widgets.Widget";let Jxe=0;function SJ(e,t){const i=Object.prototype.hasOwnProperty;for(const r in t)i.call(t,r)&&i.call(e,r)&&(e[r]!=null&&t[r]!=null&&typeof e[r]=="object"&&typeof t[r]=="object"?SJ(e[r],t[r]):e[r]=t[r]);return e}const Xxe=p$e({postProcessProjectionOptions(e){const t=e.eventHandlerInterceptor,i=/capture$/i;e.eventHandlerInterceptor=(r,s,n,a)=>{const u=t==null?void 0:t(r,s,n,a),d=i.test(r);if(!((r=r.replace(i,"")).toLowerCase()in n)||d){const f=r[2].toLowerCase()+r.slice(3),g=S=>u==null?void 0:u.call(n,S);n.addEventListener(f,g,d);const v=()=>n.removeEventListener(f,g,d),w=a.afterRemoved;a.afterRemoved=S=>{w==null||w(S),v()}}return u}},handleInterceptedEvent(e,t,i,r){const{eventPhase:s,type:n}=r,a=s===Event.CAPTURING_PHASE;let u=`on${n}${a?"capture":""}`;const d=t.properties;(d&&u in d||(u=`on${n[0].toUpperCase()}${n.slice(1)}${a?"Capture":""}`,d&&u in d))&&(FW(),e.scheduleRender(),d[u].call(d.bind||i,r))}});let jM=!1,Oi=class extends qv.EsriPromiseMixin(ho.EventedAccessor){constructor(e,t){super(e,t),this._attached=!1,this._projector=Xxe,this._readyForTrueRender=!1,this.key=this,this.autoRenderingEnabled=!0,this._loadLocale=OC(async()=>{var u;if((u=this._messageBundleProps)!=null&&u.length){const d=await Promise.allSettled(this._messageBundleProps.map(async({bundlePath:f,propertyName:g})=>{if(this.destroyed)return;let v=await rB(f);this.uiStrings&&Object.keys(this.uiStrings)&&(v=SJ(j(v),this.uiStrings)),this[g]=v}));if(this.destroyed)return;for(const f of d)f.status==="rejected"&&ne.getLogger(this).error("widget-intl:locale-error",this.declaredClass,f.reason)}await this.loadLocale()}),Gxe();const i="esri-widget-uid-"+aT(),r=this.render.bind(this);this._trackingTarget=new x2(()=>{this.autoRenderingEnabled&&this.scheduleRender()});const s=()=>({vnodeSelector:"div",properties:{key:`${i}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}),n=()=>{var g,v;if(!this._readyForTrueRender||this.destroyed)return null;const u=r()??s(),d=u.properties??(u.properties={});if(d.key??(d.key=i),g2(u.vnodeSelector)){if(!this.visible)return s()}else this.visible?d.styles||(d.styles={}):(d.class="",d.styles={display:"none"}),(g=d.styles).display??(g.display="");let f=0;return(v=u.children)==null||v.forEach(w=>{var S;g2(w.vnodeSelector)||(w.properties??(w.properties={}),(S=w.properties).key??(S.key=`${this.id}--${f++}`))}),bJ(this,u)};this.render=()=>{if(jM)return n();let u=l1e(this)??null;if(u)return u;this._trackingTarget.clear(),jM=!0;try{u=ul(this._trackingTarget,n)}catch(d){throw ne.getLogger(this).error(d),d}finally{jM=!1}return u&&u1e(this,u),u};const a=this.beforeFirstRender();a?this._resourcesFetch=a.then(()=>{this._readyForTrueRender=!0,this._postInitialize()}):(this._resourcesFetch=Promise.resolve().then(()=>{this._postInitialize()}),this._readyForTrueRender=!0),this.addResolvingPromise(this._resourcesFetch),Zxe(this._resourcesFetch)}normalizeCtorArgs(e,t){const i={...e};return t&&(i.container=t),i}postInitialize(){}beforeFirstRender(){var t;const e=this.loadDependencies();return(t=this._messageBundleProps)!=null&&t.length||e?Promise.all([e,this._loadLocale()]).then(()=>{}).catch(f4):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||(Zt(this._trackingTarget),Zt(this.viewModel),this._detach(this.container),this._set("container",null),this._emitter.clear(),this.render=()=>null,this._projector=null,cM(this))}set container(e){this._get("container")||this._set("container",e)}castContainer(e){return ON(e)}get domNode(){return this.container}set domNode(e){this.container=e}get icon(){return null}set icon(e){this._overrideIfSome("icon",e)}get id(){var e;return this._get("id")||((e=this.container)==null?void 0:e.id)||Date.now().toString(16)+"-widget-"+Jxe++}set id(e){e&&this._set("id",e)}get label(){return this.declaredClass.split(".").pop()}set label(e){this._overrideIfSome("label",e)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(e){this._set("visible",e)}get[(_J=gJ,vJ)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(cM(this),this._projector.scheduleRender())}classes(...e){return c1e.apply(this,e)}renderNow(){cM(this),this._projector.renderNow()}_postInitialize(){var t;if(this.destroyed)return;this.scheduleRender(),(t=this._delegatedEventNames)!=null&&t.length&&this.addHandles(ke(()=>this.viewModel,(i,r)=>{r&&this.removeHandles("delegated-events"),i&&$2(i)&&this.addHandles(this._delegatedEventNames.map(s=>Cv(i,s,n=>{this.emit(s,n)})),"delegated-events")},as)),this.postInitialize();const e=async()=>{await this._loadLocale().catch(f4),this.scheduleRender()};this.addHandles([KV(e),ke(()=>this.uiStrings,e),wn(()=>this.container,i=>{this.destroyed||this._attach(i)},{initial:!0,once:!0})])}_attach(e){e&&(this._projector.merge(e,this.render),this._attached=!0)}_detach(e){var t;this._attached&&(this._projector.detach(this.render),this._attached=!1),(t=e==null?void 0:e.parentNode)==null||t.removeChild(e)}};Oi[_J]=!0,Oi.vnodeSelector="div",c([p()],Oi.prototype,"_readyForTrueRender",void 0),c([p({value:null})],Oi.prototype,"container",null),c([lt("container")],Oi.prototype,"castContainer",null),c([p()],Oi.prototype,"icon",null),c([p()],Oi.prototype,"id",null),c([p()],Oi.prototype,"label",null),c([p()],Oi.prototype,"renderable",null),c([p()],Oi.prototype,"uiStrings",void 0),c([p()],Oi.prototype,"viewModel",void 0),c([p({value:!0})],Oi.prototype,"visible",null),c([p()],Oi.prototype,"key",void 0),c([p()],Oi.prototype,"children",void 0),c([p()],Oi.prototype,"afterCreate",void 0),c([p()],Oi.prototype,"afterUpdate",void 0),c([p()],Oi.prototype,"afterRemoved",void 0),Oi=c([O(Yxe)],Oi);const NT=Oi,Qxe=new Map;function Kxe(e){return Qxe.get(e)}function hU(e,t){return e&&"copyright"in e&&(!t||typeof e.originOf=="function"&&e.originOf("copyright")==="user")}function eMe(e,t){return e.length!==t.length||e.some((i,r)=>i.text!==t[r].text)}function ug(e,t,i){!i||!t||e.find(r=>r.layerView===t&&r.text===i)||e.push({text:i,layerView:t})}function tMe(e){return e.type==="bing-maps"}const xa=[];let yf=class extends $e{constructor(e){super(e),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.removeHandles("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new ye,this.view=null,this._allLayerViewsChange=t=>{var r;this.removeHandles("suspension"),this.removeHandles("visible-geometry-changed");const i=(r=this.view)==null?void 0:r.allLayerViews;i&&(this.addHandles(i.map(s=>ke(()=>{var n;return[s.suspended,(n=s.layer)==null?void 0:n.attributionVisible]},()=>this._updateAttributionItems())).toArray(),"suspension"),i.forEach(s=>{s.declaredClass==="esri.views.3d.layers.Tiles3DLayerView3D"&&this.addHandles(s.on("visible-geometry-changed",()=>this._updateAttributionItems()),"visible-geometry-changed")})),t!=null&&t.removed&&t.removed.forEach(s=>{this._pendingAttributions.delete(s),this._fetchedAttributionData.delete(s)}),this._updateAttributionItems()},this.addHandles([rc(()=>{var t;return(t=this.view)==null?void 0:t.allLayerViews},"change",t=>this._allLayerViewsChange(t),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),wn(()=>{var t;return((t=this.view)==null?void 0:t.stationary)===!0},()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){var e;return(e=this.view)!=null&&e.ready?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){const e=this.view,t=e==null?void 0:e.allLayerViews;if(xa.length=0,!e||!t)return void this._clear();t.forEach(r=>{var a,u;if(r.suspended||!((a=r.layer)!=null&&a.attributionVisible))return;const s=r.layer;if(hU(s,"user"))return void ug(xa,r,s.copyright);if(s.hasAttributionData){if(this._fetchedAttributionData.has(r)){const d=this._fetchedAttributionData.get(r);return void(d?ug(xa,r,this._getDynamicAttribution(d,e,s)):hU(s)&&ug(xa,r,s.copyright))}return void this._fetchAttributionData(r)}const n="portalItem"in s?(u=s.portalItem)==null?void 0:u.accessInformation:void 0;ug(xa,r,n||s.copyright)});const i=t.find(r=>{var s;return((s=r.layer)==null?void 0:s.type)==="integrated-mesh-3dtiles"});if(this.view&&i){const r=Kxe(this.view);if(r){const s=r.getAttributionText();for(let n=0;n<s.length;++n)ug(xa,i,s[n])}}eMe(this.items,xa)&&(this.items.removeAll(),this.items.addMany(xa)),xa.length=0,this.notifyChange("state")}async _fetchAttributionData(e){if(this._pendingAttributions.has(e))return;this._pendingAttributions.add(e);const t=await X2(e.layer.fetchAttributionData());if(this._pendingAttributions.has(e)){const i=t.ok?this._createContributionIndex(t.value,tMe(e.layer)):null;this._pendingAttributions.delete(e),this._fetchedAttributionData.set(e,i)}this._updateAttributionItems()}_createContributionIndex(e,t){const i=e.contributors,r={};if(!i)return r;for(let s=0;s<i.length;s++){const n=i[s],a=n.coverageAreas;if(!a)return;for(const u of a){const d=u.bbox,f=u.zoomMin-(t&&u.zoomMin?1:0),g=u.zoomMax-(t&&u.zoomMax?1:0),v=new kt({xmin:d[1],ymin:d[0],xmax:d[3],ymax:d[2],spatialReference:He.WGS84}),w={extent:Qd(v),attribution:n.attribution||"",score:u.score!=null?u.score:100,id:s};for(let S=f;S<=g;S++)r[S]??(r[S]=[]),r[S].push(w)}}return r.maxKey=Math.max.apply(null,Object.keys(r)),r}_getDynamicAttribution(e,t,i){var f;const{extent:r,scale:s}=t;let n=((f=i.tileInfo)==null?void 0:f.scaleToZoom(s))??0;if(n=Math.min(e.maxKey??0,Math.round(n)),!r||n==null||n<=-1)return"";const a=e[n],u=Y2(r.center.clone().normalize(),He.WebMercator),d=new Set;return a?a.filter(g=>{const v=g.id,w=!d.has(v)&&u&&g.extent&&Bv(g.extent,u);return w&&d.add(v),w}).sort((g,v)=>v.score-g.score||g.objectId-v.objectId).map(g=>g.attribution).join(", "):""}};c([p({readOnly:!0,type:ye})],yf.prototype,"items",void 0),c([p({readOnly:!0})],yf.prototype,"state",null),c([p()],yf.prototype,"view",void 0),yf=c([O("esri.widgets.Attribution.AttributionViewModel")],yf);const TJ=yf,Zo={button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",empty:"esri-widget__content--empty",heading:"esri-widget__heading",interactive:"esri-interactive",panel:"esri-widget--panel",table:"esri-widget__table",widget:"esri-widget",widgetButton:"esri-widget--button"};function iMe(){return function(e,t){if(!e[t])throw new TypeError(`Cannot auto bind undefined function '${String(t)}'`);return{value:sMe(e[t])}}}function rMe(e){const t=e==null?void 0:e.type;return e instanceof KeyboardEvent||t==="keyup"||t==="keydown"||t==="keypress"}function sMe(e){return function(t,...i){rMe(t)?m1e(t.key)&&(t.preventDefault(),t.stopPropagation(),t.target.click()):e.call(this,t,...i)}}function PT(e){return(t,i)=>{t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:i})}}var nMe=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},EJ=function(e,t){for(var i=0,r=e.length;i<r;i++){var s=e[i];Array.isArray(s)?EJ(s,t):s!=null&&s!==!1&&(s.hasOwnProperty("vnodeSelector")||(s=nMe(s)),t.push(s))}},oMe=function(e,t){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(i.length===1&&typeof i[0]=="string")return{vnodeSelector:e,properties:t||void 0,children:void 0,text:i[0],domNode:null};var s=[];return EJ(i,s),{vnodeSelector:e,properties:t||void 0,children:s,text:void 0,domNode:null}};function cs(e,t,...i){return typeof e!="function"||g2(e)?oMe(e,t??null,...i):e(t,...i)}function zke(...e){return e}const Rp="esri-attribution",Cp={base:Rp,poweredBy:`${Rp}__powered-by`,sources:`${Rp}__sources`,open:`${Rp}--open`,sourcesOpen:`${Rp}__sources--open`,link:`${Rp}__link`};let Ur=class extends NT{constructor(t,i){super(t,i),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._resizeObserver=new ResizeObserver(r=>r.forEach(({target:s})=>this._checkSourceTextOverflow(s))),this.itemDelimiter=" | ",this.messages=null,this.viewModel=new TJ}initialize(){this.addHandles(rc(()=>{var t;return(t=this.viewModel)==null?void 0:t.items},"change",()=>this.scheduleRender()))}destroy(){var t;(t=this._resizeObserver)==null||t.disconnect()}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce((t,i)=>(t.includes(i.text)||t.push(i.text),t),[]).join(this.itemDelimiter)}get icon(){return"description"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){const t={[Cp.open]:this._isOpen};return cs("div",{bind:this,class:this.classes(Cp.base,Zo.widget,t),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this._renderSourcesNode(),this._renderPoweredBy())}_renderPoweredBy(){return cs("div",{class:Cp.poweredBy},"Powered by"," ",cs("a",{class:Cp.link,href:"https://www.esri.com/",rel:"noreferrer",target:"_blank"},"Esri"))}_renderSourcesNode(){const t=this._isOpen,i=this._isInteractive,r=i?0:void 0,{attributionText:s}=this,n={[Cp.sourcesOpen]:t,[Zo.interactive]:i};return cs("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(Cp.sources,n),innerHTML:s,tabIndex:r})}_afterSourcesNodeCreate(t){this._prevSourceNodeHeight=t.clientWidth,this._resizeObserver.observe(t)}_checkSourceTextOverflow(t){let i=!1;const{clientHeight:r,clientWidth:s,scrollWidth:n}=t,a=n>s,u=this._attributionTextOverflowed!==a;if(this._attributionTextOverflowed=a,u&&(i=!0),this._isOpen){const d=r<this._prevSourceNodeHeight;this._prevSourceNodeHeight=r,d&&(this._isOpen=!1,i=!0)}i&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};c([p()],Ur.prototype,"_isOpen",void 0),c([p()],Ur.prototype,"_isInteractive",null),c([p()],Ur.prototype,"_attributionTextOverflowed",void 0),c([p()],Ur.prototype,"_prevSourceNodeHeight",void 0),c([p({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],Ur.prototype,"attributionText",null),c([p()],Ur.prototype,"icon",null),c([p()],Ur.prototype,"itemDelimiter",void 0),c([p()],Ur.prototype,"label",null),c([p(),PT("esri/widgets/Attribution/t9n/Attribution")],Ur.prototype,"messages",void 0),c([p()],Ur.prototype,"view",null),c([p({type:TJ})],Ur.prototype,"viewModel",void 0),c([iMe()],Ur.prototype,"_toggleState",null),Ur=c([O("esri.widgets.Attribution")],Ur);const aMe=Ur;function lMe(){const e=B("mapview-essential-goto-duration");return e==null?e:e}function uMe(e){var t,i;return((t=e==null?void 0:e.spatialReference)==null?void 0:t.isWebMercator)||((i=e==null?void 0:e.spatialReference)==null?void 0:i.isGeographic)||!1}const cMe=e=>{let t=class extends e{constructor(...i){super(...i),this.goToOverride=null,this.view=null}callGoTo(i){const{view:r}=this;return BU(r),this.goToOverride?this.goToOverride(r,i):r.goTo(i.target,i.options)}};return c([p()],t.prototype,"goToOverride",void 0),c([p()],t.prototype,"view",void 0),t=c([O("esri.widgets.support.GoTo")],t),t};let kd=class extends cMe($e){constructor(t){super(t),this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this._watchForView(Ar)}destroy(){this.view=null}get canShowNorth(){return uMe(this.view)}get state(){var t;return!((t=this.view)!=null&&t.ready)||this.view.type==="2d"&&!this.view.constraints.rotationEnabled?"disabled":this.canShowNorth?"compass":"rotation"}reset(){var t,i;(t=this.view)!=null&&t.ready&&(((i=this.view)==null?void 0:i.type)==="2d"?this.callGoTo({target:{rotation:0},options:{animationMode:"always",duration:lMe()}}):this.callGoTo({target:{heading:0}}))}_updateForRotation(t){t!=null&&this._set("orientation",{z:t})}_updateForCamera(t){if(!t)return;const i=-t.heading;this._set("orientation",{x:0,y:0,z:i})}_updateRotationWatcher(t){this.removeAllHandles(),this._watchForView(),t&&this.addHandles(t.type==="2d"?ke(()=>t==null?void 0:t.rotation,this._updateForRotation,Ar):ke(()=>t==null?void 0:t.camera,this._updateForCamera,Ar))}_watchForView(t){this.addHandles(ke(()=>this.view,this._updateRotationWatcher,t))}};c([p({readOnly:!0})],kd.prototype,"canShowNorth",null),c([p({readOnly:!0})],kd.prototype,"orientation",void 0),c([p({readOnly:!0})],kd.prototype,"state",null),c([p()],kd.prototype,"view",void 0),kd=c([O("esri.widgets.Compass.CompassViewModel")],kd);const $J=kd,pU="esri-compass",fU={base:pU,iconContainer:`${pU}__icon-container`};let Ha=class extends NT{constructor(t,i){super(t,i),this.messages=null,this.viewModel=new $J,this._reset=()=>{this.viewModel.reset()},this._toRotationTransform=r=>({transform:`rotateZ(${r.z}deg)`})}loadDependencies(){return uP({button:()=>ue(()=>import("./index-Due9a77y.js"),__vite__mapDeps([279,280,281,282,283,284,285,286,287,288,289,290,291]),import.meta.url),icon:()=>ue(()=>import("./index-Bg47wleg.js").then(t=>t.i),__vite__mapDeps([283,284,285]),import.meta.url)})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get icon(){return this.viewModel.state==="rotation"?"arrow-up":"compass-needle"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}reset(){return this.viewModel.reset()}render(){const{orientation:t,state:i}=this.viewModel,{messages:r}=this;return cs("div",{class:this.classes(fU.base,Zo.widget)},cs("calcite-button",{class:Zo.widgetButton,disabled:i==="disabled",kind:"neutral",label:r.reset,onclick:this._reset,round:!0,scale:"s",title:r.reset},cs("div",{"aria-hidden":"true",class:fU.iconContainer,title:r.reset},cs("calcite-icon",{icon:this.icon,styles:this._toRotationTransform(t)}))))}};c([p()],Ha.prototype,"goToOverride",null),c([p()],Ha.prototype,"icon",null),c([p()],Ha.prototype,"label",null),c([p(),PT("esri/widgets/Compass/t9n/Compass")],Ha.prototype,"messages",void 0),c([p()],Ha.prototype,"view",null),c([p({type:$J})],Ha.prototype,"viewModel",void 0),Ha=c([O("esri.widgets.Compass")],Ha);const dMe=Ha,mU="esri-navigation-toggle",yU={base:mU,isLayoutHorizontal:`${mU}--horizontal`};let gf=class extends $e{constructor(t){super(t),this._navigationMode="pan",this.view=null}initialize(){this.addHandles(wn(()=>{var t,i;return(i=(t=this.view)==null?void 0:t.navigation)==null?void 0:i.actionMap},()=>this._updateNavigationActionMap()))}destroy(){this.view=null}get state(){var t,i;return(t=this.view)!=null&&t.ready&&((i=this.view)==null?void 0:i.type)==="3d"?"ready":"disabled"}get navigationMode(){return this._navigationMode}set navigationMode(t){this._navigationMode=t,this._updateNavigationActionMap()}toggle(){this.state!=="disabled"&&(this.navigationMode=this.navigationMode!=="pan"?"pan":"rotate")}_updateNavigationActionMap(){var r,s;const t=(s=(r=this.view)==null?void 0:r.navigation)==null?void 0:s.actionMap;if(!t)return;const i=this._navigationMode==="pan";t.dragPrimary=i?"pan":"rotate",t.dragSecondary=i?"rotate":"pan"}};c([p({readOnly:!0})],gf.prototype,"state",null),c([p()],gf.prototype,"_navigationMode",void 0),c([p()],gf.prototype,"view",void 0),gf=c([O("esri.widgets.NavigationToggle.NavigationToggleViewModel")],gf);const xJ=gf;let Wa=class extends NT{constructor(t,i){super(t,i),this.messages=null,this.viewModel=new xJ,this.toggle=()=>this.viewModel.toggle(),this._panButton=null,this._rotateButton=null,this._toggle=()=>{var s;const r=((s=this.viewModel)==null?void 0:s.navigationMode)==="pan"?this._rotateButton:this._panButton;y1e(r),this.toggle()}}loadDependencies(){return uP({button:()=>ue(()=>import("./index-Due9a77y.js"),__vite__mapDeps([279,280,281,282,283,284,285,286,287,288,289,290,291]),import.meta.url)})}get icon(){return"move"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}set layout(t){t!=="horizontal"&&(t="vertical"),this._set("layout",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){var s,n;const t=((s=this.viewModel)==null?void 0:s.state)==="disabled",i=((n=this.viewModel)==null?void 0:n.navigationMode)==="pan",r=this.messages.toggle;return cs("div",{class:this.classes(yU.base,Zo.widget,{[yU.isLayoutHorizontal]:this.layout==="horizontal"})},cs("calcite-button",{afterCreate:a=>{this._panButton=a},appearance:i?"outline-fill":"solid",class:Zo.widgetButton,disabled:t,iconStart:"move",kind:"neutral",label:r,onclick:this._toggle,tabIndex:i?void 0:-1,title:r}),cs("calcite-button",{afterCreate:a=>{this._rotateButton=a},appearance:i?"solid":"outline-fill",class:Zo.widgetButton,disabled:t,iconStart:"rotate",kind:"neutral",label:r,onclick:this._toggle,tabIndex:i?-1:void 0,title:r}))}};c([p()],Wa.prototype,"icon",null),c([p()],Wa.prototype,"label",null),c([p({value:"vertical"})],Wa.prototype,"layout",null),c([p(),PT("esri/widgets/NavigationToggle/t9n/NavigationToggle")],Wa.prototype,"messages",void 0),c([p()],Wa.prototype,"view",null),c([p({type:xJ})],Wa.prototype,"viewModel",void 0),Wa=c([O("esri.widgets.NavigationToggle")],Wa);const hMe=Wa;let Fd=class extends $e{get canZoomIn(){var r,s,n;if(!((r=this.view)==null?void 0:r.ready))return!1;const i=(n=(s=this.view)==null?void 0:s.constraints)==null?void 0:n.effectiveMaxScale;return i===0||this._scale>i}get canZoomOut(){var s;const{view:t}=this;if(!(t==null?void 0:t.ready))return!1;const r=(s=t.constraints)==null?void 0:s.effectiveMinScale;return r===0||this._scale<r}get _scale(){var i,r,s;const t=(r=(i=this.view)==null?void 0:i.animation)==null?void 0:r.target;return(t&&"then"in t||t==null?void 0:t.scale)??((s=this.view)==null?void 0:s.scale)??0}};c([p({readOnly:!0})],Fd.prototype,"canZoomIn",null),c([p({readOnly:!0})],Fd.prototype,"canZoomOut",null),c([p()],Fd.prototype,"view",void 0),c([p()],Fd.prototype,"_scale",null),Fd=c([O("esri.widgets.Zoom.ZoomConditions2D")],Fd);const pMe=Fd;let vf=class extends $e{get canZoomIn(){return!!this.view.ready}get canZoomOut(){return!!this.view.ready}};c([p({readOnly:!0})],vf.prototype,"canZoomIn",null),c([p({readOnly:!0})],vf.prototype,"canZoomOut",null),c([p()],vf.prototype,"view",void 0),vf=c([O("esri.widgets.Zoom.ZoomConditions3D")],vf);const fMe=vf;let xu=class extends $e{constructor(t){super(t)}destroy(){this.view=null}get canZoomIn(){return this._zoomConditions!=null&&this._zoomConditions.canZoomIn}get canZoomOut(){var t;return this._zoomConditions!=null&&((t=this._zoomConditions)==null?void 0:t.canZoomOut)}get state(){var t;return(t=this.view)!=null&&t.ready?"ready":"disabled"}set view(t){t?t.type==="2d"?this._zoomConditions=new pMe({view:t}):t.type==="3d"&&(this._zoomConditions=new fMe({view:t})):this._zoomConditions=null,this._set("view",t)}zoomIn(){const t=this.view;this.canZoomIn&&t&&(t.type==="2d"?t.mapViewNavigation.zoomIn():X0(t.goTo({zoomFactor:2})))}zoomOut(){const t=this.view;this.canZoomOut&&t&&(t.type==="2d"?t.mapViewNavigation.zoomOut():X0(t.goTo({zoomFactor:.5})))}};c([p()],xu.prototype,"_zoomConditions",void 0),c([p()],xu.prototype,"canZoomIn",null),c([p()],xu.prototype,"canZoomOut",null),c([p({readOnly:!0})],xu.prototype,"state",null),c([p()],xu.prototype,"view",null),xu=c([O("esri.widgets.Zoom.ZoomViewModel")],xu);const MJ=xu,gU={base:"esri-zoom",horizontalLayout:"esri-zoom--horizontal"};let Za=class extends NT{constructor(t,i){super(t,i),this.messages=null,this.viewModel=new MJ,this.zoomIn=()=>this.viewModel.zoomIn(),this.zoomOut=()=>this.viewModel.zoomOut()}loadDependencies(){return uP({button:()=>ue(()=>import("./index-Due9a77y.js"),__vite__mapDeps([279,280,281,282,283,284,285,286,287,288,289,290,291]),import.meta.url)})}get icon(){return"magnifying-glass-plus"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}set layout(t){t!=="horizontal"&&(t="vertical"),this._set("layout",t)}set view(t){this.viewModel.view=t}get view(){return this.viewModel.view}render(){const t={[gU.horizontalLayout]:this.layout==="horizontal"},{canZoomIn:i,canZoomOut:r}=this.viewModel,{zoomIn:s,zoomOut:n}=this.messages;return cs("div",{class:this.classes(gU.base,Zo.widget,t)},cs("calcite-button",{class:Zo.widgetButton,disabled:!i,iconStart:"plus",kind:"neutral",label:s,onclick:this.zoomIn,title:s}),cs("calcite-button",{class:Zo.widgetButton,disabled:!r,iconStart:"minus",kind:"neutral",label:n,onclick:this.zoomOut,title:n}))}};c([p()],Za.prototype,"icon",null),c([p()],Za.prototype,"label",null),c([p({value:"vertical"})],Za.prototype,"layout",null),c([p(),PT("esri/widgets/Zoom/t9n/Zoom")],Za.prototype,"messages",void 0),c([p()],Za.prototype,"view",null),c([p({type:MJ})],Za.prototype,"viewModel",void 0),Za=c([O("esri.widgets.Zoom")],Za);const mMe=Za;function yMe(e){return(e==null?void 0:e.view)!==void 0}let X_=class extends a$e{constructor(e){super(e),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[],this._updateViewAwareWidgets=t=>{this.components.forEach(i=>{const r=this._find(i),s=r==null?void 0:r.widget;yMe(s)&&(s.view=t)})},this._componentsWatcher=(t,i)=>{this._removeComponents(i),this._addComponents(t),this._adjustPadding(t)}}initialize(){this.addHandles([ke(()=>this.components,this._componentsWatcher,Ar),ke(()=>this.view,this._updateViewAwareWidgets,Ar)])}_add(e,t,i,r,s){let n=e;if(typeof e=="string"&&this._defaultPositionLookup[e]){if(this._find(e))return;n=this._createComponent(e)}super._add(n,t,i,r,s)}_removeComponents(e){e.forEach(t=>{const i=this._find(t);i&&(this.remove(i),i.destroy())})}_adjustPadding(e){if(!e.includes("attribution")&&!this._isOverridden("padding")){const{top:t}=this.padding;this.padding=t}}_addComponents(e){this.constructed&&e.forEach(t=>this.add(this._createComponent(t),this._defaultPositionLookup[t]))}_createComponent(e){const t=this._createWidget(e);return new Z_({id:e,node:t})}_createWidget(e){const t=this.view;switch(e){case"attribution":return new aMe({view:t});case"compass":return new dMe({view:t});case"navigation-toggle":return new hMe({view:t});case"zoom":return new mMe({view:t})}}};c([p()],X_.prototype,"components",void 0),X_=c([O("esri.views.ui.DefaultUI")],X_);const AJ=X_;let Q_=class extends AJ{constructor(e){super(e),this.components=["attribution","zoom"]}};c([p()],Q_.prototype,"components",void 0),Q_=c([O("esri.views.ui.2d.DefaultUI2D")],Q_);const OJ=Q_;class gMe extends MH{constructor(t,i){super(t,i,"webmap")}}function UM(e){return e!=null&&typeof e=="object"&&"declaredClass"in e&&e.declaredClass==="esri.WebMap"}new gMe(2,33);var bC;let K_=bC=class extends K{constructor(e){super(e),this.color=new Ie([0,0,0,1])}clone(){return new bC(j({color:this.color}))}};c([p({type:Ie,json:{write:!0}})],K_.prototype,"color",void 0),K_=bC=c([O("esri.webmap.background.ColorBackground")],K_);const vMe=K_;let RJ,CJ,IJ,NJ,PJ,LJ,DJ;async function bMe(){const[,{GraphicsView2D:e,GraphicContainer:t,LabelManager:i,MapViewNavigation:r,MagnifierView2D:s,GridView2D:n,Stage:a}]=await Promise.all([ue(()=>import("./webglDeps-CJo9h2dc.js"),__vite__mapDeps([202,163,15,203,204,205]),import.meta.url),ue(()=>import("./mapViewDeps-BhcEllAr.js"),__vite__mapDeps([206,128,94,95,14,15,96,97,98,99,93,66,207,102,208,203,163,204,167,143,209,120,210,150,149,106,13,16,100,108,211,103,104,105,172,34,148,202,205,212,115,213,92,45,41,47,2,214,156,157,141,165,215,82,216,107,217,218,101,219,71,112,90,220,221,222,223,159,224,225]),import.meta.url)]);CJ=e,IJ=t,NJ=i,PJ=r,LJ=s,DJ=n,RJ=a}let it=class extends P2e(mve(B1e(C1e(Vbe)))){constructor(e){super(e),this._magnifierView=null,this._gridView=null,this.stage=null,this._resolveWhenReady=[],this.rootLayerViews=new bv({getCollections:()=>{var t,i;return[(t=this.basemapView)==null?void 0:t.baseLayerViews,this.layerViews,(i=this.basemapView)==null?void 0:i.referenceLayerViews]},getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.graphicsView=null,this.labelManager=null,this.navigation=new ET({actionMap:new LN({dragTertiary:"none"})}),this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.supersampleScreenshotsEnabled=!0,this.supportsGround=!1,this.floors=new ye,this.grid=null,this.map=null,this.spatialReferenceLocked=!1,this.timeline=new GY,this.type="2d",this.view2dType=null,this.ui=new OJ,this.test={takeScreenshot:async t=>zEe(this._getScreenshotView(t),t)},this.padding={top:0,right:0,bottom:0,left:0},$ce()}destroy(){this.layerViewManager.clear(),this._set("preconditionsReady",!1),this.frameTask=Zt(this.frameTask),this.goToManager.destroy(),this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new ZTe(this.featuresTilingScheme)}get constraintsInfo(){var i,r;const e=(i=this.defaultsFromMap)==null?void 0:i.tileInfo,t=this.spatialReference;return{lods:(r=e==null?void 0:e.spatialReference)!=null&&r.equals(t)?e.lods:null,spatialReference:t}}get initialExtentRequired(){var a;if(!this.stateManager)return!1;const{scale:e,constraints:t,center:i,viewpoint:r,extent:s}=this;let n=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&((a=this.map.initialViewProperties)!=null&&a.viewpoint))&&!s&&(t!=null&&t.effectiveLODs||(n=-1),(!i||e===0&&n===-1)&&((r==null?void 0:r.targetGeometry)==null||r.targetGeometry.type!=="extent"&&!r.scale))}get defaultsFromMapSettings(){return{required:{extent:!1,heightModelInfo:!1,tileInfo:!0},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get scheduler(){return this.frameTask.scheduler}get typeSpecificPreconditionsReady(){const e=this._getDefaultViewpoint();if(!e)return!1;const t=e.targetGeometry,i=this.spatialReference;return rW(t.spatialReference,i)}get background(){return UM(this.map)?this.map.initialViewProperties.background:null}set background(e){this._override("background",e)}get center(){var e;return((e=this.stateManager)==null?void 0:e.center)??null}set center(e){this.stateManager.center=e}get highlightOptions(){return $Ee(this)}set highlightOptions(e){xEe(this,e)}get padding(){var e;return(e=this.stateManager)==null?void 0:e.padding}set padding(e){this.stateManager&&(this.stateManager.padding=e)}get rendering(){var e;return((e=this.stage)==null?void 0:e.renderRequested)??!1}get resolution(){return this.stateManager.resolution??0}get scale(){var e;return((e=this.stateManager)==null?void 0:e.scale)??0}set scale(e){this.stateManager&&(this.stateManager.scale=e)}get tileInfo(){var e;return(e=this.featuresTilingScheme)==null?void 0:e.tileInfo}get updating(){var i,r,s,n;const e=!(!this.magnifier.visible||this.magnifier.position===null||!((i=this._magnifierView)!=null&&i.updatingHandles.updating)),t=!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||this.layerViewManager.updating===!0||this.labelManager.updating===!0||this.graphicsView.updating===!0||this.allLayerViews.some(a=>!a.destroyed&&!("layerViews"in a)&&a.updating===!0)||e);if(B("esri-2d-log-updating")){const a=this.allLayerViews.reduce((u,d)=>({...u,[`${d.layer.id}(${d.layer.type})`]:!d.destroyed&&!("layerViews"in d)&&d.updating}),{});console.log(`Updating MapView: ${t}
-> Null LayerViewManager: ${!this.layerViewManager}
-> Null LabelManager: ${!this.labelManager}
-> Null GraphicsView: ${!this.graphicsView}
-> layerViewManager.updating: ${(r=this.layerViewManager)==null?void 0:r.updating}
-> labelManager.updating: ${(s=this.labelManager)==null?void 0:s.updating}
-> graphicsView.updating: ${(n=this.graphicsView)==null?void 0:n.updating}
-> allLayerViews: ${JSON.stringify(a)}
-> updatingMagnifier: ${e}
`)}return t}get visibleArea(){const e=this.stateManager.visibleArea;return e&&new fo({rings:[e.map(t=>[t[0],t[1]])],spatialReference:this.spatialReference})}get zoom(){return this.stateManager.zoom??-1}set zoom(e){this.stateManager.zoom=e}get navigating(){var e;return((e=this.mapViewNavigation)==null?void 0:e.interacting)??!1}async hitTest(e,t){return MEe(this,e,t)}async takeScreenshot(e){return UEe(this._getScreenshotView(e),e)}toMap(e){if(!this.ready)return null;const t=KW(e)?QW(this,e):e;return this.stateManager.toMap(t)}toScreen(e,t){return this.stateManager.toScreen(e,t)}whenLayerView(e){return super.whenLayerView(e)}graphicChanged(e){this.graphicsView&&this.graphicsView.graphicUpdateHandler(e)}whenReady(){return new Promise(e=>{this.ready?e(this):this._resolveWhenReady.push(e)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){var e;return this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties.spatialReference||((e=this.defaultsFromMap)==null?void 0:e.spatialReference)||null}getDefaultTimeZone(){return UM(this.map)?this.map.initialViewProperties.timeZone:null}getDefaultTimeExtent(){return UM(this.map)?this.map.initialViewProperties.timeExtent:null}hasLayerViewModule(e){return oj.hasLayerViewModule(e)}importLayerView(e){return oj.importLayerView(e)}pixelSizeAt(){return this.ready?this.resolution:(ne.getLogger(this).error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}async popupHitTest(e){var d;const t=this.toMap(e),i=await this.hitTest(e),r=this.allLayerViews.toArray().filter(f=>f.clips.every(g=>IY(this,g,e,t))).reverse(),s=new globalThis.Map(r.map(f=>[f.layer.uid,f])),n=[];let a=0,u=0;for(;a<i.results.length||u<r.length;){const f=i.results.at(a);if(f&&f.type!=="graphic"){++a;continue}const g=s.get((d=(f==null?void 0:f.layer)??(f==null?void 0:f.graphic.layer))==null?void 0:d.uid);if((!f||g)&&u<r.length&&r.at(u)!==g){const v=r.at(u);"fetchPopupFeaturesAtLocation"in v&&n.push({mapPoint:t,layerView:v}),++u}else f&&(n.push({graphic:f.graphic,layerView:g}),++a)}return{hits:n,location:t}}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}async validate(){let e=XEe(this.type);if(B("safari")&&B("safari")<9&&(e=new z("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:B("safari")})),e!=null)throw ne.getLogger(this).warn("#validate()",e.message),e}loadAsyncDependencies(){return bMe()}_getDefaultViewpoint(){var E;const{constraints:e,initialExtent:t,map:i,padding:r,size:s}=this;if(!e)return null;const n=i&&"initialViewProperties"in i?i.initialViewProperties:void 0,a=this.stateManager.getUserStartupOptions(this.size),u=n==null?void 0:n.viewpoint,d=((E=u==null?void 0:u.targetGeometry)==null?void 0:E.extent)??t,f=d==null?void 0:d.center,g=(u==null?void 0:u.rotation)??0,v=(u==null?void 0:u.scale)||d&&MT(d,[s[0]-r.left-r.right,s[1]-r.top-r.bottom]),w=a.center??f,S=a.rotation??g,T=a.scale??v;return w&&T?new gn({targetGeometry:w,scale:T,rotation:S}):null}_startup(){var a;this.timeline.begin("MapView Startup");const e=this._getDefaultViewpoint();this.stateManager.startup(e,this.size,this.spatialReference,(a=this.defaultsFromMap.extent)==null?void 0:a.center),this.graphics.owner=this;const t=new RJ(this.surface,{canvas:this.renderCanvas,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this.stage=t,this._magnifierView=new LJ,this._magnifierView.magnifier=this.magnifier,this._gridView=new DJ;const i=new NJ({view:this});this._set("labelManager",i);const r=new RTe({view:this});this._set("animationManager",r);const s=new PJ({view:this,animationManager:r});this._set("mapViewNavigation",s),this._setupSpatialReferenceDependentProperties(),this.addHandles([this.rootLayerViews.on("change",()=>this._updateStageChildren()),t.on("webgl-error",u=>this.fatalError=u.error),ke(()=>this.stationary,u=>t.stationary=u,as),ke(()=>this.background,u=>{t.backgroundColor=u==null?void 0:u.color,this._magnifierView.backgroundColor=u==null?void 0:u.color},as),ke(()=>this.magnifier,u=>this._magnifierView.magnifier=u,as),ke(()=>this.grid,u=>this._gridView.grid=u,as),ke(()=>this.renderingOptions,u=>t.renderingOptions=u,as),ke(()=>this.highlights.items.map(u=>({name:u.name,options:{fillColor:u.color,haloColor:u.haloColor,fillOpacity:u.fillOpacity,haloOpacity:u.haloOpacity,haloWidth:u.haloWidth,haloBlur:u.haloBlur}})),()=>{t.highlightGradient=TEe(t.highlightGradient,this.highlights.items)},as),ke(()=>this.state.id,()=>t.state=this.state,as)],"map-view"),this._updateStageChildren();const n=this._resolveWhenReady;this._resolveWhenReady=[],n.forEach(u=>u(this)),this.timeline.end("MapView Startup"),this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.removeHandles("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animation=null,this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._gridView.destroy(),this.stage.destroy(),this.stage=null,this._set("graphicsView",null),this._magnifierView=null,this._gridView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask.stop(),this.stationaryManager.clear(),this._set("ready",!1),this.stateManager.teardown()}_updateStageChildren(){this.stage.removeAllChildren(),this.rootLayerViews.forEach(t=>{this.stage.addChild(t.container)});const e=this.graphicsView;this.stage.addChild(e.container),this.stage.addChild(this._magnifierView),this.stage.addChild(this._gridView)}_setupSpatialReferenceDependentProperties(){const e=new DTe(pve.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",e);const t=new CJ({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new IJ(e)});this._set("graphicsView",t)}_destroySpatialReferenceDependentProperties(){const e=this.graphicsView;this._set("graphicsView",null),e.destroy(),this._set("featuresTilingScheme",null)}_getScreenshotView(e){var n;const{allLayerViews:t,padding:i,size:r,stage:s}=this;return{allLayerViews:t,backgroundColor:e!=null&&e.ignoreBackground?null:(n=this.background)==null?void 0:n.color,padding:i,size:r,stage:s}}_spatialReferenceChanged(e){if(this.ready){this.frameTask.stop();for(const t of this.allLayerViews)t.processDetach();this._destroySpatialReferenceDependentProperties(),this.stateManager.changeSpatialReference(e),this.stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const t of this.allLayerViews)t.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}}};it.type="2d",c([p({constructOnly:!0})],it.prototype,"deactivatedWebGLExtensions",void 0),c([p({constructOnly:!0})],it.prototype,"debugWebGLExtensions",void 0),c([p({readOnly:!0})],it.prototype,"featuresTilingScheme",void 0),c([p({readOnly:!0})],it.prototype,"graphicsTileStore",null),c([p()],it.prototype,"graphicsView",void 0),c([p()],it.prototype,"constraintsInfo",null),c([p()],it.prototype,"initialExtentRequired",null),c([p()],it.prototype,"labelManager",void 0),c([p({type:ET,nonNullable:!0})],it.prototype,"navigation",void 0),c([p({constructOnly:!0})],it.prototype,"renderCanvas",void 0),c([p()],it.prototype,"renderingOptions",void 0),c([p({constructOnly:!0})],it.prototype,"supersampleScreenshotsEnabled",void 0),c([p({readOnly:!0})],it.prototype,"supportsGround",void 0),c([p()],it.prototype,"defaultsFromMapSettings",null),c([p({readOnly:!0})],it.prototype,"typeSpecificPreconditionsReady",null),c([p({type:vMe})],it.prototype,"background",null),c([p()],it.prototype,"center",null),c([p({type:ye})],it.prototype,"floors",void 0),c([p()],it.prototype,"grid",void 0),c([p({type:Zu})],it.prototype,"highlightOptions",null),c([p()],it.prototype,"map",void 0),c([p()],it.prototype,"padding",null),c([p({readOnly:!0})],it.prototype,"rendering",null),c([p({readOnly:!0})],it.prototype,"resolution",null),c([p()],it.prototype,"scale",null),c([p({constructOnly:!0})],it.prototype,"spatialReferenceLocked",void 0),c([p({readOnly:!0})],it.prototype,"tileInfo",null),c([p({type:GY,readOnly:!0})],it.prototype,"timeline",void 0),c([p({readOnly:!0})],it.prototype,"type",void 0),c([p({readOnly:!0})],it.prototype,"updating",null),c([p({readOnly:!0})],it.prototype,"view2dType",void 0),c([p({readOnly:!0})],it.prototype,"visibleArea",null),c([p()],it.prototype,"zoom",null),c([p({readOnly:!0})],it.prototype,"navigating",null),c([p(),lt(e=>e instanceof AJ?e:Dv(OJ,e))],it.prototype,"ui",void 0),it=c([O("esri.views.View2D")],it);const wMe=it;let eS=class extends wMe{constructor(e){super(e),this.view2dType="map"}};c([p({readOnly:!0})],eS.prototype,"view2dType",void 0),eS=c([O("esri.views.MapView")],eS);const _Me=eS,SMe=new Th({outFields:["CITY_NAME, POP"],title:"{CITY_NAME}",content:[{type:"fields",fieldInfos:[{fieldName:"POP",label:"Population",format:{places:0,digitSeparator:!0}}]}]}),TMe=`<b>This is a small demo of the React-based GIS web-application using ArcGIS Maps SDK for JavaScript</b>
    <br/>
    Featuring:
        <ul class="list-disc pl-6">
            <li>Custom default extent</li>
            <li>
                <a class="text-blue-500 underline" href="https://www.arcgis.com/home/item.html?id=d9677f2ef1d547c29fc30e628596f0c0" target="_blank" rel="noopener noreferrer">
                    World National Capital Cities Feature Layer
                </a>
            </li>
            <li>
                Custom popup template for the cities layer
            </li>
        </ul>
    <br/>
    Thanks for checking it out! :)
    `,EMe={title:"Hi!",content:TMe,location:new Be({x:3.8705783962356057e6,y:3.7692195512452563e6,spatialReference:{wkid:102100}})},$Me="https://services.arcgis.com/P3ePLMYs2RVChkJx/arcgis/rest/services/World_Cities/FeatureServer/0",xMe=()=>{AU.useEffect(()=>{const e=new SW({basemap:"osm",layers:[new gW({url:$Me,popupEnabled:!0,popupTemplate:SMe})]}),t=new _Me({container:"viewDiv",map:e,center:[34.7699,32.045],zoom:10,ui:{components:["attribution"]}});return t.ui.add("zoom","bottom-right"),t.when(()=>t.openPopup(EMe).catch(i=>console.error("welcome popup error:",i))),()=>t.destroy()},[])};function MMe(){return xMe(),Y0.jsx("div",{className:"w-screen h-screen",children:Y0.jsx(XQ,{})})}JQ.createRoot(document.getElementById("root")).render(Y0.jsx(AU.StrictMode,{children:Y0.jsx(MMe,{})}));export{ei as $,hI as A,WI as B,ms as C,Re as D,r0e as E,Ub as F,Ju as G,q0 as H,Or as I,DTe as J,HLe as K,aIe as L,Je as M,ZLe as N,ake as O,Lt as P,pt as Q,eZ as R,D0 as S,Vi as T,Cr as U,cc as V,m4 as W,t0e as X,HSe as Y,Be as Z,ue as _,i0e as a,sRe as a$,tme as a0,gT as a1,Zpe as a2,Ype as a3,Jpe as a4,B as a5,j as a6,uB as a7,pl as a8,fc as a9,ISe as aA,e2e as aB,lC as aC,jH as aD,gye as aE,UH as aF,FH as aG,Aye as aH,Sye as aI,lye as aJ,dye as aK,sT as aL,vSe as aM,V2 as aN,nue as aO,oue as aP,aue as aQ,oG as aR,fde as aS,qSe as aT,BU as aU,cq as aV,Kd as aW,NI as aX,uq as aY,o6 as aZ,oCe as a_,tue as aa,$m as ab,kI as ac,mde as ad,dB as ae,Ode as af,YCe as ag,ZCe as ah,zs as ai,ye as aj,Jwe as ak,nc as al,ype as am,fpe as an,zCe as ao,Kf as ap,FIe as aq,qAe as ar,Em as as,lh as at,Jo as au,cye as av,Wr as aw,Mye as ax,aY as ay,_ye as az,v2 as b,Br as b$,vh as b0,cK as b1,rt as b2,Coe as b3,et as b4,Oe as b5,He as b6,mh as b7,Wv as b8,Vhe as b9,ec as bA,Lj as bB,d2 as bC,oke as bD,Ie as bE,Im as bF,VMe as bG,CU as bH,lq as bI,$De as bJ,XTe as bK,wj as bL,bj as bM,vj as bN,gj as bO,mi as bP,FNe as bQ,DNe as bR,kNe as bS,no as bT,fo as bU,bn as bV,uke as bW,Go as bX,_j as bY,yj as bZ,qU as b_,zhe as ba,dl as bb,Ci as bc,G_ as bd,dm as be,zS as bf,Yt as bg,yn as bh,MC as bi,Dt as bj,Nv as bk,ta as bl,Vme as bm,XAe as bn,QAe as bo,boe as bp,CCe as bq,goe as br,uoe as bs,Ku as bt,tOe as bu,eOe as bv,KAe as bw,loe as bx,VAe as by,GAe as bz,Kk as c,Wt as c$,_w as c0,bRe as c1,qr as c2,EZ as c3,Zd as c4,ule as c5,_8 as c6,w8 as c7,vR as c8,y3e as c9,Qme as cA,Xme as cB,cve as cC,gAe as cD,bAe as cE,vAe as cF,wAe as cG,_Ae as cH,SAe as cI,A3 as cJ,rc as cK,FAe as cL,j2 as cM,Qe as cN,fi as cO,ke as cP,Ar as cQ,Th as cR,NNe as cS,ol as cT,wn as cU,Zt as cV,ea as cW,bc as cX,uc as cY,wc as cZ,b3 as c_,le as ca,pve as cb,xce as cc,IU as cd,Qf as ce,rAe as cf,ds as cg,ZMe as ch,Sm as ci,bse as cj,bfe as ck,xIe as cl,wIe as cm,Zq as cn,C0 as co,eO as cp,vfe as cq,MIe as cr,AIe as cs,kt as ct,Q2 as cu,kv as cv,Pe as cw,eNe as cx,iNe as cy,tNe as cz,Tm as d,F2 as d$,Sn as d0,CS as d1,v3 as d2,_3 as d3,nW as d4,xY as d5,Me as d6,Ev as d7,ji as d8,u2 as d9,f0e as dA,TI as dB,Xhe as dC,_9 as dD,Cxe as dE,yke as dF,Pke as dG,Fxe as dH,Rke as dI,_ke as dJ,Ike as dK,bke as dL,jke as dM,gke as dN,Uke as dO,lne as dP,RNe as dQ,J5 as dR,ONe as dS,Jle as dT,Iv as dU,ho as dV,nCe as dW,gRe as dX,nOe as dY,kU as dZ,k2 as d_,pC as da,vwe as db,Vt as dc,xj as dd,yx as de,bt as df,Zv as dg,jA as dh,_Re as di,VRe as dj,lCe as dk,hl as dl,dq as dm,$e as dn,$te as dp,UCe as dq,bv as dr,as as ds,rr as dt,Jd as du,zM as dv,LMe as dw,UTe as dx,OU as dy,ghe as dz,hW as e,hJ as e$,dne as e0,oI as e1,aI as e2,cne as e3,o1 as e4,gv as e5,xN as e6,sOe as e7,OV as e8,AH as e9,vn as eA,lAe as eB,nK as eC,IMe as eD,fse as eE,Xf as eF,KC as eG,Ule as eH,KZ as eI,gc as eJ,FSe as eK,ode as eL,bSe as eM,sY as eN,ZSe as eO,uOe as eP,US as eQ,b2 as eR,w2 as eS,lt as eT,kIe as eU,Pv as eV,X3e as eW,oAe as eX,O6 as eY,xV as eZ,dJ as e_,Pce as ea,Xne as eb,zAe as ec,Hv as ed,PI as ee,kne as ef,YV as eg,coe as eh,HAe as ei,Ls as ej,BAe as ek,JV as el,dOe as em,wV as en,rne as eo,sI as ep,hn as eq,Y2 as er,eY as es,oY as et,wSe as eu,rY as ev,nY as ew,SC as ex,TC as ey,A4 as ez,qo as f,z3e as f$,zi as f0,Ske as f1,Oke as f2,$Ae as f3,QCe as f4,aT as f5,f3e as f6,AC as f7,Gv as f8,p0e as f9,L2 as fA,tI as fB,Ose as fC,XH as fD,K3e as fE,Qo as fF,sS as fG,de as fH,g0e as fI,FCe as fJ,vW as fK,M0e as fL,DS as fM,ht as fN,Am as fO,gW as fP,aRe as fQ,Gge as fR,_le as fS,vRe as fT,ir as fU,e6 as fV,Cu as fW,iv as fX,$S as fY,Rte as fZ,Fv as f_,gge as fa,n0e as fb,_G as fc,npe as fd,ipe as fe,Vs as ff,hr as fg,ra as fh,e1 as fi,xh as fj,tpe as fk,jce as fl,vhe as fm,Fce as fn,$Se as fo,xSe as fp,YSe as fq,rpe as fr,$z as fs,aAe as ft,T2 as fu,Vv as fv,rv as fw,Fu as fx,js as fy,Ase as fz,nIe as g,QMe as g$,yl as g0,V3e as g1,_f as g2,G3e as g3,Qd as g4,RMe as g5,CMe as g6,OMe as g7,YRe as g8,cCe as g9,vNe as gA,Zge as gB,j_ as gC,TAe as gD,sAe as gE,cl as gF,Gfe as gG,Mce as gH,WCe as gI,Phe as gJ,HCe as gK,Nhe as gL,cz as gM,zIe as gN,a_ as gO,NR as gP,wf as gQ,J2 as gR,SRe as gS,Sh as gT,cC as gU,c2 as gV,Ap as gW,NU as gX,LU as gY,DU as gZ,jMe as g_,J0 as ga,sm as gb,th as gc,OC as gd,_K as ge,Wu as gf,i3e as gg,pAe as gh,fAe as gi,Nke as gj,_v as gk,si as gl,mZ as gm,hc as gn,_n as go,nF as gp,tF as gq,ZOe as gr,am as gs,rW as gt,UN as gu,jCe as gv,GSe as gw,uz as gx,YK as gy,lK as gz,Ise as h,ave as h$,YDe as h0,wNe as h1,TNe as h2,SNe as h3,yNe as h4,RAe as h5,XIe as h6,QIe as h7,_N as h8,Zwe as h9,AV as hA,ni as hB,cOe as hC,Kce as hD,cB as hE,RSe as hF,hB as hG,one as hH,Mge as hI,G as hJ,sde as hK,xge as hL,nT as hM,lB as hN,PMe as hO,kw as hP,qMe as hQ,USe as hR,OSe as hS,Gwe as hT,NS as hU,FRe as hV,kRe as hW,fue as hX,BG as hY,hN as hZ,uve as h_,YOe as ha,gDe as hb,wR as hc,oOe as hd,ODe as he,rCe as hf,BRe as hg,lRe as hh,TCe as hi,Ds as hj,GOe as hk,sue as hl,Dx as hm,Av as hn,X0 as ho,qhe as hp,fm as hq,Cv as hr,tr as hs,N_e as ht,hOe as hu,b_e as hv,jSe as hw,FOe as hx,y5 as hy,MV as hz,Ge as i,Tj as i$,nve as i0,$f as i1,r9 as i2,ps as i3,hve as i4,i1 as i5,Nse as i6,rI as i7,Lse as i8,Dse as i9,Nf as iA,wse as iB,Yo as iC,oo as iD,yv as iE,fN as iF,ape as iG,ope as iH,spe as iI,Ene as iJ,yne as iK,FV as iL,Dke as iM,mIe as iN,NRe as iO,r2 as iP,ARe as iQ,ppe as iR,sIe as iS,HOe as iT,KMe as iU,qc as iV,er as iW,sEe as iX,hC as iY,Ej as iZ,WDe as i_,oh as ia,_ge as ib,Rhe as ic,mge as id,Whe as ie,b0e as ig,b5 as ih,zV as ii,O0e as ij,lpe as ik,w0e as il,cT as im,iM as io,s1 as ip,FO as iq,uT as ir,Xye as is,n1 as it,epe as iu,MN as iv,MI as iw,YMe as ix,i6 as iy,yW as iz,jwe as j,Tfe as j$,pn as j0,$Y as j1,Ka as j2,B_ as j3,KPe as j4,jZ as j5,BN as j6,eC as j7,hm as j8,$_e as j9,vT as jA,Eye as jB,eW as jC,ane as jD,fne as jE,i2 as jF,ESe as jG,tY as jH,JS as jI,PSe as jJ,Xi as jK,QH as jL,xee as jM,xae as jN,Sme as jO,khe as jP,xfe as jQ,pH as jR,Dfe as jS,Q7 as jT,sV as jU,Qge as jV,MH as jW,VNe as jX,wH as jY,IC as jZ,Jp as j_,UZ as ja,Uj as jb,mj as jc,see as jd,Us as je,C3e as jf,Zf as jg,ZC as jh,xse as ji,nRe as jj,Qi as jk,__e as jl,T_e as jm,FZ as jn,AMe as jo,H0 as jp,dC as jq,IZ as jr,YI as js,cJ as jt,rue as ju,eue as jv,TSe as jw,KSe as jx,t2e as jy,C_e as jz,QPe as k,SI as k$,QNe as k0,Qfe as k1,vge as k2,Kfe as k3,to as k4,ym as k5,xH as k6,dN as k7,gl as k8,x0e as k9,vte as kA,HMe as kB,WMe as kC,BMe as kD,hse as kE,_h as kF,X2 as kG,Do as kH,BOe as kI,QOe as kJ,qG as kK,Sle as kL,Tle as kM,rme as kN,xB as kO,Gde as kP,qde as kQ,fj as kR,cDe as kS,uDe as kT,lDe as kU,aDe as kV,hDe as kW,dDe as kX,oDe as kY,nDe as kZ,x as k_,kfe as ka,zfe as kb,rH as kc,aN as kd,qS as ke,Khe as kf,Jt as kg,Hfe as kh,Efe as ki,$fe as kj,Afe as kk,Ofe as kl,Ufe as km,Rfe as kn,Cfe as ko,Ife as kp,Nfe as kq,Pfe as kr,Lfe as ks,mW as kt,VIe as ku,vK as kv,Gr as kw,sW as kx,R5 as ky,uAe as kz,qNe as l,U3e as l$,qae as l0,aS as l1,Foe as l2,XK as l3,g3e as l4,UIe as l5,jIe as l6,yH as l7,fH as l8,Pse as l9,Fye as lA,FMe as lB,lke as lC,at as lD,hAe as lE,NT as lF,uP as lG,cs as lH,PT as lI,zke as lJ,Zo as lK,ePe as lL,i$e as lM,y1e as lN,dK as lO,Q3e as lP,Xre as lQ,P2 as lR,nAe as lS,Nw as lT,oq as lU,ple as lV,tRe as lW,$q as lX,ZZ as lY,cAe as lZ,rK as l_,jI as la,qRe as lb,zRe as lc,J_e as ld,X_e as le,iY as lf,bwe as lg,Sj as lh,ZDe as li,zae as lj,Zae as lk,Bv as ll,jOe as lm,uh as ln,x_e as lo,f4 as lp,sDe as lq,ile as lr,fRe as ls,CC as lt,T3e as lu,S3e as lv,Ehe as lw,cee as lx,uee as ly,cRe as lz,Uwe as m,OAe as m$,$T as m0,lPe as m1,aPe as m2,fZ as m3,hZ as m4,Ybe as m5,Xbe as m6,OIe as m7,pj as m8,fle as m9,Zfe as mA,DIe as mB,LIe as mC,DF as mD,Hu as mE,uv as mF,y0e as mG,ade as mH,Qce as mI,ede as mJ,gg as mK,rl as mL,Lq as mM,qI as mN,Mm as mO,Lue as mP,rSe as mQ,RDe as mR,A3e as mS,_Z as mT,DZ as mU,Sv as mV,Bo as mW,DN as mX,QR as mY,uZ as mZ,l1 as m_,E_e as ma,lo as mb,AI as mc,OI as md,l2 as me,ZG as mf,wDe as mg,vDe as mh,bDe as mi,JTe as mj,gIe as mk,vIe as ml,yIe as mm,VZ as mn,iEe as mo,Zu as mp,TEe as mq,$Ee as mr,xEe as ms,qv as mt,mke as mu,kke as mv,Woe as mw,vv as mx,jfe as my,CAe as mz,K as n,Vr as n$,PU as n0,oV as n1,J3e as n2,RV as n3,l5 as n4,dV as n5,WEe as n6,H3e as n7,wh as n8,io as n9,eAe as nA,lz as nB,I1e as nC,wwe as nD,cN as nE,$pe as nF,JAe as nG,dAe as nH,Hz as nI,SH as nJ,oc as nK,mhe as nL,Che as nM,Ihe as nN,yhe as nO,Hhe as nP,rge as nQ,wge as nR,_p as nS,$j as nT,HEe as nU,HDe as nV,rEe as nW,Rj as nX,Oj as nY,M_e as nZ,ig as n_,Bre as na,pOe as nb,zu as nc,Yge as nd,XOe as ne,JOe as nf,Yv as ng,Jv as nh,Xv as ni,Dye as nj,zye as nk,rde as nl,tde as nm,ide as nn,URe as no,jRe as np,XC as nq,yde as nr,pde as ns,CSe as nt,hde as nu,vue as nv,S_e as nw,u1 as nx,iwe as ny,aOe as nz,Dv as o,e3e as o$,vde as o0,Rde as o1,Bf as o2,nwe as o3,kH as o4,ORe as o5,Sde as o6,kye as o7,Uye as o8,eIe as o9,$Ce as oA,xCe as oB,Ho as oC,yDe as oD,Dj as oE,tDe as oF,lMe as oG,gn as oH,AT as oI,RZ as oJ,NZ as oK,t_e as oL,eLe as oM,c_e as oN,tLe as oO,Wce as oP,UOe as oQ,AN as oR,rwe as oS,_we as oT,UM as oU,zOe as oV,s2 as oW,WSe as oX,Kv as oY,Eh as oZ,oIe as o_,F0e as oa,fq as ob,tIe as oc,Cm as od,rN as oe,_pe as of,wpe as og,mT as oh,ZB as oi,Upe as oj,eH as ok,ZS as ol,BB as om,L0 as on,Tv as oo,B_e as op,pfe as oq,hfe as or,Bd as os,W2 as ot,pI as ou,m3e as ov,LB as ow,zMe as ox,CZ as oy,ECe as oz,p,nke as p$,dRe as p0,uCe as p1,yc as p2,q3e as p3,Mme as p4,Xo as p5,ch as p6,jDe as p7,TY as p8,WOe as p9,EEe as pA,Tne as pB,al as pC,Lwe as pD,kN as pE,dle as pF,KOe as pG,EAe as pH,wv as pI,gz as pJ,q9 as pK,Hbe as pL,Wbe as pM,E3 as pN,NCe as pO,MAe as pP,yAe as pQ,mAe as pR,Sne as pS,c1e as pT,tZ as pU,oee as pV,nee as pW,d1e as pX,r$e as pY,MRe as pZ,IS as p_,YS as pa,bNe as pb,zDe as pc,UDe as pd,KLe as pe,eDe as pf,S8 as pg,Twe as ph,xT as pi,LG as pj,xAe as pk,ywe as pl,owe as pm,awe as pn,eRe as po,Ewe as pp,wZ as pq,zj as pr,CY as ps,LDe as pt,DDe as pu,kDe as pv,FDe as pw,SDe as px,EDe as py,TDe as pz,tAe as q,iAe as q$,Ui as q0,lT as q1,ANe as q2,QLe as q3,E8 as q4,Bhe as q5,GCe as q6,CIe as q7,UAe as q8,NAe as q9,mNe as qA,fNe as qB,ADe as qC,Kme as qD,CDe as qE,FN as qF,iye as qG,MDe as qH,KIe as qI,dEe as qJ,xDe as qK,Fj as qL,iDe as qM,rDe as qN,IDe as qO,NDe as qP,VDe as qQ,GDe as qR,pDe as qS,qDe as qT,BDe as qU,YTe as qV,KTe as qW,_De as qX,GY as qY,Yf as qZ,PDe as q_,DAe as qa,PAe as qb,kAe as qc,LAe as qd,jAe as qe,Hr as qf,xte as qg,j3e as qh,ske as qi,IIe as qj,i4 as qk,IAe as ql,ENe as qm,bR as qn,nNe as qo,_Ne as qp,JIe as qq,aNe as qr,sNe as qs,eye as qt,oNe as qu,OF as qv,MF as qw,AF as qx,pNe as qy,hNe as qz,c as r,_d as r$,A_e as r0,Cne as r1,Rne as r2,AAe as r3,Ree as r4,G8 as r5,F8 as r6,ole as r7,j8 as r8,iF as r9,A8 as rA,M8 as rB,x8 as rC,P8 as rD,tT as rE,lNe as rF,uNe as rG,yRe as rH,zPe as rI,pZ as rJ,yq as rK,fz as rL,_de as rM,Rge as rN,dwe as rO,woe as rP,hPe as rQ,pPe as rR,fI as rS,D_ as rT,Voe as rU,t$e as rV,ov as rW,lv as rX,rm as rY,Soe as rZ,JMe as r_,U8 as ra,wRe as rb,H8 as rc,cF as rd,dF as re,hF as rf,$le as rg,iRe as rh,lle as ri,TA as rj,pF as rk,rRe as rl,fCe as rm,v_e as rn,rNe as ro,gNe as rp,oRe as rq,$Ne as rr,hRe as rs,dNe as rt,cNe as ru,_F as rv,L8 as rw,TF as rx,wF as ry,W8 as rz,z as s,bIe as s$,Joe as s0,Xoe as s1,bI as s2,g9 as s3,cMe as s4,x5 as s5,ACe as s6,BTe as s7,CV as s8,mRe as s9,Cke as sA,Lke as sB,XCe as sC,Dbe as sD,ZPe as sE,jpe as sF,bp as sG,lfe as sH,pCe as sI,aCe as sJ,ZRe as sK,QRe as sL,JRe as sM,XMe as sN,bCe as sO,vCe as sP,GMe as sQ,HRe as sR,uRe as sS,sCe as sT,z1e as sU,iSe as sV,WZ as sW,M3e as sX,sw as sY,JF as sZ,iT as s_,qCe as sa,sce as sb,SIe as sc,_Ie as sd,hj as se,ike as sf,tke as sg,eke as sh,_Ee as si,RY as sj,mDe as sk,fDe as sl,vEe as sm,rke as sn,XLe as so,Ote as sp,mq as sq,I_e as sr,jse as ss,tCe as st,iCe as su,Ide as sv,Cde as sw,QSe as sx,Fke as sy,dc as sz,A0e as t,sc as t0,yR as t1,kMe as t2,aK as t3,DMe as t4,WRe as t5,JDe as t6,MSe as t7,XRe as t8,Yce as t9,gde as tA,pIe as tB,RIe as tC,jNe as tD,zNe as tE,tPe as tF,cke as tG,GRe as ta,YIe as tb,Sf as tc,dCe as td,yue as te,fwe as tf,lOe as tg,Kbe as th,mue as ti,v3e as tj,KV as tk,rB as tl,IRe as tm,KRe as tn,CRe as to,M9 as tp,RRe as tq,pRe as tr,x9 as ts,EN as tt,WU as tu,t3e as tv,eCe as tw,ude as tx,nde as ty,$9 as tz,GNe as u,O as v,S2 as w,_2 as x,ne as y,ICe as z};
